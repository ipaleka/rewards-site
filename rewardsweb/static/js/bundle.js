const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DD2Zj1gE.js","assets/bowser-6lpdwbQt.js","assets/index-BF62KPoo.js"])))=>i.map(i=>d[i]);
var L6=Object.defineProperty;var U6=(i,e,t)=>e in i?L6(i,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):i[e]=t;var Ce=(i,e,t)=>U6(i,typeof e!="symbol"?e+"":e,t);(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const n of a)if(n.type==="childList")for(const s of n.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function t(a){const n={};return a.integrity&&(n.integrity=a.integrity),a.referrerPolicy&&(n.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?n.credentials="include":a.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function r(a){if(a.ep)return;a.ep=!0;const n=t(a);fetch(a.href,n)}})();const $6="modulepreload",q6=function(i){return"/static/"+i},Hg={},za=function(e,t,r){let a=Promise.resolve();if(t&&t.length>0){let s=function(h){return Promise.all(h.map(f=>Promise.resolve(f).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};document.getElementsByTagName("link");const c=document.querySelector("meta[property=csp-nonce]"),u=(c==null?void 0:c.nonce)||(c==null?void 0:c.getAttribute("nonce"));a=s(t.map(h=>{if(h=q6(h),h in Hg)return;Hg[h]=!0;const f=h.endsWith(".css"),g=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${h}"]${g}`))return;const b=document.createElement("link");if(b.rel=f?"stylesheet":$6,f||(b.as="script"),b.crossOrigin="",b.href=h,u&&b.setAttribute("nonce",u),document.head.appendChild(b),f)return new Promise((M,_)=>{b.addEventListener("load",M),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${h}`)))})}))}function n(s){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=s,window.dispatchEvent(c),!c.defaultPrevented)throw s}return a.then(s=>{for(const c of s||[])c.status==="rejected"&&n(c.reason);return e().catch(n)})};function V6(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var J2={exports:{}},ur=J2.exports={},mn,vn;function L0(){throw new Error("setTimeout has not been defined")}function U0(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?mn=setTimeout:mn=L0}catch{mn=L0}try{typeof clearTimeout=="function"?vn=clearTimeout:vn=U0}catch{vn=U0}})();function Y2(i){if(mn===setTimeout)return setTimeout(i,0);if((mn===L0||!mn)&&setTimeout)return mn=setTimeout,setTimeout(i,0);try{return mn(i,0)}catch{try{return mn.call(null,i,0)}catch{return mn.call(this,i,0)}}}function z6(i){if(vn===clearTimeout)return clearTimeout(i);if((vn===U0||!vn)&&clearTimeout)return vn=clearTimeout,clearTimeout(i);try{return vn(i)}catch{try{return vn.call(null,i)}catch{return vn.call(this,i)}}}var Un=[],La=!1,Fi,of=-1;function j6(){!La||!Fi||(La=!1,Fi.length?Un=Fi.concat(Un):of=-1,Un.length&&X2())}function X2(){if(!La){var i=Y2(j6);La=!0;for(var e=Un.length;e;){for(Fi=Un,Un=[];++of<e;)Fi&&Fi[of].run();of=-1,e=Un.length}Fi=null,La=!1,z6(i)}}ur.nextTick=function(i){var e=new Array(arguments.length-1);if(arguments.length>1)for(var t=1;t<arguments.length;t++)e[t-1]=arguments[t];Un.push(new Z2(i,e)),Un.length===1&&!La&&Y2(X2)};function Z2(i,e){this.fun=i,this.array=e}Z2.prototype.run=function(){this.fun.apply(null,this.array)};ur.title="browser";ur.browser=!0;ur.env={};ur.argv=[];ur.version="";ur.versions={};function Xn(){}ur.on=Xn;ur.addListener=Xn;ur.once=Xn;ur.off=Xn;ur.removeListener=Xn;ur.removeAllListeners=Xn;ur.emit=Xn;ur.prependListener=Xn;ur.prependOnceListener=Xn;ur.listeners=function(i){return[]};ur.binding=function(i){throw new Error("process.binding is not supported")};ur.cwd=function(){return"/"};ur.chdir=function(i){throw new Error("process.chdir is not supported")};ur.umask=function(){return 0};var W6=J2.exports;const Bt=V6(W6),Da=globalThis||void 0||self,Ua=new WeakMap,sf=new WeakMap,wf={current:[]};let vh=!1;const Dc=new Set,Gg=new Map;function Q2(i){const e=Array.from(i).sort((t,r)=>t instanceof $a&&t.options.deps.includes(r)?1:r instanceof $a&&r.options.deps.includes(t)?-1:0);for(const t of e){if(wf.current.includes(t))continue;wf.current.push(t),t.recompute();const r=sf.get(t);if(r)for(const a of r){const n=Ua.get(a);n&&Q2(n)}}}function H6(i){i.listeners.forEach(e=>e({prevVal:i.prevState,currentVal:i.state}))}function G6(i){i.listeners.forEach(e=>e({prevVal:i.prevState,currentVal:i.state}))}function K6(i){if(Dc.add(i),!vh)try{for(vh=!0;Dc.size>0;){const e=Array.from(Dc);Dc.clear();for(const t of e){const r=Gg.get(t)??t.prevState;t.prevState=r,H6(t)}for(const t of e){const r=Ua.get(t);r&&(wf.current.push(t),Q2(r))}for(const t of e){const r=Ua.get(t);if(r)for(const a of r)G6(a)}}}finally{vh=!1,wf.current=[],Gg.clear()}}function J6(i){return typeof i=="function"}class $0{constructor(e,t){this.listeners=new Set,this.subscribe=r=>{var a,n;this.listeners.add(r);const s=(n=(a=this.options)==null?void 0:a.onSubscribe)==null?void 0:n.call(a,r,this);return()=>{this.listeners.delete(r),s==null||s()}},this.prevState=e,this.state=e,this.options=t}setState(e){var t,r,a;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(e):J6(e)?this.state=e(this.prevState):this.state=e,(a=(r=this.options)==null?void 0:r.onUpdate)==null||a.call(r),K6(this)}}class $a{constructor(e){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const a of this.options.deps)t.push(a.prevState),r.push(a.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:a,currDepVals:n,prevVal:s}=this.getDepVals();this.state=this.options.fn({prevDepVals:a,currDepVals:n,prevVal:s}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const n of this.options.deps)n instanceof $a&&n.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:a}=this.getDepVals();for(let n=0;n<a.length;n++)if(a[n]!==r[n]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,a;this.listeners.add(t);const n=(a=(r=this.options).onSubscribe)==null?void 0:a.call(r,t,this);return()=>{this.listeners.delete(t),n==null||n()}},this.options=e,this.state=e.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(e=this.options.deps){for(const t of e)if(t instanceof $a)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof $0){let r=Ua.get(t);r||(r=new Set,Ua.set(t,r)),r.add(this);let a=sf.get(this);a||(a=new Set,sf.set(this,a)),a.add(t)}}unregisterFromGraph(e=this.options.deps){for(const t of e)if(t instanceof $a)this.unregisterFromGraph(t.options.deps);else if(t instanceof $0){const r=Ua.get(t);r&&r.delete(this);const a=sf.get(this);a&&a.delete(t)}}}var Gt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Of(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}function Y6(i){if(Object.prototype.hasOwnProperty.call(i,"__esModule"))return i;var e=i.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(i).forEach(function(r){var a=Object.getOwnPropertyDescriptor(i,r);Object.defineProperty(t,r,a.get?a:{enumerable:!0,get:function(){return i[r]}})}),t}function X6(i){throw new Error('Could not dynamically require "'+i+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var yh={exports:{}},Ht={},Rc={exports:{}},Tc={exports:{}},wh={},Kg;function Ar(){return Kg||(Kg=1,(function(i){Object.defineProperties(i,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});var e={},t={};t.byteLength=f,t.toByteArray=b,t.fromByteArray=D;for(var r=[],a=[],n=typeof Uint8Array<"u"?Uint8Array:Array,s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",c=0,u=s.length;c<u;++c)r[c]=s[c],a[s.charCodeAt(c)]=c;a[45]=62,a[95]=63;function h(I){var N=I.length;if(N%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var $=I.indexOf("=");$===-1&&($=N);var V=$===N?0:4-$%4;return[$,V]}function f(I){var N=h(I),$=N[0],V=N[1];return($+V)*3/4-V}function g(I,N,$){return(N+$)*3/4-$}function b(I){var N,$=h(I),V=$[0],U=$[1],J=new n(g(I,V,U)),Y=0,oe=U>0?V-4:V,G;for(G=0;G<oe;G+=4)N=a[I.charCodeAt(G)]<<18|a[I.charCodeAt(G+1)]<<12|a[I.charCodeAt(G+2)]<<6|a[I.charCodeAt(G+3)],J[Y++]=N>>16&255,J[Y++]=N>>8&255,J[Y++]=N&255;return U===2&&(N=a[I.charCodeAt(G)]<<2|a[I.charCodeAt(G+1)]>>4,J[Y++]=N&255),U===1&&(N=a[I.charCodeAt(G)]<<10|a[I.charCodeAt(G+1)]<<4|a[I.charCodeAt(G+2)]>>2,J[Y++]=N>>8&255,J[Y++]=N&255),J}function M(I){return r[I>>18&63]+r[I>>12&63]+r[I>>6&63]+r[I&63]}function _(I,N,$){for(var V,U=[],J=N;J<$;J+=3)V=(I[J]<<16&16711680)+(I[J+1]<<8&65280)+(I[J+2]&255),U.push(M(V));return U.join("")}function D(I){for(var N,$=I.length,V=$%3,U=[],J=16383,Y=0,oe=$-V;Y<oe;Y+=J)U.push(_(I,Y,Y+J>oe?oe:Y+J));return V===1?(N=I[$-1],U.push(r[N>>2]+r[N<<4&63]+"==")):V===2&&(N=(I[$-2]<<8)+I[$-1],U.push(r[N>>10]+r[N>>4&63]+r[N<<2&63]+"=")),U.join("")}var R={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */R.read=function(I,N,$,V,U){var J,Y,oe=U*8-V-1,G=(1<<oe)-1,E=G>>1,d=-7,p=$?U-1:0,o=$?-1:1,l=I[N+p];for(p+=o,J=l&(1<<-d)-1,l>>=-d,d+=oe;d>0;J=J*256+I[N+p],p+=o,d-=8);for(Y=J&(1<<-d)-1,J>>=-d,d+=V;d>0;Y=Y*256+I[N+p],p+=o,d-=8);if(J===0)J=1-E;else{if(J===G)return Y?NaN:(l?-1:1)*(1/0);Y=Y+Math.pow(2,V),J=J-E}return(l?-1:1)*Y*Math.pow(2,J-V)},R.write=function(I,N,$,V,U,J){var Y,oe,G,E=J*8-U-1,d=(1<<E)-1,p=d>>1,o=U===23?Math.pow(2,-24)-Math.pow(2,-77):0,l=V?0:J-1,S=V?1:-1,x=N<0||N===0&&1/N<0?1:0;for(N=Math.abs(N),isNaN(N)||N===1/0?(oe=isNaN(N)?1:0,Y=d):(Y=Math.floor(Math.log(N)/Math.LN2),N*(G=Math.pow(2,-Y))<1&&(Y--,G*=2),Y+p>=1?N+=o/G:N+=o*Math.pow(2,1-p),N*G>=2&&(Y++,G/=2),Y+p>=d?(oe=0,Y=d):Y+p>=1?(oe=(N*G-1)*Math.pow(2,U),Y=Y+p):(oe=N*Math.pow(2,p-1)*Math.pow(2,U),Y=0));U>=8;I[$+l]=oe&255,l+=S,oe/=256,U-=8);for(Y=Y<<U|oe,E+=U;E>0;I[$+l]=Y&255,l+=S,Y/=256,E-=8);I[$+l-S]|=x*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(I){const N=t,$=R,V=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;I.Buffer=d,I.SlowBuffer=T,I.INSPECT_MAX_BYTES=50;const U=2147483647;I.kMaxLength=U;const{Uint8Array:J,ArrayBuffer:Y,SharedArrayBuffer:oe}=globalThis;d.TYPED_ARRAY_SUPPORT=G(),!d.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function G(){try{const te=new J(1),W={foo:function(){return 42}};return Object.setPrototypeOf(W,J.prototype),Object.setPrototypeOf(te,W),te.foo()===42}catch{return!1}}Object.defineProperty(d.prototype,"parent",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.buffer}}),Object.defineProperty(d.prototype,"offset",{enumerable:!0,get:function(){if(d.isBuffer(this))return this.byteOffset}});function E(te){if(te>U)throw new RangeError('The value "'+te+'" is invalid for option "size"');const W=new J(te);return Object.setPrototypeOf(W,d.prototype),W}function d(te,W,H){if(typeof te=="number"){if(typeof W=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return S(te)}return p(te,W,H)}d.poolSize=8192;function p(te,W,H){if(typeof te=="string")return x(te,W);if(Y.isView(te))return m(te);if(te==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te);if(Rt(te,Y)||te&&Rt(te.buffer,Y)||typeof oe<"u"&&(Rt(te,oe)||te&&Rt(te.buffer,oe)))return y(te,W,H);if(typeof te=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const fe=te.valueOf&&te.valueOf();if(fe!=null&&fe!==te)return d.from(fe,W,H);const De=k(te);if(De)return De;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof te[Symbol.toPrimitive]=="function")return d.from(te[Symbol.toPrimitive]("string"),W,H);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof te)}d.from=function(te,W,H){return p(te,W,H)},Object.setPrototypeOf(d.prototype,J.prototype),Object.setPrototypeOf(d,J);function o(te){if(typeof te!="number")throw new TypeError('"size" argument must be of type number');if(te<0)throw new RangeError('The value "'+te+'" is invalid for option "size"')}function l(te,W,H){return o(te),te<=0?E(te):W!==void 0?typeof H=="string"?E(te).fill(W,H):E(te).fill(W):E(te)}d.alloc=function(te,W,H){return l(te,W,H)};function S(te){return o(te),E(te<0?0:w(te)|0)}d.allocUnsafe=function(te){return S(te)},d.allocUnsafeSlow=function(te){return S(te)};function x(te,W){if((typeof W!="string"||W==="")&&(W="utf8"),!d.isEncoding(W))throw new TypeError("Unknown encoding: "+W);const H=ie(te,W)|0;let fe=E(H);const De=fe.write(te,W);return De!==H&&(fe=fe.slice(0,De)),fe}function v(te){const W=te.length<0?0:w(te.length)|0,H=E(W);for(let fe=0;fe<W;fe+=1)H[fe]=te[fe]&255;return H}function m(te){if(Rt(te,J)){const W=new J(te);return y(W.buffer,W.byteOffset,W.byteLength)}return v(te)}function y(te,W,H){if(W<0||te.byteLength<W)throw new RangeError('"offset" is outside of buffer bounds');if(te.byteLength<W+(H||0))throw new RangeError('"length" is outside of buffer bounds');let fe;return W===void 0&&H===void 0?fe=new J(te):H===void 0?fe=new J(te,W):fe=new J(te,W,H),Object.setPrototypeOf(fe,d.prototype),fe}function k(te){if(d.isBuffer(te)){const W=w(te.length)|0,H=E(W);return H.length===0||te.copy(H,0,0,W),H}if(te.length!==void 0)return typeof te.length!="number"||yt(te.length)?E(0):v(te);if(te.type==="Buffer"&&Array.isArray(te.data))return v(te.data)}function w(te){if(te>=U)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+U.toString(16)+" bytes");return te|0}function T(te){return+te!=te&&(te=0),d.alloc(+te)}d.isBuffer=function(W){return W!=null&&W._isBuffer===!0&&W!==d.prototype},d.compare=function(W,H){if(Rt(W,J)&&(W=d.from(W,W.offset,W.byteLength)),Rt(H,J)&&(H=d.from(H,H.offset,H.byteLength)),!d.isBuffer(W)||!d.isBuffer(H))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(W===H)return 0;let fe=W.length,De=H.length;for(let L=0,K=Math.min(fe,De);L<K;++L)if(W[L]!==H[L]){fe=W[L],De=H[L];break}return fe<De?-1:De<fe?1:0},d.isEncoding=function(W){switch(String(W).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},d.concat=function(W,H){if(!Array.isArray(W))throw new TypeError('"list" argument must be an Array of Buffers');if(W.length===0)return d.alloc(0);let fe;if(H===void 0)for(H=0,fe=0;fe<W.length;++fe)H+=W[fe].length;const De=d.allocUnsafe(H);let L=0;for(fe=0;fe<W.length;++fe){let K=W[fe];if(Rt(K,J))L+K.length>De.length?(d.isBuffer(K)||(K=d.from(K)),K.copy(De,L)):J.prototype.set.call(De,K,L);else if(d.isBuffer(K))K.copy(De,L);else throw new TypeError('"list" argument must be an Array of Buffers');L+=K.length}return De};function ie(te,W){if(d.isBuffer(te))return te.length;if(Y.isView(te)||Rt(te,Y))return te.byteLength;if(typeof te!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof te);const H=te.length,fe=arguments.length>2&&arguments[2]===!0;if(!fe&&H===0)return 0;let De=!1;for(;;)switch(W){case"ascii":case"latin1":case"binary":return H;case"utf8":case"utf-8":return Qe(te).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return H*2;case"hex":return H>>>1;case"base64":return et(te).length;default:if(De)return fe?-1:Qe(te).length;W=(""+W).toLowerCase(),De=!0}}d.byteLength=ie;function ve(te,W,H){let fe=!1;if((W===void 0||W<0)&&(W=0),W>this.length||((H===void 0||H>this.length)&&(H=this.length),H<=0)||(H>>>=0,W>>>=0,H<=W))return"";for(te||(te="utf8");;)switch(te){case"hex":return we(this,W,H);case"utf8":case"utf-8":return ge(this,W,H);case"ascii":return ye(this,W,H);case"latin1":case"binary":return Te(this,W,H);case"base64":return le(this,W,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Me(this,W,H);default:if(fe)throw new TypeError("Unknown encoding: "+te);te=(te+"").toLowerCase(),fe=!0}}d.prototype._isBuffer=!0;function ce(te,W,H){const fe=te[W];te[W]=te[H],te[H]=fe}d.prototype.swap16=function(){const W=this.length;if(W%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let H=0;H<W;H+=2)ce(this,H,H+1);return this},d.prototype.swap32=function(){const W=this.length;if(W%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let H=0;H<W;H+=4)ce(this,H,H+3),ce(this,H+1,H+2);return this},d.prototype.swap64=function(){const W=this.length;if(W%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let H=0;H<W;H+=8)ce(this,H,H+7),ce(this,H+1,H+6),ce(this,H+2,H+5),ce(this,H+3,H+4);return this},d.prototype.toString=function(){const W=this.length;return W===0?"":arguments.length===0?ge(this,0,W):ve.apply(this,arguments)},d.prototype.toLocaleString=d.prototype.toString,d.prototype.equals=function(W){if(!d.isBuffer(W))throw new TypeError("Argument must be a Buffer");return this===W?!0:d.compare(this,W)===0},d.prototype.inspect=function(){let W="";const H=I.INSPECT_MAX_BYTES;return W=this.toString("hex",0,H).replace(/(.{2})/g,"$1 ").trim(),this.length>H&&(W+=" ... "),"<Buffer "+W+">"},V&&(d.prototype[V]=d.prototype.inspect),d.prototype.compare=function(W,H,fe,De,L){if(Rt(W,J)&&(W=d.from(W,W.offset,W.byteLength)),!d.isBuffer(W))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof W);if(H===void 0&&(H=0),fe===void 0&&(fe=W?W.length:0),De===void 0&&(De=0),L===void 0&&(L=this.length),H<0||fe>W.length||De<0||L>this.length)throw new RangeError("out of range index");if(De>=L&&H>=fe)return 0;if(De>=L)return-1;if(H>=fe)return 1;if(H>>>=0,fe>>>=0,De>>>=0,L>>>=0,this===W)return 0;let K=L-De,re=fe-H;const F=Math.min(K,re),ne=this.slice(De,L),Ae=W.slice(H,fe);for(let be=0;be<F;++be)if(ne[be]!==Ae[be]){K=ne[be],re=Ae[be];break}return K<re?-1:re<K?1:0};function C(te,W,H,fe,De){if(te.length===0)return-1;if(typeof H=="string"?(fe=H,H=0):H>2147483647?H=2147483647:H<-2147483648&&(H=-2147483648),H=+H,yt(H)&&(H=De?0:te.length-1),H<0&&(H=te.length+H),H>=te.length){if(De)return-1;H=te.length-1}else if(H<0)if(De)H=0;else return-1;if(typeof W=="string"&&(W=d.from(W,fe)),d.isBuffer(W))return W.length===0?-1:B(te,W,H,fe,De);if(typeof W=="number")return W=W&255,typeof J.prototype.indexOf=="function"?De?J.prototype.indexOf.call(te,W,H):J.prototype.lastIndexOf.call(te,W,H):B(te,[W],H,fe,De);throw new TypeError("val must be string, number or Buffer")}function B(te,W,H,fe,De){let L=1,K=te.length,re=W.length;if(fe!==void 0&&(fe=String(fe).toLowerCase(),fe==="ucs2"||fe==="ucs-2"||fe==="utf16le"||fe==="utf-16le")){if(te.length<2||W.length<2)return-1;L=2,K/=2,re/=2,H/=2}function F(Ae,be){return L===1?Ae[be]:Ae.readUInt16BE(be*L)}let ne;if(De){let Ae=-1;for(ne=H;ne<K;ne++)if(F(te,ne)===F(W,Ae===-1?0:ne-Ae)){if(Ae===-1&&(Ae=ne),ne-Ae+1===re)return Ae*L}else Ae!==-1&&(ne-=ne-Ae),Ae=-1}else for(H+re>K&&(H=K-re),ne=H;ne>=0;ne--){let Ae=!0;for(let be=0;be<re;be++)if(F(te,ne+be)!==F(W,be)){Ae=!1;break}if(Ae)return ne}return-1}d.prototype.includes=function(W,H,fe){return this.indexOf(W,H,fe)!==-1},d.prototype.indexOf=function(W,H,fe){return C(this,W,H,fe,!0)},d.prototype.lastIndexOf=function(W,H,fe){return C(this,W,H,fe,!1)};function ee(te,W,H,fe){H=Number(H)||0;const De=te.length-H;fe?(fe=Number(fe),fe>De&&(fe=De)):fe=De;const L=W.length;fe>L/2&&(fe=L/2);let K;for(K=0;K<fe;++K){const re=parseInt(W.substr(K*2,2),16);if(yt(re))return K;te[H+K]=re}return K}function z(te,W,H,fe){return at(Qe(W,te.length-H),te,H,fe)}function P(te,W,H,fe){return at(je(W),te,H,fe)}function O(te,W,H,fe){return at(et(W),te,H,fe)}function se(te,W,H,fe){return at(vt(W,te.length-H),te,H,fe)}d.prototype.write=function(W,H,fe,De){if(H===void 0)De="utf8",fe=this.length,H=0;else if(fe===void 0&&typeof H=="string")De=H,fe=this.length,H=0;else if(isFinite(H))H=H>>>0,isFinite(fe)?(fe=fe>>>0,De===void 0&&(De="utf8")):(De=fe,fe=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const L=this.length-H;if((fe===void 0||fe>L)&&(fe=L),W.length>0&&(fe<0||H<0)||H>this.length)throw new RangeError("Attempt to write outside buffer bounds");De||(De="utf8");let K=!1;for(;;)switch(De){case"hex":return ee(this,W,H,fe);case"utf8":case"utf-8":return z(this,W,H,fe);case"ascii":case"latin1":case"binary":return P(this,W,H,fe);case"base64":return O(this,W,H,fe);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return se(this,W,H,fe);default:if(K)throw new TypeError("Unknown encoding: "+De);De=(""+De).toLowerCase(),K=!0}},d.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function le(te,W,H){return W===0&&H===te.length?N.fromByteArray(te):N.fromByteArray(te.slice(W,H))}function ge(te,W,H){H=Math.min(te.length,H);const fe=[];let De=W;for(;De<H;){const L=te[De];let K=null,re=L>239?4:L>223?3:L>191?2:1;if(De+re<=H){let F,ne,Ae,be;switch(re){case 1:L<128&&(K=L);break;case 2:F=te[De+1],(F&192)===128&&(be=(L&31)<<6|F&63,be>127&&(K=be));break;case 3:F=te[De+1],ne=te[De+2],(F&192)===128&&(ne&192)===128&&(be=(L&15)<<12|(F&63)<<6|ne&63,be>2047&&(be<55296||be>57343)&&(K=be));break;case 4:F=te[De+1],ne=te[De+2],Ae=te[De+3],(F&192)===128&&(ne&192)===128&&(Ae&192)===128&&(be=(L&15)<<18|(F&63)<<12|(ne&63)<<6|Ae&63,be>65535&&be<1114112&&(K=be))}}K===null?(K=65533,re=1):K>65535&&(K-=65536,fe.push(K>>>10&1023|55296),K=56320|K&1023),fe.push(K),De+=re}return me(fe)}const Ee=4096;function me(te){const W=te.length;if(W<=Ee)return String.fromCharCode.apply(String,te);let H="",fe=0;for(;fe<W;)H+=String.fromCharCode.apply(String,te.slice(fe,fe+=Ee));return H}function ye(te,W,H){let fe="";H=Math.min(te.length,H);for(let De=W;De<H;++De)fe+=String.fromCharCode(te[De]&127);return fe}function Te(te,W,H){let fe="";H=Math.min(te.length,H);for(let De=W;De<H;++De)fe+=String.fromCharCode(te[De]);return fe}function we(te,W,H){const fe=te.length;(!W||W<0)&&(W=0),(!H||H<0||H>fe)&&(H=fe);let De="";for(let L=W;L<H;++L)De+=ft[te[L]];return De}function Me(te,W,H){const fe=te.slice(W,H);let De="";for(let L=0;L<fe.length-1;L+=2)De+=String.fromCharCode(fe[L]+fe[L+1]*256);return De}d.prototype.slice=function(W,H){const fe=this.length;W=~~W,H=H===void 0?fe:~~H,W<0?(W+=fe,W<0&&(W=0)):W>fe&&(W=fe),H<0?(H+=fe,H<0&&(H=0)):H>fe&&(H=fe),H<W&&(H=W);const De=this.subarray(W,H);return Object.setPrototypeOf(De,d.prototype),De};function Ne(te,W,H){if(te%1!==0||te<0)throw new RangeError("offset is not uint");if(te+W>H)throw new RangeError("Trying to access beyond buffer length")}d.prototype.readUintLE=d.prototype.readUIntLE=function(W,H,fe){W=W>>>0,H=H>>>0,fe||Ne(W,H,this.length);let De=this[W],L=1,K=0;for(;++K<H&&(L*=256);)De+=this[W+K]*L;return De},d.prototype.readUintBE=d.prototype.readUIntBE=function(W,H,fe){W=W>>>0,H=H>>>0,fe||Ne(W,H,this.length);let De=this[W+--H],L=1;for(;H>0&&(L*=256);)De+=this[W+--H]*L;return De},d.prototype.readUint8=d.prototype.readUInt8=function(W,H){return W=W>>>0,H||Ne(W,1,this.length),this[W]},d.prototype.readUint16LE=d.prototype.readUInt16LE=function(W,H){return W=W>>>0,H||Ne(W,2,this.length),this[W]|this[W+1]<<8},d.prototype.readUint16BE=d.prototype.readUInt16BE=function(W,H){return W=W>>>0,H||Ne(W,2,this.length),this[W]<<8|this[W+1]},d.prototype.readUint32LE=d.prototype.readUInt32LE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),(this[W]|this[W+1]<<8|this[W+2]<<16)+this[W+3]*16777216},d.prototype.readUint32BE=d.prototype.readUInt32BE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),this[W]*16777216+(this[W+1]<<16|this[W+2]<<8|this[W+3])},d.prototype.readBigUInt64LE=Vt(function(W){W=W>>>0,xe(W,"offset");const H=this[W],fe=this[W+7];(H===void 0||fe===void 0)&&Se(W,this.length-8);const De=H+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24,L=this[++W]+this[++W]*2**8+this[++W]*2**16+fe*2**24;return BigInt(De)+(BigInt(L)<<BigInt(32))}),d.prototype.readBigUInt64BE=Vt(function(W){W=W>>>0,xe(W,"offset");const H=this[W],fe=this[W+7];(H===void 0||fe===void 0)&&Se(W,this.length-8);const De=H*2**24+this[++W]*2**16+this[++W]*2**8+this[++W],L=this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+fe;return(BigInt(De)<<BigInt(32))+BigInt(L)}),d.prototype.readIntLE=function(W,H,fe){W=W>>>0,H=H>>>0,fe||Ne(W,H,this.length);let De=this[W],L=1,K=0;for(;++K<H&&(L*=256);)De+=this[W+K]*L;return L*=128,De>=L&&(De-=Math.pow(2,8*H)),De},d.prototype.readIntBE=function(W,H,fe){W=W>>>0,H=H>>>0,fe||Ne(W,H,this.length);let De=H,L=1,K=this[W+--De];for(;De>0&&(L*=256);)K+=this[W+--De]*L;return L*=128,K>=L&&(K-=Math.pow(2,8*H)),K},d.prototype.readInt8=function(W,H){return W=W>>>0,H||Ne(W,1,this.length),this[W]&128?(255-this[W]+1)*-1:this[W]},d.prototype.readInt16LE=function(W,H){W=W>>>0,H||Ne(W,2,this.length);const fe=this[W]|this[W+1]<<8;return fe&32768?fe|4294901760:fe},d.prototype.readInt16BE=function(W,H){W=W>>>0,H||Ne(W,2,this.length);const fe=this[W+1]|this[W]<<8;return fe&32768?fe|4294901760:fe},d.prototype.readInt32LE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),this[W]|this[W+1]<<8|this[W+2]<<16|this[W+3]<<24},d.prototype.readInt32BE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),this[W]<<24|this[W+1]<<16|this[W+2]<<8|this[W+3]},d.prototype.readBigInt64LE=Vt(function(W){W=W>>>0,xe(W,"offset");const H=this[W],fe=this[W+7];(H===void 0||fe===void 0)&&Se(W,this.length-8);const De=this[W+4]+this[W+5]*2**8+this[W+6]*2**16+(fe<<24);return(BigInt(De)<<BigInt(32))+BigInt(H+this[++W]*2**8+this[++W]*2**16+this[++W]*2**24)}),d.prototype.readBigInt64BE=Vt(function(W){W=W>>>0,xe(W,"offset");const H=this[W],fe=this[W+7];(H===void 0||fe===void 0)&&Se(W,this.length-8);const De=(H<<24)+this[++W]*2**16+this[++W]*2**8+this[++W];return(BigInt(De)<<BigInt(32))+BigInt(this[++W]*2**24+this[++W]*2**16+this[++W]*2**8+fe)}),d.prototype.readFloatLE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),$.read(this,W,!0,23,4)},d.prototype.readFloatBE=function(W,H){return W=W>>>0,H||Ne(W,4,this.length),$.read(this,W,!1,23,4)},d.prototype.readDoubleLE=function(W,H){return W=W>>>0,H||Ne(W,8,this.length),$.read(this,W,!0,52,8)},d.prototype.readDoubleBE=function(W,H){return W=W>>>0,H||Ne(W,8,this.length),$.read(this,W,!1,52,8)};function Re(te,W,H,fe,De,L){if(!d.isBuffer(te))throw new TypeError('"buffer" argument must be a Buffer instance');if(W>De||W<L)throw new RangeError('"value" argument is out of bounds');if(H+fe>te.length)throw new RangeError("Index out of range")}d.prototype.writeUintLE=d.prototype.writeUIntLE=function(W,H,fe,De){if(W=+W,H=H>>>0,fe=fe>>>0,!De){const re=Math.pow(2,8*fe)-1;Re(this,W,H,fe,re,0)}let L=1,K=0;for(this[H]=W&255;++K<fe&&(L*=256);)this[H+K]=W/L&255;return H+fe},d.prototype.writeUintBE=d.prototype.writeUIntBE=function(W,H,fe,De){if(W=+W,H=H>>>0,fe=fe>>>0,!De){const re=Math.pow(2,8*fe)-1;Re(this,W,H,fe,re,0)}let L=fe-1,K=1;for(this[H+L]=W&255;--L>=0&&(K*=256);)this[H+L]=W/K&255;return H+fe},d.prototype.writeUint8=d.prototype.writeUInt8=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,1,255,0),this[H]=W&255,H+1},d.prototype.writeUint16LE=d.prototype.writeUInt16LE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,2,65535,0),this[H]=W&255,this[H+1]=W>>>8,H+2},d.prototype.writeUint16BE=d.prototype.writeUInt16BE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,2,65535,0),this[H]=W>>>8,this[H+1]=W&255,H+2},d.prototype.writeUint32LE=d.prototype.writeUInt32LE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,4,4294967295,0),this[H+3]=W>>>24,this[H+2]=W>>>16,this[H+1]=W>>>8,this[H]=W&255,H+4},d.prototype.writeUint32BE=d.prototype.writeUInt32BE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,4,4294967295,0),this[H]=W>>>24,this[H+1]=W>>>16,this[H+2]=W>>>8,this[H+3]=W&255,H+4};function Oe(te,W,H,fe,De){ae(W,fe,De,te,H,7);let L=Number(W&BigInt(4294967295));te[H++]=L,L=L>>8,te[H++]=L,L=L>>8,te[H++]=L,L=L>>8,te[H++]=L;let K=Number(W>>BigInt(32)&BigInt(4294967295));return te[H++]=K,K=K>>8,te[H++]=K,K=K>>8,te[H++]=K,K=K>>8,te[H++]=K,H}function Ye(te,W,H,fe,De){ae(W,fe,De,te,H,7);let L=Number(W&BigInt(4294967295));te[H+7]=L,L=L>>8,te[H+6]=L,L=L>>8,te[H+5]=L,L=L>>8,te[H+4]=L;let K=Number(W>>BigInt(32)&BigInt(4294967295));return te[H+3]=K,K=K>>8,te[H+2]=K,K=K>>8,te[H+1]=K,K=K>>8,te[H]=K,H+8}d.prototype.writeBigUInt64LE=Vt(function(W,H=0){return Oe(this,W,H,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeBigUInt64BE=Vt(function(W,H=0){return Ye(this,W,H,BigInt(0),BigInt("0xffffffffffffffff"))}),d.prototype.writeIntLE=function(W,H,fe,De){if(W=+W,H=H>>>0,!De){const F=Math.pow(2,8*fe-1);Re(this,W,H,fe,F-1,-F)}let L=0,K=1,re=0;for(this[H]=W&255;++L<fe&&(K*=256);)W<0&&re===0&&this[H+L-1]!==0&&(re=1),this[H+L]=(W/K>>0)-re&255;return H+fe},d.prototype.writeIntBE=function(W,H,fe,De){if(W=+W,H=H>>>0,!De){const F=Math.pow(2,8*fe-1);Re(this,W,H,fe,F-1,-F)}let L=fe-1,K=1,re=0;for(this[H+L]=W&255;--L>=0&&(K*=256);)W<0&&re===0&&this[H+L+1]!==0&&(re=1),this[H+L]=(W/K>>0)-re&255;return H+fe},d.prototype.writeInt8=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,1,127,-128),W<0&&(W=255+W+1),this[H]=W&255,H+1},d.prototype.writeInt16LE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,2,32767,-32768),this[H]=W&255,this[H+1]=W>>>8,H+2},d.prototype.writeInt16BE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,2,32767,-32768),this[H]=W>>>8,this[H+1]=W&255,H+2},d.prototype.writeInt32LE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,4,2147483647,-2147483648),this[H]=W&255,this[H+1]=W>>>8,this[H+2]=W>>>16,this[H+3]=W>>>24,H+4},d.prototype.writeInt32BE=function(W,H,fe){return W=+W,H=H>>>0,fe||Re(this,W,H,4,2147483647,-2147483648),W<0&&(W=4294967295+W+1),this[H]=W>>>24,this[H+1]=W>>>16,this[H+2]=W>>>8,this[H+3]=W&255,H+4},d.prototype.writeBigInt64LE=Vt(function(W,H=0){return Oe(this,W,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),d.prototype.writeBigInt64BE=Vt(function(W,H=0){return Ye(this,W,H,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function Xe(te,W,H,fe,De,L){if(H+fe>te.length)throw new RangeError("Index out of range");if(H<0)throw new RangeError("Index out of range")}function qe(te,W,H,fe,De){return W=+W,H=H>>>0,De||Xe(te,W,H,4),$.write(te,W,H,fe,23,4),H+4}d.prototype.writeFloatLE=function(W,H,fe){return qe(this,W,H,!0,fe)},d.prototype.writeFloatBE=function(W,H,fe){return qe(this,W,H,!1,fe)};function ct(te,W,H,fe,De){return W=+W,H=H>>>0,De||Xe(te,W,H,8),$.write(te,W,H,fe,52,8),H+8}d.prototype.writeDoubleLE=function(W,H,fe){return ct(this,W,H,!0,fe)},d.prototype.writeDoubleBE=function(W,H,fe){return ct(this,W,H,!1,fe)},d.prototype.copy=function(W,H,fe,De){if(!d.isBuffer(W))throw new TypeError("argument should be a Buffer");if(fe||(fe=0),!De&&De!==0&&(De=this.length),H>=W.length&&(H=W.length),H||(H=0),De>0&&De<fe&&(De=fe),De===fe||W.length===0||this.length===0)return 0;if(H<0)throw new RangeError("targetStart out of bounds");if(fe<0||fe>=this.length)throw new RangeError("Index out of range");if(De<0)throw new RangeError("sourceEnd out of bounds");De>this.length&&(De=this.length),W.length-H<De-fe&&(De=W.length-H+fe);const L=De-fe;return this===W&&typeof J.prototype.copyWithin=="function"?this.copyWithin(H,fe,De):J.prototype.set.call(W,this.subarray(fe,De),H),L},d.prototype.fill=function(W,H,fe,De){if(typeof W=="string"){if(typeof H=="string"?(De=H,H=0,fe=this.length):typeof fe=="string"&&(De=fe,fe=this.length),De!==void 0&&typeof De!="string")throw new TypeError("encoding must be a string");if(typeof De=="string"&&!d.isEncoding(De))throw new TypeError("Unknown encoding: "+De);if(W.length===1){const K=W.charCodeAt(0);(De==="utf8"&&K<128||De==="latin1")&&(W=K)}}else typeof W=="number"?W=W&255:typeof W=="boolean"&&(W=Number(W));if(H<0||this.length<H||this.length<fe)throw new RangeError("Out of range index");if(fe<=H)return this;H=H>>>0,fe=fe===void 0?this.length:fe>>>0,W||(W=0);let L;if(typeof W=="number")for(L=H;L<fe;++L)this[L]=W;else{const K=d.isBuffer(W)?W:d.from(W,De),re=K.length;if(re===0)throw new TypeError('The value "'+W+'" is invalid for argument "value"');for(L=0;L<fe-H;++L)this[L+H]=K[L%re]}return this};const rt={};function X(te,W,H){rt[te]=class extends H{constructor(){super(),Object.defineProperty(this,"message",{value:W.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${te}]`,this.stack,delete this.name}get code(){return te}set code(De){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:De,writable:!0})}toString(){return`${this.name} [${te}]: ${this.message}`}}}X("ERR_BUFFER_OUT_OF_BOUNDS",function(te){return te?`${te} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),X("ERR_INVALID_ARG_TYPE",function(te,W){return`The "${te}" argument must be of type number. Received type ${typeof W}`},TypeError),X("ERR_OUT_OF_RANGE",function(te,W,H){let fe=`The value of "${te}" is out of range.`,De=H;return Number.isInteger(H)&&Math.abs(H)>2**32?De=q(String(H)):typeof H=="bigint"&&(De=String(H),(H>BigInt(2)**BigInt(32)||H<-(BigInt(2)**BigInt(32)))&&(De=q(De)),De+="n"),fe+=` It must be ${W}. Received ${De}`,fe},RangeError);function q(te){let W="",H=te.length;const fe=te[0]==="-"?1:0;for(;H>=fe+4;H-=3)W=`_${te.slice(H-3,H)}${W}`;return`${te.slice(0,H)}${W}`}function j(te,W,H){xe(W,"offset"),(te[W]===void 0||te[W+H]===void 0)&&Se(W,te.length-(H+1))}function ae(te,W,H,fe,De,L){if(te>H||te<W){const K=typeof W=="bigint"?"n":"";let re;throw W===0||W===BigInt(0)?re=`>= 0${K} and < 2${K} ** ${(L+1)*8}${K}`:re=`>= -(2${K} ** ${(L+1)*8-1}${K}) and < 2 ** ${(L+1)*8-1}${K}`,new rt.ERR_OUT_OF_RANGE("value",re,te)}j(fe,De,L)}function xe(te,W){if(typeof te!="number")throw new rt.ERR_INVALID_ARG_TYPE(W,"number",te)}function Se(te,W,H){throw Math.floor(te)!==te?(xe(te,H),new rt.ERR_OUT_OF_RANGE("offset","an integer",te)):W<0?new rt.ERR_BUFFER_OUT_OF_BOUNDS:new rt.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${W}`,te)}const _e=/[^+/0-9A-Za-z-_]/g;function Ze(te){if(te=te.split("=")[0],te=te.trim().replace(_e,""),te.length<2)return"";for(;te.length%4!==0;)te=te+"=";return te}function Qe(te,W){W=W||1/0;let H;const fe=te.length;let De=null;const L=[];for(let K=0;K<fe;++K){if(H=te.charCodeAt(K),H>55295&&H<57344){if(!De){if(H>56319){(W-=3)>-1&&L.push(239,191,189);continue}else if(K+1===fe){(W-=3)>-1&&L.push(239,191,189);continue}De=H;continue}if(H<56320){(W-=3)>-1&&L.push(239,191,189),De=H;continue}H=(De-55296<<10|H-56320)+65536}else De&&(W-=3)>-1&&L.push(239,191,189);if(De=null,H<128){if((W-=1)<0)break;L.push(H)}else if(H<2048){if((W-=2)<0)break;L.push(H>>6|192,H&63|128)}else if(H<65536){if((W-=3)<0)break;L.push(H>>12|224,H>>6&63|128,H&63|128)}else if(H<1114112){if((W-=4)<0)break;L.push(H>>18|240,H>>12&63|128,H>>6&63|128,H&63|128)}else throw new Error("Invalid code point")}return L}function je(te){const W=[];for(let H=0;H<te.length;++H)W.push(te.charCodeAt(H)&255);return W}function vt(te,W){let H,fe,De;const L=[];for(let K=0;K<te.length&&!((W-=2)<0);++K)H=te.charCodeAt(K),fe=H>>8,De=H%256,L.push(De),L.push(fe);return L}function et(te){return N.toByteArray(Ze(te))}function at(te,W,H,fe){let De;for(De=0;De<fe&&!(De+H>=W.length||De>=te.length);++De)W[De+H]=te[De];return De}function Rt(te,W){return te instanceof W||te!=null&&te.constructor!=null&&te.constructor.name!=null&&te.constructor.name===W.name}function yt(te){return te!==te}const ft=(function(){const te="0123456789abcdef",W=new Array(256);for(let H=0;H<16;++H){const fe=H*16;for(let De=0;De<16;++De)W[fe+De]=te[H]+te[De]}return W})();function Vt(te){return typeof BigInt>"u"?xt:te}function xt(){throw new Error("BigInt not supported")}})(e);const A=e.Buffer;i.Blob=e.Blob,i.BlobOptions=e.BlobOptions,i.Buffer=e.Buffer,i.File=e.File,i.FileOptions=e.FileOptions,i.INSPECT_MAX_BYTES=e.INSPECT_MAX_BYTES,i.SlowBuffer=e.SlowBuffer,i.TranscodeEncoding=e.TranscodeEncoding,i.atob=e.atob,i.btoa=e.btoa,i.constants=e.constants,i.default=A,i.isAscii=e.isAscii,i.isUtf8=e.isUtf8,i.kMaxLength=e.kMaxLength,i.kStringMaxLength=e.kStringMaxLength,i.resolveObjectURL=e.resolveObjectURL,i.transcode=e.transcode})(wh)),wh}/*! safe-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var Jg;function Wt(){return Jg||(Jg=1,(function(i,e){var t=Ar(),r=t.Buffer;function a(s,c){for(var u in s)c[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=t:(a(t,e),e.Buffer=n);function n(s,c,u){return r(s,c,u)}n.prototype=Object.create(r.prototype),a(r,n),n.from=function(s,c,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,c,u)},n.alloc=function(s,c,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Tc,Tc.exports)),Tc.exports}var Yg;function ns(){if(Yg)return Rc.exports;Yg=1;var i=65536,e=4294967295;function t(){throw new Error(`Secure random number generation is not supported by this browser.
Use Chrome, Firefox or Internet Explorer 11`)}var r=Wt().Buffer,a=Gt.crypto||Gt.msCrypto;a&&a.getRandomValues?Rc.exports=n:Rc.exports=t;function n(s,c){if(s>e)throw new RangeError("requested too many random bytes");var u=r.allocUnsafe(s);if(s>0)if(s>i)for(var h=0;h<s;h+=i)a.getRandomValues(u.slice(h,h+i));else a.getRandomValues(u);return typeof c=="function"?Bt.nextTick(function(){c(null,u)}):u}return Rc.exports}var Bc={exports:{}},Xg;function Ut(){return Xg||(Xg=1,typeof Object.create=="function"?Bc.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Bc.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}),Bc.exports}var Fc={exports:{}},Zg;function ka(){if(Zg)return Fc.exports;Zg=1;var i=typeof Reflect=="object"?Reflect:null,e=i&&typeof i.apply=="function"?i.apply:function(V,U,J){return Function.prototype.apply.call(V,U,J)},t;i&&typeof i.ownKeys=="function"?t=i.ownKeys:Object.getOwnPropertySymbols?t=function(V){return Object.getOwnPropertyNames(V).concat(Object.getOwnPropertySymbols(V))}:t=function(V){return Object.getOwnPropertyNames(V)};function r($){console&&console.warn&&console.warn($)}var a=Number.isNaN||function(V){return V!==V};function n(){n.init.call(this)}Fc.exports=n,Fc.exports.once=A,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._eventsCount=0,n.prototype._maxListeners=void 0;var s=10;function c($){if(typeof $!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof $)}Object.defineProperty(n,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function($){if(typeof $!="number"||$<0||a($))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+$+".");s=$}}),n.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},n.prototype.setMaxListeners=function(V){if(typeof V!="number"||V<0||a(V))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+V+".");return this._maxListeners=V,this};function u($){return $._maxListeners===void 0?n.defaultMaxListeners:$._maxListeners}n.prototype.getMaxListeners=function(){return u(this)},n.prototype.emit=function(V){for(var U=[],J=1;J<arguments.length;J++)U.push(arguments[J]);var Y=V==="error",oe=this._events;if(oe!==void 0)Y=Y&&oe.error===void 0;else if(!Y)return!1;if(Y){var G;if(U.length>0&&(G=U[0]),G instanceof Error)throw G;var E=new Error("Unhandled error."+(G?" ("+G.message+")":""));throw E.context=G,E}var d=oe[V];if(d===void 0)return!1;if(typeof d=="function")e(d,this,U);else for(var p=d.length,o=_(d,p),J=0;J<p;++J)e(o[J],this,U);return!0};function h($,V,U,J){var Y,oe,G;if(c(U),oe=$._events,oe===void 0?(oe=$._events=Object.create(null),$._eventsCount=0):(oe.newListener!==void 0&&($.emit("newListener",V,U.listener?U.listener:U),oe=$._events),G=oe[V]),G===void 0)G=oe[V]=U,++$._eventsCount;else if(typeof G=="function"?G=oe[V]=J?[U,G]:[G,U]:J?G.unshift(U):G.push(U),Y=u($),Y>0&&G.length>Y&&!G.warned){G.warned=!0;var E=new Error("Possible EventEmitter memory leak detected. "+G.length+" "+String(V)+" listeners added. Use emitter.setMaxListeners() to increase limit");E.name="MaxListenersExceededWarning",E.emitter=$,E.type=V,E.count=G.length,r(E)}return $}n.prototype.addListener=function(V,U){return h(this,V,U,!1)},n.prototype.on=n.prototype.addListener,n.prototype.prependListener=function(V,U){return h(this,V,U,!0)};function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function g($,V,U){var J={fired:!1,wrapFn:void 0,target:$,type:V,listener:U},Y=f.bind(J);return Y.listener=U,J.wrapFn=Y,Y}n.prototype.once=function(V,U){return c(U),this.on(V,g(this,V,U)),this},n.prototype.prependOnceListener=function(V,U){return c(U),this.prependListener(V,g(this,V,U)),this},n.prototype.removeListener=function(V,U){var J,Y,oe,G,E;if(c(U),Y=this._events,Y===void 0)return this;if(J=Y[V],J===void 0)return this;if(J===U||J.listener===U)--this._eventsCount===0?this._events=Object.create(null):(delete Y[V],Y.removeListener&&this.emit("removeListener",V,J.listener||U));else if(typeof J!="function"){for(oe=-1,G=J.length-1;G>=0;G--)if(J[G]===U||J[G].listener===U){E=J[G].listener,oe=G;break}if(oe<0)return this;oe===0?J.shift():D(J,oe),J.length===1&&(Y[V]=J[0]),Y.removeListener!==void 0&&this.emit("removeListener",V,E||U)}return this},n.prototype.off=n.prototype.removeListener,n.prototype.removeAllListeners=function(V){var U,J,Y;if(J=this._events,J===void 0)return this;if(J.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):J[V]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete J[V]),this;if(arguments.length===0){var oe=Object.keys(J),G;for(Y=0;Y<oe.length;++Y)G=oe[Y],G!=="removeListener"&&this.removeAllListeners(G);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(U=J[V],typeof U=="function")this.removeListener(V,U);else if(U!==void 0)for(Y=U.length-1;Y>=0;Y--)this.removeListener(V,U[Y]);return this};function b($,V,U){var J=$._events;if(J===void 0)return[];var Y=J[V];return Y===void 0?[]:typeof Y=="function"?U?[Y.listener||Y]:[Y]:U?R(Y):_(Y,Y.length)}n.prototype.listeners=function(V){return b(this,V,!0)},n.prototype.rawListeners=function(V){return b(this,V,!1)},n.listenerCount=function($,V){return typeof $.listenerCount=="function"?$.listenerCount(V):M.call($,V)},n.prototype.listenerCount=M;function M($){var V=this._events;if(V!==void 0){var U=V[$];if(typeof U=="function")return 1;if(U!==void 0)return U.length}return 0}n.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]};function _($,V){for(var U=new Array(V),J=0;J<V;++J)U[J]=$[J];return U}function D($,V){for(;V+1<$.length;V++)$[V]=$[V+1];$.pop()}function R($){for(var V=new Array($.length),U=0;U<V.length;++U)V[U]=$[U].listener||$[U];return V}function A($,V){return new Promise(function(U,J){function Y(G){$.removeListener(V,oe),J(G)}function oe(){typeof $.removeListener=="function"&&$.removeListener("error",Y),U([].slice.call(arguments))}N($,V,oe,{once:!0}),V!=="error"&&I($,Y,{once:!0})})}function I($,V,U){typeof $.on=="function"&&N($,"error",V,U)}function N($,V,U,J){if(typeof $.on=="function")J.once?$.once(V,U):$.on(V,U);else if(typeof $.addEventListener=="function")$.addEventListener(V,function Y(oe){J.once&&$.removeEventListener(V,Y),U(oe)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof $)}return Fc.exports}var bh,Qg;function eb(){return Qg||(Qg=1,bh=ka().EventEmitter),bh}const Z6={},Q6=Object.freeze(Object.defineProperty({__proto__:null,default:Z6},Symbol.toStringTag,{value:"Module"})),Ia=Y6(Q6);var xh,em;function e4(){if(em)return xh;em=1;function i(_,D){var R=Object.keys(_);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(_);D&&(A=A.filter(function(I){return Object.getOwnPropertyDescriptor(_,I).enumerable})),R.push.apply(R,A)}return R}function e(_){for(var D=1;D<arguments.length;D++){var R=arguments[D]!=null?arguments[D]:{};D%2?i(Object(R),!0).forEach(function(A){t(_,A,R[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_,Object.getOwnPropertyDescriptors(R)):i(Object(R)).forEach(function(A){Object.defineProperty(_,A,Object.getOwnPropertyDescriptor(R,A))})}return _}function t(_,D,R){return D=s(D),D in _?Object.defineProperty(_,D,{value:R,enumerable:!0,configurable:!0,writable:!0}):_[D]=R,_}function r(_,D){if(!(_ instanceof D))throw new TypeError("Cannot call a class as a function")}function a(_,D){for(var R=0;R<D.length;R++){var A=D[R];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(_,s(A.key),A)}}function n(_,D,R){return D&&a(_.prototype,D),Object.defineProperty(_,"prototype",{writable:!1}),_}function s(_){var D=c(_,"string");return typeof D=="symbol"?D:String(D)}function c(_,D){if(typeof _!="object"||_===null)return _;var R=_[Symbol.toPrimitive];if(R!==void 0){var A=R.call(_,D);if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(_)}var u=Ar(),h=u.Buffer,f=Ia,g=f.inspect,b=g&&g.custom||"inspect";function M(_,D,R){h.prototype.copy.call(_,D,R)}return xh=(function(){function _(){r(this,_),this.head=null,this.tail=null,this.length=0}return n(_,[{key:"push",value:function(R){var A={data:R,next:null};this.length>0?this.tail.next=A:this.head=A,this.tail=A,++this.length}},{key:"unshift",value:function(R){var A={data:R,next:this.head};this.length===0&&(this.tail=A),this.head=A,++this.length}},{key:"shift",value:function(){if(this.length!==0){var R=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,R}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(R){if(this.length===0)return"";for(var A=this.head,I=""+A.data;A=A.next;)I+=R+A.data;return I}},{key:"concat",value:function(R){if(this.length===0)return h.alloc(0);for(var A=h.allocUnsafe(R>>>0),I=this.head,N=0;I;)M(I.data,A,N),N+=I.data.length,I=I.next;return A}},{key:"consume",value:function(R,A){var I;return R<this.head.data.length?(I=this.head.data.slice(0,R),this.head.data=this.head.data.slice(R)):R===this.head.data.length?I=this.shift():I=A?this._getString(R):this._getBuffer(R),I}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(R){var A=this.head,I=1,N=A.data;for(R-=N.length;A=A.next;){var $=A.data,V=R>$.length?$.length:R;if(V===$.length?N+=$:N+=$.slice(0,R),R-=V,R===0){V===$.length?(++I,A.next?this.head=A.next:this.head=this.tail=null):(this.head=A,A.data=$.slice(V));break}++I}return this.length-=I,N}},{key:"_getBuffer",value:function(R){var A=h.allocUnsafe(R),I=this.head,N=1;for(I.data.copy(A),R-=I.data.length;I=I.next;){var $=I.data,V=R>$.length?$.length:R;if($.copy(A,A.length-R,0,V),R-=V,R===0){V===$.length?(++N,I.next?this.head=I.next:this.head=this.tail=null):(this.head=I,I.data=$.slice(V));break}++N}return this.length-=N,A}},{key:b,value:function(R,A){return g(this,e(e({},A),{},{depth:0,customInspect:!1}))}}]),_})(),xh}var Sh,tm;function tb(){if(tm)return Sh;tm=1;function i(s,c){var u=this,h=this._readableState&&this._readableState.destroyed,f=this._writableState&&this._writableState.destroyed;return h||f?(c?c(s):s&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,Bt.nextTick(a,this,s)):Bt.nextTick(a,this,s)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(s||null,function(g){!c&&g?u._writableState?u._writableState.errorEmitted?Bt.nextTick(t,u):(u._writableState.errorEmitted=!0,Bt.nextTick(e,u,g)):Bt.nextTick(e,u,g):c?(Bt.nextTick(t,u),c(g)):Bt.nextTick(t,u)}),this)}function e(s,c){a(s,c),t(s)}function t(s){s._writableState&&!s._writableState.emitClose||s._readableState&&!s._readableState.emitClose||s.emit("close")}function r(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(s,c){s.emit("error",c)}function n(s,c){var u=s._readableState,h=s._writableState;u&&u.autoDestroy||h&&h.autoDestroy?s.destroy(c):s.emit("error",c)}return Sh={destroy:i,undestroy:r,errorOrDestroy:n},Sh}var Eh={},rm;function is(){if(rm)return Eh;rm=1;function i(c,u){c.prototype=Object.create(u.prototype),c.prototype.constructor=c,c.__proto__=u}var e={};function t(c,u,h){h||(h=Error);function f(b,M,_){return typeof u=="string"?u:u(b,M,_)}var g=(function(b){i(M,b);function M(_,D,R){return b.call(this,f(_,D,R))||this}return M})(h);g.prototype.name=h.name,g.prototype.code=c,e[c]=g}function r(c,u){if(Array.isArray(c)){var h=c.length;return c=c.map(function(f){return String(f)}),h>2?"one of ".concat(u," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(u," ").concat(c[0]," or ").concat(c[1]):"of ".concat(u," ").concat(c[0])}else return"of ".concat(u," ").concat(String(c))}function a(c,u,h){return c.substr(0,u.length)===u}function n(c,u,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-u.length,h)===u}function s(c,u,h){return typeof h!="number"&&(h=0),h+u.length>c.length?!1:c.indexOf(u,h)!==-1}return t("ERR_INVALID_OPT_VALUE",function(c,u){return'The value "'+u+'" is invalid for option "'+c+'"'},TypeError),t("ERR_INVALID_ARG_TYPE",function(c,u,h){var f;typeof u=="string"&&a(u,"not ")?(f="must not be",u=u.replace(/^not /,"")):f="must be";var g;if(n(c," argument"))g="The ".concat(c," ").concat(f," ").concat(r(u,"type"));else{var b=s(c,".")?"property":"argument";g='The "'.concat(c,'" ').concat(b," ").concat(f," ").concat(r(u,"type"))}return g+=". Received type ".concat(typeof h),g},TypeError),t("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),t("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),t("ERR_STREAM_PREMATURE_CLOSE","Premature close"),t("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),t("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),t("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),t("ERR_STREAM_WRITE_AFTER_END","write after end"),t("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),t("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),t("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),Eh.codes=e,Eh}var Mh,nm;function rb(){if(nm)return Mh;nm=1;var i=is().codes.ERR_INVALID_OPT_VALUE;function e(r,a,n){return r.highWaterMark!=null?r.highWaterMark:a?r[n]:null}function t(r,a,n,s){var c=e(a,s,n);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var u=s?n:"highWaterMark";throw new i(u,c)}return Math.floor(c)}return r.objectMode?16:16*1024}return Mh={getHighWaterMark:t},Mh}var _h,im;function cg(){if(im)return _h;im=1,_h=i;function i(t,r){if(e("noDeprecation"))return t;var a=!1;function n(){if(!a){if(e("throwDeprecation"))throw new Error(r);e("traceDeprecation")?console.trace(r):console.warn(r),a=!0}return t.apply(this,arguments)}return n}function e(t){try{if(!Gt.localStorage)return!1}catch{return!1}var r=Gt.localStorage[t];return r==null?!1:String(r).toLowerCase()==="true"}return _h}var Ah,am;function nb(){if(am)return Ah;am=1,Ah=Y;function i(ce){var C=this;this.next=null,this.entry=null,this.finish=function(){ve(C,ce)}}var e;Y.WritableState=U;var t={deprecate:cg()},r=eb(),a=Ar().Buffer,n=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function s(ce){return a.from(ce)}function c(ce){return a.isBuffer(ce)||ce instanceof n}var u=tb(),h=rb(),f=h.getHighWaterMark,g=is().codes,b=g.ERR_INVALID_ARG_TYPE,M=g.ERR_METHOD_NOT_IMPLEMENTED,_=g.ERR_MULTIPLE_CALLBACK,D=g.ERR_STREAM_CANNOT_PIPE,R=g.ERR_STREAM_DESTROYED,A=g.ERR_STREAM_NULL_VALUES,I=g.ERR_STREAM_WRITE_AFTER_END,N=g.ERR_UNKNOWN_ENCODING,$=u.errorOrDestroy;Ut()(Y,r);function V(){}function U(ce,C,B){e=e||ja(),ce=ce||{},typeof B!="boolean"&&(B=C instanceof e),this.objectMode=!!ce.objectMode,B&&(this.objectMode=this.objectMode||!!ce.writableObjectMode),this.highWaterMark=f(this,ce,"writableHighWaterMark",B),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var ee=ce.decodeStrings===!1;this.decodeStrings=!ee,this.defaultEncoding=ce.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(z){S(C,z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ce.emitClose!==!1,this.autoDestroy=!!ce.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new i(this)}U.prototype.getBuffer=function(){for(var C=this.bufferedRequest,B=[];C;)B.push(C),C=C.next;return B},(function(){try{Object.defineProperty(U.prototype,"buffer",{get:t.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var J;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(J=Function.prototype[Symbol.hasInstance],Object.defineProperty(Y,Symbol.hasInstance,{value:function(C){return J.call(this,C)?!0:this!==Y?!1:C&&C._writableState instanceof U}})):J=function(C){return C instanceof this};function Y(ce){e=e||ja();var C=this instanceof e;if(!C&&!J.call(Y,this))return new Y(ce);this._writableState=new U(ce,this,C),this.writable=!0,ce&&(typeof ce.write=="function"&&(this._write=ce.write),typeof ce.writev=="function"&&(this._writev=ce.writev),typeof ce.destroy=="function"&&(this._destroy=ce.destroy),typeof ce.final=="function"&&(this._final=ce.final)),r.call(this)}Y.prototype.pipe=function(){$(this,new D)};function oe(ce,C){var B=new I;$(ce,B),Bt.nextTick(C,B)}function G(ce,C,B,ee){var z;return B===null?z=new A:typeof B!="string"&&!C.objectMode&&(z=new b("chunk",["string","Buffer"],B)),z?($(ce,z),Bt.nextTick(ee,z),!1):!0}Y.prototype.write=function(ce,C,B){var ee=this._writableState,z=!1,P=!ee.objectMode&&c(ce);return P&&!a.isBuffer(ce)&&(ce=s(ce)),typeof C=="function"&&(B=C,C=null),P?C="buffer":C||(C=ee.defaultEncoding),typeof B!="function"&&(B=V),ee.ending?oe(this,B):(P||G(this,ee,ce,B))&&(ee.pendingcb++,z=d(this,ee,P,ce,C,B)),z},Y.prototype.cork=function(){this._writableState.corked++},Y.prototype.uncork=function(){var ce=this._writableState;ce.corked&&(ce.corked--,!ce.writing&&!ce.corked&&!ce.bufferProcessing&&ce.bufferedRequest&&m(this,ce))},Y.prototype.setDefaultEncoding=function(C){if(typeof C=="string"&&(C=C.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((C+"").toLowerCase())>-1))throw new N(C);return this._writableState.defaultEncoding=C,this},Object.defineProperty(Y.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function E(ce,C,B){return!ce.objectMode&&ce.decodeStrings!==!1&&typeof C=="string"&&(C=a.from(C,B)),C}Object.defineProperty(Y.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function d(ce,C,B,ee,z,P){if(!B){var O=E(C,ee,z);ee!==O&&(B=!0,z="buffer",ee=O)}var se=C.objectMode?1:ee.length;C.length+=se;var le=C.length<C.highWaterMark;if(le||(C.needDrain=!0),C.writing||C.corked){var ge=C.lastBufferedRequest;C.lastBufferedRequest={chunk:ee,encoding:z,isBuf:B,callback:P,next:null},ge?ge.next=C.lastBufferedRequest:C.bufferedRequest=C.lastBufferedRequest,C.bufferedRequestCount+=1}else p(ce,C,!1,se,ee,z,P);return le}function p(ce,C,B,ee,z,P,O){C.writelen=ee,C.writecb=O,C.writing=!0,C.sync=!0,C.destroyed?C.onwrite(new R("write")):B?ce._writev(z,C.onwrite):ce._write(z,P,C.onwrite),C.sync=!1}function o(ce,C,B,ee,z){--C.pendingcb,B?(Bt.nextTick(z,ee),Bt.nextTick(T,ce,C),ce._writableState.errorEmitted=!0,$(ce,ee)):(z(ee),ce._writableState.errorEmitted=!0,$(ce,ee),T(ce,C))}function l(ce){ce.writing=!1,ce.writecb=null,ce.length-=ce.writelen,ce.writelen=0}function S(ce,C){var B=ce._writableState,ee=B.sync,z=B.writecb;if(typeof z!="function")throw new _;if(l(B),C)o(ce,B,ee,C,z);else{var P=y(B)||ce.destroyed;!P&&!B.corked&&!B.bufferProcessing&&B.bufferedRequest&&m(ce,B),ee?Bt.nextTick(x,ce,B,P,z):x(ce,B,P,z)}}function x(ce,C,B,ee){B||v(ce,C),C.pendingcb--,ee(),T(ce,C)}function v(ce,C){C.length===0&&C.needDrain&&(C.needDrain=!1,ce.emit("drain"))}function m(ce,C){C.bufferProcessing=!0;var B=C.bufferedRequest;if(ce._writev&&B&&B.next){var ee=C.bufferedRequestCount,z=new Array(ee),P=C.corkedRequestsFree;P.entry=B;for(var O=0,se=!0;B;)z[O]=B,B.isBuf||(se=!1),B=B.next,O+=1;z.allBuffers=se,p(ce,C,!0,C.length,z,"",P.finish),C.pendingcb++,C.lastBufferedRequest=null,P.next?(C.corkedRequestsFree=P.next,P.next=null):C.corkedRequestsFree=new i(C),C.bufferedRequestCount=0}else{for(;B;){var le=B.chunk,ge=B.encoding,Ee=B.callback,me=C.objectMode?1:le.length;if(p(ce,C,!1,me,le,ge,Ee),B=B.next,C.bufferedRequestCount--,C.writing)break}B===null&&(C.lastBufferedRequest=null)}C.bufferedRequest=B,C.bufferProcessing=!1}Y.prototype._write=function(ce,C,B){B(new M("_write()"))},Y.prototype._writev=null,Y.prototype.end=function(ce,C,B){var ee=this._writableState;return typeof ce=="function"?(B=ce,ce=null,C=null):typeof C=="function"&&(B=C,C=null),ce!=null&&this.write(ce,C),ee.corked&&(ee.corked=1,this.uncork()),ee.ending||ie(this,ee,B),this},Object.defineProperty(Y.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function y(ce){return ce.ending&&ce.length===0&&ce.bufferedRequest===null&&!ce.finished&&!ce.writing}function k(ce,C){ce._final(function(B){C.pendingcb--,B&&$(ce,B),C.prefinished=!0,ce.emit("prefinish"),T(ce,C)})}function w(ce,C){!C.prefinished&&!C.finalCalled&&(typeof ce._final=="function"&&!C.destroyed?(C.pendingcb++,C.finalCalled=!0,Bt.nextTick(k,ce,C)):(C.prefinished=!0,ce.emit("prefinish")))}function T(ce,C){var B=y(C);if(B&&(w(ce,C),C.pendingcb===0&&(C.finished=!0,ce.emit("finish"),C.autoDestroy))){var ee=ce._readableState;(!ee||ee.autoDestroy&&ee.endEmitted)&&ce.destroy()}return B}function ie(ce,C,B){C.ending=!0,T(ce,C),B&&(C.finished?Bt.nextTick(B):ce.once("finish",B)),C.ended=!0,ce.writable=!1}function ve(ce,C,B){var ee=ce.entry;for(ce.entry=null;ee;){var z=ee.callback;C.pendingcb--,z(B),ee=ee.next}C.corkedRequestsFree.next=ce}return Object.defineProperty(Y.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(C){this._writableState&&(this._writableState.destroyed=C)}}),Y.prototype.destroy=u.destroy,Y.prototype._undestroy=u.undestroy,Y.prototype._destroy=function(ce,C){C(ce)},Ah}var kh,om;function ja(){if(om)return kh;om=1;var i=Object.keys||function(h){var f=[];for(var g in h)f.push(g);return f};kh=s;var e=ib(),t=nb();Ut()(s,e);for(var r=i(t.prototype),a=0;a<r.length;a++){var n=r[a];s.prototype[n]||(s.prototype[n]=t.prototype[n])}function s(h){if(!(this instanceof s))return new s(h);e.call(this,h),t.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(s.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(s.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(s.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||Bt.nextTick(u,this)}function u(h){h.end()}return Object.defineProperty(s.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(f){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=f,this._writableState.destroyed=f)}}),kh}var Ih={},sm;function q0(){if(sm)return Ih;sm=1;var i=Wt().Buffer,e=i.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(A){if(!A)return"utf8";for(var I;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(I)return;A=(""+A).toLowerCase(),I=!0}}function r(A){var I=t(A);if(typeof I!="string"&&(i.isEncoding===e||!e(A)))throw new Error("Unknown encoding: "+A);return I||A}Ih.StringDecoder=a;function a(A){this.encoding=r(A);var I;switch(this.encoding){case"utf16le":this.text=g,this.end=b,I=4;break;case"utf8":this.fillLast=u,I=4;break;case"base64":this.text=M,this.end=_,I=3;break;default:this.write=D,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(I)}a.prototype.write=function(A){if(A.length===0)return"";var I,N;if(this.lastNeed){if(I=this.fillLast(A),I===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<A.length?I?I+this.text(A,N):this.text(A,N):I||""},a.prototype.end=f,a.prototype.text=h,a.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function n(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function s(A,I,N){var $=I.length-1;if($<N)return 0;var V=n(I[$]);return V>=0?(V>0&&(A.lastNeed=V-1),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(A.lastNeed=V-2),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(V===2?V=0:A.lastNeed=V-3),V):0))}function c(A,I,N){if((I[0]&192)!==128)return A.lastNeed=0,"�";if(A.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return A.lastNeed=1,"�";if(A.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return A.lastNeed=2,"�"}}function u(A){var I=this.lastTotal-this.lastNeed,N=c(this,A);if(N!==void 0)return N;if(this.lastNeed<=A.length)return A.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,I,0,A.length),this.lastNeed-=A.length}function h(A,I){var N=s(this,A,I);if(!this.lastNeed)return A.toString("utf8",I);this.lastTotal=N;var $=A.length-(N-this.lastNeed);return A.copy(this.lastChar,0,$),A.toString("utf8",I,$)}function f(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+"�":I}function g(A,I){if((A.length-I)%2===0){var N=A.toString("utf16le",I);if(N){var $=N.charCodeAt(N.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",I,A.length-1)}function b(A){var I=A&&A.length?this.write(A):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,N)}return I}function M(A,I){var N=(A.length-I)%3;return N===0?A.toString("base64",I):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",I,A.length-N))}function _(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function D(A){return A.toString(this.encoding)}function R(A){return A&&A.length?this.write(A):""}return Ih}var Dh,cm;function fg(){if(cm)return Dh;cm=1;var i=is().codes.ERR_STREAM_PREMATURE_CLOSE;function e(n){var s=!1;return function(){if(!s){s=!0;for(var c=arguments.length,u=new Array(c),h=0;h<c;h++)u[h]=arguments[h];n.apply(this,u)}}}function t(){}function r(n){return n.setHeader&&typeof n.abort=="function"}function a(n,s,c){if(typeof s=="function")return a(n,null,s);s||(s={}),c=e(c||t);var u=s.readable||s.readable!==!1&&n.readable,h=s.writable||s.writable!==!1&&n.writable,f=function(){n.writable||b()},g=n._writableState&&n._writableState.finished,b=function(){h=!1,g=!0,u||c.call(n)},M=n._readableState&&n._readableState.endEmitted,_=function(){u=!1,M=!0,h||c.call(n)},D=function(N){c.call(n,N)},R=function(){var N;if(u&&!M)return(!n._readableState||!n._readableState.ended)&&(N=new i),c.call(n,N);if(h&&!g)return(!n._writableState||!n._writableState.ended)&&(N=new i),c.call(n,N)},A=function(){n.req.on("finish",b)};return r(n)?(n.on("complete",b),n.on("abort",R),n.req?A():n.on("request",A)):h&&!n._writableState&&(n.on("end",f),n.on("close",f)),n.on("end",_),n.on("finish",b),s.error!==!1&&n.on("error",D),n.on("close",R),function(){n.removeListener("complete",b),n.removeListener("abort",R),n.removeListener("request",A),n.req&&n.req.removeListener("finish",b),n.removeListener("end",f),n.removeListener("close",f),n.removeListener("finish",b),n.removeListener("end",_),n.removeListener("error",D),n.removeListener("close",R)}}return Dh=a,Dh}var Rh,fm;function t4(){if(fm)return Rh;fm=1;var i;function e(N,$,V){return $=t($),$ in N?Object.defineProperty(N,$,{value:V,enumerable:!0,configurable:!0,writable:!0}):N[$]=V,N}function t(N){var $=r(N,"string");return typeof $=="symbol"?$:String($)}function r(N,$){if(typeof N!="object"||N===null)return N;var V=N[Symbol.toPrimitive];if(V!==void 0){var U=V.call(N,$);if(typeof U!="object")return U;throw new TypeError("@@toPrimitive must return a primitive value.")}return($==="string"?String:Number)(N)}var a=fg(),n=Symbol("lastResolve"),s=Symbol("lastReject"),c=Symbol("error"),u=Symbol("ended"),h=Symbol("lastPromise"),f=Symbol("handlePromise"),g=Symbol("stream");function b(N,$){return{value:N,done:$}}function M(N){var $=N[n];if($!==null){var V=N[g].read();V!==null&&(N[h]=null,N[n]=null,N[s]=null,$(b(V,!1)))}}function _(N){Bt.nextTick(M,N)}function D(N,$){return function(V,U){N.then(function(){if($[u]){V(b(void 0,!0));return}$[f](V,U)},U)}}var R=Object.getPrototypeOf(function(){}),A=Object.setPrototypeOf((i={get stream(){return this[g]},next:function(){var $=this,V=this[c];if(V!==null)return Promise.reject(V);if(this[u])return Promise.resolve(b(void 0,!0));if(this[g].destroyed)return new Promise(function(oe,G){Bt.nextTick(function(){$[c]?G($[c]):oe(b(void 0,!0))})});var U=this[h],J;if(U)J=new Promise(D(U,this));else{var Y=this[g].read();if(Y!==null)return Promise.resolve(b(Y,!1));J=new Promise(this[f])}return this[h]=J,J}},e(i,Symbol.asyncIterator,function(){return this}),e(i,"return",function(){var $=this;return new Promise(function(V,U){$[g].destroy(null,function(J){if(J){U(J);return}V(b(void 0,!0))})})}),i),R),I=function($){var V,U=Object.create(A,(V={},e(V,g,{value:$,writable:!0}),e(V,n,{value:null,writable:!0}),e(V,s,{value:null,writable:!0}),e(V,c,{value:null,writable:!0}),e(V,u,{value:$._readableState.endEmitted,writable:!0}),e(V,f,{value:function(Y,oe){var G=U[g].read();G?(U[h]=null,U[n]=null,U[s]=null,Y(b(G,!1))):(U[n]=Y,U[s]=oe)},writable:!0}),V));return U[h]=null,a($,function(J){if(J&&J.code!=="ERR_STREAM_PREMATURE_CLOSE"){var Y=U[s];Y!==null&&(U[h]=null,U[n]=null,U[s]=null,Y(J)),U[c]=J;return}var oe=U[n];oe!==null&&(U[h]=null,U[n]=null,U[s]=null,oe(b(void 0,!0))),U[u]=!0}),$.on("readable",_.bind(null,U)),U};return Rh=I,Rh}var Th,hm;function r4(){return hm||(hm=1,Th=function(){throw new Error("Readable.from is not available in the browser")}),Th}var Bh,um;function ib(){if(um)return Bh;um=1,Bh=oe;var i;oe.ReadableState=Y,ka().EventEmitter;var e=function(O,se){return O.listeners(se).length},t=eb(),r=Ar().Buffer,a=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function n(P){return r.from(P)}function s(P){return r.isBuffer(P)||P instanceof a}var c=Ia,u;c&&c.debuglog?u=c.debuglog("stream"):u=function(){};var h=e4(),f=tb(),g=rb(),b=g.getHighWaterMark,M=is().codes,_=M.ERR_INVALID_ARG_TYPE,D=M.ERR_STREAM_PUSH_AFTER_EOF,R=M.ERR_METHOD_NOT_IMPLEMENTED,A=M.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,I,N,$;Ut()(oe,t);var V=f.errorOrDestroy,U=["error","close","destroy","pause","resume"];function J(P,O,se){if(typeof P.prependListener=="function")return P.prependListener(O,se);!P._events||!P._events[O]?P.on(O,se):Array.isArray(P._events[O])?P._events[O].unshift(se):P._events[O]=[se,P._events[O]]}function Y(P,O,se){i=i||ja(),P=P||{},typeof se!="boolean"&&(se=O instanceof i),this.objectMode=!!P.objectMode,se&&(this.objectMode=this.objectMode||!!P.readableObjectMode),this.highWaterMark=b(this,P,"readableHighWaterMark",se),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=P.emitClose!==!1,this.autoDestroy=!!P.autoDestroy,this.destroyed=!1,this.defaultEncoding=P.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,P.encoding&&(I||(I=q0().StringDecoder),this.decoder=new I(P.encoding),this.encoding=P.encoding)}function oe(P){if(i=i||ja(),!(this instanceof oe))return new oe(P);var O=this instanceof i;this._readableState=new Y(P,this,O),this.readable=!0,P&&(typeof P.read=="function"&&(this._read=P.read),typeof P.destroy=="function"&&(this._destroy=P.destroy)),t.call(this)}Object.defineProperty(oe.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(O){this._readableState&&(this._readableState.destroyed=O)}}),oe.prototype.destroy=f.destroy,oe.prototype._undestroy=f.undestroy,oe.prototype._destroy=function(P,O){O(P)},oe.prototype.push=function(P,O){var se=this._readableState,le;return se.objectMode?le=!0:typeof P=="string"&&(O=O||se.defaultEncoding,O!==se.encoding&&(P=r.from(P,O),O=""),le=!0),G(this,P,O,!1,le)},oe.prototype.unshift=function(P){return G(this,P,null,!0,!1)};function G(P,O,se,le,ge){u("readableAddChunk",O);var Ee=P._readableState;if(O===null)Ee.reading=!1,S(P,Ee);else{var me;if(ge||(me=d(Ee,O)),me)V(P,me);else if(Ee.objectMode||O&&O.length>0)if(typeof O!="string"&&!Ee.objectMode&&Object.getPrototypeOf(O)!==r.prototype&&(O=n(O)),le)Ee.endEmitted?V(P,new A):E(P,Ee,O,!0);else if(Ee.ended)V(P,new D);else{if(Ee.destroyed)return!1;Ee.reading=!1,Ee.decoder&&!se?(O=Ee.decoder.write(O),Ee.objectMode||O.length!==0?E(P,Ee,O,!1):m(P,Ee)):E(P,Ee,O,!1)}else le||(Ee.reading=!1,m(P,Ee))}return!Ee.ended&&(Ee.length<Ee.highWaterMark||Ee.length===0)}function E(P,O,se,le){O.flowing&&O.length===0&&!O.sync?(O.awaitDrain=0,P.emit("data",se)):(O.length+=O.objectMode?1:se.length,le?O.buffer.unshift(se):O.buffer.push(se),O.needReadable&&x(P)),m(P,O)}function d(P,O){var se;return!s(O)&&typeof O!="string"&&O!==void 0&&!P.objectMode&&(se=new _("chunk",["string","Buffer","Uint8Array"],O)),se}oe.prototype.isPaused=function(){return this._readableState.flowing===!1},oe.prototype.setEncoding=function(P){I||(I=q0().StringDecoder);var O=new I(P);this._readableState.decoder=O,this._readableState.encoding=this._readableState.decoder.encoding;for(var se=this._readableState.buffer.head,le="";se!==null;)le+=O.write(se.data),se=se.next;return this._readableState.buffer.clear(),le!==""&&this._readableState.buffer.push(le),this._readableState.length=le.length,this};var p=1073741824;function o(P){return P>=p?P=p:(P--,P|=P>>>1,P|=P>>>2,P|=P>>>4,P|=P>>>8,P|=P>>>16,P++),P}function l(P,O){return P<=0||O.length===0&&O.ended?0:O.objectMode?1:P!==P?O.flowing&&O.length?O.buffer.head.data.length:O.length:(P>O.highWaterMark&&(O.highWaterMark=o(P)),P<=O.length?P:O.ended?O.length:(O.needReadable=!0,0))}oe.prototype.read=function(P){u("read",P),P=parseInt(P,10);var O=this._readableState,se=P;if(P!==0&&(O.emittedReadable=!1),P===0&&O.needReadable&&((O.highWaterMark!==0?O.length>=O.highWaterMark:O.length>0)||O.ended))return u("read: emitReadable",O.length,O.ended),O.length===0&&O.ended?B(this):x(this),null;if(P=l(P,O),P===0&&O.ended)return O.length===0&&B(this),null;var le=O.needReadable;u("need readable",le),(O.length===0||O.length-P<O.highWaterMark)&&(le=!0,u("length less than watermark",le)),O.ended||O.reading?(le=!1,u("reading or ended",le)):le&&(u("do read"),O.reading=!0,O.sync=!0,O.length===0&&(O.needReadable=!0),this._read(O.highWaterMark),O.sync=!1,O.reading||(P=l(se,O)));var ge;return P>0?ge=C(P,O):ge=null,ge===null?(O.needReadable=O.length<=O.highWaterMark,P=0):(O.length-=P,O.awaitDrain=0),O.length===0&&(O.ended||(O.needReadable=!0),se!==P&&O.ended&&B(this)),ge!==null&&this.emit("data",ge),ge};function S(P,O){if(u("onEofChunk"),!O.ended){if(O.decoder){var se=O.decoder.end();se&&se.length&&(O.buffer.push(se),O.length+=O.objectMode?1:se.length)}O.ended=!0,O.sync?x(P):(O.needReadable=!1,O.emittedReadable||(O.emittedReadable=!0,v(P)))}}function x(P){var O=P._readableState;u("emitReadable",O.needReadable,O.emittedReadable),O.needReadable=!1,O.emittedReadable||(u("emitReadable",O.flowing),O.emittedReadable=!0,Bt.nextTick(v,P))}function v(P){var O=P._readableState;u("emitReadable_",O.destroyed,O.length,O.ended),!O.destroyed&&(O.length||O.ended)&&(P.emit("readable"),O.emittedReadable=!1),O.needReadable=!O.flowing&&!O.ended&&O.length<=O.highWaterMark,ce(P)}function m(P,O){O.readingMore||(O.readingMore=!0,Bt.nextTick(y,P,O))}function y(P,O){for(;!O.reading&&!O.ended&&(O.length<O.highWaterMark||O.flowing&&O.length===0);){var se=O.length;if(u("maybeReadMore read 0"),P.read(0),se===O.length)break}O.readingMore=!1}oe.prototype._read=function(P){V(this,new R("_read()"))},oe.prototype.pipe=function(P,O){var se=this,le=this._readableState;switch(le.pipesCount){case 0:le.pipes=P;break;case 1:le.pipes=[le.pipes,P];break;default:le.pipes.push(P);break}le.pipesCount+=1,u("pipe count=%d opts=%j",le.pipesCount,O);var ge=(!O||O.end!==!1)&&P!==Bt.stdout&&P!==Bt.stderr,Ee=ge?ye:Xe;le.endEmitted?Bt.nextTick(Ee):se.once("end",Ee),P.on("unpipe",me);function me(qe,ct){u("onunpipe"),qe===se&&ct&&ct.hasUnpiped===!1&&(ct.hasUnpiped=!0,Me())}function ye(){u("onend"),P.end()}var Te=k(se);P.on("drain",Te);var we=!1;function Me(){u("cleanup"),P.removeListener("close",Oe),P.removeListener("finish",Ye),P.removeListener("drain",Te),P.removeListener("error",Re),P.removeListener("unpipe",me),se.removeListener("end",ye),se.removeListener("end",Xe),se.removeListener("data",Ne),we=!0,le.awaitDrain&&(!P._writableState||P._writableState.needDrain)&&Te()}se.on("data",Ne);function Ne(qe){u("ondata");var ct=P.write(qe);u("dest.write",ct),ct===!1&&((le.pipesCount===1&&le.pipes===P||le.pipesCount>1&&z(le.pipes,P)!==-1)&&!we&&(u("false write response, pause",le.awaitDrain),le.awaitDrain++),se.pause())}function Re(qe){u("onerror",qe),Xe(),P.removeListener("error",Re),e(P,"error")===0&&V(P,qe)}J(P,"error",Re);function Oe(){P.removeListener("finish",Ye),Xe()}P.once("close",Oe);function Ye(){u("onfinish"),P.removeListener("close",Oe),Xe()}P.once("finish",Ye);function Xe(){u("unpipe"),se.unpipe(P)}return P.emit("pipe",se),le.flowing||(u("pipe resume"),se.resume()),P};function k(P){return function(){var se=P._readableState;u("pipeOnDrain",se.awaitDrain),se.awaitDrain&&se.awaitDrain--,se.awaitDrain===0&&e(P,"data")&&(se.flowing=!0,ce(P))}}oe.prototype.unpipe=function(P){var O=this._readableState,se={hasUnpiped:!1};if(O.pipesCount===0)return this;if(O.pipesCount===1)return P&&P!==O.pipes?this:(P||(P=O.pipes),O.pipes=null,O.pipesCount=0,O.flowing=!1,P&&P.emit("unpipe",this,se),this);if(!P){var le=O.pipes,ge=O.pipesCount;O.pipes=null,O.pipesCount=0,O.flowing=!1;for(var Ee=0;Ee<ge;Ee++)le[Ee].emit("unpipe",this,{hasUnpiped:!1});return this}var me=z(O.pipes,P);return me===-1?this:(O.pipes.splice(me,1),O.pipesCount-=1,O.pipesCount===1&&(O.pipes=O.pipes[0]),P.emit("unpipe",this,se),this)},oe.prototype.on=function(P,O){var se=t.prototype.on.call(this,P,O),le=this._readableState;return P==="data"?(le.readableListening=this.listenerCount("readable")>0,le.flowing!==!1&&this.resume()):P==="readable"&&!le.endEmitted&&!le.readableListening&&(le.readableListening=le.needReadable=!0,le.flowing=!1,le.emittedReadable=!1,u("on readable",le.length,le.reading),le.length?x(this):le.reading||Bt.nextTick(T,this)),se},oe.prototype.addListener=oe.prototype.on,oe.prototype.removeListener=function(P,O){var se=t.prototype.removeListener.call(this,P,O);return P==="readable"&&Bt.nextTick(w,this),se},oe.prototype.removeAllListeners=function(P){var O=t.prototype.removeAllListeners.apply(this,arguments);return(P==="readable"||P===void 0)&&Bt.nextTick(w,this),O};function w(P){var O=P._readableState;O.readableListening=P.listenerCount("readable")>0,O.resumeScheduled&&!O.paused?O.flowing=!0:P.listenerCount("data")>0&&P.resume()}function T(P){u("readable nexttick read 0"),P.read(0)}oe.prototype.resume=function(){var P=this._readableState;return P.flowing||(u("resume"),P.flowing=!P.readableListening,ie(this,P)),P.paused=!1,this};function ie(P,O){O.resumeScheduled||(O.resumeScheduled=!0,Bt.nextTick(ve,P,O))}function ve(P,O){u("resume",O.reading),O.reading||P.read(0),O.resumeScheduled=!1,P.emit("resume"),ce(P),O.flowing&&!O.reading&&P.read(0)}oe.prototype.pause=function(){return u("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(u("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ce(P){var O=P._readableState;for(u("flow",O.flowing);O.flowing&&P.read()!==null;);}oe.prototype.wrap=function(P){var O=this,se=this._readableState,le=!1;P.on("end",function(){if(u("wrapped end"),se.decoder&&!se.ended){var me=se.decoder.end();me&&me.length&&O.push(me)}O.push(null)}),P.on("data",function(me){if(u("wrapped data"),se.decoder&&(me=se.decoder.write(me)),!(se.objectMode&&me==null)&&!(!se.objectMode&&(!me||!me.length))){var ye=O.push(me);ye||(le=!0,P.pause())}});for(var ge in P)this[ge]===void 0&&typeof P[ge]=="function"&&(this[ge]=(function(ye){return function(){return P[ye].apply(P,arguments)}})(ge));for(var Ee=0;Ee<U.length;Ee++)P.on(U[Ee],this.emit.bind(this,U[Ee]));return this._read=function(me){u("wrapped _read",me),le&&(le=!1,P.resume())},this},typeof Symbol=="function"&&(oe.prototype[Symbol.asyncIterator]=function(){return N===void 0&&(N=t4()),N(this)}),Object.defineProperty(oe.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(oe.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(oe.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(O){this._readableState&&(this._readableState.flowing=O)}}),oe._fromList=C,Object.defineProperty(oe.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function C(P,O){if(O.length===0)return null;var se;return O.objectMode?se=O.buffer.shift():!P||P>=O.length?(O.decoder?se=O.buffer.join(""):O.buffer.length===1?se=O.buffer.first():se=O.buffer.concat(O.length),O.buffer.clear()):se=O.buffer.consume(P,O.decoder),se}function B(P){var O=P._readableState;u("endReadable",O.endEmitted),O.endEmitted||(O.ended=!0,Bt.nextTick(ee,O,P))}function ee(P,O){if(u("endReadableNT",P.endEmitted,P.length),!P.endEmitted&&P.length===0&&(P.endEmitted=!0,O.readable=!1,O.emit("end"),P.autoDestroy)){var se=O._writableState;(!se||se.autoDestroy&&se.finished)&&O.destroy()}}typeof Symbol=="function"&&(oe.from=function(P,O){return $===void 0&&($=r4()),$(oe,P,O)});function z(P,O){for(var se=0,le=P.length;se<le;se++)if(P[se]===O)return se;return-1}return Bh}var Fh,lm;function ab(){if(lm)return Fh;lm=1,Fh=c;var i=is().codes,e=i.ERR_METHOD_NOT_IMPLEMENTED,t=i.ERR_MULTIPLE_CALLBACK,r=i.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=i.ERR_TRANSFORM_WITH_LENGTH_0,n=ja();Ut()(c,n);function s(f,g){var b=this._transformState;b.transforming=!1;var M=b.writecb;if(M===null)return this.emit("error",new t);b.writechunk=null,b.writecb=null,g!=null&&this.push(g),M(f);var _=this._readableState;_.reading=!1,(_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}function c(f){if(!(this instanceof c))return new c(f);n.call(this,f),this._transformState={afterTransform:s.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,f&&(typeof f.transform=="function"&&(this._transform=f.transform),typeof f.flush=="function"&&(this._flush=f.flush)),this.on("prefinish",u)}function u(){var f=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(g,b){h(f,g,b)}):h(this,null,null)}c.prototype.push=function(f,g){return this._transformState.needTransform=!1,n.prototype.push.call(this,f,g)},c.prototype._transform=function(f,g,b){b(new e("_transform()"))},c.prototype._write=function(f,g,b){var M=this._transformState;if(M.writecb=b,M.writechunk=f,M.writeencoding=g,!M.transforming){var _=this._readableState;(M.needTransform||_.needReadable||_.length<_.highWaterMark)&&this._read(_.highWaterMark)}},c.prototype._read=function(f){var g=this._transformState;g.writechunk!==null&&!g.transforming?(g.transforming=!0,this._transform(g.writechunk,g.writeencoding,g.afterTransform)):g.needTransform=!0},c.prototype._destroy=function(f,g){n.prototype._destroy.call(this,f,function(b){g(b)})};function h(f,g,b){if(g)return f.emit("error",g);if(b!=null&&f.push(b),f._writableState.length)throw new a;if(f._transformState.transforming)throw new r;return f.push(null)}return Fh}var Ch,dm;function n4(){if(dm)return Ch;dm=1,Ch=e;var i=ab();Ut()(e,i);function e(t){if(!(this instanceof e))return new e(t);i.call(this,t)}return e.prototype._transform=function(t,r,a){a(null,t)},Ch}var Ph,pm;function i4(){if(pm)return Ph;pm=1;var i;function e(b){var M=!1;return function(){M||(M=!0,b.apply(void 0,arguments))}}var t=is().codes,r=t.ERR_MISSING_ARGS,a=t.ERR_STREAM_DESTROYED;function n(b){if(b)throw b}function s(b){return b.setHeader&&typeof b.abort=="function"}function c(b,M,_,D){D=e(D);var R=!1;b.on("close",function(){R=!0}),i===void 0&&(i=fg()),i(b,{readable:M,writable:_},function(I){if(I)return D(I);R=!0,D()});var A=!1;return function(I){if(!R&&!A){if(A=!0,s(b))return b.abort();if(typeof b.destroy=="function")return b.destroy();D(I||new a("pipe"))}}}function u(b){b()}function h(b,M){return b.pipe(M)}function f(b){return!b.length||typeof b[b.length-1]!="function"?n:b.pop()}function g(){for(var b=arguments.length,M=new Array(b),_=0;_<b;_++)M[_]=arguments[_];var D=f(M);if(Array.isArray(M[0])&&(M=M[0]),M.length<2)throw new r("streams");var R,A=M.map(function(I,N){var $=N<M.length-1,V=N>0;return c(I,$,V,function(U){R||(R=U),U&&A.forEach(u),!$&&(A.forEach(u),D(R))})});return M.reduce(h)}return Ph=g,Ph}var Nh,gm;function ob(){if(gm)return Nh;gm=1,Nh=t;var i=ka().EventEmitter,e=Ut();e(t,i),t.Readable=ib(),t.Writable=nb(),t.Duplex=ja(),t.Transform=ab(),t.PassThrough=n4(),t.finished=fg(),t.pipeline=i4(),t.Stream=t;function t(){i.call(this)}return t.prototype.pipe=function(r,a){var n=this;function s(M){r.writable&&r.write(M)===!1&&n.pause&&n.pause()}n.on("data",s);function c(){n.readable&&n.resume&&n.resume()}r.on("drain",c),!r._isStdio&&(!a||a.end!==!1)&&(n.on("end",h),n.on("close",f));var u=!1;function h(){u||(u=!0,r.end())}function f(){u||(u=!0,typeof r.destroy=="function"&&r.destroy())}function g(M){if(b(),i.listenerCount(this,"error")===0)throw M}n.on("error",g),r.on("error",g);function b(){n.removeListener("data",s),r.removeListener("drain",c),n.removeListener("end",h),n.removeListener("close",f),n.removeListener("error",g),r.removeListener("error",g),n.removeListener("end",b),n.removeListener("close",b),r.removeListener("close",b)}return n.on("end",b),n.on("close",b),r.on("close",b),r.emit("pipe",n),r},Nh}var Oh,mm;function a4(){if(mm)return Oh;mm=1;var i=Wt().Buffer,e=ob().Transform,t=Ut();function r(c){e.call(this),this._block=i.allocUnsafe(c),this._blockSize=c,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}t(r,e),r.prototype._transform=function(c,u,h){var f=null;try{this.update(c,u)}catch(g){f=g}h(f)},r.prototype._flush=function(c){var u=null;try{this.push(this.digest())}catch(h){u=h}c(u)};var a=typeof Uint8Array<"u",n=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"&&ArrayBuffer.isView&&(i.prototype instanceof Uint8Array||i.TYPED_ARRAY_SUPPORT);function s(c,u){if(c instanceof i)return c;if(typeof c=="string")return i.from(c,u);if(n&&ArrayBuffer.isView(c)){if(c.byteLength===0)return i.alloc(0);var h=i.from(c.buffer,c.byteOffset,c.byteLength);if(h.byteLength===c.byteLength)return h}if(a&&c instanceof Uint8Array||i.isBuffer(c)&&c.constructor&&typeof c.constructor.isBuffer=="function"&&c.constructor.isBuffer(c))return i.from(c);throw new TypeError('The "data" argument must be of type string or an instance of Buffer, TypedArray, or DataView.')}return r.prototype.update=function(c,u){if(this._finalized)throw new Error("Digest already called");c=s(c,u);for(var h=this._block,f=0;this._blockOffset+c.length-f>=this._blockSize;){for(var g=this._blockOffset;g<this._blockSize;)h[g++]=c[f++];this._update(),this._blockOffset=0}for(;f<c.length;)h[this._blockOffset++]=c[f++];for(var b=0,M=c.length*8;M>0;++b)this._length[b]+=M,M=this._length[b]/4294967296|0,M>0&&(this._length[b]-=4294967296*M);return this},r.prototype._update=function(){throw new Error("_update is not implemented")},r.prototype.digest=function(c){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var u=this._digest();c!==void 0&&(u=u.toString(c)),this._block.fill(0),this._blockOffset=0;for(var h=0;h<4;++h)this._length[h]=0;return u},r.prototype._digest=function(){throw new Error("_digest is not implemented")},Oh=r,Oh}var Lh,vm;function hg(){if(vm)return Lh;vm=1;var i=Ut(),e=a4(),t=Wt().Buffer,r=new Array(16);function a(){e.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}i(a,e),a.prototype._update=function(){for(var f=r,g=0;g<16;++g)f[g]=this._block.readInt32LE(g*4);var b=this._a,M=this._b,_=this._c,D=this._d;b=s(b,M,_,D,f[0],3614090360,7),D=s(D,b,M,_,f[1],3905402710,12),_=s(_,D,b,M,f[2],606105819,17),M=s(M,_,D,b,f[3],3250441966,22),b=s(b,M,_,D,f[4],4118548399,7),D=s(D,b,M,_,f[5],1200080426,12),_=s(_,D,b,M,f[6],2821735955,17),M=s(M,_,D,b,f[7],4249261313,22),b=s(b,M,_,D,f[8],1770035416,7),D=s(D,b,M,_,f[9],2336552879,12),_=s(_,D,b,M,f[10],4294925233,17),M=s(M,_,D,b,f[11],2304563134,22),b=s(b,M,_,D,f[12],1804603682,7),D=s(D,b,M,_,f[13],4254626195,12),_=s(_,D,b,M,f[14],2792965006,17),M=s(M,_,D,b,f[15],1236535329,22),b=c(b,M,_,D,f[1],4129170786,5),D=c(D,b,M,_,f[6],3225465664,9),_=c(_,D,b,M,f[11],643717713,14),M=c(M,_,D,b,f[0],3921069994,20),b=c(b,M,_,D,f[5],3593408605,5),D=c(D,b,M,_,f[10],38016083,9),_=c(_,D,b,M,f[15],3634488961,14),M=c(M,_,D,b,f[4],3889429448,20),b=c(b,M,_,D,f[9],568446438,5),D=c(D,b,M,_,f[14],3275163606,9),_=c(_,D,b,M,f[3],4107603335,14),M=c(M,_,D,b,f[8],1163531501,20),b=c(b,M,_,D,f[13],2850285829,5),D=c(D,b,M,_,f[2],4243563512,9),_=c(_,D,b,M,f[7],1735328473,14),M=c(M,_,D,b,f[12],2368359562,20),b=u(b,M,_,D,f[5],4294588738,4),D=u(D,b,M,_,f[8],2272392833,11),_=u(_,D,b,M,f[11],1839030562,16),M=u(M,_,D,b,f[14],4259657740,23),b=u(b,M,_,D,f[1],2763975236,4),D=u(D,b,M,_,f[4],1272893353,11),_=u(_,D,b,M,f[7],4139469664,16),M=u(M,_,D,b,f[10],3200236656,23),b=u(b,M,_,D,f[13],681279174,4),D=u(D,b,M,_,f[0],3936430074,11),_=u(_,D,b,M,f[3],3572445317,16),M=u(M,_,D,b,f[6],76029189,23),b=u(b,M,_,D,f[9],3654602809,4),D=u(D,b,M,_,f[12],3873151461,11),_=u(_,D,b,M,f[15],530742520,16),M=u(M,_,D,b,f[2],3299628645,23),b=h(b,M,_,D,f[0],4096336452,6),D=h(D,b,M,_,f[7],1126891415,10),_=h(_,D,b,M,f[14],2878612391,15),M=h(M,_,D,b,f[5],4237533241,21),b=h(b,M,_,D,f[12],1700485571,6),D=h(D,b,M,_,f[3],2399980690,10),_=h(_,D,b,M,f[10],4293915773,15),M=h(M,_,D,b,f[1],2240044497,21),b=h(b,M,_,D,f[8],1873313359,6),D=h(D,b,M,_,f[15],4264355552,10),_=h(_,D,b,M,f[6],2734768916,15),M=h(M,_,D,b,f[13],1309151649,21),b=h(b,M,_,D,f[4],4149444226,6),D=h(D,b,M,_,f[11],3174756917,10),_=h(_,D,b,M,f[2],718787259,15),M=h(M,_,D,b,f[9],3951481745,21),this._a=this._a+b|0,this._b=this._b+M|0,this._c=this._c+_|0,this._d=this._d+D|0},a.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var f=t.allocUnsafe(16);return f.writeInt32LE(this._a,0),f.writeInt32LE(this._b,4),f.writeInt32LE(this._c,8),f.writeInt32LE(this._d,12),f};function n(f,g){return f<<g|f>>>32-g}function s(f,g,b,M,_,D,R){return n(f+(g&b|~g&M)+_+D|0,R)+g|0}function c(f,g,b,M,_,D,R){return n(f+(g&M|b&~M)+_+D|0,R)+g|0}function u(f,g,b,M,_,D,R){return n(f+(g^b^M)+_+D|0,R)+g|0}function h(f,g,b,M,_,D,R){return n(f+(b^(g|~M))+_+D|0,R)+g|0}return Lh=a,Lh}var Uh,ym;function o4(){if(ym)return Uh;ym=1;var i={}.toString;return Uh=Array.isArray||function(e){return i.call(e)=="[object Array]"},Uh}var $h,wm;function vc(){return wm||(wm=1,$h=TypeError),$h}var qh,bm;function sb(){return bm||(bm=1,qh=Object),qh}var Vh,xm;function s4(){return xm||(xm=1,Vh=Error),Vh}var zh,Sm;function c4(){return Sm||(Sm=1,zh=EvalError),zh}var jh,Em;function f4(){return Em||(Em=1,jh=RangeError),jh}var Wh,Mm;function h4(){return Mm||(Mm=1,Wh=ReferenceError),Wh}var Hh,_m;function cb(){return _m||(_m=1,Hh=SyntaxError),Hh}var Gh,Am;function u4(){return Am||(Am=1,Gh=URIError),Gh}var Kh,km;function l4(){return km||(km=1,Kh=Math.abs),Kh}var Jh,Im;function d4(){return Im||(Im=1,Jh=Math.floor),Jh}var Yh,Dm;function p4(){return Dm||(Dm=1,Yh=Math.max),Yh}var Xh,Rm;function g4(){return Rm||(Rm=1,Xh=Math.min),Xh}var Zh,Tm;function m4(){return Tm||(Tm=1,Zh=Math.pow),Zh}var Qh,Bm;function v4(){return Bm||(Bm=1,Qh=Math.round),Qh}var eu,Fm;function y4(){return Fm||(Fm=1,eu=Number.isNaN||function(e){return e!==e}),eu}var tu,Cm;function w4(){if(Cm)return tu;Cm=1;var i=y4();return tu=function(t){return i(t)||t===0?t:t<0?-1:1},tu}var ru,Pm;function b4(){return Pm||(Pm=1,ru=Object.getOwnPropertyDescriptor),ru}var nu,Nm;function yc(){if(Nm)return nu;Nm=1;var i=b4();if(i)try{i([],"length")}catch{i=null}return nu=i,nu}var iu,Om;function Lf(){if(Om)return iu;Om=1;var i=Object.defineProperty||!1;if(i)try{i({},"a",{value:1})}catch{i=!1}return iu=i,iu}var au,Lm;function fb(){return Lm||(Lm=1,au=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},t=Symbol("test"),r=Object(t);if(typeof t=="string"||Object.prototype.toString.call(t)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var a=42;e[t]=a;for(var n in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var s=Object.getOwnPropertySymbols(e);if(s.length!==1||s[0]!==t||!Object.prototype.propertyIsEnumerable.call(e,t))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,t);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),au}var ou,Um;function x4(){if(Um)return ou;Um=1;var i=typeof Symbol<"u"&&Symbol,e=fb();return ou=function(){return typeof i!="function"||typeof Symbol!="function"||typeof i("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},ou}var su,$m;function hb(){return $m||($m=1,su=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),su}var cu,qm;function ub(){if(qm)return cu;qm=1;var i=sb();return cu=i.getPrototypeOf||null,cu}var fu,Vm;function S4(){if(Vm)return fu;Vm=1;var i="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,t=Math.max,r="[object Function]",a=function(u,h){for(var f=[],g=0;g<u.length;g+=1)f[g]=u[g];for(var b=0;b<h.length;b+=1)f[b+u.length]=h[b];return f},n=function(u,h){for(var f=[],g=h,b=0;g<u.length;g+=1,b+=1)f[b]=u[g];return f},s=function(c,u){for(var h="",f=0;f<c.length;f+=1)h+=c[f],f+1<c.length&&(h+=u);return h};return fu=function(u){var h=this;if(typeof h!="function"||e.apply(h)!==r)throw new TypeError(i+h);for(var f=n(arguments,1),g,b=function(){if(this instanceof g){var A=h.apply(this,a(f,arguments));return Object(A)===A?A:this}return h.apply(u,a(f,arguments))},M=t(0,h.length-f.length),_=[],D=0;D<M;D++)_[D]="$"+D;if(g=Function("binder","return function ("+s(_,",")+"){ return binder.apply(this,arguments); }")(b),h.prototype){var R=function(){};R.prototype=h.prototype,g.prototype=new R,R.prototype=null}return g},fu}var hu,zm;function wc(){if(zm)return hu;zm=1;var i=S4();return hu=Function.prototype.bind||i,hu}var uu,jm;function ug(){return jm||(jm=1,uu=Function.prototype.call),uu}var lu,Wm;function lg(){return Wm||(Wm=1,lu=Function.prototype.apply),lu}var du,Hm;function E4(){return Hm||(Hm=1,du=typeof Reflect<"u"&&Reflect&&Reflect.apply),du}var pu,Gm;function lb(){if(Gm)return pu;Gm=1;var i=wc(),e=lg(),t=ug(),r=E4();return pu=r||i.call(t,e),pu}var gu,Km;function dg(){if(Km)return gu;Km=1;var i=wc(),e=vc(),t=ug(),r=lb();return gu=function(n){if(n.length<1||typeof n[0]!="function")throw new e("a function is required");return r(i,t,n)},gu}var mu,Jm;function M4(){if(Jm)return mu;Jm=1;var i=dg(),e=yc(),t;try{t=[].__proto__===Array.prototype}catch(s){if(!s||typeof s!="object"||!("code"in s)||s.code!=="ERR_PROTO_ACCESS")throw s}var r=!!t&&e&&e(Object.prototype,"__proto__"),a=Object,n=a.getPrototypeOf;return mu=r&&typeof r.get=="function"?i([r.get]):typeof n=="function"?function(c){return n(c==null?c:a(c))}:!1,mu}var vu,Ym;function db(){if(Ym)return vu;Ym=1;var i=hb(),e=ub(),t=M4();return vu=i?function(a){return i(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:t?function(a){return t(a)}:null,vu}var yu,Xm;function _4(){if(Xm)return yu;Xm=1;var i=Function.prototype.call,e=Object.prototype.hasOwnProperty,t=wc();return yu=t.call(i,e),yu}var wu,Zm;function pb(){if(Zm)return wu;Zm=1;var i,e=sb(),t=s4(),r=c4(),a=f4(),n=h4(),s=cb(),c=vc(),u=u4(),h=l4(),f=d4(),g=p4(),b=g4(),M=m4(),_=v4(),D=w4(),R=Function,A=function(ee){try{return R('"use strict"; return ('+ee+").constructor;")()}catch{}},I=yc(),N=Lf(),$=function(){throw new c},V=I?(function(){try{return arguments.callee,$}catch{try{return I(arguments,"callee").get}catch{return $}}})():$,U=x4()(),J=db(),Y=ub(),oe=hb(),G=lg(),E=ug(),d={},p=typeof Uint8Array>"u"||!J?i:J(Uint8Array),o={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?i:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?i:ArrayBuffer,"%ArrayIteratorPrototype%":U&&J?J([][Symbol.iterator]()):i,"%AsyncFromSyncIteratorPrototype%":i,"%AsyncFunction%":d,"%AsyncGenerator%":d,"%AsyncGeneratorFunction%":d,"%AsyncIteratorPrototype%":d,"%Atomics%":typeof Atomics>"u"?i:Atomics,"%BigInt%":typeof BigInt>"u"?i:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?i:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?i:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?i:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":t,"%eval%":eval,"%EvalError%":r,"%Float16Array%":typeof Float16Array>"u"?i:Float16Array,"%Float32Array%":typeof Float32Array>"u"?i:Float32Array,"%Float64Array%":typeof Float64Array>"u"?i:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?i:FinalizationRegistry,"%Function%":R,"%GeneratorFunction%":d,"%Int8Array%":typeof Int8Array>"u"?i:Int8Array,"%Int16Array%":typeof Int16Array>"u"?i:Int16Array,"%Int32Array%":typeof Int32Array>"u"?i:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":U&&J?J(J([][Symbol.iterator]())):i,"%JSON%":typeof JSON=="object"?JSON:i,"%Map%":typeof Map>"u"?i:Map,"%MapIteratorPrototype%":typeof Map>"u"||!U||!J?i:J(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":I,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?i:Promise,"%Proxy%":typeof Proxy>"u"?i:Proxy,"%RangeError%":a,"%ReferenceError%":n,"%Reflect%":typeof Reflect>"u"?i:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?i:Set,"%SetIteratorPrototype%":typeof Set>"u"||!U||!J?i:J(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?i:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":U&&J?J(""[Symbol.iterator]()):i,"%Symbol%":U?Symbol:i,"%SyntaxError%":s,"%ThrowTypeError%":V,"%TypedArray%":p,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?i:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?i:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?i:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?i:Uint32Array,"%URIError%":u,"%WeakMap%":typeof WeakMap>"u"?i:WeakMap,"%WeakRef%":typeof WeakRef>"u"?i:WeakRef,"%WeakSet%":typeof WeakSet>"u"?i:WeakSet,"%Function.prototype.call%":E,"%Function.prototype.apply%":G,"%Object.defineProperty%":N,"%Object.getPrototypeOf%":Y,"%Math.abs%":h,"%Math.floor%":f,"%Math.max%":g,"%Math.min%":b,"%Math.pow%":M,"%Math.round%":_,"%Math.sign%":D,"%Reflect.getPrototypeOf%":oe};if(J)try{null.error}catch(ee){var l=J(J(ee));o["%Error.prototype%"]=l}var S=function ee(z){var P;if(z==="%AsyncFunction%")P=A("async function () {}");else if(z==="%GeneratorFunction%")P=A("function* () {}");else if(z==="%AsyncGeneratorFunction%")P=A("async function* () {}");else if(z==="%AsyncGenerator%"){var O=ee("%AsyncGeneratorFunction%");O&&(P=O.prototype)}else if(z==="%AsyncIteratorPrototype%"){var se=ee("%AsyncGenerator%");se&&J&&(P=J(se.prototype))}return o[z]=P,P},x={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},v=wc(),m=_4(),y=v.call(E,Array.prototype.concat),k=v.call(G,Array.prototype.splice),w=v.call(E,String.prototype.replace),T=v.call(E,String.prototype.slice),ie=v.call(E,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ce=/\\(\\)?/g,C=function(z){var P=T(z,0,1),O=T(z,-1);if(P==="%"&&O!=="%")throw new s("invalid intrinsic syntax, expected closing `%`");if(O==="%"&&P!=="%")throw new s("invalid intrinsic syntax, expected opening `%`");var se=[];return w(z,ve,function(le,ge,Ee,me){se[se.length]=Ee?w(me,ce,"$1"):ge||le}),se},B=function(z,P){var O=z,se;if(m(x,O)&&(se=x[O],O="%"+se[0]+"%"),m(o,O)){var le=o[O];if(le===d&&(le=S(O)),typeof le>"u"&&!P)throw new c("intrinsic "+z+" exists, but is not available. Please file an issue!");return{alias:se,name:O,value:le}}throw new s("intrinsic "+z+" does not exist!")};return wu=function(z,P){if(typeof z!="string"||z.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof P!="boolean")throw new c('"allowMissing" argument must be a boolean');if(ie(/^%?[^%]*%?$/,z)===null)throw new s("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var O=C(z),se=O.length>0?O[0]:"",le=B("%"+se+"%",P),ge=le.name,Ee=le.value,me=!1,ye=le.alias;ye&&(se=ye[0],k(O,y([0,1],ye)));for(var Te=1,we=!0;Te<O.length;Te+=1){var Me=O[Te],Ne=T(Me,0,1),Re=T(Me,-1);if((Ne==='"'||Ne==="'"||Ne==="`"||Re==='"'||Re==="'"||Re==="`")&&Ne!==Re)throw new s("property names with quotes must have matching quotes");if((Me==="constructor"||!we)&&(me=!0),se+="."+Me,ge="%"+se+"%",m(o,ge))Ee=o[ge];else if(Ee!=null){if(!(Me in Ee)){if(!P)throw new c("base intrinsic for "+z+" exists, but the property is not available.");return}if(I&&Te+1>=O.length){var Oe=I(Ee,Me);we=!!Oe,we&&"get"in Oe&&!("originalValue"in Oe.get)?Ee=Oe.get:Ee=Ee[Me]}else we=m(Ee,Me),Ee=Ee[Me];we&&!me&&(o[ge]=Ee)}}return Ee},wu}var bu,Qm;function gb(){if(Qm)return bu;Qm=1;var i=pb(),e=dg(),t=e([i("%String.prototype.indexOf%")]);return bu=function(a,n){var s=i(a,!!n);return typeof s=="function"&&t(a,".prototype.")>-1?e([s]):s},bu}var xu,e1;function A4(){if(e1)return xu;e1=1;var i=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,t,r;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{t=Object.defineProperty({},"length",{get:function(){throw r}}),r={},e(function(){throw 42},null,t)}catch(I){I!==r&&(e=null)}else e=null;var a=/^\s*class\b/,n=function(N){try{var $=i.call(N);return a.test($)}catch{return!1}},s=function(N){try{return n(N)?!1:(i.call(N),!0)}catch{return!1}},c=Object.prototype.toString,u="[object Object]",h="[object Function]",f="[object GeneratorFunction]",g="[object HTMLAllCollection]",b="[object HTML document.all class]",M="[object HTMLCollection]",_=typeof Symbol=="function"&&!!Symbol.toStringTag,D=!(0 in[,]),R=function(){return!1};if(typeof document=="object"){var A=document.all;c.call(A)===c.call(document.all)&&(R=function(N){if((D||!N)&&(typeof N>"u"||typeof N=="object"))try{var $=c.call(N);return($===g||$===b||$===M||$===u)&&N("")==null}catch{}return!1})}return xu=e?function(N){if(R(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;try{e(N,null,t)}catch($){if($!==r)return!1}return!n(N)&&s(N)}:function(N){if(R(N))return!0;if(!N||typeof N!="function"&&typeof N!="object")return!1;if(_)return s(N);if(n(N))return!1;var $=c.call(N);return $!==h&&$!==f&&!/^\[object HTML/.test($)?!1:s(N)},xu}var Su,t1;function k4(){if(t1)return Su;t1=1;var i=A4(),e=Object.prototype.toString,t=Object.prototype.hasOwnProperty,r=function(u,h,f){for(var g=0,b=u.length;g<b;g++)t.call(u,g)&&(f==null?h(u[g],g,u):h.call(f,u[g],g,u))},a=function(u,h,f){for(var g=0,b=u.length;g<b;g++)f==null?h(u.charAt(g),g,u):h.call(f,u.charAt(g),g,u)},n=function(u,h,f){for(var g in u)t.call(u,g)&&(f==null?h(u[g],g,u):h.call(f,u[g],g,u))};function s(c){return e.call(c)==="[object Array]"}return Su=function(u,h,f){if(!i(h))throw new TypeError("iterator must be a function");var g;arguments.length>=3&&(g=f),s(u)?r(u,h,g):typeof u=="string"?a(u,h,g):n(u,h,g)},Su}var Eu,r1;function I4(){return r1||(r1=1,Eu=["Float16Array","Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),Eu}var Mu,n1;function D4(){if(n1)return Mu;n1=1;var i=I4(),e=typeof globalThis>"u"?Gt:globalThis;return Mu=function(){for(var r=[],a=0;a<i.length;a++)typeof e[i[a]]=="function"&&(r[r.length]=i[a]);return r},Mu}var _u={exports:{}},Au,i1;function R4(){if(i1)return Au;i1=1;var i=Lf(),e=cb(),t=vc(),r=yc();return Au=function(n,s,c){if(!n||typeof n!="object"&&typeof n!="function")throw new t("`obj` must be an object or a function`");if(typeof s!="string"&&typeof s!="symbol")throw new t("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new t("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new t("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new t("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new t("`loose`, if provided, must be a boolean");var u=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,f=arguments.length>5?arguments[5]:null,g=arguments.length>6?arguments[6]:!1,b=!!r&&r(n,s);if(i)i(n,s,{configurable:f===null&&b?b.configurable:!f,enumerable:u===null&&b?b.enumerable:!u,value:c,writable:h===null&&b?b.writable:!h});else if(g||!u&&!h&&!f)n[s]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Au}var ku,a1;function T4(){if(a1)return ku;a1=1;var i=Lf(),e=function(){return!!i};return e.hasArrayLengthDefineBug=function(){if(!i)return null;try{return i([],"length",{value:1}).length!==1}catch{return!0}},ku=e,ku}var Iu,o1;function B4(){if(o1)return Iu;o1=1;var i=pb(),e=R4(),t=T4()(),r=yc(),a=vc(),n=i("%Math.floor%");return Iu=function(c,u){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof u!="number"||u<0||u>4294967295||n(u)!==u)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],f=!0,g=!0;if("length"in c&&r){var b=r(c,"length");b&&!b.configurable&&(f=!1),b&&!b.writable&&(g=!1)}return(f||g||!h)&&(t?e(c,"length",u,!0,!0):e(c,"length",u)),c},Iu}var Du,s1;function F4(){if(s1)return Du;s1=1;var i=wc(),e=lg(),t=lb();return Du=function(){return t(i,e,arguments)},Du}var c1;function C4(){return c1||(c1=1,(function(i){var e=B4(),t=Lf(),r=dg(),a=F4();i.exports=function(s){var c=r(arguments),u=s.length-(arguments.length-1);return e(c,1+(u>0?u:0),!0)},t?t(i.exports,"apply",{value:a}):i.exports.apply=a})(_u)),_u.exports}var Ru,f1;function P4(){if(f1)return Ru;f1=1;var i=fb();return Ru=function(){return i()&&!!Symbol.toStringTag},Ru}var Tu,h1;function N4(){if(h1)return Tu;h1=1;var i=k4(),e=D4(),t=C4(),r=gb(),a=yc(),n=db(),s=r("Object.prototype.toString"),c=P4()(),u=typeof globalThis>"u"?Gt:globalThis,h=e(),f=r("String.prototype.slice"),g=r("Array.prototype.indexOf",!0)||function(R,A){for(var I=0;I<R.length;I+=1)if(R[I]===A)return I;return-1},b={__proto__:null};c&&a&&n?i(h,function(D){var R=new u[D];if(Symbol.toStringTag in R&&n){var A=n(R),I=a(A,Symbol.toStringTag);if(!I&&A){var N=n(A);I=a(N,Symbol.toStringTag)}b["$"+D]=t(I.get)}}):i(h,function(D){var R=new u[D],A=R.slice||R.set;A&&(b["$"+D]=t(A))});var M=function(R){var A=!1;return i(b,function(I,N){if(!A)try{"$"+I(R)===N&&(A=f(N,1))}catch{}}),A},_=function(R){var A=!1;return i(b,function(I,N){if(!A)try{I(R),A=f(N,1)}catch{}}),A};return Tu=function(R){if(!R||typeof R!="object")return!1;if(!c){var A=f(s(R),8,-1);return g(h,A)>-1?A:A!=="Object"?!1:_(R)}return a?M(R):null},Tu}var Bu,u1;function O4(){if(u1)return Bu;u1=1;var i=N4();return Bu=function(t){return!!i(t)},Bu}var Fu,l1;function L4(){if(l1)return Fu;l1=1;var i=vc(),e=gb(),t=e("TypedArray.prototype.buffer",!0),r=O4();return Fu=t||function(n){if(!r(n))throw new i("Not a Typed Array");return n.buffer},Fu}var Cu,d1;function Uf(){if(d1)return Cu;d1=1;var i=Wt().Buffer,e=o4(),t=L4(),r=ArrayBuffer.isView||function(u){try{return t(u),!0}catch{return!1}},a=typeof Uint8Array<"u",n=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",s=n&&(i.prototype instanceof Uint8Array||i.TYPED_ARRAY_SUPPORT);return Cu=function(u,h){if(i.isBuffer(u))return u.constructor&&!("isBuffer"in u)?i.from(u):u;if(typeof u=="string")return i.from(u,h);if(n&&r(u)){if(u.byteLength===0)return i.alloc(0);if(s){var f=i.from(u.buffer,u.byteOffset,u.byteLength);if(f.byteLength===u.byteLength)return f}var g=u instanceof Uint8Array?u:new Uint8Array(u.buffer,u.byteOffset,u.byteLength),b=i.from(g);if(b.length===u.byteLength)return b}if(a&&u instanceof Uint8Array)return i.from(u);var M=e(u);if(M)for(var _=0;_<u.length;_+=1){var D=u[_];if(typeof D!="number"||D<0||D>255||~~D!==D)throw new RangeError("Array items must be numbers in the range 0-255.")}if(M||i.isBuffer(u)&&u.constructor&&typeof u.constructor.isBuffer=="function"&&u.constructor.isBuffer(u))return i.from(u);throw new TypeError('The "data" argument must be a string, an Array, a Buffer, a Uint8Array, or a DataView.')},Cu}var Pu,p1;function U4(){if(p1)return Pu;p1=1;var i=Wt().Buffer,e=Uf(),t=typeof Uint8Array<"u",r=t&&typeof ArrayBuffer<"u",a=r&&ArrayBuffer.isView;return Pu=function(n,s){if(typeof n=="string"||i.isBuffer(n)||t&&n instanceof Uint8Array||a&&a(n))return e(n,s);throw new TypeError('The "data" argument must be a string, a Buffer, a Uint8Array, or a DataView')},Pu}var Cc={exports:{}},Pc={exports:{}},g1;function xi(){if(g1)return Pc.exports;g1=1,typeof Bt>"u"||!Bt.version||Bt.version.indexOf("v0.")===0||Bt.version.indexOf("v1.")===0&&Bt.version.indexOf("v1.8.")!==0?Pc.exports={nextTick:i}:Pc.exports=Bt;function i(e,t,r,a){if(typeof e!="function")throw new TypeError('"callback" argument must be a function');var n=arguments.length,s,c;switch(n){case 0:case 1:return Bt.nextTick(e);case 2:return Bt.nextTick(function(){e.call(null,t)});case 3:return Bt.nextTick(function(){e.call(null,t,r)});case 4:return Bt.nextTick(function(){e.call(null,t,r,a)});default:for(s=new Array(n-1),c=0;c<s.length;)s[c++]=arguments[c];return Bt.nextTick(function(){e.apply(null,s)})}}return Pc.exports}var Nu,m1;function $4(){if(m1)return Nu;m1=1;var i={}.toString;return Nu=Array.isArray||function(e){return i.call(e)=="[object Array]"},Nu}var Ou,v1;function mb(){return v1||(v1=1,Ou=ka().EventEmitter),Ou}var Nc={exports:{}},y1;function pg(){return y1||(y1=1,(function(i,e){var t=Ar(),r=t.Buffer;function a(s,c){for(var u in s)c[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=t:(a(t,e),e.Buffer=n);function n(s,c,u){return r(s,c,u)}a(r,n),n.from=function(s,c,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,c,u)},n.alloc=function(s,c,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Nc,Nc.exports)),Nc.exports}var xr={},w1;function Rn(){if(w1)return xr;w1=1;function i(D){return Array.isArray?Array.isArray(D):_(D)==="[object Array]"}xr.isArray=i;function e(D){return typeof D=="boolean"}xr.isBoolean=e;function t(D){return D===null}xr.isNull=t;function r(D){return D==null}xr.isNullOrUndefined=r;function a(D){return typeof D=="number"}xr.isNumber=a;function n(D){return typeof D=="string"}xr.isString=n;function s(D){return typeof D=="symbol"}xr.isSymbol=s;function c(D){return D===void 0}xr.isUndefined=c;function u(D){return _(D)==="[object RegExp]"}xr.isRegExp=u;function h(D){return typeof D=="object"&&D!==null}xr.isObject=h;function f(D){return _(D)==="[object Date]"}xr.isDate=f;function g(D){return _(D)==="[object Error]"||D instanceof Error}xr.isError=g;function b(D){return typeof D=="function"}xr.isFunction=b;function M(D){return D===null||typeof D=="boolean"||typeof D=="number"||typeof D=="string"||typeof D=="symbol"||typeof D>"u"}xr.isPrimitive=M,xr.isBuffer=Ar().Buffer.isBuffer;function _(D){return Object.prototype.toString.call(D)}return xr}var Lu={exports:{}},b1;function q4(){return b1||(b1=1,(function(i){function e(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}var t=pg().Buffer,r=Ia;function a(n,s,c){n.copy(s,c)}i.exports=(function(){function n(){e(this,n),this.head=null,this.tail=null,this.length=0}return n.prototype.push=function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},n.prototype.unshift=function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},n.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(c){if(this.length===0)return"";for(var u=this.head,h=""+u.data;u=u.next;)h+=c+u.data;return h},n.prototype.concat=function(c){if(this.length===0)return t.alloc(0);for(var u=t.allocUnsafe(c>>>0),h=this.head,f=0;h;)a(h.data,u,f),f+=h.data.length,h=h.next;return u},n})(),r&&r.inspect&&r.inspect.custom&&(i.exports.prototype[r.inspect.custom]=function(){var n=r.inspect({length:this.length});return this.constructor.name+" "+n})})(Lu)),Lu.exports}var Uu,x1;function vb(){if(x1)return Uu;x1=1;var i=xi();function e(a,n){var s=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(n?n(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,a)):i.nextTick(r,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!n&&h?s._writableState?s._writableState.errorEmitted||(s._writableState.errorEmitted=!0,i.nextTick(r,s,h)):i.nextTick(r,s,h):n&&n(h)}),this)}function t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(a,n){a.emit("error",n)}return Uu={destroy:e,undestroy:t},Uu}var $u,S1;function yb(){if(S1)return $u;S1=1;var i=xi();$u=D;function e(x){var v=this;this.next=null,this.entry=null,this.finish=function(){S(v,x)}}var t=!Bt.browser&&["v0.10","v0.9."].indexOf(Bt.version.slice(0,5))>-1?setImmediate:i.nextTick,r;D.WritableState=M;var a=Object.create(Rn());a.inherits=Ut();var n={deprecate:cg()},s=mb(),c=pg().Buffer,u=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(x){return c.from(x)}function f(x){return c.isBuffer(x)||x instanceof u}var g=vb();a.inherits(D,s);function b(){}function M(x,v){r=r||Wa(),x=x||{};var m=v instanceof r;this.objectMode=!!x.objectMode,m&&(this.objectMode=this.objectMode||!!x.writableObjectMode);var y=x.highWaterMark,k=x.writableHighWaterMark,w=this.objectMode?16:16*1024;y||y===0?this.highWaterMark=y:m&&(k||k===0)?this.highWaterMark=k:this.highWaterMark=w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=x.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){J(v,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}M.prototype.getBuffer=function(){for(var v=this.bufferedRequest,m=[];v;)m.push(v),v=v.next;return m},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(x){return _.call(this,x)?!0:this!==D?!1:x&&x._writableState instanceof M}})):_=function(x){return x instanceof this};function D(x){if(r=r||Wa(),!_.call(D,this)&&!(this instanceof r))return new D(x);this._writableState=new M(x,this),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),s.call(this)}D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function R(x,v){var m=new Error("write after end");x.emit("error",m),i.nextTick(v,m)}function A(x,v,m,y){var k=!0,w=!1;return m===null?w=new TypeError("May not write null values to stream"):typeof m!="string"&&m!==void 0&&!v.objectMode&&(w=new TypeError("Invalid non-string/buffer chunk")),w&&(x.emit("error",w),i.nextTick(y,w),k=!1),k}D.prototype.write=function(x,v,m){var y=this._writableState,k=!1,w=!y.objectMode&&f(x);return w&&!c.isBuffer(x)&&(x=h(x)),typeof v=="function"&&(m=v,v=null),w?v="buffer":v||(v=y.defaultEncoding),typeof m!="function"&&(m=b),y.ended?R(this,m):(w||A(this,y,x,m))&&(y.pendingcb++,k=N(this,y,w,x,v,m)),k},D.prototype.cork=function(){var x=this._writableState;x.corked++},D.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,!x.writing&&!x.corked&&!x.bufferProcessing&&x.bufferedRequest&&G(this,x))},D.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this};function I(x,v,m){return!x.objectMode&&x.decodeStrings!==!1&&typeof v=="string"&&(v=c.from(v,m)),v}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(x,v,m,y,k,w){if(!m){var T=I(v,y,k);y!==T&&(m=!0,k="buffer",y=T)}var ie=v.objectMode?1:y.length;v.length+=ie;var ve=v.length<v.highWaterMark;if(ve||(v.needDrain=!0),v.writing||v.corked){var ce=v.lastBufferedRequest;v.lastBufferedRequest={chunk:y,encoding:k,isBuf:m,callback:w,next:null},ce?ce.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else $(x,v,!1,ie,y,k,w);return ve}function $(x,v,m,y,k,w,T){v.writelen=y,v.writecb=T,v.writing=!0,v.sync=!0,m?x._writev(k,v.onwrite):x._write(k,w,v.onwrite),v.sync=!1}function V(x,v,m,y,k){--v.pendingcb,m?(i.nextTick(k,y),i.nextTick(o,x,v),x._writableState.errorEmitted=!0,x.emit("error",y)):(k(y),x._writableState.errorEmitted=!0,x.emit("error",y),o(x,v))}function U(x){x.writing=!1,x.writecb=null,x.length-=x.writelen,x.writelen=0}function J(x,v){var m=x._writableState,y=m.sync,k=m.writecb;if(U(m),v)V(x,m,y,v,k);else{var w=E(m);!w&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&G(x,m),y?t(Y,x,m,w,k):Y(x,m,w,k)}}function Y(x,v,m,y){m||oe(x,v),v.pendingcb--,y(),o(x,v)}function oe(x,v){v.length===0&&v.needDrain&&(v.needDrain=!1,x.emit("drain"))}function G(x,v){v.bufferProcessing=!0;var m=v.bufferedRequest;if(x._writev&&m&&m.next){var y=v.bufferedRequestCount,k=new Array(y),w=v.corkedRequestsFree;w.entry=m;for(var T=0,ie=!0;m;)k[T]=m,m.isBuf||(ie=!1),m=m.next,T+=1;k.allBuffers=ie,$(x,v,!0,v.length,k,"",w.finish),v.pendingcb++,v.lastBufferedRequest=null,w.next?(v.corkedRequestsFree=w.next,w.next=null):v.corkedRequestsFree=new e(v),v.bufferedRequestCount=0}else{for(;m;){var ve=m.chunk,ce=m.encoding,C=m.callback,B=v.objectMode?1:ve.length;if($(x,v,!1,B,ve,ce,C),m=m.next,v.bufferedRequestCount--,v.writing)break}m===null&&(v.lastBufferedRequest=null)}v.bufferedRequest=m,v.bufferProcessing=!1}D.prototype._write=function(x,v,m){m(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(x,v,m){var y=this._writableState;typeof x=="function"?(m=x,x=null,v=null):typeof v=="function"&&(m=v,v=null),x!=null&&this.write(x,v),y.corked&&(y.corked=1,this.uncork()),y.ending||l(this,y,m)};function E(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function d(x,v){x._final(function(m){v.pendingcb--,m&&x.emit("error",m),v.prefinished=!0,x.emit("prefinish"),o(x,v)})}function p(x,v){!v.prefinished&&!v.finalCalled&&(typeof x._final=="function"?(v.pendingcb++,v.finalCalled=!0,i.nextTick(d,x,v)):(v.prefinished=!0,x.emit("prefinish")))}function o(x,v){var m=E(v);return m&&(p(x,v),v.pendingcb===0&&(v.finished=!0,x.emit("finish"))),m}function l(x,v,m){v.ending=!0,o(x,v),m&&(v.finished?i.nextTick(m):x.once("finish",m)),v.ended=!0,x.writable=!1}function S(x,v,m){var y=x.entry;for(x.entry=null;y;){var k=y.callback;v.pendingcb--,k(m),y=y.next}v.corkedRequestsFree.next=x}return Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),D.prototype.destroy=g.destroy,D.prototype._undestroy=g.undestroy,D.prototype._destroy=function(x,v){this.end(),v(x)},$u}var qu,E1;function Wa(){if(E1)return qu;E1=1;var i=xi(),e=Object.keys||function(g){var b=[];for(var M in g)b.push(M);return b};qu=u;var t=Object.create(Rn());t.inherits=Ut();var r=wb(),a=yb();t.inherits(u,r);for(var n=e(a.prototype),s=0;s<n.length;s++){var c=n[s];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(g){if(!(this instanceof u))return new u(g);r.call(this,g),a.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(g){g.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),u.prototype._destroy=function(g,b){this.push(null),this.end(),i.nextTick(b,g)},qu}var Vu={},Oc={exports:{}},M1;function V4(){return M1||(M1=1,(function(i,e){var t=Ar(),r=t.Buffer;function a(s,c){for(var u in s)c[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=t:(a(t,e),e.Buffer=n);function n(s,c,u){return r(s,c,u)}a(r,n),n.from=function(s,c,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,c,u)},n.alloc=function(s,c,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Oc,Oc.exports)),Oc.exports}var _1;function A1(){if(_1)return Vu;_1=1;var i=V4().Buffer,e=i.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(A){if(!A)return"utf8";for(var I;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(I)return;A=(""+A).toLowerCase(),I=!0}}function r(A){var I=t(A);if(typeof I!="string"&&(i.isEncoding===e||!e(A)))throw new Error("Unknown encoding: "+A);return I||A}Vu.StringDecoder=a;function a(A){this.encoding=r(A);var I;switch(this.encoding){case"utf16le":this.text=g,this.end=b,I=4;break;case"utf8":this.fillLast=u,I=4;break;case"base64":this.text=M,this.end=_,I=3;break;default:this.write=D,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(I)}a.prototype.write=function(A){if(A.length===0)return"";var I,N;if(this.lastNeed){if(I=this.fillLast(A),I===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<A.length?I?I+this.text(A,N):this.text(A,N):I||""},a.prototype.end=f,a.prototype.text=h,a.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function n(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function s(A,I,N){var $=I.length-1;if($<N)return 0;var V=n(I[$]);return V>=0?(V>0&&(A.lastNeed=V-1),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(A.lastNeed=V-2),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(V===2?V=0:A.lastNeed=V-3),V):0))}function c(A,I,N){if((I[0]&192)!==128)return A.lastNeed=0,"�";if(A.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return A.lastNeed=1,"�";if(A.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return A.lastNeed=2,"�"}}function u(A){var I=this.lastTotal-this.lastNeed,N=c(this,A);if(N!==void 0)return N;if(this.lastNeed<=A.length)return A.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,I,0,A.length),this.lastNeed-=A.length}function h(A,I){var N=s(this,A,I);if(!this.lastNeed)return A.toString("utf8",I);this.lastTotal=N;var $=A.length-(N-this.lastNeed);return A.copy(this.lastChar,0,$),A.toString("utf8",I,$)}function f(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+"�":I}function g(A,I){if((A.length-I)%2===0){var N=A.toString("utf16le",I);if(N){var $=N.charCodeAt(N.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",I,A.length-1)}function b(A){var I=A&&A.length?this.write(A):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,N)}return I}function M(A,I){var N=(A.length-I)%3;return N===0?A.toString("base64",I):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",I,A.length-N))}function _(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function D(A){return A.toString(this.encoding)}function R(A){return A&&A.length?this.write(A):""}return Vu}var zu,k1;function wb(){if(k1)return zu;k1=1;var i=xi();zu=I;var e=$4(),t;I.ReadableState=A,ka().EventEmitter;var r=function(C,B){return C.listeners(B).length},a=mb(),n=pg().Buffer,s=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(C){return n.from(C)}function u(C){return n.isBuffer(C)||C instanceof s}var h=Object.create(Rn());h.inherits=Ut();var f=Ia,g=void 0;f&&f.debuglog?g=f.debuglog("stream"):g=function(){};var b=q4(),M=vb(),_;h.inherits(I,a);var D=["error","close","destroy","pause","resume"];function R(C,B,ee){if(typeof C.prependListener=="function")return C.prependListener(B,ee);!C._events||!C._events[B]?C.on(B,ee):e(C._events[B])?C._events[B].unshift(ee):C._events[B]=[ee,C._events[B]]}function A(C,B){t=t||Wa(),C=C||{};var ee=B instanceof t;this.objectMode=!!C.objectMode,ee&&(this.objectMode=this.objectMode||!!C.readableObjectMode);var z=C.highWaterMark,P=C.readableHighWaterMark,O=this.objectMode?16:16*1024;z||z===0?this.highWaterMark=z:ee&&(P||P===0)?this.highWaterMark=P:this.highWaterMark=O,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(_||(_=A1().StringDecoder),this.decoder=new _(C.encoding),this.encoding=C.encoding)}function I(C){if(t=t||Wa(),!(this instanceof I))return new I(C);this._readableState=new A(C,this),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),a.call(this)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),I.prototype.destroy=M.destroy,I.prototype._undestroy=M.undestroy,I.prototype._destroy=function(C,B){this.push(null),B(C)},I.prototype.push=function(C,B){var ee=this._readableState,z;return ee.objectMode?z=!0:typeof C=="string"&&(B=B||ee.defaultEncoding,B!==ee.encoding&&(C=n.from(C,B),B=""),z=!0),N(this,C,B,!1,z)},I.prototype.unshift=function(C){return N(this,C,null,!0,!1)};function N(C,B,ee,z,P){var O=C._readableState;if(B===null)O.reading=!1,G(C,O);else{var se;P||(se=V(O,B)),se?C.emit("error",se):O.objectMode||B&&B.length>0?(typeof B!="string"&&!O.objectMode&&Object.getPrototypeOf(B)!==n.prototype&&(B=c(B)),z?O.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):$(C,O,B,!0):O.ended?C.emit("error",new Error("stream.push() after EOF")):(O.reading=!1,O.decoder&&!ee?(B=O.decoder.write(B),O.objectMode||B.length!==0?$(C,O,B,!1):p(C,O)):$(C,O,B,!1))):z||(O.reading=!1)}return U(O)}function $(C,B,ee,z){B.flowing&&B.length===0&&!B.sync?(C.emit("data",ee),C.read(0)):(B.length+=B.objectMode?1:ee.length,z?B.buffer.unshift(ee):B.buffer.push(ee),B.needReadable&&E(C)),p(C,B)}function V(C,B){var ee;return!u(B)&&typeof B!="string"&&B!==void 0&&!C.objectMode&&(ee=new TypeError("Invalid non-string/buffer chunk")),ee}function U(C){return!C.ended&&(C.needReadable||C.length<C.highWaterMark||C.length===0)}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(C){return _||(_=A1().StringDecoder),this._readableState.decoder=new _(C),this._readableState.encoding=C,this};var J=8388608;function Y(C){return C>=J?C=J:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function oe(C,B){return C<=0||B.length===0&&B.ended?0:B.objectMode?1:C!==C?B.flowing&&B.length?B.buffer.head.data.length:B.length:(C>B.highWaterMark&&(B.highWaterMark=Y(C)),C<=B.length?C:B.ended?B.length:(B.needReadable=!0,0))}I.prototype.read=function(C){g("read",C),C=parseInt(C,10);var B=this._readableState,ee=C;if(C!==0&&(B.emittedReadable=!1),C===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?ie(this):E(this),null;if(C=oe(C,B),C===0&&B.ended)return B.length===0&&ie(this),null;var z=B.needReadable;g("need readable",z),(B.length===0||B.length-C<B.highWaterMark)&&(z=!0,g("length less than watermark",z)),B.ended||B.reading?(z=!1,g("reading or ended",z)):z&&(g("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(C=oe(ee,B)));var P;return C>0?P=y(C,B):P=null,P===null?(B.needReadable=!0,C=0):B.length-=C,B.length===0&&(B.ended||(B.needReadable=!0),ee!==C&&B.ended&&ie(this)),P!==null&&this.emit("data",P),P};function G(C,B){if(!B.ended){if(B.decoder){var ee=B.decoder.end();ee&&ee.length&&(B.buffer.push(ee),B.length+=B.objectMode?1:ee.length)}B.ended=!0,E(C)}}function E(C){var B=C._readableState;B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?i.nextTick(d,C):d(C))}function d(C){g("emit readable"),C.emit("readable"),m(C)}function p(C,B){B.readingMore||(B.readingMore=!0,i.nextTick(o,C,B))}function o(C,B){for(var ee=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(g("maybeReadMore read 0"),C.read(0),ee!==B.length);)ee=B.length;B.readingMore=!1}I.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(C,B){var ee=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=C;break;case 1:z.pipes=[z.pipes,C];break;default:z.pipes.push(C);break}z.pipesCount+=1,g("pipe count=%d opts=%j",z.pipesCount,B);var P=(!B||B.end!==!1)&&C!==Bt.stdout&&C!==Bt.stderr,O=P?le:Re;z.endEmitted?i.nextTick(O):ee.once("end",O),C.on("unpipe",se);function se(Oe,Ye){g("onunpipe"),Oe===ee&&Ye&&Ye.hasUnpiped===!1&&(Ye.hasUnpiped=!0,me())}function le(){g("onend"),C.end()}var ge=l(ee);C.on("drain",ge);var Ee=!1;function me(){g("cleanup"),C.removeListener("close",Me),C.removeListener("finish",Ne),C.removeListener("drain",ge),C.removeListener("error",we),C.removeListener("unpipe",se),ee.removeListener("end",le),ee.removeListener("end",Re),ee.removeListener("data",Te),Ee=!0,z.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&ge()}var ye=!1;ee.on("data",Te);function Te(Oe){g("ondata"),ye=!1;var Ye=C.write(Oe);Ye===!1&&!ye&&((z.pipesCount===1&&z.pipes===C||z.pipesCount>1&&ce(z.pipes,C)!==-1)&&!Ee&&(g("false write response, pause",z.awaitDrain),z.awaitDrain++,ye=!0),ee.pause())}function we(Oe){g("onerror",Oe),Re(),C.removeListener("error",we),r(C,"error")===0&&C.emit("error",Oe)}R(C,"error",we);function Me(){C.removeListener("finish",Ne),Re()}C.once("close",Me);function Ne(){g("onfinish"),C.removeListener("close",Me),Re()}C.once("finish",Ne);function Re(){g("unpipe"),ee.unpipe(C)}return C.emit("pipe",ee),z.flowing||(g("pipe resume"),ee.resume()),C};function l(C){return function(){var B=C._readableState;g("pipeOnDrain",B.awaitDrain),B.awaitDrain&&B.awaitDrain--,B.awaitDrain===0&&r(C,"data")&&(B.flowing=!0,m(C))}}I.prototype.unpipe=function(C){var B=this._readableState,ee={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return C&&C!==B.pipes?this:(C||(C=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,C&&C.emit("unpipe",this,ee),this);if(!C){var z=B.pipes,P=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var O=0;O<P;O++)z[O].emit("unpipe",this,{hasUnpiped:!1});return this}var se=ce(B.pipes,C);return se===-1?this:(B.pipes.splice(se,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),C.emit("unpipe",this,ee),this)},I.prototype.on=function(C,B){var ee=a.prototype.on.call(this,C,B);if(C==="data")this._readableState.flowing!==!1&&this.resume();else if(C==="readable"){var z=this._readableState;!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&E(this):i.nextTick(S,this))}return ee},I.prototype.addListener=I.prototype.on;function S(C){g("readable nexttick read 0"),C.read(0)}I.prototype.resume=function(){var C=this._readableState;return C.flowing||(g("resume"),C.flowing=!0,x(this,C)),this};function x(C,B){B.resumeScheduled||(B.resumeScheduled=!0,i.nextTick(v,C,B))}function v(C,B){B.reading||(g("resume read 0"),C.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,C.emit("resume"),m(C),B.flowing&&!B.reading&&C.read(0)}I.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function m(C){var B=C._readableState;for(g("flow",B.flowing);B.flowing&&C.read()!==null;);}I.prototype.wrap=function(C){var B=this,ee=this._readableState,z=!1;C.on("end",function(){if(g("wrapped end"),ee.decoder&&!ee.ended){var se=ee.decoder.end();se&&se.length&&B.push(se)}B.push(null)}),C.on("data",function(se){if(g("wrapped data"),ee.decoder&&(se=ee.decoder.write(se)),!(ee.objectMode&&se==null)&&!(!ee.objectMode&&(!se||!se.length))){var le=B.push(se);le||(z=!0,C.pause())}});for(var P in C)this[P]===void 0&&typeof C[P]=="function"&&(this[P]=(function(se){return function(){return C[se].apply(C,arguments)}})(P));for(var O=0;O<D.length;O++)C.on(D[O],this.emit.bind(this,D[O]));return this._read=function(se){g("wrapped _read",se),z&&(z=!1,C.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=y;function y(C,B){if(B.length===0)return null;var ee;return B.objectMode?ee=B.buffer.shift():!C||C>=B.length?(B.decoder?ee=B.buffer.join(""):B.buffer.length===1?ee=B.buffer.head.data:ee=B.buffer.concat(B.length),B.buffer.clear()):ee=k(C,B.buffer,B.decoder),ee}function k(C,B,ee){var z;return C<B.head.data.length?(z=B.head.data.slice(0,C),B.head.data=B.head.data.slice(C)):C===B.head.data.length?z=B.shift():z=ee?w(C,B):T(C,B),z}function w(C,B){var ee=B.head,z=1,P=ee.data;for(C-=P.length;ee=ee.next;){var O=ee.data,se=C>O.length?O.length:C;if(se===O.length?P+=O:P+=O.slice(0,C),C-=se,C===0){se===O.length?(++z,ee.next?B.head=ee.next:B.head=B.tail=null):(B.head=ee,ee.data=O.slice(se));break}++z}return B.length-=z,P}function T(C,B){var ee=n.allocUnsafe(C),z=B.head,P=1;for(z.data.copy(ee),C-=z.data.length;z=z.next;){var O=z.data,se=C>O.length?O.length:C;if(O.copy(ee,ee.length-C,0,se),C-=se,C===0){se===O.length?(++P,z.next?B.head=z.next:B.head=B.tail=null):(B.head=z,z.data=O.slice(se));break}++P}return B.length-=P,ee}function ie(C){var B=C._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,i.nextTick(ve,B,C))}function ve(C,B){!C.endEmitted&&C.length===0&&(C.endEmitted=!0,B.readable=!1,B.emit("end"))}function ce(C,B){for(var ee=0,z=C.length;ee<z;ee++)if(C[ee]===B)return ee;return-1}return zu}var ju,I1;function bb(){if(I1)return ju;I1=1,ju=r;var i=Wa(),e=Object.create(Rn());e.inherits=Ut(),e.inherits(r,i);function t(s,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(s);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function r(s){if(!(this instanceof r))return new r(s);i.call(this,s),this._transformState={afterTransform:t.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",a)}function a(){var s=this;typeof this._flush=="function"?this._flush(function(c,u){n(s,c,u)}):n(this,null,null)}r.prototype.push=function(s,c){return this._transformState.needTransform=!1,i.prototype.push.call(this,s,c)},r.prototype._transform=function(s,c,u){throw new Error("_transform() is not implemented")},r.prototype._write=function(s,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=s,h.writeencoding=c,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},r.prototype._read=function(s){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(s,c){var u=this;i.prototype._destroy.call(this,s,function(h){c(h),u.emit("close")})};function n(s,c,u){if(c)return s.emit("error",c);if(u!=null&&s.push(u),s._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(s._transformState.transforming)throw new Error("Calling transform done when still transforming");return s.push(null)}return ju}var Wu,D1;function z4(){if(D1)return Wu;D1=1,Wu=t;var i=bb(),e=Object.create(Rn());e.inherits=Ut(),e.inherits(t,i);function t(r){if(!(this instanceof t))return new t(r);i.call(this,r)}return t.prototype._transform=function(r,a,n){n(null,r)},Wu}var R1;function j4(){return R1||(R1=1,(function(i,e){e=i.exports=wb(),e.Stream=e,e.Readable=e,e.Writable=yb(),e.Duplex=Wa(),e.Transform=bb(),e.PassThrough=z4()})(Cc,Cc.exports)),Cc.exports}var Hu,T1;function W4(){if(T1)return Hu;T1=1;var i=Wt().Buffer,e=U4(),t=j4().Transform,r=Ut();function a(n){t.call(this),this._block=i.allocUnsafe(n),this._blockSize=n,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}return r(a,t),a.prototype._transform=function(n,s,c){var u=null;try{this.update(n,s)}catch(h){u=h}c(u)},a.prototype._flush=function(n){var s=null;try{this.push(this.digest())}catch(c){s=c}n(s)},a.prototype.update=function(n,s){if(this._finalized)throw new Error("Digest already called");for(var c=e(n,s),u=this._block,h=0;this._blockOffset+c.length-h>=this._blockSize;){for(var f=this._blockOffset;f<this._blockSize;)u[f]=c[h],f+=1,h+=1;this._update(),this._blockOffset=0}for(;h<c.length;)u[this._blockOffset]=c[h],this._blockOffset+=1,h+=1;for(var g=0,b=c.length*8;b>0;++g)this._length[g]+=b,b=this._length[g]/4294967296|0,b>0&&(this._length[g]-=4294967296*b);return this},a.prototype._update=function(){throw new Error("_update is not implemented")},a.prototype.digest=function(n){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var s=this._digest();n!==void 0&&(s=s.toString(n)),this._block.fill(0),this._blockOffset=0;for(var c=0;c<4;++c)this._length[c]=0;return s},a.prototype._digest=function(){throw new Error("_digest is not implemented")},Hu=a,Hu}var Gu,B1;function gg(){if(B1)return Gu;B1=1;var i=Ar().Buffer,e=Ut(),t=W4(),r=new Array(16),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],n=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],s=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],c=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],u=[0,1518500249,1859775393,2400959708,2840853838],h=[1352829926,1548603684,1836072691,2053994217,0];function f(A,I){return A<<I|A>>>32-I}function g(A,I,N,$,V,U,J,Y){return f(A+(I^N^$)+U+J|0,Y)+V|0}function b(A,I,N,$,V,U,J,Y){return f(A+(I&N|~I&$)+U+J|0,Y)+V|0}function M(A,I,N,$,V,U,J,Y){return f(A+((I|~N)^$)+U+J|0,Y)+V|0}function _(A,I,N,$,V,U,J,Y){return f(A+(I&$|N&~$)+U+J|0,Y)+V|0}function D(A,I,N,$,V,U,J,Y){return f(A+(I^(N|~$))+U+J|0,Y)+V|0}function R(){t.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}return e(R,t),R.prototype._update=function(){for(var A=r,I=0;I<16;++I)A[I]=this._block.readInt32LE(I*4);for(var N=this._a|0,$=this._b|0,V=this._c|0,U=this._d|0,J=this._e|0,Y=this._a|0,oe=this._b|0,G=this._c|0,E=this._d|0,d=this._e|0,p=0;p<80;p+=1){var o,l;p<16?(o=g(N,$,V,U,J,A[a[p]],u[0],s[p]),l=D(Y,oe,G,E,d,A[n[p]],h[0],c[p])):p<32?(o=b(N,$,V,U,J,A[a[p]],u[1],s[p]),l=_(Y,oe,G,E,d,A[n[p]],h[1],c[p])):p<48?(o=M(N,$,V,U,J,A[a[p]],u[2],s[p]),l=M(Y,oe,G,E,d,A[n[p]],h[2],c[p])):p<64?(o=_(N,$,V,U,J,A[a[p]],u[3],s[p]),l=b(Y,oe,G,E,d,A[n[p]],h[3],c[p])):(o=D(N,$,V,U,J,A[a[p]],u[4],s[p]),l=g(Y,oe,G,E,d,A[n[p]],h[4],c[p])),N=J,J=U,U=f(V,10),V=$,$=o,Y=d,d=E,E=f(G,10),G=oe,oe=l}var S=this._b+V+E|0;this._b=this._c+U+d|0,this._c=this._d+J+Y|0,this._d=this._e+N+oe|0,this._e=this._a+$+G|0,this._a=S},R.prototype._digest=function(){this._block[this._blockOffset]=128,this._blockOffset+=1,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var A=i.alloc?i.alloc(20):new i(20);return A.writeInt32LE(this._a,0),A.writeInt32LE(this._b,4),A.writeInt32LE(this._c,8),A.writeInt32LE(this._d,12),A.writeInt32LE(this._e,16),A},Gu=R,Gu}var Ku={exports:{}},Ju,F1;function as(){if(F1)return Ju;F1=1;var i=Wt().Buffer,e=Uf();function t(r,a){this._block=i.alloc(r),this._finalSize=a,this._blockSize=r,this._len=0}return t.prototype.update=function(r,a){r=e(r,a||"utf8");for(var n=this._block,s=this._blockSize,c=r.length,u=this._len,h=0;h<c;){for(var f=u%s,g=Math.min(c-h,s-f),b=0;b<g;b++)n[f+b]=r[h+b];u+=g,h+=g,u%s===0&&this._update(n)}return this._len+=c,this},t.prototype.digest=function(r){var a=this._len%this._blockSize;this._block[a]=128,this._block.fill(0,a+1),a>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=this._len*8;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var s=(n&4294967295)>>>0,c=(n-s)/4294967296;this._block.writeUInt32BE(c,this._blockSize-8),this._block.writeUInt32BE(s,this._blockSize-4)}this._update(this._block);var u=this._hash();return r?u.toString(r):u},t.prototype._update=function(){throw new Error("_update must be implemented by subclass")},Ju=t,Ju}var Yu,C1;function H4(){if(C1)return Yu;C1=1;var i=Ut(),e=as(),t=Wt().Buffer,r=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function n(){this.init(),this._w=a,e.call(this,64,56)}i(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function s(h){return h<<5|h>>>27}function c(h){return h<<30|h>>>2}function u(h,f,g,b){return h===0?f&g|~f&b:h===2?f&g|f&b|g&b:f^g^b}return n.prototype._update=function(h){for(var f=this._w,g=this._a|0,b=this._b|0,M=this._c|0,_=this._d|0,D=this._e|0,R=0;R<16;++R)f[R]=h.readInt32BE(R*4);for(;R<80;++R)f[R]=f[R-3]^f[R-8]^f[R-14]^f[R-16];for(var A=0;A<80;++A){var I=~~(A/20),N=s(g)+u(I,b,M,_)+D+f[A]+r[I]|0;D=_,_=M,M=c(b),b=g,g=N}this._a=g+this._a|0,this._b=b+this._b|0,this._c=M+this._c|0,this._d=_+this._d|0,this._e=D+this._e|0},n.prototype._hash=function(){var h=t.allocUnsafe(20);return h.writeInt32BE(this._a|0,0),h.writeInt32BE(this._b|0,4),h.writeInt32BE(this._c|0,8),h.writeInt32BE(this._d|0,12),h.writeInt32BE(this._e|0,16),h},Yu=n,Yu}var Xu,P1;function G4(){if(P1)return Xu;P1=1;var i=Ut(),e=as(),t=Wt().Buffer,r=[1518500249,1859775393,-1894007588,-899497514],a=new Array(80);function n(){this.init(),this._w=a,e.call(this,64,56)}i(n,e),n.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this};function s(f){return f<<1|f>>>31}function c(f){return f<<5|f>>>27}function u(f){return f<<30|f>>>2}function h(f,g,b,M){return f===0?g&b|~g&M:f===2?g&b|g&M|b&M:g^b^M}return n.prototype._update=function(f){for(var g=this._w,b=this._a|0,M=this._b|0,_=this._c|0,D=this._d|0,R=this._e|0,A=0;A<16;++A)g[A]=f.readInt32BE(A*4);for(;A<80;++A)g[A]=s(g[A-3]^g[A-8]^g[A-14]^g[A-16]);for(var I=0;I<80;++I){var N=~~(I/20),$=c(b)+h(N,M,_,D)+R+g[I]+r[N]|0;R=D,D=_,_=u(M),M=b,b=$}this._a=b+this._a|0,this._b=M+this._b|0,this._c=_+this._c|0,this._d=D+this._d|0,this._e=R+this._e|0},n.prototype._hash=function(){var f=t.allocUnsafe(20);return f.writeInt32BE(this._a|0,0),f.writeInt32BE(this._b|0,4),f.writeInt32BE(this._c|0,8),f.writeInt32BE(this._d|0,12),f.writeInt32BE(this._e|0,16),f},Xu=n,Xu}var Zu,N1;function xb(){if(N1)return Zu;N1=1;var i=Ut(),e=as(),t=Wt().Buffer,r=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],a=new Array(64);function n(){this.init(),this._w=a,e.call(this,64,56)}i(n,e),n.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this};function s(b,M,_){return _^b&(M^_)}function c(b,M,_){return b&M|_&(b|M)}function u(b){return(b>>>2|b<<30)^(b>>>13|b<<19)^(b>>>22|b<<10)}function h(b){return(b>>>6|b<<26)^(b>>>11|b<<21)^(b>>>25|b<<7)}function f(b){return(b>>>7|b<<25)^(b>>>18|b<<14)^b>>>3}function g(b){return(b>>>17|b<<15)^(b>>>19|b<<13)^b>>>10}return n.prototype._update=function(b){for(var M=this._w,_=this._a|0,D=this._b|0,R=this._c|0,A=this._d|0,I=this._e|0,N=this._f|0,$=this._g|0,V=this._h|0,U=0;U<16;++U)M[U]=b.readInt32BE(U*4);for(;U<64;++U)M[U]=g(M[U-2])+M[U-7]+f(M[U-15])+M[U-16]|0;for(var J=0;J<64;++J){var Y=V+h(I)+s(I,N,$)+r[J]+M[J]|0,oe=u(_)+c(_,D,R)|0;V=$,$=N,N=I,I=A+Y|0,A=R,R=D,D=_,_=Y+oe|0}this._a=_+this._a|0,this._b=D+this._b|0,this._c=R+this._c|0,this._d=A+this._d|0,this._e=I+this._e|0,this._f=N+this._f|0,this._g=$+this._g|0,this._h=V+this._h|0},n.prototype._hash=function(){var b=t.allocUnsafe(32);return b.writeInt32BE(this._a,0),b.writeInt32BE(this._b,4),b.writeInt32BE(this._c,8),b.writeInt32BE(this._d,12),b.writeInt32BE(this._e,16),b.writeInt32BE(this._f,20),b.writeInt32BE(this._g,24),b.writeInt32BE(this._h,28),b},Zu=n,Zu}var Qu,O1;function K4(){if(O1)return Qu;O1=1;var i=Ut(),e=xb(),t=as(),r=Wt().Buffer,a=new Array(64);function n(){this.init(),this._w=a,t.call(this,64,56)}return i(n,e),n.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},n.prototype._hash=function(){var s=r.allocUnsafe(28);return s.writeInt32BE(this._a,0),s.writeInt32BE(this._b,4),s.writeInt32BE(this._c,8),s.writeInt32BE(this._d,12),s.writeInt32BE(this._e,16),s.writeInt32BE(this._f,20),s.writeInt32BE(this._g,24),s},Qu=n,Qu}var el,L1;function Sb(){if(L1)return el;L1=1;var i=Ut(),e=as(),t=Wt().Buffer,r=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],a=new Array(160);function n(){this.init(),this._w=a,e.call(this,128,112)}i(n,e),n.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this};function s(D,R,A){return A^D&(R^A)}function c(D,R,A){return D&R|A&(D|R)}function u(D,R){return(D>>>28|R<<4)^(R>>>2|D<<30)^(R>>>7|D<<25)}function h(D,R){return(D>>>14|R<<18)^(D>>>18|R<<14)^(R>>>9|D<<23)}function f(D,R){return(D>>>1|R<<31)^(D>>>8|R<<24)^D>>>7}function g(D,R){return(D>>>1|R<<31)^(D>>>8|R<<24)^(D>>>7|R<<25)}function b(D,R){return(D>>>19|R<<13)^(R>>>29|D<<3)^D>>>6}function M(D,R){return(D>>>19|R<<13)^(R>>>29|D<<3)^(D>>>6|R<<26)}function _(D,R){return D>>>0<R>>>0?1:0}return n.prototype._update=function(D){for(var R=this._w,A=this._ah|0,I=this._bh|0,N=this._ch|0,$=this._dh|0,V=this._eh|0,U=this._fh|0,J=this._gh|0,Y=this._hh|0,oe=this._al|0,G=this._bl|0,E=this._cl|0,d=this._dl|0,p=this._el|0,o=this._fl|0,l=this._gl|0,S=this._hl|0,x=0;x<32;x+=2)R[x]=D.readInt32BE(x*4),R[x+1]=D.readInt32BE(x*4+4);for(;x<160;x+=2){var v=R[x-30],m=R[x-30+1],y=f(v,m),k=g(m,v);v=R[x-4],m=R[x-4+1];var w=b(v,m),T=M(m,v),ie=R[x-14],ve=R[x-14+1],ce=R[x-32],C=R[x-32+1],B=k+ve|0,ee=y+ie+_(B,k)|0;B=B+T|0,ee=ee+w+_(B,T)|0,B=B+C|0,ee=ee+ce+_(B,C)|0,R[x]=ee,R[x+1]=B}for(var z=0;z<160;z+=2){ee=R[z],B=R[z+1];var P=c(A,I,N),O=c(oe,G,E),se=u(A,oe),le=u(oe,A),ge=h(V,p),Ee=h(p,V),me=r[z],ye=r[z+1],Te=s(V,U,J),we=s(p,o,l),Me=S+Ee|0,Ne=Y+ge+_(Me,S)|0;Me=Me+we|0,Ne=Ne+Te+_(Me,we)|0,Me=Me+ye|0,Ne=Ne+me+_(Me,ye)|0,Me=Me+B|0,Ne=Ne+ee+_(Me,B)|0;var Re=le+O|0,Oe=se+P+_(Re,le)|0;Y=J,S=l,J=U,l=o,U=V,o=p,p=d+Me|0,V=$+Ne+_(p,d)|0,$=N,d=E,N=I,E=G,I=A,G=oe,oe=Me+Re|0,A=Ne+Oe+_(oe,Me)|0}this._al=this._al+oe|0,this._bl=this._bl+G|0,this._cl=this._cl+E|0,this._dl=this._dl+d|0,this._el=this._el+p|0,this._fl=this._fl+o|0,this._gl=this._gl+l|0,this._hl=this._hl+S|0,this._ah=this._ah+A+_(this._al,oe)|0,this._bh=this._bh+I+_(this._bl,G)|0,this._ch=this._ch+N+_(this._cl,E)|0,this._dh=this._dh+$+_(this._dl,d)|0,this._eh=this._eh+V+_(this._el,p)|0,this._fh=this._fh+U+_(this._fl,o)|0,this._gh=this._gh+J+_(this._gl,l)|0,this._hh=this._hh+Y+_(this._hl,S)|0},n.prototype._hash=function(){var D=t.allocUnsafe(64);function R(A,I,N){D.writeInt32BE(A,N),D.writeInt32BE(I,N+4)}return R(this._ah,this._al,0),R(this._bh,this._bl,8),R(this._ch,this._cl,16),R(this._dh,this._dl,24),R(this._eh,this._el,32),R(this._fh,this._fl,40),R(this._gh,this._gl,48),R(this._hh,this._hl,56),D},el=n,el}var tl,U1;function J4(){if(U1)return tl;U1=1;var i=Ut(),e=Sb(),t=as(),r=Wt().Buffer,a=new Array(160);function n(){this.init(),this._w=a,t.call(this,128,112)}return i(n,e),n.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},n.prototype._hash=function(){var s=r.allocUnsafe(48);function c(u,h,f){s.writeInt32BE(u,f),s.writeInt32BE(h,f+4)}return c(this._ah,this._al,0),c(this._bh,this._bl,8),c(this._ch,this._cl,16),c(this._dh,this._dl,24),c(this._eh,this._el,32),c(this._fh,this._fl,40),s},tl=n,tl}var $1;function mg(){return $1||($1=1,(function(i){i.exports=function(t){var r=t.toLowerCase(),a=i.exports[r];if(!a)throw new Error(r+" is not supported (we accept pull requests)");return new a},i.exports.sha=H4(),i.exports.sha1=G4(),i.exports.sha224=K4(),i.exports.sha256=xb(),i.exports.sha384=J4(),i.exports.sha512=Sb()})(Ku)),Ku.exports}var rl,q1;function Si(){if(q1)return rl;q1=1;var i=Wt().Buffer,e=ob().Transform,t=q0().StringDecoder,r=Ut(),a=Uf();function n(s){e.call(this),this.hashMode=typeof s=="string",this.hashMode?this[s]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}return r(n,e),n.prototype.update=function(s,c,u){var h=a(s,c),f=this._update(h);return this.hashMode?this:(u&&(f=this._toString(f,u)),f)},n.prototype.setAutoPadding=function(){},n.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},n.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},n.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},n.prototype._transform=function(s,c,u){var h;try{this.hashMode?this._update(s):this.push(this._update(s))}catch(f){h=f}finally{u(h)}},n.prototype._flush=function(s){var c;try{this.push(this.__final())}catch(u){c=u}s(c)},n.prototype._finalOrDigest=function(s){var c=this.__final()||i.alloc(0);return s&&(c=this._toString(c,s,!0)),c},n.prototype._toString=function(s,c,u){if(this._decoder||(this._decoder=new t(c),this._encoding=c),this._encoding!==c)throw new Error("can’t switch encodings");var h=this._decoder.write(s);return u&&(h+=this._decoder.end()),h},rl=n,rl}var nl,V1;function bc(){if(V1)return nl;V1=1;var i=Ut(),e=hg(),t=gg(),r=mg(),a=Si();function n(s){a.call(this,"digest"),this._hash=s}return i(n,a),n.prototype._update=function(s){this._hash.update(s)},n.prototype._final=function(){return this._hash.digest()},nl=function(c){return c=c.toLowerCase(),c==="md5"?new e:c==="rmd160"||c==="ripemd160"?new t:new n(r(c))},nl}var il,z1;function Y4(){if(z1)return il;z1=1;var i=Ut(),e=Wt().Buffer,t=Si(),r=e.alloc(128),a=64;function n(s,c){t.call(this,"digest"),typeof c=="string"&&(c=e.from(c)),this._alg=s,this._key=c,c.length>a?c=s(c):c.length<a&&(c=e.concat([c,r],a));for(var u=this._ipad=e.allocUnsafe(a),h=this._opad=e.allocUnsafe(a),f=0;f<a;f++)u[f]=c[f]^54,h[f]=c[f]^92;this._hash=[u]}return i(n,t),n.prototype._update=function(s){this._hash.push(s)},n.prototype._final=function(){var s=this._alg(e.concat(this._hash));return this._alg(e.concat([this._opad,s]))},il=n,il}var al,j1;function Eb(){if(j1)return al;j1=1;var i=hg();return al=function(e){return new i().update(e).digest()},al}var ol,W1;function Mb(){if(W1)return ol;W1=1;var i=Ut(),e=Y4(),t=Si(),r=Wt().Buffer,a=Eb(),n=gg(),s=mg(),c=r.alloc(128);function u(h,f){t.call(this,"digest"),typeof f=="string"&&(f=r.from(f));var g=h==="sha512"||h==="sha384"?128:64;if(this._alg=h,this._key=f,f.length>g){var b=h==="rmd160"?new n:s(h);f=b.update(f).digest()}else f.length<g&&(f=r.concat([f,c],g));for(var M=this._ipad=r.allocUnsafe(g),_=this._opad=r.allocUnsafe(g),D=0;D<g;D++)M[D]=f[D]^54,_[D]=f[D]^92;this._hash=h==="rmd160"?new n:s(h),this._hash.update(M)}return i(u,t),u.prototype._update=function(h){this._hash.update(h)},u.prototype._final=function(){var h=this._hash.digest(),f=this._alg==="rmd160"?new n:s(this._alg);return f.update(this._opad).update(h).digest()},ol=function(f,g){return f=f.toLowerCase(),f==="rmd160"||f==="ripemd160"?new u("rmd160",g):f==="md5"?new e(a,g):new u(f,g)},ol}const X4={sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},Z4={sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},Q4={sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},ex={sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},tx={sign:"ecdsa",hash:"sha256",id:""},rx={sign:"ecdsa",hash:"sha224",id:""},nx={sign:"ecdsa",hash:"sha384",id:""},ix={sign:"ecdsa",hash:"sha512",id:""},ax={sign:"dsa",hash:"sha1",id:""},ox={sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},sx={sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},_b={sha224WithRSAEncryption:X4,"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:Z4,"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:Q4,"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:ex,"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:tx,sha224:rx,sha384:nx,sha512:ix,"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:ax,"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:ox,"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:sx,"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}};var sl,H1;function cx(){return H1||(H1=1,sl=_b),sl}var Lc={},cl,G1;function Ab(){if(G1)return cl;G1=1;var i=isFinite,e=Math.pow(2,30)-1;return cl=function(t,r){if(typeof t!="number")throw new TypeError("Iterations not a number");if(t<0||!i(t))throw new TypeError("Bad iterations");if(typeof r!="number")throw new TypeError("Key length not a number");if(r<0||r>e||r!==r)throw new TypeError("Bad key length")},cl}var fl,K1;function kb(){if(K1)return fl;K1=1;var i;if(Gt.process&&Gt.process.browser)i="utf-8";else if(Gt.process&&Gt.process.version){var e=parseInt(Bt.version.split(".")[0].slice(1),10);i=e>=6?"utf-8":"binary"}else i="utf-8";return fl=i,fl}var hl,J1;function Ib(){if(J1)return hl;J1=1;var i=Wt().Buffer,e=Uf(),t=typeof Uint8Array<"u",r=t&&typeof ArrayBuffer<"u",a=r&&ArrayBuffer.isView;return hl=function(n,s,c){if(typeof n=="string"||i.isBuffer(n)||t&&n instanceof Uint8Array||a&&a(n))return e(n,s);throw new TypeError(c+" must be a string, a Buffer, a Uint8Array, or a DataView")},hl}var ul,Y1;function Db(){if(Y1)return ul;Y1=1;var i=Eb(),e=gg(),t=mg(),r=Wt().Buffer,a=Ab(),n=kb(),s=Ib(),c=r.alloc(128),u={__proto__:null,md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,"sha512-256":32,ripemd160:20,rmd160:20},h={__proto__:null,"sha-1":"sha1","sha-224":"sha224","sha-256":"sha256","sha-384":"sha384","sha-512":"sha512","ripemd-160":"ripemd160"};function f(_){return new e().update(_).digest()}function g(_){function D(R){return t(_).update(R).digest()}return _==="rmd160"||_==="ripemd160"?f:_==="md5"?i:D}function b(_,D,R){var A=g(_),I=_==="sha512"||_==="sha384"?128:64;D.length>I?D=A(D):D.length<I&&(D=r.concat([D,c],I));for(var N=r.allocUnsafe(I+u[_]),$=r.allocUnsafe(I+u[_]),V=0;V<I;V++)N[V]=D[V]^54,$[V]=D[V]^92;var U=r.allocUnsafe(I+R+4);N.copy(U,0,0,I),this.ipad1=U,this.ipad2=N,this.opad=$,this.alg=_,this.blocksize=I,this.hash=A,this.size=u[_]}b.prototype.run=function(_,D){_.copy(D,this.blocksize);var R=this.hash(D);return R.copy(this.opad,this.blocksize),this.hash(this.opad)};function M(_,D,R,A,I){a(R,A),_=s(_,n,"Password"),D=s(D,n,"Salt");var N=(I||"sha1").toLowerCase(),$=h[N]||N,V=u[$];if(typeof V!="number"||!V)throw new TypeError("Digest algorithm not supported: "+I);var U=new b($,_,D.length),J=r.allocUnsafe(A),Y=r.allocUnsafe(D.length+4);D.copy(Y,0,0,D.length);for(var oe=0,G=V,E=Math.ceil(A/G),d=1;d<=E;d++){Y.writeUInt32BE(d,D.length);for(var p=U.run(Y,U.ipad1),o=p,l=1;l<R;l++){o=U.run(o,U.ipad2);for(var S=0;S<G;S++)p[S]^=o[S]}p.copy(J,oe),oe+=G}return J}return ul=M,ul}var ll,X1;function fx(){if(X1)return ll;X1=1;var i=Wt().Buffer,e=Ab(),t=kb(),r=Db(),a=Ib(),n,s=Gt.crypto&&Gt.crypto.subtle,c={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},u=[],h;function f(){return h||(Gt.process&&Gt.process.nextTick?h=Gt.process.nextTick:Gt.queueMicrotask?h=Gt.queueMicrotask:Gt.setImmediate?h=Gt.setImmediate:h=Gt.setTimeout,h)}function g(_,D,R,A,I){return s.importKey("raw",_,{name:"PBKDF2"},!1,["deriveBits"]).then(function(N){return s.deriveBits({name:"PBKDF2",salt:D,iterations:R,hash:{name:I}},N,A<<3)}).then(function(N){return i.from(N)})}function b(_){if(Gt.process&&!Gt.process.browser||!s||!s.importKey||!s.deriveBits)return Promise.resolve(!1);if(u[_]!==void 0)return u[_];n=n||i.alloc(8);var D=g(n,n,10,128,_).then(function(){return!0},function(){return!1});return u[_]=D,D}function M(_,D){_.then(function(R){f()(function(){D(null,R)})},function(R){f()(function(){D(R)})})}return ll=function(_,D,R,A,I,N){if(typeof I=="function"&&(N=I,I=void 0),e(R,A),_=a(_,t,"Password"),D=a(D,t,"Salt"),typeof N!="function")throw new Error("No callback provided to pbkdf2");I=I||"sha1";var $=c[I.toLowerCase()];if(!$||typeof Gt.Promise!="function"){f()(function(){var V;try{V=r(_,D,R,A,I)}catch(U){N(U);return}N(null,V)});return}M(b($).then(function(V){return V?g(_,D,R,A,$):r(_,D,R,A,I)}),N)},ll}var Z1;function Rb(){return Z1||(Z1=1,Lc.pbkdf2=fx(),Lc.pbkdf2Sync=Db()),Lc}var qr={},_i={},Pr={},Q1;function Tb(){if(Q1)return Pr;Q1=1,Pr.readUInt32BE=function(a,n){var s=a[0+n]<<24|a[1+n]<<16|a[2+n]<<8|a[3+n];return s>>>0},Pr.writeUInt32BE=function(a,n,s){a[0+s]=n>>>24,a[1+s]=n>>>16&255,a[2+s]=n>>>8&255,a[3+s]=n&255},Pr.ip=function(a,n,s,c){for(var u=0,h=0,f=6;f>=0;f-=2){for(var g=0;g<=24;g+=8)u<<=1,u|=n>>>g+f&1;for(var g=0;g<=24;g+=8)u<<=1,u|=a>>>g+f&1}for(var f=6;f>=0;f-=2){for(var g=1;g<=25;g+=8)h<<=1,h|=n>>>g+f&1;for(var g=1;g<=25;g+=8)h<<=1,h|=a>>>g+f&1}s[c+0]=u>>>0,s[c+1]=h>>>0},Pr.rip=function(a,n,s,c){for(var u=0,h=0,f=0;f<4;f++)for(var g=24;g>=0;g-=8)u<<=1,u|=n>>>g+f&1,u<<=1,u|=a>>>g+f&1;for(var f=4;f<8;f++)for(var g=24;g>=0;g-=8)h<<=1,h|=n>>>g+f&1,h<<=1,h|=a>>>g+f&1;s[c+0]=u>>>0,s[c+1]=h>>>0},Pr.pc1=function(a,n,s,c){for(var u=0,h=0,f=7;f>=5;f--){for(var g=0;g<=24;g+=8)u<<=1,u|=n>>g+f&1;for(var g=0;g<=24;g+=8)u<<=1,u|=a>>g+f&1}for(var g=0;g<=24;g+=8)u<<=1,u|=n>>g+f&1;for(var f=1;f<=3;f++){for(var g=0;g<=24;g+=8)h<<=1,h|=n>>g+f&1;for(var g=0;g<=24;g+=8)h<<=1,h|=a>>g+f&1}for(var g=0;g<=24;g+=8)h<<=1,h|=a>>g+f&1;s[c+0]=u>>>0,s[c+1]=h>>>0},Pr.r28shl=function(a,n){return a<<n&268435455|a>>>28-n};var i=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];Pr.pc2=function(a,n,s,c){for(var u=0,h=0,f=i.length>>>1,g=0;g<f;g++)u<<=1,u|=a>>>i[g]&1;for(var g=f;g<i.length;g++)h<<=1,h|=n>>>i[g]&1;s[c+0]=u>>>0,s[c+1]=h>>>0},Pr.expand=function(a,n,s){var c=0,u=0;c=(a&1)<<5|a>>>27;for(var h=23;h>=15;h-=4)c<<=6,c|=a>>>h&63;for(var h=11;h>=3;h-=4)u|=a>>>h&63,u<<=6;u|=(a&31)<<1|a>>>31,n[s+0]=c>>>0,n[s+1]=u>>>0};var e=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];Pr.substitute=function(a,n){for(var s=0,c=0;c<4;c++){var u=a>>>18-c*6&63,h=e[c*64+u];s<<=4,s|=h}for(var c=0;c<4;c++){var u=n>>>18-c*6&63,h=e[256+c*64+u];s<<=4,s|=h}return s>>>0};var t=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];return Pr.permute=function(a){for(var n=0,s=0;s<t.length;s++)n<<=1,n|=a>>>t[s]&1;return n>>>0},Pr.padSplit=function(a,n,s){for(var c=a.toString(2);c.length<n;)c="0"+c;for(var u=[],h=0;h<n;h+=s)u.push(c.slice(h,h+s));return u.join(" ")},Pr}var dl,ev;function Yr(){if(ev)return dl;ev=1,dl=i;function i(e,t){if(!e)throw new Error(t||"Assertion failed")}return i.equal=function(t,r,a){if(t!=r)throw new Error(a||"Assertion failed: "+t+" != "+r)},dl}var pl,tv;function vg(){if(tv)return pl;tv=1;var i=Yr();function e(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0,this.padding=t.padding!==!1}return pl=e,e.prototype._init=function(){},e.prototype.update=function(r){return r.length===0?[]:this.type==="decrypt"?this._updateDecrypt(r):this._updateEncrypt(r)},e.prototype._buffer=function(r,a){for(var n=Math.min(this.buffer.length-this.bufferOff,r.length-a),s=0;s<n;s++)this.buffer[this.bufferOff+s]=r[a+s];return this.bufferOff+=n,n},e.prototype._flushBuffer=function(r,a){return this._update(this.buffer,0,r,a),this.bufferOff=0,this.blockSize},e.prototype._updateEncrypt=function(r){var a=0,n=0,s=(this.bufferOff+r.length)/this.blockSize|0,c=new Array(s*this.blockSize);this.bufferOff!==0&&(a+=this._buffer(r,a),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(c,n)));for(var u=r.length-(r.length-a)%this.blockSize;a<u;a+=this.blockSize)this._update(r,a,c,n),n+=this.blockSize;for(;a<r.length;a++,this.bufferOff++)this.buffer[this.bufferOff]=r[a];return c},e.prototype._updateDecrypt=function(r){for(var a=0,n=0,s=Math.ceil((this.bufferOff+r.length)/this.blockSize)-1,c=new Array(s*this.blockSize);s>0;s--)a+=this._buffer(r,a),n+=this._flushBuffer(c,n);return a+=this._buffer(r,a),c},e.prototype.final=function(r){var a;r&&(a=this.update(r));var n;return this.type==="encrypt"?n=this._finalEncrypt():n=this._finalDecrypt(),a?a.concat(n):n},e.prototype._pad=function(r,a){if(a===0)return!1;for(;a<r.length;)r[a++]=0;return!0},e.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var r=new Array(this.blockSize);return this._update(this.buffer,0,r,0),r},e.prototype._unpad=function(r){return r},e.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var r=new Array(this.blockSize);return this._flushBuffer(r,0),this._unpad(r)},pl}var gl,rv;function Bb(){if(rv)return gl;rv=1;var i=Yr(),e=Ut(),t=Tb(),r=vg();function a(){this.tmp=new Array(2),this.keys=null}function n(c){r.call(this,c);var u=new a;this._desState=u,this.deriveKeys(u,c.key)}e(n,r),gl=n,n.create=function(u){return new n(u)};var s=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];return n.prototype.deriveKeys=function(u,h){u.keys=new Array(32),i.equal(h.length,this.blockSize,"Invalid key length");var f=t.readUInt32BE(h,0),g=t.readUInt32BE(h,4);t.pc1(f,g,u.tmp,0),f=u.tmp[0],g=u.tmp[1];for(var b=0;b<u.keys.length;b+=2){var M=s[b>>>1];f=t.r28shl(f,M),g=t.r28shl(g,M),t.pc2(f,g,u.keys,b)}},n.prototype._update=function(u,h,f,g){var b=this._desState,M=t.readUInt32BE(u,h),_=t.readUInt32BE(u,h+4);t.ip(M,_,b.tmp,0),M=b.tmp[0],_=b.tmp[1],this.type==="encrypt"?this._encrypt(b,M,_,b.tmp,0):this._decrypt(b,M,_,b.tmp,0),M=b.tmp[0],_=b.tmp[1],t.writeUInt32BE(f,M,g),t.writeUInt32BE(f,_,g+4)},n.prototype._pad=function(u,h){if(this.padding===!1)return!1;for(var f=u.length-h,g=h;g<u.length;g++)u[g]=f;return!0},n.prototype._unpad=function(u){if(this.padding===!1)return u;for(var h=u[u.length-1],f=u.length-h;f<u.length;f++)i.equal(u[f],h);return u.slice(0,u.length-h)},n.prototype._encrypt=function(u,h,f,g,b){for(var M=h,_=f,D=0;D<u.keys.length;D+=2){var R=u.keys[D],A=u.keys[D+1];t.expand(_,u.tmp,0),R^=u.tmp[0],A^=u.tmp[1];var I=t.substitute(R,A),N=t.permute(I),$=_;_=(M^N)>>>0,M=$}t.rip(_,M,g,b)},n.prototype._decrypt=function(u,h,f,g,b){for(var M=f,_=h,D=u.keys.length-2;D>=0;D-=2){var R=u.keys[D],A=u.keys[D+1];t.expand(M,u.tmp,0),R^=u.tmp[0],A^=u.tmp[1];var I=t.substitute(R,A),N=t.permute(I),$=M;M=(_^N)>>>0,_=$}t.rip(M,_,g,b)},gl}var ml={},nv;function hx(){if(nv)return ml;nv=1;var i=Yr(),e=Ut(),t={};function r(n){i.equal(n.length,8,"Invalid IV length"),this.iv=new Array(8);for(var s=0;s<this.iv.length;s++)this.iv[s]=n[s]}function a(n){function s(f){n.call(this,f),this._cbcInit()}e(s,n);for(var c=Object.keys(t),u=0;u<c.length;u++){var h=c[u];s.prototype[h]=t[h]}return s.create=function(g){return new s(g)},s}return ml.instantiate=a,t._cbcInit=function(){var s=new r(this.options.iv);this._cbcState=s},t._update=function(s,c,u,h){var f=this._cbcState,g=this.constructor.super_.prototype,b=f.iv;if(this.type==="encrypt"){for(var M=0;M<this.blockSize;M++)b[M]^=s[c+M];g._update.call(this,b,0,u,h);for(var M=0;M<this.blockSize;M++)b[M]=u[h+M]}else{g._update.call(this,s,c,u,h);for(var M=0;M<this.blockSize;M++)u[h+M]^=b[M];for(var M=0;M<this.blockSize;M++)b[M]=s[c+M]}},ml}var vl,iv;function ux(){if(iv)return vl;iv=1;var i=Yr(),e=Ut(),t=vg(),r=Bb();function a(s,c){i.equal(c.length,24,"Invalid key length");var u=c.slice(0,8),h=c.slice(8,16),f=c.slice(16,24);s==="encrypt"?this.ciphers=[r.create({type:"encrypt",key:u}),r.create({type:"decrypt",key:h}),r.create({type:"encrypt",key:f})]:this.ciphers=[r.create({type:"decrypt",key:f}),r.create({type:"encrypt",key:h}),r.create({type:"decrypt",key:u})]}function n(s){t.call(this,s);var c=new a(this.type,this.options.key);this._edeState=c}return e(n,t),vl=n,n.create=function(c){return new n(c)},n.prototype._update=function(c,u,h,f){var g=this._edeState;g.ciphers[0]._update(c,u,h,f),g.ciphers[1]._update(h,f,h,f),g.ciphers[2]._update(h,f,h,f)},n.prototype._pad=r.prototype._pad,n.prototype._unpad=r.prototype._unpad,vl}var av;function lx(){return av||(av=1,_i.utils=Tb(),_i.Cipher=vg(),_i.DES=Bb(),_i.CBC=hx(),_i.EDE=ux()),_i}var yl,ov;function dx(){if(ov)return yl;ov=1;var i=Si(),e=lx(),t=Ut(),r=Wt().Buffer,a={"des-ede3-cbc":e.CBC.instantiate(e.EDE),"des-ede3":e.EDE,"des-ede-cbc":e.CBC.instantiate(e.EDE),"des-ede":e.EDE,"des-cbc":e.CBC.instantiate(e.DES),"des-ecb":e.DES};a.des=a["des-cbc"],a.des3=a["des-ede3-cbc"],yl=n,t(n,i);function n(s){i.call(this);var c=s.mode.toLowerCase(),u=a[c],h;s.decrypt?h="decrypt":h="encrypt";var f=s.key;r.isBuffer(f)||(f=r.from(f)),(c==="des-ede"||c==="des-ede-cbc")&&(f=r.concat([f,f.slice(0,8)]));var g=s.iv;r.isBuffer(g)||(g=r.from(g)),this._des=u.create({key:f,iv:g,type:h})}return n.prototype._update=function(s){return r.from(this._des.update(s))},n.prototype._final=function(){return r.from(this._des.final())},yl}var Vr={},Uc={},$c={},sv;function px(){return sv||(sv=1,$c.encrypt=function(i,e){return i._cipher.encryptBlock(e)},$c.decrypt=function(i,e){return i._cipher.decryptBlock(e)}),$c}var qc={},yg={},$f={};$f.byteLength=vx;$f.toByteArray=wx;$f.fromByteArray=Sx;var Sn=[],jr=[],gx=typeof Uint8Array<"u"?Uint8Array:Array,wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Ra=0,mx=wl.length;Ra<mx;++Ra)Sn[Ra]=wl[Ra],jr[wl.charCodeAt(Ra)]=Ra;jr[45]=62;jr[95]=63;function Fb(i){var e=i.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=i.indexOf("=");t===-1&&(t=e);var r=t===e?0:4-t%4;return[t,r]}function vx(i){var e=Fb(i),t=e[0],r=e[1];return(t+r)*3/4-r}function yx(i,e,t){return(e+t)*3/4-t}function wx(i){var e,t=Fb(i),r=t[0],a=t[1],n=new gx(yx(i,r,a)),s=0,c=a>0?r-4:r,u;for(u=0;u<c;u+=4)e=jr[i.charCodeAt(u)]<<18|jr[i.charCodeAt(u+1)]<<12|jr[i.charCodeAt(u+2)]<<6|jr[i.charCodeAt(u+3)],n[s++]=e>>16&255,n[s++]=e>>8&255,n[s++]=e&255;return a===2&&(e=jr[i.charCodeAt(u)]<<2|jr[i.charCodeAt(u+1)]>>4,n[s++]=e&255),a===1&&(e=jr[i.charCodeAt(u)]<<10|jr[i.charCodeAt(u+1)]<<4|jr[i.charCodeAt(u+2)]>>2,n[s++]=e>>8&255,n[s++]=e&255),n}function bx(i){return Sn[i>>18&63]+Sn[i>>12&63]+Sn[i>>6&63]+Sn[i&63]}function xx(i,e,t){for(var r,a=[],n=e;n<t;n+=3)r=(i[n]<<16&16711680)+(i[n+1]<<8&65280)+(i[n+2]&255),a.push(bx(r));return a.join("")}function Sx(i){for(var e,t=i.length,r=t%3,a=[],n=16383,s=0,c=t-r;s<c;s+=n)a.push(xx(i,s,s+n>c?c:s+n));return r===1?(e=i[t-1],a.push(Sn[e>>2]+Sn[e<<4&63]+"==")):r===2&&(e=(i[t-2]<<8)+i[t-1],a.push(Sn[e>>10]+Sn[e>>4&63]+Sn[e<<2&63]+"=")),a.join("")}var wg={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wg.read=function(i,e,t,r,a){var n,s,c=a*8-r-1,u=(1<<c)-1,h=u>>1,f=-7,g=t?a-1:0,b=t?-1:1,M=i[e+g];for(g+=b,n=M&(1<<-f)-1,M>>=-f,f+=c;f>0;n=n*256+i[e+g],g+=b,f-=8);for(s=n&(1<<-f)-1,n>>=-f,f+=r;f>0;s=s*256+i[e+g],g+=b,f-=8);if(n===0)n=1-h;else{if(n===u)return s?NaN:(M?-1:1)*(1/0);s=s+Math.pow(2,r),n=n-h}return(M?-1:1)*s*Math.pow(2,n-r)};wg.write=function(i,e,t,r,a,n){var s,c,u,h=n*8-a-1,f=(1<<h)-1,g=f>>1,b=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,M=r?0:n-1,_=r?1:-1,D=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,s=f):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),s+g>=1?e+=b/u:e+=b*Math.pow(2,1-g),e*u>=2&&(s++,u/=2),s+g>=f?(c=0,s=f):s+g>=1?(c=(e*u-1)*Math.pow(2,a),s=s+g):(c=e*Math.pow(2,g-1)*Math.pow(2,a),s=0));a>=8;i[t+M]=c&255,M+=_,c/=256,a-=8);for(s=s<<a|c,h+=a;h>0;i[t+M]=s&255,M+=_,s/=256,h-=8);i[t+M-_]|=D*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(i){const e=$f,t=wg,r=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;i.Buffer=f,i.SlowBuffer=V,i.INSPECT_MAX_BYTES=50;const a=2147483647;i.kMaxLength=a;const{Uint8Array:n,ArrayBuffer:s,SharedArrayBuffer:c}=globalThis;f.TYPED_ARRAY_SUPPORT=u(),!f.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function u(){try{const X=new n(1),q={foo:function(){return 42}};return Object.setPrototypeOf(q,n.prototype),Object.setPrototypeOf(X,q),X.foo()===42}catch{return!1}}Object.defineProperty(f.prototype,"parent",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.buffer}}),Object.defineProperty(f.prototype,"offset",{enumerable:!0,get:function(){if(f.isBuffer(this))return this.byteOffset}});function h(X){if(X>a)throw new RangeError('The value "'+X+'" is invalid for option "size"');const q=new n(X);return Object.setPrototypeOf(q,f.prototype),q}function f(X,q,j){if(typeof X=="number"){if(typeof q=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return _(X)}return g(X,q,j)}f.poolSize=8192;function g(X,q,j){if(typeof X=="string")return D(X,q);if(s.isView(X))return A(X);if(X==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X);if(Ye(X,s)||X&&Ye(X.buffer,s)||typeof c<"u"&&(Ye(X,c)||X&&Ye(X.buffer,c)))return I(X,q,j);if(typeof X=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const ae=X.valueOf&&X.valueOf();if(ae!=null&&ae!==X)return f.from(ae,q,j);const xe=N(X);if(xe)return xe;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof X[Symbol.toPrimitive]=="function")return f.from(X[Symbol.toPrimitive]("string"),q,j);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof X)}f.from=function(X,q,j){return g(X,q,j)},Object.setPrototypeOf(f.prototype,n.prototype),Object.setPrototypeOf(f,n);function b(X){if(typeof X!="number")throw new TypeError('"size" argument must be of type number');if(X<0)throw new RangeError('The value "'+X+'" is invalid for option "size"')}function M(X,q,j){return b(X),X<=0?h(X):q!==void 0?typeof j=="string"?h(X).fill(q,j):h(X).fill(q):h(X)}f.alloc=function(X,q,j){return M(X,q,j)};function _(X){return b(X),h(X<0?0:$(X)|0)}f.allocUnsafe=function(X){return _(X)},f.allocUnsafeSlow=function(X){return _(X)};function D(X,q){if((typeof q!="string"||q==="")&&(q="utf8"),!f.isEncoding(q))throw new TypeError("Unknown encoding: "+q);const j=U(X,q)|0;let ae=h(j);const xe=ae.write(X,q);return xe!==j&&(ae=ae.slice(0,xe)),ae}function R(X){const q=X.length<0?0:$(X.length)|0,j=h(q);for(let ae=0;ae<q;ae+=1)j[ae]=X[ae]&255;return j}function A(X){if(Ye(X,n)){const q=new n(X);return I(q.buffer,q.byteOffset,q.byteLength)}return R(X)}function I(X,q,j){if(q<0||X.byteLength<q)throw new RangeError('"offset" is outside of buffer bounds');if(X.byteLength<q+(j||0))throw new RangeError('"length" is outside of buffer bounds');let ae;return q===void 0&&j===void 0?ae=new n(X):j===void 0?ae=new n(X,q):ae=new n(X,q,j),Object.setPrototypeOf(ae,f.prototype),ae}function N(X){if(f.isBuffer(X)){const q=$(X.length)|0,j=h(q);return j.length===0||X.copy(j,0,0,q),j}if(X.length!==void 0)return typeof X.length!="number"||Xe(X.length)?h(0):R(X);if(X.type==="Buffer"&&Array.isArray(X.data))return R(X.data)}function $(X){if(X>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return X|0}function V(X){return+X!=X&&(X=0),f.alloc(+X)}f.isBuffer=function(q){return q!=null&&q._isBuffer===!0&&q!==f.prototype},f.compare=function(q,j){if(Ye(q,n)&&(q=f.from(q,q.offset,q.byteLength)),Ye(j,n)&&(j=f.from(j,j.offset,j.byteLength)),!f.isBuffer(q)||!f.isBuffer(j))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(q===j)return 0;let ae=q.length,xe=j.length;for(let Se=0,_e=Math.min(ae,xe);Se<_e;++Se)if(q[Se]!==j[Se]){ae=q[Se],xe=j[Se];break}return ae<xe?-1:xe<ae?1:0},f.isEncoding=function(q){switch(String(q).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},f.concat=function(q,j){if(!Array.isArray(q))throw new TypeError('"list" argument must be an Array of Buffers');if(q.length===0)return f.alloc(0);let ae;if(j===void 0)for(j=0,ae=0;ae<q.length;++ae)j+=q[ae].length;const xe=f.allocUnsafe(j);let Se=0;for(ae=0;ae<q.length;++ae){let _e=q[ae];if(Ye(_e,n))Se+_e.length>xe.length?(f.isBuffer(_e)||(_e=f.from(_e)),_e.copy(xe,Se)):n.prototype.set.call(xe,_e,Se);else if(f.isBuffer(_e))_e.copy(xe,Se);else throw new TypeError('"list" argument must be an Array of Buffers');Se+=_e.length}return xe};function U(X,q){if(f.isBuffer(X))return X.length;if(s.isView(X)||Ye(X,s))return X.byteLength;if(typeof X!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof X);const j=X.length,ae=arguments.length>2&&arguments[2]===!0;if(!ae&&j===0)return 0;let xe=!1;for(;;)switch(q){case"ascii":case"latin1":case"binary":return j;case"utf8":case"utf-8":return we(X).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return j*2;case"hex":return j>>>1;case"base64":return Re(X).length;default:if(xe)return ae?-1:we(X).length;q=(""+q).toLowerCase(),xe=!0}}f.byteLength=U;function J(X,q,j){let ae=!1;if((q===void 0||q<0)&&(q=0),q>this.length||((j===void 0||j>this.length)&&(j=this.length),j<=0)||(j>>>=0,q>>>=0,j<=q))return"";for(X||(X="utf8");;)switch(X){case"hex":return w(this,q,j);case"utf8":case"utf-8":return x(this,q,j);case"ascii":return y(this,q,j);case"latin1":case"binary":return k(this,q,j);case"base64":return S(this,q,j);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return T(this,q,j);default:if(ae)throw new TypeError("Unknown encoding: "+X);X=(X+"").toLowerCase(),ae=!0}}f.prototype._isBuffer=!0;function Y(X,q,j){const ae=X[q];X[q]=X[j],X[j]=ae}f.prototype.swap16=function(){const q=this.length;if(q%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let j=0;j<q;j+=2)Y(this,j,j+1);return this},f.prototype.swap32=function(){const q=this.length;if(q%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let j=0;j<q;j+=4)Y(this,j,j+3),Y(this,j+1,j+2);return this},f.prototype.swap64=function(){const q=this.length;if(q%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let j=0;j<q;j+=8)Y(this,j,j+7),Y(this,j+1,j+6),Y(this,j+2,j+5),Y(this,j+3,j+4);return this},f.prototype.toString=function(){const q=this.length;return q===0?"":arguments.length===0?x(this,0,q):J.apply(this,arguments)},f.prototype.toLocaleString=f.prototype.toString,f.prototype.equals=function(q){if(!f.isBuffer(q))throw new TypeError("Argument must be a Buffer");return this===q?!0:f.compare(this,q)===0},f.prototype.inspect=function(){let q="";const j=i.INSPECT_MAX_BYTES;return q=this.toString("hex",0,j).replace(/(.{2})/g,"$1 ").trim(),this.length>j&&(q+=" ... "),"<Buffer "+q+">"},r&&(f.prototype[r]=f.prototype.inspect),f.prototype.compare=function(q,j,ae,xe,Se){if(Ye(q,n)&&(q=f.from(q,q.offset,q.byteLength)),!f.isBuffer(q))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof q);if(j===void 0&&(j=0),ae===void 0&&(ae=q?q.length:0),xe===void 0&&(xe=0),Se===void 0&&(Se=this.length),j<0||ae>q.length||xe<0||Se>this.length)throw new RangeError("out of range index");if(xe>=Se&&j>=ae)return 0;if(xe>=Se)return-1;if(j>=ae)return 1;if(j>>>=0,ae>>>=0,xe>>>=0,Se>>>=0,this===q)return 0;let _e=Se-xe,Ze=ae-j;const Qe=Math.min(_e,Ze),je=this.slice(xe,Se),vt=q.slice(j,ae);for(let et=0;et<Qe;++et)if(je[et]!==vt[et]){_e=je[et],Ze=vt[et];break}return _e<Ze?-1:Ze<_e?1:0};function oe(X,q,j,ae,xe){if(X.length===0)return-1;if(typeof j=="string"?(ae=j,j=0):j>2147483647?j=2147483647:j<-2147483648&&(j=-2147483648),j=+j,Xe(j)&&(j=xe?0:X.length-1),j<0&&(j=X.length+j),j>=X.length){if(xe)return-1;j=X.length-1}else if(j<0)if(xe)j=0;else return-1;if(typeof q=="string"&&(q=f.from(q,ae)),f.isBuffer(q))return q.length===0?-1:G(X,q,j,ae,xe);if(typeof q=="number")return q=q&255,typeof n.prototype.indexOf=="function"?xe?n.prototype.indexOf.call(X,q,j):n.prototype.lastIndexOf.call(X,q,j):G(X,[q],j,ae,xe);throw new TypeError("val must be string, number or Buffer")}function G(X,q,j,ae,xe){let Se=1,_e=X.length,Ze=q.length;if(ae!==void 0&&(ae=String(ae).toLowerCase(),ae==="ucs2"||ae==="ucs-2"||ae==="utf16le"||ae==="utf-16le")){if(X.length<2||q.length<2)return-1;Se=2,_e/=2,Ze/=2,j/=2}function Qe(vt,et){return Se===1?vt[et]:vt.readUInt16BE(et*Se)}let je;if(xe){let vt=-1;for(je=j;je<_e;je++)if(Qe(X,je)===Qe(q,vt===-1?0:je-vt)){if(vt===-1&&(vt=je),je-vt+1===Ze)return vt*Se}else vt!==-1&&(je-=je-vt),vt=-1}else for(j+Ze>_e&&(j=_e-Ze),je=j;je>=0;je--){let vt=!0;for(let et=0;et<Ze;et++)if(Qe(X,je+et)!==Qe(q,et)){vt=!1;break}if(vt)return je}return-1}f.prototype.includes=function(q,j,ae){return this.indexOf(q,j,ae)!==-1},f.prototype.indexOf=function(q,j,ae){return oe(this,q,j,ae,!0)},f.prototype.lastIndexOf=function(q,j,ae){return oe(this,q,j,ae,!1)};function E(X,q,j,ae){j=Number(j)||0;const xe=X.length-j;ae?(ae=Number(ae),ae>xe&&(ae=xe)):ae=xe;const Se=q.length;ae>Se/2&&(ae=Se/2);let _e;for(_e=0;_e<ae;++_e){const Ze=parseInt(q.substr(_e*2,2),16);if(Xe(Ze))return _e;X[j+_e]=Ze}return _e}function d(X,q,j,ae){return Oe(we(q,X.length-j),X,j,ae)}function p(X,q,j,ae){return Oe(Me(q),X,j,ae)}function o(X,q,j,ae){return Oe(Re(q),X,j,ae)}function l(X,q,j,ae){return Oe(Ne(q,X.length-j),X,j,ae)}f.prototype.write=function(q,j,ae,xe){if(j===void 0)xe="utf8",ae=this.length,j=0;else if(ae===void 0&&typeof j=="string")xe=j,ae=this.length,j=0;else if(isFinite(j))j=j>>>0,isFinite(ae)?(ae=ae>>>0,xe===void 0&&(xe="utf8")):(xe=ae,ae=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const Se=this.length-j;if((ae===void 0||ae>Se)&&(ae=Se),q.length>0&&(ae<0||j<0)||j>this.length)throw new RangeError("Attempt to write outside buffer bounds");xe||(xe="utf8");let _e=!1;for(;;)switch(xe){case"hex":return E(this,q,j,ae);case"utf8":case"utf-8":return d(this,q,j,ae);case"ascii":case"latin1":case"binary":return p(this,q,j,ae);case"base64":return o(this,q,j,ae);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return l(this,q,j,ae);default:if(_e)throw new TypeError("Unknown encoding: "+xe);xe=(""+xe).toLowerCase(),_e=!0}},f.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function S(X,q,j){return q===0&&j===X.length?e.fromByteArray(X):e.fromByteArray(X.slice(q,j))}function x(X,q,j){j=Math.min(X.length,j);const ae=[];let xe=q;for(;xe<j;){const Se=X[xe];let _e=null,Ze=Se>239?4:Se>223?3:Se>191?2:1;if(xe+Ze<=j){let Qe,je,vt,et;switch(Ze){case 1:Se<128&&(_e=Se);break;case 2:Qe=X[xe+1],(Qe&192)===128&&(et=(Se&31)<<6|Qe&63,et>127&&(_e=et));break;case 3:Qe=X[xe+1],je=X[xe+2],(Qe&192)===128&&(je&192)===128&&(et=(Se&15)<<12|(Qe&63)<<6|je&63,et>2047&&(et<55296||et>57343)&&(_e=et));break;case 4:Qe=X[xe+1],je=X[xe+2],vt=X[xe+3],(Qe&192)===128&&(je&192)===128&&(vt&192)===128&&(et=(Se&15)<<18|(Qe&63)<<12|(je&63)<<6|vt&63,et>65535&&et<1114112&&(_e=et))}}_e===null?(_e=65533,Ze=1):_e>65535&&(_e-=65536,ae.push(_e>>>10&1023|55296),_e=56320|_e&1023),ae.push(_e),xe+=Ze}return m(ae)}const v=4096;function m(X){const q=X.length;if(q<=v)return String.fromCharCode.apply(String,X);let j="",ae=0;for(;ae<q;)j+=String.fromCharCode.apply(String,X.slice(ae,ae+=v));return j}function y(X,q,j){let ae="";j=Math.min(X.length,j);for(let xe=q;xe<j;++xe)ae+=String.fromCharCode(X[xe]&127);return ae}function k(X,q,j){let ae="";j=Math.min(X.length,j);for(let xe=q;xe<j;++xe)ae+=String.fromCharCode(X[xe]);return ae}function w(X,q,j){const ae=X.length;(!q||q<0)&&(q=0),(!j||j<0||j>ae)&&(j=ae);let xe="";for(let Se=q;Se<j;++Se)xe+=qe[X[Se]];return xe}function T(X,q,j){const ae=X.slice(q,j);let xe="";for(let Se=0;Se<ae.length-1;Se+=2)xe+=String.fromCharCode(ae[Se]+ae[Se+1]*256);return xe}f.prototype.slice=function(q,j){const ae=this.length;q=~~q,j=j===void 0?ae:~~j,q<0?(q+=ae,q<0&&(q=0)):q>ae&&(q=ae),j<0?(j+=ae,j<0&&(j=0)):j>ae&&(j=ae),j<q&&(j=q);const xe=this.subarray(q,j);return Object.setPrototypeOf(xe,f.prototype),xe};function ie(X,q,j){if(X%1!==0||X<0)throw new RangeError("offset is not uint");if(X+q>j)throw new RangeError("Trying to access beyond buffer length")}f.prototype.readUintLE=f.prototype.readUIntLE=function(q,j,ae){q=q>>>0,j=j>>>0,ae||ie(q,j,this.length);let xe=this[q],Se=1,_e=0;for(;++_e<j&&(Se*=256);)xe+=this[q+_e]*Se;return xe},f.prototype.readUintBE=f.prototype.readUIntBE=function(q,j,ae){q=q>>>0,j=j>>>0,ae||ie(q,j,this.length);let xe=this[q+--j],Se=1;for(;j>0&&(Se*=256);)xe+=this[q+--j]*Se;return xe},f.prototype.readUint8=f.prototype.readUInt8=function(q,j){return q=q>>>0,j||ie(q,1,this.length),this[q]},f.prototype.readUint16LE=f.prototype.readUInt16LE=function(q,j){return q=q>>>0,j||ie(q,2,this.length),this[q]|this[q+1]<<8},f.prototype.readUint16BE=f.prototype.readUInt16BE=function(q,j){return q=q>>>0,j||ie(q,2,this.length),this[q]<<8|this[q+1]},f.prototype.readUint32LE=f.prototype.readUInt32LE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),(this[q]|this[q+1]<<8|this[q+2]<<16)+this[q+3]*16777216},f.prototype.readUint32BE=f.prototype.readUInt32BE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),this[q]*16777216+(this[q+1]<<16|this[q+2]<<8|this[q+3])},f.prototype.readBigUInt64LE=ct(function(q){q=q>>>0,Ee(q,"offset");const j=this[q],ae=this[q+7];(j===void 0||ae===void 0)&&me(q,this.length-8);const xe=j+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24,Se=this[++q]+this[++q]*2**8+this[++q]*2**16+ae*2**24;return BigInt(xe)+(BigInt(Se)<<BigInt(32))}),f.prototype.readBigUInt64BE=ct(function(q){q=q>>>0,Ee(q,"offset");const j=this[q],ae=this[q+7];(j===void 0||ae===void 0)&&me(q,this.length-8);const xe=j*2**24+this[++q]*2**16+this[++q]*2**8+this[++q],Se=this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+ae;return(BigInt(xe)<<BigInt(32))+BigInt(Se)}),f.prototype.readIntLE=function(q,j,ae){q=q>>>0,j=j>>>0,ae||ie(q,j,this.length);let xe=this[q],Se=1,_e=0;for(;++_e<j&&(Se*=256);)xe+=this[q+_e]*Se;return Se*=128,xe>=Se&&(xe-=Math.pow(2,8*j)),xe},f.prototype.readIntBE=function(q,j,ae){q=q>>>0,j=j>>>0,ae||ie(q,j,this.length);let xe=j,Se=1,_e=this[q+--xe];for(;xe>0&&(Se*=256);)_e+=this[q+--xe]*Se;return Se*=128,_e>=Se&&(_e-=Math.pow(2,8*j)),_e},f.prototype.readInt8=function(q,j){return q=q>>>0,j||ie(q,1,this.length),this[q]&128?(255-this[q]+1)*-1:this[q]},f.prototype.readInt16LE=function(q,j){q=q>>>0,j||ie(q,2,this.length);const ae=this[q]|this[q+1]<<8;return ae&32768?ae|4294901760:ae},f.prototype.readInt16BE=function(q,j){q=q>>>0,j||ie(q,2,this.length);const ae=this[q+1]|this[q]<<8;return ae&32768?ae|4294901760:ae},f.prototype.readInt32LE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),this[q]|this[q+1]<<8|this[q+2]<<16|this[q+3]<<24},f.prototype.readInt32BE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),this[q]<<24|this[q+1]<<16|this[q+2]<<8|this[q+3]},f.prototype.readBigInt64LE=ct(function(q){q=q>>>0,Ee(q,"offset");const j=this[q],ae=this[q+7];(j===void 0||ae===void 0)&&me(q,this.length-8);const xe=this[q+4]+this[q+5]*2**8+this[q+6]*2**16+(ae<<24);return(BigInt(xe)<<BigInt(32))+BigInt(j+this[++q]*2**8+this[++q]*2**16+this[++q]*2**24)}),f.prototype.readBigInt64BE=ct(function(q){q=q>>>0,Ee(q,"offset");const j=this[q],ae=this[q+7];(j===void 0||ae===void 0)&&me(q,this.length-8);const xe=(j<<24)+this[++q]*2**16+this[++q]*2**8+this[++q];return(BigInt(xe)<<BigInt(32))+BigInt(this[++q]*2**24+this[++q]*2**16+this[++q]*2**8+ae)}),f.prototype.readFloatLE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),t.read(this,q,!0,23,4)},f.prototype.readFloatBE=function(q,j){return q=q>>>0,j||ie(q,4,this.length),t.read(this,q,!1,23,4)},f.prototype.readDoubleLE=function(q,j){return q=q>>>0,j||ie(q,8,this.length),t.read(this,q,!0,52,8)},f.prototype.readDoubleBE=function(q,j){return q=q>>>0,j||ie(q,8,this.length),t.read(this,q,!1,52,8)};function ve(X,q,j,ae,xe,Se){if(!f.isBuffer(X))throw new TypeError('"buffer" argument must be a Buffer instance');if(q>xe||q<Se)throw new RangeError('"value" argument is out of bounds');if(j+ae>X.length)throw new RangeError("Index out of range")}f.prototype.writeUintLE=f.prototype.writeUIntLE=function(q,j,ae,xe){if(q=+q,j=j>>>0,ae=ae>>>0,!xe){const Ze=Math.pow(2,8*ae)-1;ve(this,q,j,ae,Ze,0)}let Se=1,_e=0;for(this[j]=q&255;++_e<ae&&(Se*=256);)this[j+_e]=q/Se&255;return j+ae},f.prototype.writeUintBE=f.prototype.writeUIntBE=function(q,j,ae,xe){if(q=+q,j=j>>>0,ae=ae>>>0,!xe){const Ze=Math.pow(2,8*ae)-1;ve(this,q,j,ae,Ze,0)}let Se=ae-1,_e=1;for(this[j+Se]=q&255;--Se>=0&&(_e*=256);)this[j+Se]=q/_e&255;return j+ae},f.prototype.writeUint8=f.prototype.writeUInt8=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,1,255,0),this[j]=q&255,j+1},f.prototype.writeUint16LE=f.prototype.writeUInt16LE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,2,65535,0),this[j]=q&255,this[j+1]=q>>>8,j+2},f.prototype.writeUint16BE=f.prototype.writeUInt16BE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,2,65535,0),this[j]=q>>>8,this[j+1]=q&255,j+2},f.prototype.writeUint32LE=f.prototype.writeUInt32LE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,4,4294967295,0),this[j+3]=q>>>24,this[j+2]=q>>>16,this[j+1]=q>>>8,this[j]=q&255,j+4},f.prototype.writeUint32BE=f.prototype.writeUInt32BE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,4,4294967295,0),this[j]=q>>>24,this[j+1]=q>>>16,this[j+2]=q>>>8,this[j+3]=q&255,j+4};function ce(X,q,j,ae,xe){ge(q,ae,xe,X,j,7);let Se=Number(q&BigInt(4294967295));X[j++]=Se,Se=Se>>8,X[j++]=Se,Se=Se>>8,X[j++]=Se,Se=Se>>8,X[j++]=Se;let _e=Number(q>>BigInt(32)&BigInt(4294967295));return X[j++]=_e,_e=_e>>8,X[j++]=_e,_e=_e>>8,X[j++]=_e,_e=_e>>8,X[j++]=_e,j}function C(X,q,j,ae,xe){ge(q,ae,xe,X,j,7);let Se=Number(q&BigInt(4294967295));X[j+7]=Se,Se=Se>>8,X[j+6]=Se,Se=Se>>8,X[j+5]=Se,Se=Se>>8,X[j+4]=Se;let _e=Number(q>>BigInt(32)&BigInt(4294967295));return X[j+3]=_e,_e=_e>>8,X[j+2]=_e,_e=_e>>8,X[j+1]=_e,_e=_e>>8,X[j]=_e,j+8}f.prototype.writeBigUInt64LE=ct(function(q,j=0){return ce(this,q,j,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeBigUInt64BE=ct(function(q,j=0){return C(this,q,j,BigInt(0),BigInt("0xffffffffffffffff"))}),f.prototype.writeIntLE=function(q,j,ae,xe){if(q=+q,j=j>>>0,!xe){const Qe=Math.pow(2,8*ae-1);ve(this,q,j,ae,Qe-1,-Qe)}let Se=0,_e=1,Ze=0;for(this[j]=q&255;++Se<ae&&(_e*=256);)q<0&&Ze===0&&this[j+Se-1]!==0&&(Ze=1),this[j+Se]=(q/_e>>0)-Ze&255;return j+ae},f.prototype.writeIntBE=function(q,j,ae,xe){if(q=+q,j=j>>>0,!xe){const Qe=Math.pow(2,8*ae-1);ve(this,q,j,ae,Qe-1,-Qe)}let Se=ae-1,_e=1,Ze=0;for(this[j+Se]=q&255;--Se>=0&&(_e*=256);)q<0&&Ze===0&&this[j+Se+1]!==0&&(Ze=1),this[j+Se]=(q/_e>>0)-Ze&255;return j+ae},f.prototype.writeInt8=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,1,127,-128),q<0&&(q=255+q+1),this[j]=q&255,j+1},f.prototype.writeInt16LE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,2,32767,-32768),this[j]=q&255,this[j+1]=q>>>8,j+2},f.prototype.writeInt16BE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,2,32767,-32768),this[j]=q>>>8,this[j+1]=q&255,j+2},f.prototype.writeInt32LE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,4,2147483647,-2147483648),this[j]=q&255,this[j+1]=q>>>8,this[j+2]=q>>>16,this[j+3]=q>>>24,j+4},f.prototype.writeInt32BE=function(q,j,ae){return q=+q,j=j>>>0,ae||ve(this,q,j,4,2147483647,-2147483648),q<0&&(q=4294967295+q+1),this[j]=q>>>24,this[j+1]=q>>>16,this[j+2]=q>>>8,this[j+3]=q&255,j+4},f.prototype.writeBigInt64LE=ct(function(q,j=0){return ce(this,q,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),f.prototype.writeBigInt64BE=ct(function(q,j=0){return C(this,q,j,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function B(X,q,j,ae,xe,Se){if(j+ae>X.length)throw new RangeError("Index out of range");if(j<0)throw new RangeError("Index out of range")}function ee(X,q,j,ae,xe){return q=+q,j=j>>>0,xe||B(X,q,j,4),t.write(X,q,j,ae,23,4),j+4}f.prototype.writeFloatLE=function(q,j,ae){return ee(this,q,j,!0,ae)},f.prototype.writeFloatBE=function(q,j,ae){return ee(this,q,j,!1,ae)};function z(X,q,j,ae,xe){return q=+q,j=j>>>0,xe||B(X,q,j,8),t.write(X,q,j,ae,52,8),j+8}f.prototype.writeDoubleLE=function(q,j,ae){return z(this,q,j,!0,ae)},f.prototype.writeDoubleBE=function(q,j,ae){return z(this,q,j,!1,ae)},f.prototype.copy=function(q,j,ae,xe){if(!f.isBuffer(q))throw new TypeError("argument should be a Buffer");if(ae||(ae=0),!xe&&xe!==0&&(xe=this.length),j>=q.length&&(j=q.length),j||(j=0),xe>0&&xe<ae&&(xe=ae),xe===ae||q.length===0||this.length===0)return 0;if(j<0)throw new RangeError("targetStart out of bounds");if(ae<0||ae>=this.length)throw new RangeError("Index out of range");if(xe<0)throw new RangeError("sourceEnd out of bounds");xe>this.length&&(xe=this.length),q.length-j<xe-ae&&(xe=q.length-j+ae);const Se=xe-ae;return this===q&&typeof n.prototype.copyWithin=="function"?this.copyWithin(j,ae,xe):n.prototype.set.call(q,this.subarray(ae,xe),j),Se},f.prototype.fill=function(q,j,ae,xe){if(typeof q=="string"){if(typeof j=="string"?(xe=j,j=0,ae=this.length):typeof ae=="string"&&(xe=ae,ae=this.length),xe!==void 0&&typeof xe!="string")throw new TypeError("encoding must be a string");if(typeof xe=="string"&&!f.isEncoding(xe))throw new TypeError("Unknown encoding: "+xe);if(q.length===1){const _e=q.charCodeAt(0);(xe==="utf8"&&_e<128||xe==="latin1")&&(q=_e)}}else typeof q=="number"?q=q&255:typeof q=="boolean"&&(q=Number(q));if(j<0||this.length<j||this.length<ae)throw new RangeError("Out of range index");if(ae<=j)return this;j=j>>>0,ae=ae===void 0?this.length:ae>>>0,q||(q=0);let Se;if(typeof q=="number")for(Se=j;Se<ae;++Se)this[Se]=q;else{const _e=f.isBuffer(q)?q:f.from(q,xe),Ze=_e.length;if(Ze===0)throw new TypeError('The value "'+q+'" is invalid for argument "value"');for(Se=0;Se<ae-j;++Se)this[Se+j]=_e[Se%Ze]}return this};const P={};function O(X,q,j){P[X]=class extends j{constructor(){super(),Object.defineProperty(this,"message",{value:q.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${X}]`,this.stack,delete this.name}get code(){return X}set code(xe){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:xe,writable:!0})}toString(){return`${this.name} [${X}]: ${this.message}`}}}O("ERR_BUFFER_OUT_OF_BOUNDS",function(X){return X?`${X} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),O("ERR_INVALID_ARG_TYPE",function(X,q){return`The "${X}" argument must be of type number. Received type ${typeof q}`},TypeError),O("ERR_OUT_OF_RANGE",function(X,q,j){let ae=`The value of "${X}" is out of range.`,xe=j;return Number.isInteger(j)&&Math.abs(j)>2**32?xe=se(String(j)):typeof j=="bigint"&&(xe=String(j),(j>BigInt(2)**BigInt(32)||j<-(BigInt(2)**BigInt(32)))&&(xe=se(xe)),xe+="n"),ae+=` It must be ${q}. Received ${xe}`,ae},RangeError);function se(X){let q="",j=X.length;const ae=X[0]==="-"?1:0;for(;j>=ae+4;j-=3)q=`_${X.slice(j-3,j)}${q}`;return`${X.slice(0,j)}${q}`}function le(X,q,j){Ee(q,"offset"),(X[q]===void 0||X[q+j]===void 0)&&me(q,X.length-(j+1))}function ge(X,q,j,ae,xe,Se){if(X>j||X<q){const _e=typeof q=="bigint"?"n":"";let Ze;throw q===0||q===BigInt(0)?Ze=`>= 0${_e} and < 2${_e} ** ${(Se+1)*8}${_e}`:Ze=`>= -(2${_e} ** ${(Se+1)*8-1}${_e}) and < 2 ** ${(Se+1)*8-1}${_e}`,new P.ERR_OUT_OF_RANGE("value",Ze,X)}le(ae,xe,Se)}function Ee(X,q){if(typeof X!="number")throw new P.ERR_INVALID_ARG_TYPE(q,"number",X)}function me(X,q,j){throw Math.floor(X)!==X?(Ee(X,j),new P.ERR_OUT_OF_RANGE("offset","an integer",X)):q<0?new P.ERR_BUFFER_OUT_OF_BOUNDS:new P.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${q}`,X)}const ye=/[^+/0-9A-Za-z-_]/g;function Te(X){if(X=X.split("=")[0],X=X.trim().replace(ye,""),X.length<2)return"";for(;X.length%4!==0;)X=X+"=";return X}function we(X,q){q=q||1/0;let j;const ae=X.length;let xe=null;const Se=[];for(let _e=0;_e<ae;++_e){if(j=X.charCodeAt(_e),j>55295&&j<57344){if(!xe){if(j>56319){(q-=3)>-1&&Se.push(239,191,189);continue}else if(_e+1===ae){(q-=3)>-1&&Se.push(239,191,189);continue}xe=j;continue}if(j<56320){(q-=3)>-1&&Se.push(239,191,189),xe=j;continue}j=(xe-55296<<10|j-56320)+65536}else xe&&(q-=3)>-1&&Se.push(239,191,189);if(xe=null,j<128){if((q-=1)<0)break;Se.push(j)}else if(j<2048){if((q-=2)<0)break;Se.push(j>>6|192,j&63|128)}else if(j<65536){if((q-=3)<0)break;Se.push(j>>12|224,j>>6&63|128,j&63|128)}else if(j<1114112){if((q-=4)<0)break;Se.push(j>>18|240,j>>12&63|128,j>>6&63|128,j&63|128)}else throw new Error("Invalid code point")}return Se}function Me(X){const q=[];for(let j=0;j<X.length;++j)q.push(X.charCodeAt(j)&255);return q}function Ne(X,q){let j,ae,xe;const Se=[];for(let _e=0;_e<X.length&&!((q-=2)<0);++_e)j=X.charCodeAt(_e),ae=j>>8,xe=j%256,Se.push(xe),Se.push(ae);return Se}function Re(X){return e.toByteArray(Te(X))}function Oe(X,q,j,ae){let xe;for(xe=0;xe<ae&&!(xe+j>=q.length||xe>=X.length);++xe)q[xe+j]=X[xe];return xe}function Ye(X,q){return X instanceof q||X!=null&&X.constructor!=null&&X.constructor.name!=null&&X.constructor.name===q.name}function Xe(X){return X!==X}const qe=(function(){const X="0123456789abcdef",q=new Array(256);for(let j=0;j<16;++j){const ae=j*16;for(let xe=0;xe<16;++xe)q[ae+xe]=X[j]+X[xe]}return q})();function ct(X){return typeof BigInt>"u"?rt:X}function rt(){throw new Error("BigInt not supported")}})(yg);const Xt=yg.Buffer,HM=yg.Buffer;var bl,cv;function xc(){return cv||(cv=1,bl=function(e,t){for(var r=Math.min(e.length,t.length),a=new Xt(r),n=0;n<r;++n)a[n]=e[n]^t[n];return a}),bl}var fv;function Ex(){if(fv)return qc;fv=1;var i=xc();return qc.encrypt=function(e,t){var r=i(t,e._prev);return e._prev=e._cipher.encryptBlock(r),e._prev},qc.decrypt=function(e,t){var r=e._prev;e._prev=t;var a=e._cipher.decryptBlock(t);return i(a,r)},qc}var xl={},hv;function Mx(){if(hv)return xl;hv=1;var i=Wt().Buffer,e=xc();function t(r,a,n){var s=a.length,c=e(a,r._cache);return r._cache=r._cache.slice(s),r._prev=i.concat([r._prev,n?a:c]),c}return xl.encrypt=function(r,a,n){for(var s=i.allocUnsafe(0),c;a.length;)if(r._cache.length===0&&(r._cache=r._cipher.encryptBlock(r._prev),r._prev=i.allocUnsafe(0)),r._cache.length<=a.length)c=r._cache.length,s=i.concat([s,t(r,a.slice(0,c),n)]),a=a.slice(c);else{s=i.concat([s,t(r,a,n)]);break}return s},xl}var Sl={},uv;function _x(){if(uv)return Sl;uv=1;var i=Wt().Buffer;function e(t,r,a){var n=t._cipher.encryptBlock(t._prev),s=n[0]^r;return t._prev=i.concat([t._prev.slice(1),i.from([a?r:s])]),s}return Sl.encrypt=function(t,r,a){for(var n=r.length,s=i.allocUnsafe(n),c=-1;++c<n;)s[c]=e(t,r[c],a);return s},Sl}var El={},lv;function Ax(){if(lv)return El;lv=1;var i=Wt().Buffer;function e(r,a,n){for(var s,c=-1,u=8,h=0,f,g;++c<u;)s=r._cipher.encryptBlock(r._prev),f=a&1<<7-c?128:0,g=s[0]^f,h+=(g&128)>>c%8,r._prev=t(r._prev,n?f:g);return h}function t(r,a){var n=r.length,s=-1,c=i.allocUnsafe(r.length);for(r=i.concat([r,i.from([a])]);++s<n;)c[s]=r[s]<<1|r[s+1]>>7;return c}return El.encrypt=function(r,a,n){for(var s=a.length,c=i.allocUnsafe(s),u=-1;++u<s;)c[u]=e(r,a[u],n);return c},El}var Ml={},dv;function kx(){if(dv)return Ml;dv=1;var i=xc();function e(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}return Ml.encrypt=function(t,r){for(;t._cache.length<r.length;)t._cache=Xt.concat([t._cache,e(t)]);var a=t._cache.slice(0,r.length);return t._cache=t._cache.slice(r.length),i(r,a)},Ml}var _l={},Al,pv;function Cb(){if(pv)return Al;pv=1;function i(e){for(var t=e.length,r;t--;)if(r=e.readUInt8(t),r===255)e.writeUInt8(0,t);else{r++,e.writeUInt8(r,t);break}}return Al=i,Al}var gv;function mv(){if(gv)return _l;gv=1;var i=xc(),e=Wt().Buffer,t=Cb();function r(n){var s=n._cipher.encryptBlockRaw(n._prev);return t(n._prev),s}var a=16;return _l.encrypt=function(n,s){var c=Math.ceil(s.length/a),u=n._cache.length;n._cache=e.concat([n._cache,e.allocUnsafe(c*a)]);for(var h=0;h<c;h++){var f=r(n),g=u+h*a;n._cache.writeUInt32BE(f[0],g+0),n._cache.writeUInt32BE(f[1],g+4),n._cache.writeUInt32BE(f[2],g+8),n._cache.writeUInt32BE(f[3],g+12)}var b=n._cache.slice(0,s.length);return n._cache=n._cache.slice(s.length),i(s,b)},_l}const Ix={cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},Dx={cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},Rx={cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},Pb={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:Ix,aes192:Dx,aes256:Rx,"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}};var kl,vv;function bg(){if(vv)return kl;vv=1;var i={ECB:px(),CBC:Ex(),CFB:Mx(),CFB8:_x(),CFB1:Ax(),OFB:kx(),CTR:mv(),GCM:mv()},e=Pb;for(var t in e)e[t].module=i[e[t].mode];return kl=e,kl}var Il={},yv;function qf(){if(yv)return Il;yv=1;var i=Wt().Buffer;function e(c){i.isBuffer(c)||(c=i.from(c));for(var u=c.length/4|0,h=new Array(u),f=0;f<u;f++)h[f]=c.readUInt32BE(f*4);return h}function t(c){for(var u=0;u<c.length;c++)c[u]=0}function r(c,u,h,f,g){for(var b=h[0],M=h[1],_=h[2],D=h[3],R=c[0]^u[0],A=c[1]^u[1],I=c[2]^u[2],N=c[3]^u[3],$,V,U,J,Y=4,oe=1;oe<g;oe++)$=b[R>>>24]^M[A>>>16&255]^_[I>>>8&255]^D[N&255]^u[Y++],V=b[A>>>24]^M[I>>>16&255]^_[N>>>8&255]^D[R&255]^u[Y++],U=b[I>>>24]^M[N>>>16&255]^_[R>>>8&255]^D[A&255]^u[Y++],J=b[N>>>24]^M[R>>>16&255]^_[A>>>8&255]^D[I&255]^u[Y++],R=$,A=V,I=U,N=J;return $=(f[R>>>24]<<24|f[A>>>16&255]<<16|f[I>>>8&255]<<8|f[N&255])^u[Y++],V=(f[A>>>24]<<24|f[I>>>16&255]<<16|f[N>>>8&255]<<8|f[R&255])^u[Y++],U=(f[I>>>24]<<24|f[N>>>16&255]<<16|f[R>>>8&255]<<8|f[A&255])^u[Y++],J=(f[N>>>24]<<24|f[R>>>16&255]<<16|f[A>>>8&255]<<8|f[I&255])^u[Y++],$=$>>>0,V=V>>>0,U=U>>>0,J=J>>>0,[$,V,U,J]}var a=[0,1,2,4,8,16,32,64,128,27,54],n=(function(){for(var c=new Array(256),u=0;u<256;u++)u<128?c[u]=u<<1:c[u]=u<<1^283;for(var h=[],f=[],g=[[],[],[],[]],b=[[],[],[],[]],M=0,_=0,D=0;D<256;++D){var R=_^_<<1^_<<2^_<<3^_<<4;R=R>>>8^R&255^99,h[M]=R,f[R]=M;var A=c[M],I=c[A],N=c[I],$=c[R]*257^R*16843008;g[0][M]=$<<24|$>>>8,g[1][M]=$<<16|$>>>16,g[2][M]=$<<8|$>>>24,g[3][M]=$,$=N*16843009^I*65537^A*257^M*16843008,b[0][R]=$<<24|$>>>8,b[1][R]=$<<16|$>>>16,b[2][R]=$<<8|$>>>24,b[3][R]=$,M===0?M=_=1:(M=A^c[c[c[N^A]]],_^=c[c[_]])}return{SBOX:h,INV_SBOX:f,SUB_MIX:g,INV_SUB_MIX:b}})();function s(c){this._key=e(c),this._reset()}return s.blockSize=16,s.keySize=256/8,s.prototype.blockSize=s.blockSize,s.prototype.keySize=s.keySize,s.prototype._reset=function(){for(var c=this._key,u=c.length,h=u+6,f=(h+1)*4,g=[],b=0;b<u;b++)g[b]=c[b];for(b=u;b<f;b++){var M=g[b-1];b%u===0?(M=M<<8|M>>>24,M=n.SBOX[M>>>24]<<24|n.SBOX[M>>>16&255]<<16|n.SBOX[M>>>8&255]<<8|n.SBOX[M&255],M^=a[b/u|0]<<24):u>6&&b%u===4&&(M=n.SBOX[M>>>24]<<24|n.SBOX[M>>>16&255]<<16|n.SBOX[M>>>8&255]<<8|n.SBOX[M&255]),g[b]=g[b-u]^M}for(var _=[],D=0;D<f;D++){var R=f-D,A=g[R-(D%4?0:4)];D<4||R<=4?_[D]=A:_[D]=n.INV_SUB_MIX[0][n.SBOX[A>>>24]]^n.INV_SUB_MIX[1][n.SBOX[A>>>16&255]]^n.INV_SUB_MIX[2][n.SBOX[A>>>8&255]]^n.INV_SUB_MIX[3][n.SBOX[A&255]]}this._nRounds=h,this._keySchedule=g,this._invKeySchedule=_},s.prototype.encryptBlockRaw=function(c){return c=e(c),r(c,this._keySchedule,n.SUB_MIX,n.SBOX,this._nRounds)},s.prototype.encryptBlock=function(c){var u=this.encryptBlockRaw(c),h=i.allocUnsafe(16);return h.writeUInt32BE(u[0],0),h.writeUInt32BE(u[1],4),h.writeUInt32BE(u[2],8),h.writeUInt32BE(u[3],12),h},s.prototype.decryptBlock=function(c){c=e(c);var u=c[1];c[1]=c[3],c[3]=u;var h=r(c,this._invKeySchedule,n.INV_SUB_MIX,n.INV_SBOX,this._nRounds),f=i.allocUnsafe(16);return f.writeUInt32BE(h[0],0),f.writeUInt32BE(h[3],4),f.writeUInt32BE(h[2],8),f.writeUInt32BE(h[1],12),f},s.prototype.scrub=function(){t(this._keySchedule),t(this._invKeySchedule),t(this._key)},Il.AES=s,Il}var Dl,wv;function Tx(){if(wv)return Dl;wv=1;var i=Wt().Buffer,e=i.alloc(16,0);function t(n){return[n.readUInt32BE(0),n.readUInt32BE(4),n.readUInt32BE(8),n.readUInt32BE(12)]}function r(n){var s=i.allocUnsafe(16);return s.writeUInt32BE(n[0]>>>0,0),s.writeUInt32BE(n[1]>>>0,4),s.writeUInt32BE(n[2]>>>0,8),s.writeUInt32BE(n[3]>>>0,12),s}function a(n){this.h=n,this.state=i.alloc(16,0),this.cache=i.allocUnsafe(0)}return a.prototype.ghash=function(n){for(var s=-1;++s<n.length;)this.state[s]^=n[s];this._multiply()},a.prototype._multiply=function(){for(var n=t(this.h),s=[0,0,0,0],c,u,h,f=-1;++f<128;){for(u=(this.state[~~(f/8)]&1<<7-f%8)!==0,u&&(s[0]^=n[0],s[1]^=n[1],s[2]^=n[2],s[3]^=n[3]),h=(n[3]&1)!==0,c=3;c>0;c--)n[c]=n[c]>>>1|(n[c-1]&1)<<31;n[0]=n[0]>>>1,h&&(n[0]=n[0]^225<<24)}this.state=r(s)},a.prototype.update=function(n){this.cache=i.concat([this.cache,n]);for(var s;this.cache.length>=16;)s=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(s)},a.prototype.final=function(n,s){return this.cache.length&&this.ghash(i.concat([this.cache,e],16)),this.ghash(r([0,n,0,s])),this.state},Dl=a,Dl}var Rl,bv;function Nb(){if(bv)return Rl;bv=1;var i=qf(),e=Wt().Buffer,t=Si(),r=Ut(),a=Tx(),n=xc(),s=Cb();function c(f,g){var b=0;f.length!==g.length&&b++;for(var M=Math.min(f.length,g.length),_=0;_<M;++_)b+=f[_]^g[_];return b}function u(f,g,b){if(g.length===12)return f._finID=e.concat([g,e.from([0,0,0,1])]),e.concat([g,e.from([0,0,0,2])]);var M=new a(b),_=g.length,D=_%16;M.update(g),D&&(D=16-D,M.update(e.alloc(D,0))),M.update(e.alloc(8,0));var R=_*8,A=e.alloc(8);A.writeUIntBE(R,0,8),M.update(A),f._finID=M.state;var I=e.from(f._finID);return s(I),I}function h(f,g,b,M){t.call(this);var _=e.alloc(4,0);this._cipher=new i.AES(g);var D=this._cipher.encryptBlock(_);this._ghash=new a(D),b=u(this,b,D),this._prev=e.from(b),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=M,this._alen=0,this._len=0,this._mode=f,this._authTag=null,this._called=!1}return r(h,t),h.prototype._update=function(f){if(!this._called&&this._alen){var g=16-this._alen%16;g<16&&(g=e.alloc(g,0),this._ghash.update(g))}this._called=!0;var b=this._mode.encrypt(this,f);return this._decrypt?this._ghash.update(f):this._ghash.update(b),this._len+=f.length,b},h.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var f=n(this._ghash.final(this._alen*8,this._len*8),this._cipher.encryptBlock(this._finID));if(this._decrypt&&c(f,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=f,this._cipher.scrub()},h.prototype.getAuthTag=function(){if(this._decrypt||!e.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},h.prototype.setAuthTag=function(g){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=g},h.prototype.setAAD=function(g){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(g),this._alen+=g.length},Rl=h,Rl}var Tl,xv;function Ob(){if(xv)return Tl;xv=1;var i=qf(),e=Wt().Buffer,t=Si(),r=Ut();function a(n,s,c,u){t.call(this),this._cipher=new i.AES(s),this._prev=e.from(c),this._cache=e.allocUnsafe(0),this._secCache=e.allocUnsafe(0),this._decrypt=u,this._mode=n}return r(a,t),a.prototype._update=function(n){return this._mode.encrypt(this,n,this._decrypt)},a.prototype._final=function(){this._cipher.scrub()},Tl=a,Tl}var Bl,Sv;function Vf(){if(Sv)return Bl;Sv=1;var i=Wt().Buffer,e=hg();function t(r,a,n,s){if(i.isBuffer(r)||(r=i.from(r,"binary")),a&&(i.isBuffer(a)||(a=i.from(a,"binary")),a.length!==8))throw new RangeError("salt should be Buffer with 8 byte length");for(var c=n/8,u=i.alloc(c),h=i.alloc(s||0),f=i.alloc(0);c>0||s>0;){var g=new e;g.update(f),g.update(r),a&&g.update(a),f=g.digest();var b=0;if(c>0){var M=u.length-c;b=Math.min(c,f.length),f.copy(u,M,0,b),c-=b}if(b<f.length&&s>0){var _=h.length-s,D=Math.min(s,f.length-b);f.copy(h,_,b,b+D),s-=D}}return f.fill(0),{key:u,iv:h}}return Bl=t,Bl}var Ev;function Bx(){if(Ev)return Uc;Ev=1;var i=bg(),e=Nb(),t=Wt().Buffer,r=Ob(),a=Si(),n=qf(),s=Vf(),c=Ut();function u(M,_,D){a.call(this),this._cache=new f,this._cipher=new n.AES(_),this._prev=t.from(D),this._mode=M,this._autopadding=!0}c(u,a),u.prototype._update=function(M){this._cache.add(M);for(var _,D,R=[];_=this._cache.get();)D=this._mode.encrypt(this,_),R.push(D);return t.concat(R)};var h=t.alloc(16,16);u.prototype._final=function(){var M=this._cache.flush();if(this._autopadding)return M=this._mode.encrypt(this,M),this._cipher.scrub(),M;if(!M.equals(h))throw this._cipher.scrub(),new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(M){return this._autopadding=!!M,this};function f(){this.cache=t.allocUnsafe(0)}f.prototype.add=function(M){this.cache=t.concat([this.cache,M])},f.prototype.get=function(){if(this.cache.length>15){var M=this.cache.slice(0,16);return this.cache=this.cache.slice(16),M}return null},f.prototype.flush=function(){for(var M=16-this.cache.length,_=t.allocUnsafe(M),D=-1;++D<M;)_.writeUInt8(M,D);return t.concat([this.cache,_])};function g(M,_,D){var R=i[M.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof _=="string"&&(_=t.from(_)),_.length!==R.key/8)throw new TypeError("invalid key length "+_.length);if(typeof D=="string"&&(D=t.from(D)),R.mode!=="GCM"&&D.length!==R.iv)throw new TypeError("invalid iv length "+D.length);return R.type==="stream"?new r(R.module,_,D):R.type==="auth"?new e(R.module,_,D):new u(R.module,_,D)}function b(M,_){var D=i[M.toLowerCase()];if(!D)throw new TypeError("invalid suite type");var R=s(_,!1,D.key,D.iv);return g(M,R.key,R.iv)}return Uc.createCipheriv=g,Uc.createCipher=b,Uc}var Vc={},Mv;function Fx(){if(Mv)return Vc;Mv=1;var i=Nb(),e=Wt().Buffer,t=bg(),r=Ob(),a=Si(),n=qf(),s=Vf(),c=Ut();function u(M,_,D){a.call(this),this._cache=new h,this._last=void 0,this._cipher=new n.AES(_),this._prev=e.from(D),this._mode=M,this._autopadding=!0}c(u,a),u.prototype._update=function(M){this._cache.add(M);for(var _,D,R=[];_=this._cache.get(this._autopadding);)D=this._mode.decrypt(this,_),R.push(D);return e.concat(R)},u.prototype._final=function(){var M=this._cache.flush();if(this._autopadding)return f(this._mode.decrypt(this,M));if(M)throw new Error("data not multiple of block length")},u.prototype.setAutoPadding=function(M){return this._autopadding=!!M,this};function h(){this.cache=e.allocUnsafe(0)}h.prototype.add=function(M){this.cache=e.concat([this.cache,M])},h.prototype.get=function(M){var _;if(M){if(this.cache.length>16)return _=this.cache.slice(0,16),this.cache=this.cache.slice(16),_}else if(this.cache.length>=16)return _=this.cache.slice(0,16),this.cache=this.cache.slice(16),_;return null},h.prototype.flush=function(){if(this.cache.length)return this.cache};function f(M){var _=M[15];if(_<1||_>16)throw new Error("unable to decrypt data");for(var D=-1;++D<_;)if(M[D+(16-_)]!==_)throw new Error("unable to decrypt data");if(_!==16)return M.slice(0,16-_)}function g(M,_,D){var R=t[M.toLowerCase()];if(!R)throw new TypeError("invalid suite type");if(typeof D=="string"&&(D=e.from(D)),R.mode!=="GCM"&&D.length!==R.iv)throw new TypeError("invalid iv length "+D.length);if(typeof _=="string"&&(_=e.from(_)),_.length!==R.key/8)throw new TypeError("invalid key length "+_.length);return R.type==="stream"?new r(R.module,_,D,!0):R.type==="auth"?new i(R.module,_,D,!0):new u(R.module,_,D)}function b(M,_){var D=t[M.toLowerCase()];if(!D)throw new TypeError("invalid suite type");var R=s(_,!1,D.key,D.iv);return g(M,R.key,R.iv)}return Vc.createDecipher=b,Vc.createDecipheriv=g,Vc}var _v;function xg(){if(_v)return Vr;_v=1;var i=Bx(),e=Fx(),t=Pb;function r(){return Object.keys(t)}return Vr.createCipher=Vr.Cipher=i.createCipher,Vr.createCipheriv=Vr.Cipheriv=i.createCipheriv,Vr.createDecipher=Vr.Decipher=e.createDecipher,Vr.createDecipheriv=Vr.Decipheriv=e.createDecipheriv,Vr.listCiphers=Vr.getCiphers=r,Vr}var Fl={},Av;function Cx(){return Av||(Av=1,(function(i){i["des-ecb"]={key:8,iv:0},i["des-cbc"]=i.des={key:8,iv:8},i["des-ede3-cbc"]=i.des3={key:24,iv:8},i["des-ede3"]={key:24,iv:0},i["des-ede-cbc"]={key:16,iv:8},i["des-ede"]={key:16,iv:0}})(Fl)),Fl}var kv;function Px(){if(kv)return qr;kv=1;var i=dx(),e=xg(),t=bg(),r=Cx(),a=Vf();function n(f,g){f=f.toLowerCase();var b,M;if(t[f])b=t[f].key,M=t[f].iv;else if(r[f])b=r[f].key*8,M=r[f].iv;else throw new TypeError("invalid suite type");var _=a(g,!1,b,M);return c(f,_.key,_.iv)}function s(f,g){f=f.toLowerCase();var b,M;if(t[f])b=t[f].key,M=t[f].iv;else if(r[f])b=r[f].key*8,M=r[f].iv;else throw new TypeError("invalid suite type");var _=a(g,!1,b,M);return u(f,_.key,_.iv)}function c(f,g,b){if(f=f.toLowerCase(),t[f])return e.createCipheriv(f,g,b);if(r[f])return new i({key:g,iv:b,mode:f});throw new TypeError("invalid suite type")}function u(f,g,b){if(f=f.toLowerCase(),t[f])return e.createDecipheriv(f,g,b);if(r[f])return new i({key:g,iv:b,mode:f,decrypt:!0});throw new TypeError("invalid suite type")}function h(){return Object.keys(r).concat(e.getCiphers())}return qr.createCipher=qr.Cipher=n,qr.createCipheriv=qr.Cipheriv=c,qr.createDecipher=qr.Decipher=s,qr.createDecipheriv=qr.Decipheriv=u,qr.listCiphers=qr.getCiphers=h,qr}var Ai={},cf={exports:{}},Nx=cf.exports,Iv;function Ei(){return Iv||(Iv=1,(function(i){(function(e,t){function r(G,E){if(!G)throw new Error(E||"Assertion failed")}function a(G,E){G.super_=E;var d=function(){};d.prototype=E.prototype,G.prototype=new d,G.prototype.constructor=G}function n(G,E,d){if(n.isBN(G))return G;this.negative=0,this.words=null,this.length=0,this.red=null,G!==null&&((E==="le"||E==="be")&&(d=E,E=10),this._init(G||0,E||10,d||"be"))}typeof e=="object"?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;var s;try{s=Ar().Buffer}catch{}n.isBN=function(E){return E instanceof n?!0:E!==null&&typeof E=="object"&&E.constructor.wordSize===n.wordSize&&Array.isArray(E.words)},n.max=function(E,d){return E.cmp(d)>0?E:d},n.min=function(E,d){return E.cmp(d)<0?E:d},n.prototype._init=function(E,d,p){if(typeof E=="number")return this._initNumber(E,d,p);if(typeof E=="object")return this._initArray(E,d,p);d==="hex"&&(d=16),r(d===(d|0)&&d>=2&&d<=36),E=E.toString().replace(/\s+/g,"");var o=0;E[0]==="-"&&o++,d===16?this._parseHex(E,o):this._parseBase(E,d,o),E[0]==="-"&&(this.negative=1),this.strip(),p==="le"&&this._initArray(this.toArray(),d,p)},n.prototype._initNumber=function(E,d,p){E<0&&(this.negative=1,E=-E),E<67108864?(this.words=[E&67108863],this.length=1):E<4503599627370496?(this.words=[E&67108863,E/67108864&67108863],this.length=2):(r(E<9007199254740992),this.words=[E&67108863,E/67108864&67108863,1],this.length=3),p==="le"&&this._initArray(this.toArray(),d,p)},n.prototype._initArray=function(E,d,p){if(r(typeof E.length=="number"),E.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(E.length/3),this.words=new Array(this.length);for(var o=0;o<this.length;o++)this.words[o]=0;var l,S,x=0;if(p==="be")for(o=E.length-1,l=0;o>=0;o-=3)S=E[o]|E[o-1]<<8|E[o-2]<<16,this.words[l]|=S<<x&67108863,this.words[l+1]=S>>>26-x&67108863,x+=24,x>=26&&(x-=26,l++);else if(p==="le")for(o=0,l=0;o<E.length;o+=3)S=E[o]|E[o+1]<<8|E[o+2]<<16,this.words[l]|=S<<x&67108863,this.words[l+1]=S>>>26-x&67108863,x+=24,x>=26&&(x-=26,l++);return this.strip()};function c(G,E,d){for(var p=0,o=Math.min(G.length,d),l=E;l<o;l++){var S=G.charCodeAt(l)-48;p<<=4,S>=49&&S<=54?p|=S-49+10:S>=17&&S<=22?p|=S-17+10:p|=S&15}return p}n.prototype._parseHex=function(E,d){this.length=Math.ceil((E.length-d)/6),this.words=new Array(this.length);for(var p=0;p<this.length;p++)this.words[p]=0;var o,l,S=0;for(p=E.length-6,o=0;p>=d;p-=6)l=c(E,p,p+6),this.words[o]|=l<<S&67108863,this.words[o+1]|=l>>>26-S&4194303,S+=24,S>=26&&(S-=26,o++);p+6!==d&&(l=c(E,d,p+6),this.words[o]|=l<<S&67108863,this.words[o+1]|=l>>>26-S&4194303),this.strip()};function u(G,E,d,p){for(var o=0,l=Math.min(G.length,d),S=E;S<l;S++){var x=G.charCodeAt(S)-48;o*=p,x>=49?o+=x-49+10:x>=17?o+=x-17+10:o+=x}return o}n.prototype._parseBase=function(E,d,p){this.words=[0],this.length=1;for(var o=0,l=1;l<=67108863;l*=d)o++;o--,l=l/d|0;for(var S=E.length-p,x=S%o,v=Math.min(S,S-x)+p,m=0,y=p;y<v;y+=o)m=u(E,y,y+o,d),this.imuln(l),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m);if(x!==0){var k=1;for(m=u(E,y,E.length,d),y=0;y<x;y++)k*=d;this.imuln(k),this.words[0]+m<67108864?this.words[0]+=m:this._iaddn(m)}},n.prototype.copy=function(E){E.words=new Array(this.length);for(var d=0;d<this.length;d++)E.words[d]=this.words[d];E.length=this.length,E.negative=this.negative,E.red=this.red},n.prototype.clone=function(){var E=new n(null);return this.copy(E),E},n.prototype._expand=function(E){for(;this.length<E;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],f=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],g=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(E,d){E=E||10,d=d|0||1;var p;if(E===16||E==="hex"){p="";for(var o=0,l=0,S=0;S<this.length;S++){var x=this.words[S],v=((x<<o|l)&16777215).toString(16);l=x>>>24-o&16777215,l!==0||S!==this.length-1?p=h[6-v.length]+v+p:p=v+p,o+=2,o>=26&&(o-=26,S--)}for(l!==0&&(p=l.toString(16)+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}if(E===(E|0)&&E>=2&&E<=36){var m=f[E],y=g[E];p="";var k=this.clone();for(k.negative=0;!k.isZero();){var w=k.modn(y).toString(E);k=k.idivn(y),k.isZero()?p=w+p:p=h[m-w.length]+w+p}for(this.isZero()&&(p="0"+p);p.length%d!==0;)p="0"+p;return this.negative!==0&&(p="-"+p),p}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var E=this.words[0];return this.length===2?E+=this.words[1]*67108864:this.length===3&&this.words[2]===1?E+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-E:E},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(E,d){return r(typeof s<"u"),this.toArrayLike(s,E,d)},n.prototype.toArray=function(E,d){return this.toArrayLike(Array,E,d)},n.prototype.toArrayLike=function(E,d,p){var o=this.byteLength(),l=p||Math.max(1,o);r(o<=l,"byte array longer than desired length"),r(l>0,"Requested array length <= 0"),this.strip();var S=d==="le",x=new E(l),v,m,y=this.clone();if(S){for(m=0;!y.isZero();m++)v=y.andln(255),y.iushrn(8),x[m]=v;for(;m<l;m++)x[m]=0}else{for(m=0;m<l-o;m++)x[m]=0;for(m=0;!y.isZero();m++)v=y.andln(255),y.iushrn(8),x[l-m-1]=v}return x},Math.clz32?n.prototype._countBits=function(E){return 32-Math.clz32(E)}:n.prototype._countBits=function(E){var d=E,p=0;return d>=4096&&(p+=13,d>>>=13),d>=64&&(p+=7,d>>>=7),d>=8&&(p+=4,d>>>=4),d>=2&&(p+=2,d>>>=2),p+d},n.prototype._zeroBits=function(E){if(E===0)return 26;var d=E,p=0;return(d&8191)===0&&(p+=13,d>>>=13),(d&127)===0&&(p+=7,d>>>=7),(d&15)===0&&(p+=4,d>>>=4),(d&3)===0&&(p+=2,d>>>=2),(d&1)===0&&p++,p},n.prototype.bitLength=function(){var E=this.words[this.length-1],d=this._countBits(E);return(this.length-1)*26+d};function b(G){for(var E=new Array(G.bitLength()),d=0;d<E.length;d++){var p=d/26|0,o=d%26;E[d]=(G.words[p]&1<<o)>>>o}return E}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var E=0,d=0;d<this.length;d++){var p=this._zeroBits(this.words[d]);if(E+=p,p!==26)break}return E},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(E){return this.negative!==0?this.abs().inotn(E).iaddn(1):this.clone()},n.prototype.fromTwos=function(E){return this.testn(E-1)?this.notn(E).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(E){for(;this.length<E.length;)this.words[this.length++]=0;for(var d=0;d<E.length;d++)this.words[d]=this.words[d]|E.words[d];return this.strip()},n.prototype.ior=function(E){return r((this.negative|E.negative)===0),this.iuor(E)},n.prototype.or=function(E){return this.length>E.length?this.clone().ior(E):E.clone().ior(this)},n.prototype.uor=function(E){return this.length>E.length?this.clone().iuor(E):E.clone().iuor(this)},n.prototype.iuand=function(E){var d;this.length>E.length?d=E:d=this;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]&E.words[p];return this.length=d.length,this.strip()},n.prototype.iand=function(E){return r((this.negative|E.negative)===0),this.iuand(E)},n.prototype.and=function(E){return this.length>E.length?this.clone().iand(E):E.clone().iand(this)},n.prototype.uand=function(E){return this.length>E.length?this.clone().iuand(E):E.clone().iuand(this)},n.prototype.iuxor=function(E){var d,p;this.length>E.length?(d=this,p=E):(d=E,p=this);for(var o=0;o<p.length;o++)this.words[o]=d.words[o]^p.words[o];if(this!==d)for(;o<d.length;o++)this.words[o]=d.words[o];return this.length=d.length,this.strip()},n.prototype.ixor=function(E){return r((this.negative|E.negative)===0),this.iuxor(E)},n.prototype.xor=function(E){return this.length>E.length?this.clone().ixor(E):E.clone().ixor(this)},n.prototype.uxor=function(E){return this.length>E.length?this.clone().iuxor(E):E.clone().iuxor(this)},n.prototype.inotn=function(E){r(typeof E=="number"&&E>=0);var d=Math.ceil(E/26)|0,p=E%26;this._expand(d),p>0&&d--;for(var o=0;o<d;o++)this.words[o]=~this.words[o]&67108863;return p>0&&(this.words[o]=~this.words[o]&67108863>>26-p),this.strip()},n.prototype.notn=function(E){return this.clone().inotn(E)},n.prototype.setn=function(E,d){r(typeof E=="number"&&E>=0);var p=E/26|0,o=E%26;return this._expand(p+1),d?this.words[p]=this.words[p]|1<<o:this.words[p]=this.words[p]&~(1<<o),this.strip()},n.prototype.iadd=function(E){var d;if(this.negative!==0&&E.negative===0)return this.negative=0,d=this.isub(E),this.negative^=1,this._normSign();if(this.negative===0&&E.negative!==0)return E.negative=0,d=this.isub(E),E.negative=1,d._normSign();var p,o;this.length>E.length?(p=this,o=E):(p=E,o=this);for(var l=0,S=0;S<o.length;S++)d=(p.words[S]|0)+(o.words[S]|0)+l,this.words[S]=d&67108863,l=d>>>26;for(;l!==0&&S<p.length;S++)d=(p.words[S]|0)+l,this.words[S]=d&67108863,l=d>>>26;if(this.length=p.length,l!==0)this.words[this.length]=l,this.length++;else if(p!==this)for(;S<p.length;S++)this.words[S]=p.words[S];return this},n.prototype.add=function(E){var d;return E.negative!==0&&this.negative===0?(E.negative=0,d=this.sub(E),E.negative^=1,d):E.negative===0&&this.negative!==0?(this.negative=0,d=E.sub(this),this.negative=1,d):this.length>E.length?this.clone().iadd(E):E.clone().iadd(this)},n.prototype.isub=function(E){if(E.negative!==0){E.negative=0;var d=this.iadd(E);return E.negative=1,d._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(E),this.negative=1,this._normSign();var p=this.cmp(E);if(p===0)return this.negative=0,this.length=1,this.words[0]=0,this;var o,l;p>0?(o=this,l=E):(o=E,l=this);for(var S=0,x=0;x<l.length;x++)d=(o.words[x]|0)-(l.words[x]|0)+S,S=d>>26,this.words[x]=d&67108863;for(;S!==0&&x<o.length;x++)d=(o.words[x]|0)+S,S=d>>26,this.words[x]=d&67108863;if(S===0&&x<o.length&&o!==this)for(;x<o.length;x++)this.words[x]=o.words[x];return this.length=Math.max(this.length,x),o!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(E){return this.clone().isub(E)};function M(G,E,d){d.negative=E.negative^G.negative;var p=G.length+E.length|0;d.length=p,p=p-1|0;var o=G.words[0]|0,l=E.words[0]|0,S=o*l,x=S&67108863,v=S/67108864|0;d.words[0]=x;for(var m=1;m<p;m++){for(var y=v>>>26,k=v&67108863,w=Math.min(m,E.length-1),T=Math.max(0,m-G.length+1);T<=w;T++){var ie=m-T|0;o=G.words[ie]|0,l=E.words[T]|0,S=o*l+k,y+=S/67108864|0,k=S&67108863}d.words[m]=k|0,v=y|0}return v!==0?d.words[m]=v|0:d.length--,d.strip()}var _=function(E,d,p){var o=E.words,l=d.words,S=p.words,x=0,v,m,y,k=o[0]|0,w=k&8191,T=k>>>13,ie=o[1]|0,ve=ie&8191,ce=ie>>>13,C=o[2]|0,B=C&8191,ee=C>>>13,z=o[3]|0,P=z&8191,O=z>>>13,se=o[4]|0,le=se&8191,ge=se>>>13,Ee=o[5]|0,me=Ee&8191,ye=Ee>>>13,Te=o[6]|0,we=Te&8191,Me=Te>>>13,Ne=o[7]|0,Re=Ne&8191,Oe=Ne>>>13,Ye=o[8]|0,Xe=Ye&8191,qe=Ye>>>13,ct=o[9]|0,rt=ct&8191,X=ct>>>13,q=l[0]|0,j=q&8191,ae=q>>>13,xe=l[1]|0,Se=xe&8191,_e=xe>>>13,Ze=l[2]|0,Qe=Ze&8191,je=Ze>>>13,vt=l[3]|0,et=vt&8191,at=vt>>>13,Rt=l[4]|0,yt=Rt&8191,ft=Rt>>>13,Vt=l[5]|0,xt=Vt&8191,te=Vt>>>13,W=l[6]|0,H=W&8191,fe=W>>>13,De=l[7]|0,L=De&8191,K=De>>>13,re=l[8]|0,F=re&8191,ne=re>>>13,Ae=l[9]|0,be=Ae&8191,Pe=Ae>>>13;p.negative=E.negative^d.negative,p.length=19,v=Math.imul(w,j),m=Math.imul(w,ae),m=m+Math.imul(T,j)|0,y=Math.imul(T,ae);var Ke=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,v=Math.imul(ve,j),m=Math.imul(ve,ae),m=m+Math.imul(ce,j)|0,y=Math.imul(ce,ae),v=v+Math.imul(w,Se)|0,m=m+Math.imul(w,_e)|0,m=m+Math.imul(T,Se)|0,y=y+Math.imul(T,_e)|0;var nt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(nt>>>26)|0,nt&=67108863,v=Math.imul(B,j),m=Math.imul(B,ae),m=m+Math.imul(ee,j)|0,y=Math.imul(ee,ae),v=v+Math.imul(ve,Se)|0,m=m+Math.imul(ve,_e)|0,m=m+Math.imul(ce,Se)|0,y=y+Math.imul(ce,_e)|0,v=v+Math.imul(w,Qe)|0,m=m+Math.imul(w,je)|0,m=m+Math.imul(T,Qe)|0,y=y+Math.imul(T,je)|0;var Ge=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,v=Math.imul(P,j),m=Math.imul(P,ae),m=m+Math.imul(O,j)|0,y=Math.imul(O,ae),v=v+Math.imul(B,Se)|0,m=m+Math.imul(B,_e)|0,m=m+Math.imul(ee,Se)|0,y=y+Math.imul(ee,_e)|0,v=v+Math.imul(ve,Qe)|0,m=m+Math.imul(ve,je)|0,m=m+Math.imul(ce,Qe)|0,y=y+Math.imul(ce,je)|0,v=v+Math.imul(w,et)|0,m=m+Math.imul(w,at)|0,m=m+Math.imul(T,et)|0,y=y+Math.imul(T,at)|0;var Nt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,v=Math.imul(le,j),m=Math.imul(le,ae),m=m+Math.imul(ge,j)|0,y=Math.imul(ge,ae),v=v+Math.imul(P,Se)|0,m=m+Math.imul(P,_e)|0,m=m+Math.imul(O,Se)|0,y=y+Math.imul(O,_e)|0,v=v+Math.imul(B,Qe)|0,m=m+Math.imul(B,je)|0,m=m+Math.imul(ee,Qe)|0,y=y+Math.imul(ee,je)|0,v=v+Math.imul(ve,et)|0,m=m+Math.imul(ve,at)|0,m=m+Math.imul(ce,et)|0,y=y+Math.imul(ce,at)|0,v=v+Math.imul(w,yt)|0,m=m+Math.imul(w,ft)|0,m=m+Math.imul(T,yt)|0,y=y+Math.imul(T,ft)|0;var gt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(gt>>>26)|0,gt&=67108863,v=Math.imul(me,j),m=Math.imul(me,ae),m=m+Math.imul(ye,j)|0,y=Math.imul(ye,ae),v=v+Math.imul(le,Se)|0,m=m+Math.imul(le,_e)|0,m=m+Math.imul(ge,Se)|0,y=y+Math.imul(ge,_e)|0,v=v+Math.imul(P,Qe)|0,m=m+Math.imul(P,je)|0,m=m+Math.imul(O,Qe)|0,y=y+Math.imul(O,je)|0,v=v+Math.imul(B,et)|0,m=m+Math.imul(B,at)|0,m=m+Math.imul(ee,et)|0,y=y+Math.imul(ee,at)|0,v=v+Math.imul(ve,yt)|0,m=m+Math.imul(ve,ft)|0,m=m+Math.imul(ce,yt)|0,y=y+Math.imul(ce,ft)|0,v=v+Math.imul(w,xt)|0,m=m+Math.imul(w,te)|0,m=m+Math.imul(T,xt)|0,y=y+Math.imul(T,te)|0;var Mt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,v=Math.imul(we,j),m=Math.imul(we,ae),m=m+Math.imul(Me,j)|0,y=Math.imul(Me,ae),v=v+Math.imul(me,Se)|0,m=m+Math.imul(me,_e)|0,m=m+Math.imul(ye,Se)|0,y=y+Math.imul(ye,_e)|0,v=v+Math.imul(le,Qe)|0,m=m+Math.imul(le,je)|0,m=m+Math.imul(ge,Qe)|0,y=y+Math.imul(ge,je)|0,v=v+Math.imul(P,et)|0,m=m+Math.imul(P,at)|0,m=m+Math.imul(O,et)|0,y=y+Math.imul(O,at)|0,v=v+Math.imul(B,yt)|0,m=m+Math.imul(B,ft)|0,m=m+Math.imul(ee,yt)|0,y=y+Math.imul(ee,ft)|0,v=v+Math.imul(ve,xt)|0,m=m+Math.imul(ve,te)|0,m=m+Math.imul(ce,xt)|0,y=y+Math.imul(ce,te)|0,v=v+Math.imul(w,H)|0,m=m+Math.imul(w,fe)|0,m=m+Math.imul(T,H)|0,y=y+Math.imul(T,fe)|0;var kt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(kt>>>26)|0,kt&=67108863,v=Math.imul(Re,j),m=Math.imul(Re,ae),m=m+Math.imul(Oe,j)|0,y=Math.imul(Oe,ae),v=v+Math.imul(we,Se)|0,m=m+Math.imul(we,_e)|0,m=m+Math.imul(Me,Se)|0,y=y+Math.imul(Me,_e)|0,v=v+Math.imul(me,Qe)|0,m=m+Math.imul(me,je)|0,m=m+Math.imul(ye,Qe)|0,y=y+Math.imul(ye,je)|0,v=v+Math.imul(le,et)|0,m=m+Math.imul(le,at)|0,m=m+Math.imul(ge,et)|0,y=y+Math.imul(ge,at)|0,v=v+Math.imul(P,yt)|0,m=m+Math.imul(P,ft)|0,m=m+Math.imul(O,yt)|0,y=y+Math.imul(O,ft)|0,v=v+Math.imul(B,xt)|0,m=m+Math.imul(B,te)|0,m=m+Math.imul(ee,xt)|0,y=y+Math.imul(ee,te)|0,v=v+Math.imul(ve,H)|0,m=m+Math.imul(ve,fe)|0,m=m+Math.imul(ce,H)|0,y=y+Math.imul(ce,fe)|0,v=v+Math.imul(w,L)|0,m=m+Math.imul(w,K)|0,m=m+Math.imul(T,L)|0,y=y+Math.imul(T,K)|0;var Ft=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,v=Math.imul(Xe,j),m=Math.imul(Xe,ae),m=m+Math.imul(qe,j)|0,y=Math.imul(qe,ae),v=v+Math.imul(Re,Se)|0,m=m+Math.imul(Re,_e)|0,m=m+Math.imul(Oe,Se)|0,y=y+Math.imul(Oe,_e)|0,v=v+Math.imul(we,Qe)|0,m=m+Math.imul(we,je)|0,m=m+Math.imul(Me,Qe)|0,y=y+Math.imul(Me,je)|0,v=v+Math.imul(me,et)|0,m=m+Math.imul(me,at)|0,m=m+Math.imul(ye,et)|0,y=y+Math.imul(ye,at)|0,v=v+Math.imul(le,yt)|0,m=m+Math.imul(le,ft)|0,m=m+Math.imul(ge,yt)|0,y=y+Math.imul(ge,ft)|0,v=v+Math.imul(P,xt)|0,m=m+Math.imul(P,te)|0,m=m+Math.imul(O,xt)|0,y=y+Math.imul(O,te)|0,v=v+Math.imul(B,H)|0,m=m+Math.imul(B,fe)|0,m=m+Math.imul(ee,H)|0,y=y+Math.imul(ee,fe)|0,v=v+Math.imul(ve,L)|0,m=m+Math.imul(ve,K)|0,m=m+Math.imul(ce,L)|0,y=y+Math.imul(ce,K)|0,v=v+Math.imul(w,F)|0,m=m+Math.imul(w,ne)|0,m=m+Math.imul(T,F)|0,y=y+Math.imul(T,ne)|0;var Tt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,v=Math.imul(rt,j),m=Math.imul(rt,ae),m=m+Math.imul(X,j)|0,y=Math.imul(X,ae),v=v+Math.imul(Xe,Se)|0,m=m+Math.imul(Xe,_e)|0,m=m+Math.imul(qe,Se)|0,y=y+Math.imul(qe,_e)|0,v=v+Math.imul(Re,Qe)|0,m=m+Math.imul(Re,je)|0,m=m+Math.imul(Oe,Qe)|0,y=y+Math.imul(Oe,je)|0,v=v+Math.imul(we,et)|0,m=m+Math.imul(we,at)|0,m=m+Math.imul(Me,et)|0,y=y+Math.imul(Me,at)|0,v=v+Math.imul(me,yt)|0,m=m+Math.imul(me,ft)|0,m=m+Math.imul(ye,yt)|0,y=y+Math.imul(ye,ft)|0,v=v+Math.imul(le,xt)|0,m=m+Math.imul(le,te)|0,m=m+Math.imul(ge,xt)|0,y=y+Math.imul(ge,te)|0,v=v+Math.imul(P,H)|0,m=m+Math.imul(P,fe)|0,m=m+Math.imul(O,H)|0,y=y+Math.imul(O,fe)|0,v=v+Math.imul(B,L)|0,m=m+Math.imul(B,K)|0,m=m+Math.imul(ee,L)|0,y=y+Math.imul(ee,K)|0,v=v+Math.imul(ve,F)|0,m=m+Math.imul(ve,ne)|0,m=m+Math.imul(ce,F)|0,y=y+Math.imul(ce,ne)|0,v=v+Math.imul(w,be)|0,m=m+Math.imul(w,Pe)|0,m=m+Math.imul(T,be)|0,y=y+Math.imul(T,Pe)|0;var _t=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(_t>>>26)|0,_t&=67108863,v=Math.imul(rt,Se),m=Math.imul(rt,_e),m=m+Math.imul(X,Se)|0,y=Math.imul(X,_e),v=v+Math.imul(Xe,Qe)|0,m=m+Math.imul(Xe,je)|0,m=m+Math.imul(qe,Qe)|0,y=y+Math.imul(qe,je)|0,v=v+Math.imul(Re,et)|0,m=m+Math.imul(Re,at)|0,m=m+Math.imul(Oe,et)|0,y=y+Math.imul(Oe,at)|0,v=v+Math.imul(we,yt)|0,m=m+Math.imul(we,ft)|0,m=m+Math.imul(Me,yt)|0,y=y+Math.imul(Me,ft)|0,v=v+Math.imul(me,xt)|0,m=m+Math.imul(me,te)|0,m=m+Math.imul(ye,xt)|0,y=y+Math.imul(ye,te)|0,v=v+Math.imul(le,H)|0,m=m+Math.imul(le,fe)|0,m=m+Math.imul(ge,H)|0,y=y+Math.imul(ge,fe)|0,v=v+Math.imul(P,L)|0,m=m+Math.imul(P,K)|0,m=m+Math.imul(O,L)|0,y=y+Math.imul(O,K)|0,v=v+Math.imul(B,F)|0,m=m+Math.imul(B,ne)|0,m=m+Math.imul(ee,F)|0,y=y+Math.imul(ee,ne)|0,v=v+Math.imul(ve,be)|0,m=m+Math.imul(ve,Pe)|0,m=m+Math.imul(ce,be)|0,y=y+Math.imul(ce,Pe)|0;var Et=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(Et>>>26)|0,Et&=67108863,v=Math.imul(rt,Qe),m=Math.imul(rt,je),m=m+Math.imul(X,Qe)|0,y=Math.imul(X,je),v=v+Math.imul(Xe,et)|0,m=m+Math.imul(Xe,at)|0,m=m+Math.imul(qe,et)|0,y=y+Math.imul(qe,at)|0,v=v+Math.imul(Re,yt)|0,m=m+Math.imul(Re,ft)|0,m=m+Math.imul(Oe,yt)|0,y=y+Math.imul(Oe,ft)|0,v=v+Math.imul(we,xt)|0,m=m+Math.imul(we,te)|0,m=m+Math.imul(Me,xt)|0,y=y+Math.imul(Me,te)|0,v=v+Math.imul(me,H)|0,m=m+Math.imul(me,fe)|0,m=m+Math.imul(ye,H)|0,y=y+Math.imul(ye,fe)|0,v=v+Math.imul(le,L)|0,m=m+Math.imul(le,K)|0,m=m+Math.imul(ge,L)|0,y=y+Math.imul(ge,K)|0,v=v+Math.imul(P,F)|0,m=m+Math.imul(P,ne)|0,m=m+Math.imul(O,F)|0,y=y+Math.imul(O,ne)|0,v=v+Math.imul(B,be)|0,m=m+Math.imul(B,Pe)|0,m=m+Math.imul(ee,be)|0,y=y+Math.imul(ee,Pe)|0;var At=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(At>>>26)|0,At&=67108863,v=Math.imul(rt,et),m=Math.imul(rt,at),m=m+Math.imul(X,et)|0,y=Math.imul(X,at),v=v+Math.imul(Xe,yt)|0,m=m+Math.imul(Xe,ft)|0,m=m+Math.imul(qe,yt)|0,y=y+Math.imul(qe,ft)|0,v=v+Math.imul(Re,xt)|0,m=m+Math.imul(Re,te)|0,m=m+Math.imul(Oe,xt)|0,y=y+Math.imul(Oe,te)|0,v=v+Math.imul(we,H)|0,m=m+Math.imul(we,fe)|0,m=m+Math.imul(Me,H)|0,y=y+Math.imul(Me,fe)|0,v=v+Math.imul(me,L)|0,m=m+Math.imul(me,K)|0,m=m+Math.imul(ye,L)|0,y=y+Math.imul(ye,K)|0,v=v+Math.imul(le,F)|0,m=m+Math.imul(le,ne)|0,m=m+Math.imul(ge,F)|0,y=y+Math.imul(ge,ne)|0,v=v+Math.imul(P,be)|0,m=m+Math.imul(P,Pe)|0,m=m+Math.imul(O,be)|0,y=y+Math.imul(O,Pe)|0;var dt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(dt>>>26)|0,dt&=67108863,v=Math.imul(rt,yt),m=Math.imul(rt,ft),m=m+Math.imul(X,yt)|0,y=Math.imul(X,ft),v=v+Math.imul(Xe,xt)|0,m=m+Math.imul(Xe,te)|0,m=m+Math.imul(qe,xt)|0,y=y+Math.imul(qe,te)|0,v=v+Math.imul(Re,H)|0,m=m+Math.imul(Re,fe)|0,m=m+Math.imul(Oe,H)|0,y=y+Math.imul(Oe,fe)|0,v=v+Math.imul(we,L)|0,m=m+Math.imul(we,K)|0,m=m+Math.imul(Me,L)|0,y=y+Math.imul(Me,K)|0,v=v+Math.imul(me,F)|0,m=m+Math.imul(me,ne)|0,m=m+Math.imul(ye,F)|0,y=y+Math.imul(ye,ne)|0,v=v+Math.imul(le,be)|0,m=m+Math.imul(le,Pe)|0,m=m+Math.imul(ge,be)|0,y=y+Math.imul(ge,Pe)|0;var bt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(bt>>>26)|0,bt&=67108863,v=Math.imul(rt,xt),m=Math.imul(rt,te),m=m+Math.imul(X,xt)|0,y=Math.imul(X,te),v=v+Math.imul(Xe,H)|0,m=m+Math.imul(Xe,fe)|0,m=m+Math.imul(qe,H)|0,y=y+Math.imul(qe,fe)|0,v=v+Math.imul(Re,L)|0,m=m+Math.imul(Re,K)|0,m=m+Math.imul(Oe,L)|0,y=y+Math.imul(Oe,K)|0,v=v+Math.imul(we,F)|0,m=m+Math.imul(we,ne)|0,m=m+Math.imul(Me,F)|0,y=y+Math.imul(Me,ne)|0,v=v+Math.imul(me,be)|0,m=m+Math.imul(me,Pe)|0,m=m+Math.imul(ye,be)|0,y=y+Math.imul(ye,Pe)|0;var ut=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(ut>>>26)|0,ut&=67108863,v=Math.imul(rt,H),m=Math.imul(rt,fe),m=m+Math.imul(X,H)|0,y=Math.imul(X,fe),v=v+Math.imul(Xe,L)|0,m=m+Math.imul(Xe,K)|0,m=m+Math.imul(qe,L)|0,y=y+Math.imul(qe,K)|0,v=v+Math.imul(Re,F)|0,m=m+Math.imul(Re,ne)|0,m=m+Math.imul(Oe,F)|0,y=y+Math.imul(Oe,ne)|0,v=v+Math.imul(we,be)|0,m=m+Math.imul(we,Pe)|0,m=m+Math.imul(Me,be)|0,y=y+Math.imul(Me,Pe)|0;var mt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(mt>>>26)|0,mt&=67108863,v=Math.imul(rt,L),m=Math.imul(rt,K),m=m+Math.imul(X,L)|0,y=Math.imul(X,K),v=v+Math.imul(Xe,F)|0,m=m+Math.imul(Xe,ne)|0,m=m+Math.imul(qe,F)|0,y=y+Math.imul(qe,ne)|0,v=v+Math.imul(Re,be)|0,m=m+Math.imul(Re,Pe)|0,m=m+Math.imul(Oe,be)|0,y=y+Math.imul(Oe,Pe)|0;var wt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(wt>>>26)|0,wt&=67108863,v=Math.imul(rt,F),m=Math.imul(rt,ne),m=m+Math.imul(X,F)|0,y=Math.imul(X,ne),v=v+Math.imul(Xe,be)|0,m=m+Math.imul(Xe,Pe)|0,m=m+Math.imul(qe,be)|0,y=y+Math.imul(qe,Pe)|0;var lt=(x+v|0)+((m&8191)<<13)|0;x=(y+(m>>>13)|0)+(lt>>>26)|0,lt&=67108863,v=Math.imul(rt,be),m=Math.imul(rt,Pe),m=m+Math.imul(X,be)|0,y=Math.imul(X,Pe);var Le=(x+v|0)+((m&8191)<<13)|0;return x=(y+(m>>>13)|0)+(Le>>>26)|0,Le&=67108863,S[0]=Ke,S[1]=nt,S[2]=Ge,S[3]=Nt,S[4]=gt,S[5]=Mt,S[6]=kt,S[7]=Ft,S[8]=Tt,S[9]=_t,S[10]=Et,S[11]=At,S[12]=dt,S[13]=bt,S[14]=ut,S[15]=mt,S[16]=wt,S[17]=lt,S[18]=Le,x!==0&&(S[19]=x,p.length++),p};Math.imul||(_=M);function D(G,E,d){d.negative=E.negative^G.negative,d.length=G.length+E.length;for(var p=0,o=0,l=0;l<d.length-1;l++){var S=o;o=0;for(var x=p&67108863,v=Math.min(l,E.length-1),m=Math.max(0,l-G.length+1);m<=v;m++){var y=l-m,k=G.words[y]|0,w=E.words[m]|0,T=k*w,ie=T&67108863;S=S+(T/67108864|0)|0,ie=ie+x|0,x=ie&67108863,S=S+(ie>>>26)|0,o+=S>>>26,S&=67108863}d.words[l]=x,p=S,S=o}return p!==0?d.words[l]=p:d.length--,d.strip()}function R(G,E,d){var p=new A;return p.mulp(G,E,d)}n.prototype.mulTo=function(E,d){var p,o=this.length+E.length;return this.length===10&&E.length===10?p=_(this,E,d):o<63?p=M(this,E,d):o<1024?p=D(this,E,d):p=R(this,E,d),p};function A(G,E){this.x=G,this.y=E}A.prototype.makeRBT=function(E){for(var d=new Array(E),p=n.prototype._countBits(E)-1,o=0;o<E;o++)d[o]=this.revBin(o,p,E);return d},A.prototype.revBin=function(E,d,p){if(E===0||E===p-1)return E;for(var o=0,l=0;l<d;l++)o|=(E&1)<<d-l-1,E>>=1;return o},A.prototype.permute=function(E,d,p,o,l,S){for(var x=0;x<S;x++)o[x]=d[E[x]],l[x]=p[E[x]]},A.prototype.transform=function(E,d,p,o,l,S){this.permute(S,E,d,p,o,l);for(var x=1;x<l;x<<=1)for(var v=x<<1,m=Math.cos(2*Math.PI/v),y=Math.sin(2*Math.PI/v),k=0;k<l;k+=v)for(var w=m,T=y,ie=0;ie<x;ie++){var ve=p[k+ie],ce=o[k+ie],C=p[k+ie+x],B=o[k+ie+x],ee=w*C-T*B;B=w*B+T*C,C=ee,p[k+ie]=ve+C,o[k+ie]=ce+B,p[k+ie+x]=ve-C,o[k+ie+x]=ce-B,ie!==v&&(ee=m*w-y*T,T=m*T+y*w,w=ee)}},A.prototype.guessLen13b=function(E,d){var p=Math.max(d,E)|1,o=p&1,l=0;for(p=p/2|0;p;p=p>>>1)l++;return 1<<l+1+o},A.prototype.conjugate=function(E,d,p){if(!(p<=1))for(var o=0;o<p/2;o++){var l=E[o];E[o]=E[p-o-1],E[p-o-1]=l,l=d[o],d[o]=-d[p-o-1],d[p-o-1]=-l}},A.prototype.normalize13b=function(E,d){for(var p=0,o=0;o<d/2;o++){var l=Math.round(E[2*o+1]/d)*8192+Math.round(E[2*o]/d)+p;E[o]=l&67108863,l<67108864?p=0:p=l/67108864|0}return E},A.prototype.convert13b=function(E,d,p,o){for(var l=0,S=0;S<d;S++)l=l+(E[S]|0),p[2*S]=l&8191,l=l>>>13,p[2*S+1]=l&8191,l=l>>>13;for(S=2*d;S<o;++S)p[S]=0;r(l===0),r((l&-8192)===0)},A.prototype.stub=function(E){for(var d=new Array(E),p=0;p<E;p++)d[p]=0;return d},A.prototype.mulp=function(E,d,p){var o=2*this.guessLen13b(E.length,d.length),l=this.makeRBT(o),S=this.stub(o),x=new Array(o),v=new Array(o),m=new Array(o),y=new Array(o),k=new Array(o),w=new Array(o),T=p.words;T.length=o,this.convert13b(E.words,E.length,x,o),this.convert13b(d.words,d.length,y,o),this.transform(x,S,v,m,o,l),this.transform(y,S,k,w,o,l);for(var ie=0;ie<o;ie++){var ve=v[ie]*k[ie]-m[ie]*w[ie];m[ie]=v[ie]*w[ie]+m[ie]*k[ie],v[ie]=ve}return this.conjugate(v,m,o),this.transform(v,m,T,S,o,l),this.conjugate(T,S,o),this.normalize13b(T,o),p.negative=E.negative^d.negative,p.length=E.length+d.length,p.strip()},n.prototype.mul=function(E){var d=new n(null);return d.words=new Array(this.length+E.length),this.mulTo(E,d)},n.prototype.mulf=function(E){var d=new n(null);return d.words=new Array(this.length+E.length),R(this,E,d)},n.prototype.imul=function(E){return this.clone().mulTo(E,this)},n.prototype.imuln=function(E){r(typeof E=="number"),r(E<67108864);for(var d=0,p=0;p<this.length;p++){var o=(this.words[p]|0)*E,l=(o&67108863)+(d&67108863);d>>=26,d+=o/67108864|0,d+=l>>>26,this.words[p]=l&67108863}return d!==0&&(this.words[p]=d,this.length++),this},n.prototype.muln=function(E){return this.clone().imuln(E)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(E){var d=b(E);if(d.length===0)return new n(1);for(var p=this,o=0;o<d.length&&d[o]===0;o++,p=p.sqr());if(++o<d.length)for(var l=p.sqr();o<d.length;o++,l=l.sqr())d[o]!==0&&(p=p.mul(l));return p},n.prototype.iushln=function(E){r(typeof E=="number"&&E>=0);var d=E%26,p=(E-d)/26,o=67108863>>>26-d<<26-d,l;if(d!==0){var S=0;for(l=0;l<this.length;l++){var x=this.words[l]&o,v=(this.words[l]|0)-x<<d;this.words[l]=v|S,S=x>>>26-d}S&&(this.words[l]=S,this.length++)}if(p!==0){for(l=this.length-1;l>=0;l--)this.words[l+p]=this.words[l];for(l=0;l<p;l++)this.words[l]=0;this.length+=p}return this.strip()},n.prototype.ishln=function(E){return r(this.negative===0),this.iushln(E)},n.prototype.iushrn=function(E,d,p){r(typeof E=="number"&&E>=0);var o;d?o=(d-d%26)/26:o=0;var l=E%26,S=Math.min((E-l)/26,this.length),x=67108863^67108863>>>l<<l,v=p;if(o-=S,o=Math.max(0,o),v){for(var m=0;m<S;m++)v.words[m]=this.words[m];v.length=S}if(S!==0)if(this.length>S)for(this.length-=S,m=0;m<this.length;m++)this.words[m]=this.words[m+S];else this.words[0]=0,this.length=1;var y=0;for(m=this.length-1;m>=0&&(y!==0||m>=o);m--){var k=this.words[m]|0;this.words[m]=y<<26-l|k>>>l,y=k&x}return v&&y!==0&&(v.words[v.length++]=y),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(E,d,p){return r(this.negative===0),this.iushrn(E,d,p)},n.prototype.shln=function(E){return this.clone().ishln(E)},n.prototype.ushln=function(E){return this.clone().iushln(E)},n.prototype.shrn=function(E){return this.clone().ishrn(E)},n.prototype.ushrn=function(E){return this.clone().iushrn(E)},n.prototype.testn=function(E){r(typeof E=="number"&&E>=0);var d=E%26,p=(E-d)/26,o=1<<d;if(this.length<=p)return!1;var l=this.words[p];return!!(l&o)},n.prototype.imaskn=function(E){r(typeof E=="number"&&E>=0);var d=E%26,p=(E-d)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=p)return this;if(d!==0&&p++,this.length=Math.min(p,this.length),d!==0){var o=67108863^67108863>>>d<<d;this.words[this.length-1]&=o}return this.strip()},n.prototype.maskn=function(E){return this.clone().imaskn(E)},n.prototype.iaddn=function(E){return r(typeof E=="number"),r(E<67108864),E<0?this.isubn(-E):this.negative!==0?this.length===1&&(this.words[0]|0)<E?(this.words[0]=E-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(E),this.negative=1,this):this._iaddn(E)},n.prototype._iaddn=function(E){this.words[0]+=E;for(var d=0;d<this.length&&this.words[d]>=67108864;d++)this.words[d]-=67108864,d===this.length-1?this.words[d+1]=1:this.words[d+1]++;return this.length=Math.max(this.length,d+1),this},n.prototype.isubn=function(E){if(r(typeof E=="number"),r(E<67108864),E<0)return this.iaddn(-E);if(this.negative!==0)return this.negative=0,this.iaddn(E),this.negative=1,this;if(this.words[0]-=E,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var d=0;d<this.length&&this.words[d]<0;d++)this.words[d]+=67108864,this.words[d+1]-=1;return this.strip()},n.prototype.addn=function(E){return this.clone().iaddn(E)},n.prototype.subn=function(E){return this.clone().isubn(E)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(E,d,p){var o=E.length+p,l;this._expand(o);var S,x=0;for(l=0;l<E.length;l++){S=(this.words[l+p]|0)+x;var v=(E.words[l]|0)*d;S-=v&67108863,x=(S>>26)-(v/67108864|0),this.words[l+p]=S&67108863}for(;l<this.length-p;l++)S=(this.words[l+p]|0)+x,x=S>>26,this.words[l+p]=S&67108863;if(x===0)return this.strip();for(r(x===-1),x=0,l=0;l<this.length;l++)S=-(this.words[l]|0)+x,x=S>>26,this.words[l]=S&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(E,d){var p=this.length-E.length,o=this.clone(),l=E,S=l.words[l.length-1]|0,x=this._countBits(S);p=26-x,p!==0&&(l=l.ushln(p),o.iushln(p),S=l.words[l.length-1]|0);var v=o.length-l.length,m;if(d!=="mod"){m=new n(null),m.length=v+1,m.words=new Array(m.length);for(var y=0;y<m.length;y++)m.words[y]=0}var k=o.clone()._ishlnsubmul(l,1,v);k.negative===0&&(o=k,m&&(m.words[v]=1));for(var w=v-1;w>=0;w--){var T=(o.words[l.length+w]|0)*67108864+(o.words[l.length+w-1]|0);for(T=Math.min(T/S|0,67108863),o._ishlnsubmul(l,T,w);o.negative!==0;)T--,o.negative=0,o._ishlnsubmul(l,1,w),o.isZero()||(o.negative^=1);m&&(m.words[w]=T)}return m&&m.strip(),o.strip(),d!=="div"&&p!==0&&o.iushrn(p),{div:m||null,mod:o}},n.prototype.divmod=function(E,d,p){if(r(!E.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var o,l,S;return this.negative!==0&&E.negative===0?(S=this.neg().divmod(E,d),d!=="mod"&&(o=S.div.neg()),d!=="div"&&(l=S.mod.neg(),p&&l.negative!==0&&l.iadd(E)),{div:o,mod:l}):this.negative===0&&E.negative!==0?(S=this.divmod(E.neg(),d),d!=="mod"&&(o=S.div.neg()),{div:o,mod:S.mod}):(this.negative&E.negative)!==0?(S=this.neg().divmod(E.neg(),d),d!=="div"&&(l=S.mod.neg(),p&&l.negative!==0&&l.isub(E)),{div:S.div,mod:l}):E.length>this.length||this.cmp(E)<0?{div:new n(0),mod:this}:E.length===1?d==="div"?{div:this.divn(E.words[0]),mod:null}:d==="mod"?{div:null,mod:new n(this.modn(E.words[0]))}:{div:this.divn(E.words[0]),mod:new n(this.modn(E.words[0]))}:this._wordDiv(E,d)},n.prototype.div=function(E){return this.divmod(E,"div",!1).div},n.prototype.mod=function(E){return this.divmod(E,"mod",!1).mod},n.prototype.umod=function(E){return this.divmod(E,"mod",!0).mod},n.prototype.divRound=function(E){var d=this.divmod(E);if(d.mod.isZero())return d.div;var p=d.div.negative!==0?d.mod.isub(E):d.mod,o=E.ushrn(1),l=E.andln(1),S=p.cmp(o);return S<0||l===1&&S===0?d.div:d.div.negative!==0?d.div.isubn(1):d.div.iaddn(1)},n.prototype.modn=function(E){r(E<=67108863);for(var d=(1<<26)%E,p=0,o=this.length-1;o>=0;o--)p=(d*p+(this.words[o]|0))%E;return p},n.prototype.idivn=function(E){r(E<=67108863);for(var d=0,p=this.length-1;p>=0;p--){var o=(this.words[p]|0)+d*67108864;this.words[p]=o/E|0,d=o%E}return this.strip()},n.prototype.divn=function(E){return this.clone().idivn(E)},n.prototype.egcd=function(E){r(E.negative===0),r(!E.isZero());var d=this,p=E.clone();d.negative!==0?d=d.umod(E):d=d.clone();for(var o=new n(1),l=new n(0),S=new n(0),x=new n(1),v=0;d.isEven()&&p.isEven();)d.iushrn(1),p.iushrn(1),++v;for(var m=p.clone(),y=d.clone();!d.isZero();){for(var k=0,w=1;(d.words[0]&w)===0&&k<26;++k,w<<=1);if(k>0)for(d.iushrn(k);k-- >0;)(o.isOdd()||l.isOdd())&&(o.iadd(m),l.isub(y)),o.iushrn(1),l.iushrn(1);for(var T=0,ie=1;(p.words[0]&ie)===0&&T<26;++T,ie<<=1);if(T>0)for(p.iushrn(T);T-- >0;)(S.isOdd()||x.isOdd())&&(S.iadd(m),x.isub(y)),S.iushrn(1),x.iushrn(1);d.cmp(p)>=0?(d.isub(p),o.isub(S),l.isub(x)):(p.isub(d),S.isub(o),x.isub(l))}return{a:S,b:x,gcd:p.iushln(v)}},n.prototype._invmp=function(E){r(E.negative===0),r(!E.isZero());var d=this,p=E.clone();d.negative!==0?d=d.umod(E):d=d.clone();for(var o=new n(1),l=new n(0),S=p.clone();d.cmpn(1)>0&&p.cmpn(1)>0;){for(var x=0,v=1;(d.words[0]&v)===0&&x<26;++x,v<<=1);if(x>0)for(d.iushrn(x);x-- >0;)o.isOdd()&&o.iadd(S),o.iushrn(1);for(var m=0,y=1;(p.words[0]&y)===0&&m<26;++m,y<<=1);if(m>0)for(p.iushrn(m);m-- >0;)l.isOdd()&&l.iadd(S),l.iushrn(1);d.cmp(p)>=0?(d.isub(p),o.isub(l)):(p.isub(d),l.isub(o))}var k;return d.cmpn(1)===0?k=o:k=l,k.cmpn(0)<0&&k.iadd(E),k},n.prototype.gcd=function(E){if(this.isZero())return E.abs();if(E.isZero())return this.abs();var d=this.clone(),p=E.clone();d.negative=0,p.negative=0;for(var o=0;d.isEven()&&p.isEven();o++)d.iushrn(1),p.iushrn(1);do{for(;d.isEven();)d.iushrn(1);for(;p.isEven();)p.iushrn(1);var l=d.cmp(p);if(l<0){var S=d;d=p,p=S}else if(l===0||p.cmpn(1)===0)break;d.isub(p)}while(!0);return p.iushln(o)},n.prototype.invm=function(E){return this.egcd(E).a.umod(E)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(E){return this.words[0]&E},n.prototype.bincn=function(E){r(typeof E=="number");var d=E%26,p=(E-d)/26,o=1<<d;if(this.length<=p)return this._expand(p+1),this.words[p]|=o,this;for(var l=o,S=p;l!==0&&S<this.length;S++){var x=this.words[S]|0;x+=l,l=x>>>26,x&=67108863,this.words[S]=x}return l!==0&&(this.words[S]=l,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(E){var d=E<0;if(this.negative!==0&&!d)return-1;if(this.negative===0&&d)return 1;this.strip();var p;if(this.length>1)p=1;else{d&&(E=-E),r(E<=67108863,"Number is too big");var o=this.words[0]|0;p=o===E?0:o<E?-1:1}return this.negative!==0?-p|0:p},n.prototype.cmp=function(E){if(this.negative!==0&&E.negative===0)return-1;if(this.negative===0&&E.negative!==0)return 1;var d=this.ucmp(E);return this.negative!==0?-d|0:d},n.prototype.ucmp=function(E){if(this.length>E.length)return 1;if(this.length<E.length)return-1;for(var d=0,p=this.length-1;p>=0;p--){var o=this.words[p]|0,l=E.words[p]|0;if(o!==l){o<l?d=-1:o>l&&(d=1);break}}return d},n.prototype.gtn=function(E){return this.cmpn(E)===1},n.prototype.gt=function(E){return this.cmp(E)===1},n.prototype.gten=function(E){return this.cmpn(E)>=0},n.prototype.gte=function(E){return this.cmp(E)>=0},n.prototype.ltn=function(E){return this.cmpn(E)===-1},n.prototype.lt=function(E){return this.cmp(E)===-1},n.prototype.lten=function(E){return this.cmpn(E)<=0},n.prototype.lte=function(E){return this.cmp(E)<=0},n.prototype.eqn=function(E){return this.cmpn(E)===0},n.prototype.eq=function(E){return this.cmp(E)===0},n.red=function(E){return new Y(E)},n.prototype.toRed=function(E){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),E.convertTo(this)._forceRed(E)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(E){return this.red=E,this},n.prototype.forceRed=function(E){return r(!this.red,"Already a number in reduction context"),this._forceRed(E)},n.prototype.redAdd=function(E){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,E)},n.prototype.redIAdd=function(E){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,E)},n.prototype.redSub=function(E){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,E)},n.prototype.redISub=function(E){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,E)},n.prototype.redShl=function(E){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,E)},n.prototype.redMul=function(E){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.mul(this,E)},n.prototype.redIMul=function(E){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,E),this.red.imul(this,E)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(E){return r(this.red&&!E.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,E)};var I={k256:null,p224:null,p192:null,p25519:null};function N(G,E){this.name=G,this.p=new n(E,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}N.prototype._tmp=function(){var E=new n(null);return E.words=new Array(Math.ceil(this.n/13)),E},N.prototype.ireduce=function(E){var d=E,p;do this.split(d,this.tmp),d=this.imulK(d),d=d.iadd(this.tmp),p=d.bitLength();while(p>this.n);var o=p<this.n?-1:d.ucmp(this.p);return o===0?(d.words[0]=0,d.length=1):o>0?d.isub(this.p):d.strip(),d},N.prototype.split=function(E,d){E.iushrn(this.n,0,d)},N.prototype.imulK=function(E){return E.imul(this.k)};function $(){N.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a($,N),$.prototype.split=function(E,d){for(var p=4194303,o=Math.min(E.length,9),l=0;l<o;l++)d.words[l]=E.words[l];if(d.length=o,E.length<=9){E.words[0]=0,E.length=1;return}var S=E.words[9];for(d.words[d.length++]=S&p,l=10;l<E.length;l++){var x=E.words[l]|0;E.words[l-10]=(x&p)<<4|S>>>22,S=x}S>>>=22,E.words[l-10]=S,S===0&&E.length>10?E.length-=10:E.length-=9},$.prototype.imulK=function(E){E.words[E.length]=0,E.words[E.length+1]=0,E.length+=2;for(var d=0,p=0;p<E.length;p++){var o=E.words[p]|0;d+=o*977,E.words[p]=d&67108863,d=o*64+(d/67108864|0)}return E.words[E.length-1]===0&&(E.length--,E.words[E.length-1]===0&&E.length--),E};function V(){N.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(V,N);function U(){N.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(U,N);function J(){N.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(J,N),J.prototype.imulK=function(E){for(var d=0,p=0;p<E.length;p++){var o=(E.words[p]|0)*19+d,l=o&67108863;o>>>=26,E.words[p]=l,d=o}return d!==0&&(E.words[E.length++]=d),E},n._prime=function(E){if(I[E])return I[E];var d;if(E==="k256")d=new $;else if(E==="p224")d=new V;else if(E==="p192")d=new U;else if(E==="p25519")d=new J;else throw new Error("Unknown prime "+E);return I[E]=d,d};function Y(G){if(typeof G=="string"){var E=n._prime(G);this.m=E.p,this.prime=E}else r(G.gtn(1),"modulus must be greater than 1"),this.m=G,this.prime=null}Y.prototype._verify1=function(E){r(E.negative===0,"red works only with positives"),r(E.red,"red works only with red numbers")},Y.prototype._verify2=function(E,d){r((E.negative|d.negative)===0,"red works only with positives"),r(E.red&&E.red===d.red,"red works only with red numbers")},Y.prototype.imod=function(E){return this.prime?this.prime.ireduce(E)._forceRed(this):E.umod(this.m)._forceRed(this)},Y.prototype.neg=function(E){return E.isZero()?E.clone():this.m.sub(E)._forceRed(this)},Y.prototype.add=function(E,d){this._verify2(E,d);var p=E.add(d);return p.cmp(this.m)>=0&&p.isub(this.m),p._forceRed(this)},Y.prototype.iadd=function(E,d){this._verify2(E,d);var p=E.iadd(d);return p.cmp(this.m)>=0&&p.isub(this.m),p},Y.prototype.sub=function(E,d){this._verify2(E,d);var p=E.sub(d);return p.cmpn(0)<0&&p.iadd(this.m),p._forceRed(this)},Y.prototype.isub=function(E,d){this._verify2(E,d);var p=E.isub(d);return p.cmpn(0)<0&&p.iadd(this.m),p},Y.prototype.shl=function(E,d){return this._verify1(E),this.imod(E.ushln(d))},Y.prototype.imul=function(E,d){return this._verify2(E,d),this.imod(E.imul(d))},Y.prototype.mul=function(E,d){return this._verify2(E,d),this.imod(E.mul(d))},Y.prototype.isqr=function(E){return this.imul(E,E.clone())},Y.prototype.sqr=function(E){return this.mul(E,E)},Y.prototype.sqrt=function(E){if(E.isZero())return E.clone();var d=this.m.andln(3);if(r(d%2===1),d===3){var p=this.m.add(new n(1)).iushrn(2);return this.pow(E,p)}for(var o=this.m.subn(1),l=0;!o.isZero()&&o.andln(1)===0;)l++,o.iushrn(1);r(!o.isZero());var S=new n(1).toRed(this),x=S.redNeg(),v=this.m.subn(1).iushrn(1),m=this.m.bitLength();for(m=new n(2*m*m).toRed(this);this.pow(m,v).cmp(x)!==0;)m.redIAdd(x);for(var y=this.pow(m,o),k=this.pow(E,o.addn(1).iushrn(1)),w=this.pow(E,o),T=l;w.cmp(S)!==0;){for(var ie=w,ve=0;ie.cmp(S)!==0;ve++)ie=ie.redSqr();r(ve<T);var ce=this.pow(y,new n(1).iushln(T-ve-1));k=k.redMul(ce),y=ce.redSqr(),w=w.redMul(y),T=ve}return k},Y.prototype.invm=function(E){var d=E._invmp(this.m);return d.negative!==0?(d.negative=0,this.imod(d).redNeg()):this.imod(d)},Y.prototype.pow=function(E,d){if(d.isZero())return new n(1).toRed(this);if(d.cmpn(1)===0)return E.clone();var p=4,o=new Array(1<<p);o[0]=new n(1).toRed(this),o[1]=E;for(var l=2;l<o.length;l++)o[l]=this.mul(o[l-1],E);var S=o[0],x=0,v=0,m=d.bitLength()%26;for(m===0&&(m=26),l=d.length-1;l>=0;l--){for(var y=d.words[l],k=m-1;k>=0;k--){var w=y>>k&1;if(S!==o[0]&&(S=this.sqr(S)),w===0&&x===0){v=0;continue}x<<=1,x|=w,v++,!(v!==p&&(l!==0||k!==0))&&(S=this.mul(S,o[x]),v=0,x=0)}m=26}return S},Y.prototype.convertTo=function(E){var d=E.umod(this.m);return d===E?d.clone():d},Y.prototype.convertFrom=function(E){var d=E.clone();return d.red=null,d},n.mont=function(E){return new oe(E)};function oe(G){Y.call(this,G),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(oe,Y),oe.prototype.convertTo=function(E){return this.imod(E.ushln(this.shift))},oe.prototype.convertFrom=function(E){var d=this.imod(E.mul(this.rinv));return d.red=null,d},oe.prototype.imul=function(E,d){if(E.isZero()||d.isZero())return E.words[0]=0,E.length=1,E;var p=E.imul(d),o=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=p.isub(o).iushrn(this.shift),S=l;return l.cmp(this.m)>=0?S=l.isub(this.m):l.cmpn(0)<0&&(S=l.iadd(this.m)),S._forceRed(this)},oe.prototype.mul=function(E,d){if(E.isZero()||d.isZero())return new n(0)._forceRed(this);var p=E.mul(d),o=p.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),l=p.isub(o).iushrn(this.shift),S=l;return l.cmp(this.m)>=0?S=l.isub(this.m):l.cmpn(0)<0&&(S=l.iadd(this.m)),S._forceRed(this)},oe.prototype.invm=function(E){var d=this.imod(E._invmp(this.m).mul(this.r2));return d._forceRed(this)}})(i,Nx)})(cf)),cf.exports}var zc={exports:{}},Dv;function Sg(){if(Dv)return zc.exports;Dv=1;var i;zc.exports=function(a){return i||(i=new e(null)),i.generate(a)};function e(r){this.rand=r}if(zc.exports.Rand=e,e.prototype.generate=function(a){return this._rand(a)},e.prototype._rand=function(a){if(this.rand.getBytes)return this.rand.getBytes(a);for(var n=new Uint8Array(a),s=0;s<n.length;s++)n[s]=this.rand.getByte();return n},typeof self=="object")self.crypto&&self.crypto.getRandomValues?e.prototype._rand=function(a){var n=new Uint8Array(a);return self.crypto.getRandomValues(n),n}:self.msCrypto&&self.msCrypto.getRandomValues?e.prototype._rand=function(a){var n=new Uint8Array(a);return self.msCrypto.getRandomValues(n),n}:typeof window=="object"&&(e.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var t=i3();if(typeof t.randomBytes!="function")throw new Error("Not supported");e.prototype._rand=function(a){return t.randomBytes(a)}}catch{}return zc.exports}var Cl,Rv;function Lb(){if(Rv)return Cl;Rv=1;var i=Ei(),e=Sg();function t(r){this.rand=r||new e.Rand}return Cl=t,t.create=function(a){return new t(a)},t.prototype._randbelow=function(a){var n=a.bitLength(),s=Math.ceil(n/8);do var c=new i(this.rand.generate(s));while(c.cmp(a)>=0);return c},t.prototype._randrange=function(a,n){var s=n.sub(a);return a.add(this._randbelow(s))},t.prototype.test=function(a,n,s){var c=a.bitLength(),u=i.mont(a),h=new i(1).toRed(u);n||(n=Math.max(1,c/48|0));for(var f=a.subn(1),g=0;!f.testn(g);g++);for(var b=a.shrn(g),M=f.toRed(u),_=!0;n>0;n--){var D=this._randrange(new i(2),f);s&&s(D);var R=D.toRed(u).redPow(b);if(!(R.cmp(h)===0||R.cmp(M)===0)){for(var A=1;A<g;A++){if(R=R.redSqr(),R.cmp(h)===0)return!1;if(R.cmp(M)===0)break}if(A===g)return!1}}return _},t.prototype.getDivisor=function(a,n){var s=a.bitLength(),c=i.mont(a),u=new i(1).toRed(c);n||(n=Math.max(1,s/48|0));for(var h=a.subn(1),f=0;!h.testn(f);f++);for(var g=a.shrn(f),b=h.toRed(c);n>0;n--){var M=this._randrange(new i(2),h),_=a.gcd(M);if(_.cmpn(1)!==0)return _;var D=M.toRed(c).redPow(g);if(!(D.cmp(u)===0||D.cmp(b)===0)){for(var R=1;R<f;R++){if(D=D.redSqr(),D.cmp(u)===0)return D.fromRed().subn(1).gcd(a);if(D.cmp(b)===0)break}if(R===f)return D=D.redSqr(),D.fromRed().subn(1).gcd(a)}}return!1},Cl}var Pl,Tv;function Ub(){if(Tv)return Pl;Tv=1;var i=ns();Pl=R,R.simpleSieve=_,R.fermatTest=D;var e=Ei(),t=new e(24),r=Lb(),a=new r,n=new e(1),s=new e(2),c=new e(5);new e(16),new e(8);var u=new e(10),h=new e(3);new e(7);var f=new e(11),g=new e(4);new e(12);var b=null;function M(){if(b!==null)return b;var A=1048576,I=[];I[0]=2;for(var N=1,$=3;$<A;$+=2){for(var V=Math.ceil(Math.sqrt($)),U=0;U<N&&I[U]<=V&&$%I[U]!==0;U++);N!==U&&I[U]<=V||(I[N++]=$)}return b=I,I}function _(A){for(var I=M(),N=0;N<I.length;N++)if(A.modn(I[N])===0)return A.cmpn(I[N])===0;return!0}function D(A){var I=e.mont(A);return s.toRed(I).redPow(A.subn(1)).fromRed().cmpn(1)===0}function R(A,I){if(A<16)return I===2||I===5?new e([140,123]):new e([140,39]);I=new e(I);for(var N,$;;){for(N=new e(i(Math.ceil(A/8)));N.bitLength()>A;)N.ishrn(1);if(N.isEven()&&N.iadd(n),N.testn(1)||N.iadd(s),I.cmp(s)){if(!I.cmp(c))for(;N.mod(u).cmp(h);)N.iadd(g)}else for(;N.mod(t).cmp(f);)N.iadd(g);if($=N.shrn(1),_($)&&_(N)&&D($)&&D(N)&&a.test($)&&a.test(N))return N}}return Pl}const Ox={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},Lx={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},Ux={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},$x={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},qx={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},Vx={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},zx={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},jx={gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"},Wx={modp1:Ox,modp2:Lx,modp5:Ux,modp14:$x,modp15:qx,modp16:Vx,modp17:zx,modp18:jx};var Nl,Bv;function Hx(){if(Bv)return Nl;Bv=1;var i=Ei(),e=Lb(),t=new e,r=new i(24),a=new i(11),n=new i(10),s=new i(3),c=new i(7),u=Ub(),h=ns();Nl=_;function f(R,A){return A=A||"utf8",Xt.isBuffer(R)||(R=new Xt(R,A)),this._pub=new i(R),this}function g(R,A){return A=A||"utf8",Xt.isBuffer(R)||(R=new Xt(R,A)),this._priv=new i(R),this}var b={};function M(R,A){var I=A.toString("hex"),N=[I,R.toString(16)].join("_");if(N in b)return b[N];var $=0;if(R.isEven()||!u.simpleSieve||!u.fermatTest(R)||!t.test(R))return $+=1,I==="02"||I==="05"?$+=8:$+=4,b[N]=$,$;t.test(R.shrn(1))||($+=2);var V;switch(I){case"02":R.mod(r).cmp(a)&&($+=8);break;case"05":V=R.mod(n),V.cmp(s)&&V.cmp(c)&&($+=8);break;default:$+=4}return b[N]=$,$}function _(R,A,I){this.setGenerator(A),this.__prime=new i(R),this._prime=i.mont(this.__prime),this._primeLen=R.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,I?(this.setPublicKey=f,this.setPrivateKey=g):this._primeCode=8}Object.defineProperty(_.prototype,"verifyError",{enumerable:!0,get:function(){return typeof this._primeCode!="number"&&(this._primeCode=M(this.__prime,this.__gen)),this._primeCode}}),_.prototype.generateKeys=function(){return this._priv||(this._priv=new i(h(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},_.prototype.computeSecret=function(R){R=new i(R),R=R.toRed(this._prime);var A=R.redPow(this._priv).fromRed(),I=new Xt(A.toArray()),N=this.getPrime();if(I.length<N.length){var $=new Xt(N.length-I.length);$.fill(0),I=Xt.concat([$,I])}return I},_.prototype.getPublicKey=function(A){return D(this._pub,A)},_.prototype.getPrivateKey=function(A){return D(this._priv,A)},_.prototype.getPrime=function(R){return D(this.__prime,R)},_.prototype.getGenerator=function(R){return D(this._gen,R)},_.prototype.setGenerator=function(R,A){return A=A||"utf8",Xt.isBuffer(R)||(R=new Xt(R,A)),this.__gen=R,this._gen=new i(R),this};function D(R,A){var I=new Xt(R.toArray());return A?I.toString(A):I}return Nl}var Fv;function Gx(){if(Fv)return Ai;Fv=1;var i=Ub(),e=Wx,t=Hx();function r(s){var c=new Xt(e[s].prime,"hex"),u=new Xt(e[s].gen,"hex");return new t(c,u)}var a={binary:!0,hex:!0,base64:!0};function n(s,c,u,h){return Xt.isBuffer(c)||a[c]===void 0?n(s,"binary",c,u):(c=c||"binary",h=h||"binary",u=u||new Xt([2]),Xt.isBuffer(u)||(u=new Xt(u,h)),typeof s=="number"?new t(i(s,u),u,!0):(Xt.isBuffer(s)||(s=new Xt(s,c)),new t(s,u,!0)))}return Ai.DiffieHellmanGroup=Ai.createDiffieHellmanGroup=Ai.getDiffieHellman=r,Ai.createDiffieHellman=Ai.DiffieHellman=n,Ai}var jc={exports:{}},Ol,Cv;function Kx(){if(Cv)return Ol;Cv=1;var i={}.toString;return Ol=Array.isArray||function(e){return i.call(e)=="[object Array]"},Ol}var Ll,Pv;function $b(){return Pv||(Pv=1,Ll=ka().EventEmitter),Ll}var Wc={exports:{}},Nv;function Eg(){return Nv||(Nv=1,(function(i,e){var t=Ar(),r=t.Buffer;function a(s,c){for(var u in s)c[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=t:(a(t,e),e.Buffer=n);function n(s,c,u){return r(s,c,u)}a(r,n),n.from=function(s,c,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,c,u)},n.alloc=function(s,c,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Wc,Wc.exports)),Wc.exports}var Ul={exports:{}},Ov;function Jx(){return Ov||(Ov=1,(function(i){function e(n,s){if(!(n instanceof s))throw new TypeError("Cannot call a class as a function")}var t=Eg().Buffer,r=Ia;function a(n,s,c){n.copy(s,c)}i.exports=(function(){function n(){e(this,n),this.head=null,this.tail=null,this.length=0}return n.prototype.push=function(c){var u={data:c,next:null};this.length>0?this.tail.next=u:this.head=u,this.tail=u,++this.length},n.prototype.unshift=function(c){var u={data:c,next:this.head};this.length===0&&(this.tail=u),this.head=u,++this.length},n.prototype.shift=function(){if(this.length!==0){var c=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,c}},n.prototype.clear=function(){this.head=this.tail=null,this.length=0},n.prototype.join=function(c){if(this.length===0)return"";for(var u=this.head,h=""+u.data;u=u.next;)h+=c+u.data;return h},n.prototype.concat=function(c){if(this.length===0)return t.alloc(0);for(var u=t.allocUnsafe(c>>>0),h=this.head,f=0;h;)a(h.data,u,f),f+=h.data.length,h=h.next;return u},n})(),r&&r.inspect&&r.inspect.custom&&(i.exports.prototype[r.inspect.custom]=function(){var n=r.inspect({length:this.length});return this.constructor.name+" "+n})})(Ul)),Ul.exports}var $l,Lv;function qb(){if(Lv)return $l;Lv=1;var i=xi();function e(a,n){var s=this,c=this._readableState&&this._readableState.destroyed,u=this._writableState&&this._writableState.destroyed;return c||u?(n?n(a):a&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,i.nextTick(r,this,a)):i.nextTick(r,this,a)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(a||null,function(h){!n&&h?s._writableState?s._writableState.errorEmitted||(s._writableState.errorEmitted=!0,i.nextTick(r,s,h)):i.nextTick(r,s,h):n&&n(h)}),this)}function t(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function r(a,n){a.emit("error",n)}return $l={destroy:e,undestroy:t},$l}var ql,Uv;function Vb(){if(Uv)return ql;Uv=1;var i=xi();ql=D;function e(x){var v=this;this.next=null,this.entry=null,this.finish=function(){S(v,x)}}var t=!Bt.browser&&["v0.10","v0.9."].indexOf(Bt.version.slice(0,5))>-1?setImmediate:i.nextTick,r;D.WritableState=M;var a=Object.create(Rn());a.inherits=Ut();var n={deprecate:cg()},s=$b(),c=Eg().Buffer,u=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function h(x){return c.from(x)}function f(x){return c.isBuffer(x)||x instanceof u}var g=qb();a.inherits(D,s);function b(){}function M(x,v){r=r||Ha(),x=x||{};var m=v instanceof r;this.objectMode=!!x.objectMode,m&&(this.objectMode=this.objectMode||!!x.writableObjectMode);var y=x.highWaterMark,k=x.writableHighWaterMark,w=this.objectMode?16:16*1024;y||y===0?this.highWaterMark=y:m&&(k||k===0)?this.highWaterMark=k:this.highWaterMark=w,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var T=x.decodeStrings===!1;this.decodeStrings=!T,this.defaultEncoding=x.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(ie){J(v,ie)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new e(this)}M.prototype.getBuffer=function(){for(var v=this.bufferedRequest,m=[];v;)m.push(v),v=v.next;return m},(function(){try{Object.defineProperty(M.prototype,"buffer",{get:n.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var _;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(_=Function.prototype[Symbol.hasInstance],Object.defineProperty(D,Symbol.hasInstance,{value:function(x){return _.call(this,x)?!0:this!==D?!1:x&&x._writableState instanceof M}})):_=function(x){return x instanceof this};function D(x){if(r=r||Ha(),!_.call(D,this)&&!(this instanceof r))return new D(x);this._writableState=new M(x,this),this.writable=!0,x&&(typeof x.write=="function"&&(this._write=x.write),typeof x.writev=="function"&&(this._writev=x.writev),typeof x.destroy=="function"&&(this._destroy=x.destroy),typeof x.final=="function"&&(this._final=x.final)),s.call(this)}D.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function R(x,v){var m=new Error("write after end");x.emit("error",m),i.nextTick(v,m)}function A(x,v,m,y){var k=!0,w=!1;return m===null?w=new TypeError("May not write null values to stream"):typeof m!="string"&&m!==void 0&&!v.objectMode&&(w=new TypeError("Invalid non-string/buffer chunk")),w&&(x.emit("error",w),i.nextTick(y,w),k=!1),k}D.prototype.write=function(x,v,m){var y=this._writableState,k=!1,w=!y.objectMode&&f(x);return w&&!c.isBuffer(x)&&(x=h(x)),typeof v=="function"&&(m=v,v=null),w?v="buffer":v||(v=y.defaultEncoding),typeof m!="function"&&(m=b),y.ended?R(this,m):(w||A(this,y,x,m))&&(y.pendingcb++,k=N(this,y,w,x,v,m)),k},D.prototype.cork=function(){var x=this._writableState;x.corked++},D.prototype.uncork=function(){var x=this._writableState;x.corked&&(x.corked--,!x.writing&&!x.corked&&!x.bufferProcessing&&x.bufferedRequest&&G(this,x))},D.prototype.setDefaultEncoding=function(v){if(typeof v=="string"&&(v=v.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((v+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+v);return this._writableState.defaultEncoding=v,this};function I(x,v,m){return!x.objectMode&&x.decodeStrings!==!1&&typeof v=="string"&&(v=c.from(v,m)),v}Object.defineProperty(D.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function N(x,v,m,y,k,w){if(!m){var T=I(v,y,k);y!==T&&(m=!0,k="buffer",y=T)}var ie=v.objectMode?1:y.length;v.length+=ie;var ve=v.length<v.highWaterMark;if(ve||(v.needDrain=!0),v.writing||v.corked){var ce=v.lastBufferedRequest;v.lastBufferedRequest={chunk:y,encoding:k,isBuf:m,callback:w,next:null},ce?ce.next=v.lastBufferedRequest:v.bufferedRequest=v.lastBufferedRequest,v.bufferedRequestCount+=1}else $(x,v,!1,ie,y,k,w);return ve}function $(x,v,m,y,k,w,T){v.writelen=y,v.writecb=T,v.writing=!0,v.sync=!0,m?x._writev(k,v.onwrite):x._write(k,w,v.onwrite),v.sync=!1}function V(x,v,m,y,k){--v.pendingcb,m?(i.nextTick(k,y),i.nextTick(o,x,v),x._writableState.errorEmitted=!0,x.emit("error",y)):(k(y),x._writableState.errorEmitted=!0,x.emit("error",y),o(x,v))}function U(x){x.writing=!1,x.writecb=null,x.length-=x.writelen,x.writelen=0}function J(x,v){var m=x._writableState,y=m.sync,k=m.writecb;if(U(m),v)V(x,m,y,v,k);else{var w=E(m);!w&&!m.corked&&!m.bufferProcessing&&m.bufferedRequest&&G(x,m),y?t(Y,x,m,w,k):Y(x,m,w,k)}}function Y(x,v,m,y){m||oe(x,v),v.pendingcb--,y(),o(x,v)}function oe(x,v){v.length===0&&v.needDrain&&(v.needDrain=!1,x.emit("drain"))}function G(x,v){v.bufferProcessing=!0;var m=v.bufferedRequest;if(x._writev&&m&&m.next){var y=v.bufferedRequestCount,k=new Array(y),w=v.corkedRequestsFree;w.entry=m;for(var T=0,ie=!0;m;)k[T]=m,m.isBuf||(ie=!1),m=m.next,T+=1;k.allBuffers=ie,$(x,v,!0,v.length,k,"",w.finish),v.pendingcb++,v.lastBufferedRequest=null,w.next?(v.corkedRequestsFree=w.next,w.next=null):v.corkedRequestsFree=new e(v),v.bufferedRequestCount=0}else{for(;m;){var ve=m.chunk,ce=m.encoding,C=m.callback,B=v.objectMode?1:ve.length;if($(x,v,!1,B,ve,ce,C),m=m.next,v.bufferedRequestCount--,v.writing)break}m===null&&(v.lastBufferedRequest=null)}v.bufferedRequest=m,v.bufferProcessing=!1}D.prototype._write=function(x,v,m){m(new Error("_write() is not implemented"))},D.prototype._writev=null,D.prototype.end=function(x,v,m){var y=this._writableState;typeof x=="function"?(m=x,x=null,v=null):typeof v=="function"&&(m=v,v=null),x!=null&&this.write(x,v),y.corked&&(y.corked=1,this.uncork()),y.ending||l(this,y,m)};function E(x){return x.ending&&x.length===0&&x.bufferedRequest===null&&!x.finished&&!x.writing}function d(x,v){x._final(function(m){v.pendingcb--,m&&x.emit("error",m),v.prefinished=!0,x.emit("prefinish"),o(x,v)})}function p(x,v){!v.prefinished&&!v.finalCalled&&(typeof x._final=="function"?(v.pendingcb++,v.finalCalled=!0,i.nextTick(d,x,v)):(v.prefinished=!0,x.emit("prefinish")))}function o(x,v){var m=E(v);return m&&(p(x,v),v.pendingcb===0&&(v.finished=!0,x.emit("finish"))),m}function l(x,v,m){v.ending=!0,o(x,v),m&&(v.finished?i.nextTick(m):x.once("finish",m)),v.ended=!0,x.writable=!1}function S(x,v,m){var y=x.entry;for(x.entry=null;y;){var k=y.callback;v.pendingcb--,k(m),y=y.next}v.corkedRequestsFree.next=x}return Object.defineProperty(D.prototype,"destroyed",{get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(x){this._writableState&&(this._writableState.destroyed=x)}}),D.prototype.destroy=g.destroy,D.prototype._undestroy=g.undestroy,D.prototype._destroy=function(x,v){this.end(),v(x)},ql}var Vl,$v;function Ha(){if($v)return Vl;$v=1;var i=xi(),e=Object.keys||function(g){var b=[];for(var M in g)b.push(M);return b};Vl=u;var t=Object.create(Rn());t.inherits=Ut();var r=zb(),a=Vb();t.inherits(u,r);for(var n=e(a.prototype),s=0;s<n.length;s++){var c=n[s];u.prototype[c]||(u.prototype[c]=a.prototype[c])}function u(g){if(!(this instanceof u))return new u(g);r.call(this,g),a.call(this,g),g&&g.readable===!1&&(this.readable=!1),g&&g.writable===!1&&(this.writable=!1),this.allowHalfOpen=!0,g&&g.allowHalfOpen===!1&&(this.allowHalfOpen=!1),this.once("end",h)}Object.defineProperty(u.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function h(){this.allowHalfOpen||this._writableState.ended||i.nextTick(f,this)}function f(g){g.end()}return Object.defineProperty(u.prototype,"destroyed",{get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(g){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=g,this._writableState.destroyed=g)}}),u.prototype._destroy=function(g,b){this.push(null),this.end(),i.nextTick(b,g)},Vl}var zl={},Hc={exports:{}},qv;function Yx(){return qv||(qv=1,(function(i,e){var t=Ar(),r=t.Buffer;function a(s,c){for(var u in s)c[u]=s[u]}r.from&&r.alloc&&r.allocUnsafe&&r.allocUnsafeSlow?i.exports=t:(a(t,e),e.Buffer=n);function n(s,c,u){return r(s,c,u)}a(r,n),n.from=function(s,c,u){if(typeof s=="number")throw new TypeError("Argument must not be a number");return r(s,c,u)},n.alloc=function(s,c,u){if(typeof s!="number")throw new TypeError("Argument must be a number");var h=r(s);return c!==void 0?typeof u=="string"?h.fill(c,u):h.fill(c):h.fill(0),h},n.allocUnsafe=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return r(s)},n.allocUnsafeSlow=function(s){if(typeof s!="number")throw new TypeError("Argument must be a number");return t.SlowBuffer(s)}})(Hc,Hc.exports)),Hc.exports}var Vv;function zv(){if(Vv)return zl;Vv=1;var i=Yx().Buffer,e=i.isEncoding||function(A){switch(A=""+A,A&&A.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function t(A){if(!A)return"utf8";for(var I;;)switch(A){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return A;default:if(I)return;A=(""+A).toLowerCase(),I=!0}}function r(A){var I=t(A);if(typeof I!="string"&&(i.isEncoding===e||!e(A)))throw new Error("Unknown encoding: "+A);return I||A}zl.StringDecoder=a;function a(A){this.encoding=r(A);var I;switch(this.encoding){case"utf16le":this.text=g,this.end=b,I=4;break;case"utf8":this.fillLast=u,I=4;break;case"base64":this.text=M,this.end=_,I=3;break;default:this.write=D,this.end=R;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=i.allocUnsafe(I)}a.prototype.write=function(A){if(A.length===0)return"";var I,N;if(this.lastNeed){if(I=this.fillLast(A),I===void 0)return"";N=this.lastNeed,this.lastNeed=0}else N=0;return N<A.length?I?I+this.text(A,N):this.text(A,N):I||""},a.prototype.end=f,a.prototype.text=h,a.prototype.fillLast=function(A){if(this.lastNeed<=A.length)return A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,this.lastTotal-this.lastNeed,0,A.length),this.lastNeed-=A.length};function n(A){return A<=127?0:A>>5===6?2:A>>4===14?3:A>>3===30?4:A>>6===2?-1:-2}function s(A,I,N){var $=I.length-1;if($<N)return 0;var V=n(I[$]);return V>=0?(V>0&&(A.lastNeed=V-1),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(A.lastNeed=V-2),V):--$<N||V===-2?0:(V=n(I[$]),V>=0?(V>0&&(V===2?V=0:A.lastNeed=V-3),V):0))}function c(A,I,N){if((I[0]&192)!==128)return A.lastNeed=0,"�";if(A.lastNeed>1&&I.length>1){if((I[1]&192)!==128)return A.lastNeed=1,"�";if(A.lastNeed>2&&I.length>2&&(I[2]&192)!==128)return A.lastNeed=2,"�"}}function u(A){var I=this.lastTotal-this.lastNeed,N=c(this,A);if(N!==void 0)return N;if(this.lastNeed<=A.length)return A.copy(this.lastChar,I,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);A.copy(this.lastChar,I,0,A.length),this.lastNeed-=A.length}function h(A,I){var N=s(this,A,I);if(!this.lastNeed)return A.toString("utf8",I);this.lastTotal=N;var $=A.length-(N-this.lastNeed);return A.copy(this.lastChar,0,$),A.toString("utf8",I,$)}function f(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+"�":I}function g(A,I){if((A.length-I)%2===0){var N=A.toString("utf16le",I);if(N){var $=N.charCodeAt(N.length-1);if($>=55296&&$<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1],N.slice(0,-1)}return N}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=A[A.length-1],A.toString("utf16le",I,A.length-1)}function b(A){var I=A&&A.length?this.write(A):"";if(this.lastNeed){var N=this.lastTotal-this.lastNeed;return I+this.lastChar.toString("utf16le",0,N)}return I}function M(A,I){var N=(A.length-I)%3;return N===0?A.toString("base64",I):(this.lastNeed=3-N,this.lastTotal=3,N===1?this.lastChar[0]=A[A.length-1]:(this.lastChar[0]=A[A.length-2],this.lastChar[1]=A[A.length-1]),A.toString("base64",I,A.length-N))}function _(A){var I=A&&A.length?this.write(A):"";return this.lastNeed?I+this.lastChar.toString("base64",0,3-this.lastNeed):I}function D(A){return A.toString(this.encoding)}function R(A){return A&&A.length?this.write(A):""}return zl}var jl,jv;function zb(){if(jv)return jl;jv=1;var i=xi();jl=I;var e=Kx(),t;I.ReadableState=A,ka().EventEmitter;var r=function(C,B){return C.listeners(B).length},a=$b(),n=Eg().Buffer,s=(typeof Gt<"u"?Gt:typeof window<"u"?window:typeof self<"u"?self:{}).Uint8Array||function(){};function c(C){return n.from(C)}function u(C){return n.isBuffer(C)||C instanceof s}var h=Object.create(Rn());h.inherits=Ut();var f=Ia,g=void 0;f&&f.debuglog?g=f.debuglog("stream"):g=function(){};var b=Jx(),M=qb(),_;h.inherits(I,a);var D=["error","close","destroy","pause","resume"];function R(C,B,ee){if(typeof C.prependListener=="function")return C.prependListener(B,ee);!C._events||!C._events[B]?C.on(B,ee):e(C._events[B])?C._events[B].unshift(ee):C._events[B]=[ee,C._events[B]]}function A(C,B){t=t||Ha(),C=C||{};var ee=B instanceof t;this.objectMode=!!C.objectMode,ee&&(this.objectMode=this.objectMode||!!C.readableObjectMode);var z=C.highWaterMark,P=C.readableHighWaterMark,O=this.objectMode?16:16*1024;z||z===0?this.highWaterMark=z:ee&&(P||P===0)?this.highWaterMark=P:this.highWaterMark=O,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new b,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=C.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,C.encoding&&(_||(_=zv().StringDecoder),this.decoder=new _(C.encoding),this.encoding=C.encoding)}function I(C){if(t=t||Ha(),!(this instanceof I))return new I(C);this._readableState=new A(C,this),this.readable=!0,C&&(typeof C.read=="function"&&(this._read=C.read),typeof C.destroy=="function"&&(this._destroy=C.destroy)),a.call(this)}Object.defineProperty(I.prototype,"destroyed",{get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(C){this._readableState&&(this._readableState.destroyed=C)}}),I.prototype.destroy=M.destroy,I.prototype._undestroy=M.undestroy,I.prototype._destroy=function(C,B){this.push(null),B(C)},I.prototype.push=function(C,B){var ee=this._readableState,z;return ee.objectMode?z=!0:typeof C=="string"&&(B=B||ee.defaultEncoding,B!==ee.encoding&&(C=n.from(C,B),B=""),z=!0),N(this,C,B,!1,z)},I.prototype.unshift=function(C){return N(this,C,null,!0,!1)};function N(C,B,ee,z,P){var O=C._readableState;if(B===null)O.reading=!1,G(C,O);else{var se;P||(se=V(O,B)),se?C.emit("error",se):O.objectMode||B&&B.length>0?(typeof B!="string"&&!O.objectMode&&Object.getPrototypeOf(B)!==n.prototype&&(B=c(B)),z?O.endEmitted?C.emit("error",new Error("stream.unshift() after end event")):$(C,O,B,!0):O.ended?C.emit("error",new Error("stream.push() after EOF")):(O.reading=!1,O.decoder&&!ee?(B=O.decoder.write(B),O.objectMode||B.length!==0?$(C,O,B,!1):p(C,O)):$(C,O,B,!1))):z||(O.reading=!1)}return U(O)}function $(C,B,ee,z){B.flowing&&B.length===0&&!B.sync?(C.emit("data",ee),C.read(0)):(B.length+=B.objectMode?1:ee.length,z?B.buffer.unshift(ee):B.buffer.push(ee),B.needReadable&&E(C)),p(C,B)}function V(C,B){var ee;return!u(B)&&typeof B!="string"&&B!==void 0&&!C.objectMode&&(ee=new TypeError("Invalid non-string/buffer chunk")),ee}function U(C){return!C.ended&&(C.needReadable||C.length<C.highWaterMark||C.length===0)}I.prototype.isPaused=function(){return this._readableState.flowing===!1},I.prototype.setEncoding=function(C){return _||(_=zv().StringDecoder),this._readableState.decoder=new _(C),this._readableState.encoding=C,this};var J=8388608;function Y(C){return C>=J?C=J:(C--,C|=C>>>1,C|=C>>>2,C|=C>>>4,C|=C>>>8,C|=C>>>16,C++),C}function oe(C,B){return C<=0||B.length===0&&B.ended?0:B.objectMode?1:C!==C?B.flowing&&B.length?B.buffer.head.data.length:B.length:(C>B.highWaterMark&&(B.highWaterMark=Y(C)),C<=B.length?C:B.ended?B.length:(B.needReadable=!0,0))}I.prototype.read=function(C){g("read",C),C=parseInt(C,10);var B=this._readableState,ee=C;if(C!==0&&(B.emittedReadable=!1),C===0&&B.needReadable&&(B.length>=B.highWaterMark||B.ended))return g("read: emitReadable",B.length,B.ended),B.length===0&&B.ended?ie(this):E(this),null;if(C=oe(C,B),C===0&&B.ended)return B.length===0&&ie(this),null;var z=B.needReadable;g("need readable",z),(B.length===0||B.length-C<B.highWaterMark)&&(z=!0,g("length less than watermark",z)),B.ended||B.reading?(z=!1,g("reading or ended",z)):z&&(g("do read"),B.reading=!0,B.sync=!0,B.length===0&&(B.needReadable=!0),this._read(B.highWaterMark),B.sync=!1,B.reading||(C=oe(ee,B)));var P;return C>0?P=y(C,B):P=null,P===null?(B.needReadable=!0,C=0):B.length-=C,B.length===0&&(B.ended||(B.needReadable=!0),ee!==C&&B.ended&&ie(this)),P!==null&&this.emit("data",P),P};function G(C,B){if(!B.ended){if(B.decoder){var ee=B.decoder.end();ee&&ee.length&&(B.buffer.push(ee),B.length+=B.objectMode?1:ee.length)}B.ended=!0,E(C)}}function E(C){var B=C._readableState;B.needReadable=!1,B.emittedReadable||(g("emitReadable",B.flowing),B.emittedReadable=!0,B.sync?i.nextTick(d,C):d(C))}function d(C){g("emit readable"),C.emit("readable"),m(C)}function p(C,B){B.readingMore||(B.readingMore=!0,i.nextTick(o,C,B))}function o(C,B){for(var ee=B.length;!B.reading&&!B.flowing&&!B.ended&&B.length<B.highWaterMark&&(g("maybeReadMore read 0"),C.read(0),ee!==B.length);)ee=B.length;B.readingMore=!1}I.prototype._read=function(C){this.emit("error",new Error("_read() is not implemented"))},I.prototype.pipe=function(C,B){var ee=this,z=this._readableState;switch(z.pipesCount){case 0:z.pipes=C;break;case 1:z.pipes=[z.pipes,C];break;default:z.pipes.push(C);break}z.pipesCount+=1,g("pipe count=%d opts=%j",z.pipesCount,B);var P=(!B||B.end!==!1)&&C!==Bt.stdout&&C!==Bt.stderr,O=P?le:Re;z.endEmitted?i.nextTick(O):ee.once("end",O),C.on("unpipe",se);function se(Oe,Ye){g("onunpipe"),Oe===ee&&Ye&&Ye.hasUnpiped===!1&&(Ye.hasUnpiped=!0,me())}function le(){g("onend"),C.end()}var ge=l(ee);C.on("drain",ge);var Ee=!1;function me(){g("cleanup"),C.removeListener("close",Me),C.removeListener("finish",Ne),C.removeListener("drain",ge),C.removeListener("error",we),C.removeListener("unpipe",se),ee.removeListener("end",le),ee.removeListener("end",Re),ee.removeListener("data",Te),Ee=!0,z.awaitDrain&&(!C._writableState||C._writableState.needDrain)&&ge()}var ye=!1;ee.on("data",Te);function Te(Oe){g("ondata"),ye=!1;var Ye=C.write(Oe);Ye===!1&&!ye&&((z.pipesCount===1&&z.pipes===C||z.pipesCount>1&&ce(z.pipes,C)!==-1)&&!Ee&&(g("false write response, pause",z.awaitDrain),z.awaitDrain++,ye=!0),ee.pause())}function we(Oe){g("onerror",Oe),Re(),C.removeListener("error",we),r(C,"error")===0&&C.emit("error",Oe)}R(C,"error",we);function Me(){C.removeListener("finish",Ne),Re()}C.once("close",Me);function Ne(){g("onfinish"),C.removeListener("close",Me),Re()}C.once("finish",Ne);function Re(){g("unpipe"),ee.unpipe(C)}return C.emit("pipe",ee),z.flowing||(g("pipe resume"),ee.resume()),C};function l(C){return function(){var B=C._readableState;g("pipeOnDrain",B.awaitDrain),B.awaitDrain&&B.awaitDrain--,B.awaitDrain===0&&r(C,"data")&&(B.flowing=!0,m(C))}}I.prototype.unpipe=function(C){var B=this._readableState,ee={hasUnpiped:!1};if(B.pipesCount===0)return this;if(B.pipesCount===1)return C&&C!==B.pipes?this:(C||(C=B.pipes),B.pipes=null,B.pipesCount=0,B.flowing=!1,C&&C.emit("unpipe",this,ee),this);if(!C){var z=B.pipes,P=B.pipesCount;B.pipes=null,B.pipesCount=0,B.flowing=!1;for(var O=0;O<P;O++)z[O].emit("unpipe",this,{hasUnpiped:!1});return this}var se=ce(B.pipes,C);return se===-1?this:(B.pipes.splice(se,1),B.pipesCount-=1,B.pipesCount===1&&(B.pipes=B.pipes[0]),C.emit("unpipe",this,ee),this)},I.prototype.on=function(C,B){var ee=a.prototype.on.call(this,C,B);if(C==="data")this._readableState.flowing!==!1&&this.resume();else if(C==="readable"){var z=this._readableState;!z.endEmitted&&!z.readableListening&&(z.readableListening=z.needReadable=!0,z.emittedReadable=!1,z.reading?z.length&&E(this):i.nextTick(S,this))}return ee},I.prototype.addListener=I.prototype.on;function S(C){g("readable nexttick read 0"),C.read(0)}I.prototype.resume=function(){var C=this._readableState;return C.flowing||(g("resume"),C.flowing=!0,x(this,C)),this};function x(C,B){B.resumeScheduled||(B.resumeScheduled=!0,i.nextTick(v,C,B))}function v(C,B){B.reading||(g("resume read 0"),C.read(0)),B.resumeScheduled=!1,B.awaitDrain=0,C.emit("resume"),m(C),B.flowing&&!B.reading&&C.read(0)}I.prototype.pause=function(){return g("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(g("pause"),this._readableState.flowing=!1,this.emit("pause")),this};function m(C){var B=C._readableState;for(g("flow",B.flowing);B.flowing&&C.read()!==null;);}I.prototype.wrap=function(C){var B=this,ee=this._readableState,z=!1;C.on("end",function(){if(g("wrapped end"),ee.decoder&&!ee.ended){var se=ee.decoder.end();se&&se.length&&B.push(se)}B.push(null)}),C.on("data",function(se){if(g("wrapped data"),ee.decoder&&(se=ee.decoder.write(se)),!(ee.objectMode&&se==null)&&!(!ee.objectMode&&(!se||!se.length))){var le=B.push(se);le||(z=!0,C.pause())}});for(var P in C)this[P]===void 0&&typeof C[P]=="function"&&(this[P]=(function(se){return function(){return C[se].apply(C,arguments)}})(P));for(var O=0;O<D.length;O++)C.on(D[O],this.emit.bind(this,D[O]));return this._read=function(se){g("wrapped _read",se),z&&(z=!1,C.resume())},this},Object.defineProperty(I.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),I._fromList=y;function y(C,B){if(B.length===0)return null;var ee;return B.objectMode?ee=B.buffer.shift():!C||C>=B.length?(B.decoder?ee=B.buffer.join(""):B.buffer.length===1?ee=B.buffer.head.data:ee=B.buffer.concat(B.length),B.buffer.clear()):ee=k(C,B.buffer,B.decoder),ee}function k(C,B,ee){var z;return C<B.head.data.length?(z=B.head.data.slice(0,C),B.head.data=B.head.data.slice(C)):C===B.head.data.length?z=B.shift():z=ee?w(C,B):T(C,B),z}function w(C,B){var ee=B.head,z=1,P=ee.data;for(C-=P.length;ee=ee.next;){var O=ee.data,se=C>O.length?O.length:C;if(se===O.length?P+=O:P+=O.slice(0,C),C-=se,C===0){se===O.length?(++z,ee.next?B.head=ee.next:B.head=B.tail=null):(B.head=ee,ee.data=O.slice(se));break}++z}return B.length-=z,P}function T(C,B){var ee=n.allocUnsafe(C),z=B.head,P=1;for(z.data.copy(ee),C-=z.data.length;z=z.next;){var O=z.data,se=C>O.length?O.length:C;if(O.copy(ee,ee.length-C,0,se),C-=se,C===0){se===O.length?(++P,z.next?B.head=z.next:B.head=B.tail=null):(B.head=z,z.data=O.slice(se));break}++P}return B.length-=P,ee}function ie(C){var B=C._readableState;if(B.length>0)throw new Error('"endReadable()" called on non-empty stream');B.endEmitted||(B.ended=!0,i.nextTick(ve,B,C))}function ve(C,B){!C.endEmitted&&C.length===0&&(C.endEmitted=!0,B.readable=!1,B.emit("end"))}function ce(C,B){for(var ee=0,z=C.length;ee<z;ee++)if(C[ee]===B)return ee;return-1}return jl}var Wl,Wv;function jb(){if(Wv)return Wl;Wv=1,Wl=r;var i=Ha(),e=Object.create(Rn());e.inherits=Ut(),e.inherits(r,i);function t(s,c){var u=this._transformState;u.transforming=!1;var h=u.writecb;if(!h)return this.emit("error",new Error("write callback called multiple times"));u.writechunk=null,u.writecb=null,c!=null&&this.push(c),h(s);var f=this._readableState;f.reading=!1,(f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}function r(s){if(!(this instanceof r))return new r(s);i.call(this,s),this._transformState={afterTransform:t.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,s&&(typeof s.transform=="function"&&(this._transform=s.transform),typeof s.flush=="function"&&(this._flush=s.flush)),this.on("prefinish",a)}function a(){var s=this;typeof this._flush=="function"?this._flush(function(c,u){n(s,c,u)}):n(this,null,null)}r.prototype.push=function(s,c){return this._transformState.needTransform=!1,i.prototype.push.call(this,s,c)},r.prototype._transform=function(s,c,u){throw new Error("_transform() is not implemented")},r.prototype._write=function(s,c,u){var h=this._transformState;if(h.writecb=u,h.writechunk=s,h.writeencoding=c,!h.transforming){var f=this._readableState;(h.needTransform||f.needReadable||f.length<f.highWaterMark)&&this._read(f.highWaterMark)}},r.prototype._read=function(s){var c=this._transformState;c.writechunk!==null&&c.writecb&&!c.transforming?(c.transforming=!0,this._transform(c.writechunk,c.writeencoding,c.afterTransform)):c.needTransform=!0},r.prototype._destroy=function(s,c){var u=this;i.prototype._destroy.call(this,s,function(h){c(h),u.emit("close")})};function n(s,c,u){if(c)return s.emit("error",c);if(u!=null&&s.push(u),s._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(s._transformState.transforming)throw new Error("Calling transform done when still transforming");return s.push(null)}return Wl}var Hl,Hv;function Xx(){if(Hv)return Hl;Hv=1,Hl=t;var i=jb(),e=Object.create(Rn());e.inherits=Ut(),e.inherits(t,i);function t(r){if(!(this instanceof t))return new t(r);i.call(this,r)}return t.prototype._transform=function(r,a,n){n(null,r)},Hl}var Gv;function Zx(){return Gv||(Gv=1,(function(i,e){e=i.exports=zb(),e.Stream=e,e.Readable=e,e.Writable=Vb(),e.Duplex=Ha(),e.Transform=jb(),e.PassThrough=Xx()})(jc,jc.exports)),jc.exports}var us={exports:{}},ff={exports:{}},Qx=ff.exports,Kv;function eS(){return Kv||(Kv=1,(function(i){(function(e,t){function r(p,o){if(!p)throw new Error(o||"Assertion failed")}function a(p,o){p.super_=o;var l=function(){};l.prototype=o.prototype,p.prototype=new l,p.prototype.constructor=p}function n(p,o,l){if(n.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(p||0,o||10,l||"be"))}typeof e=="object"?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ar().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,l){return o.cmp(l)>0?o:l},n.min=function(o,l){return o.cmp(l)<0?o:l},n.prototype._init=function(o,l,S){if(typeof o=="number")return this._initNumber(o,l,S);if(typeof o=="object")return this._initArray(o,l,S);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var x=0;o[0]==="-"&&(x++,this.negative=1),x<o.length&&(l===16?this._parseHex(o,x,S):(this._parseBase(o,l,x),S==="le"&&this._initArray(this.toArray(),l,S)))},n.prototype._initNumber=function(o,l,S){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),l,S)},n.prototype._initArray=function(o,l,S){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,m,y=0;if(S==="be")for(x=o.length-1,v=0;x>=0;x-=3)m=o[x]|o[x-1]<<8|o[x-2]<<16,this.words[v]|=m<<y&67108863,this.words[v+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,v++);else if(S==="le")for(x=0,v=0;x<o.length;x+=3)m=o[x]|o[x+1]<<8|o[x+2]<<16,this.words[v]|=m<<y&67108863,this.words[v+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,v++);return this._strip()};function c(p,o){var l=p.charCodeAt(o);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+p)}function u(p,o,l){var S=c(p,l);return l-1>=o&&(S|=c(p,l-1)<<4),S}n.prototype._parseHex=function(o,l,S){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,m=0,y;if(S==="be")for(x=o.length-1;x>=l;x-=2)y=u(o,l,x)<<v,this.words[m]|=y&67108863,v>=18?(v-=18,m+=1,this.words[m]|=y>>>26):v+=8;else{var k=o.length-l;for(x=k%2===0?l+1:l;x<o.length;x+=2)y=u(o,l,x)<<v,this.words[m]|=y&67108863,v>=18?(v-=18,m+=1,this.words[m]|=y>>>26):v+=8}this._strip()};function h(p,o,l,S){for(var x=0,v=0,m=Math.min(p.length,l),y=o;y<m;y++){var k=p.charCodeAt(y)-48;x*=S,k>=49?v=k-49+10:k>=17?v=k-17+10:v=k,r(k>=0&&v<S,"Invalid character"),x+=v}return x}n.prototype._parseBase=function(o,l,S){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=l)x++;x--,v=v/l|0;for(var m=o.length-S,y=m%x,k=Math.min(m,m-y)+S,w=0,T=S;T<k;T+=x)w=h(o,T,T+x,l),this.imuln(v),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(y!==0){var ie=1;for(w=h(o,T,o.length,l),T=0;T<y;T++)ie*=l;this.imuln(ie),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red};function f(p,o){p.words=o.words,p.length=o.length,p.negative=o.negative,p.red=o.red}if(n.prototype._move=function(o){f(o,this)},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{n.prototype.inspect=g}else n.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,l){o=o||10,l=l|0||1;var S;if(o===16||o==="hex"){S="";for(var x=0,v=0,m=0;m<this.length;m++){var y=this.words[m],k=((y<<x|v)&16777215).toString(16);v=y>>>24-x&16777215,x+=2,x>=26&&(x-=26,m--),v!==0||m!==this.length-1?S=b[6-k.length]+k+S:S=k+S}for(v!==0&&(S=v.toString(16)+S);S.length%l!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(o===(o|0)&&o>=2&&o<=36){var w=M[o],T=_[o];S="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var ve=ie.modrn(T).toString(o);ie=ie.idivn(T),ie.isZero()?S=ve+S:S=b[w-ve.length]+ve+S}for(this.isZero()&&(S="0"+S);S.length%l!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(o,l){return this.toArrayLike(s,o,l)}),n.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)};var D=function(o,l){return o.allocUnsafe?o.allocUnsafe(l):new o(l)};n.prototype.toArrayLike=function(o,l,S){this._strip();var x=this.byteLength(),v=S||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var m=D(o,v),y=l==="le"?"LE":"BE";return this["_toArrayLike"+y](m,x),m},n.prototype._toArrayLikeLE=function(o,l){for(var S=0,x=0,v=0,m=0;v<this.length;v++){var y=this.words[v]<<m|x;o[S++]=y&255,S<o.length&&(o[S++]=y>>8&255),S<o.length&&(o[S++]=y>>16&255),m===6?(S<o.length&&(o[S++]=y>>24&255),x=0,m=0):(x=y>>>24,m+=2)}if(S<o.length)for(o[S++]=x;S<o.length;)o[S++]=0},n.prototype._toArrayLikeBE=function(o,l){for(var S=o.length-1,x=0,v=0,m=0;v<this.length;v++){var y=this.words[v]<<m|x;o[S--]=y&255,S>=0&&(o[S--]=y>>8&255),S>=0&&(o[S--]=y>>16&255),m===6?(S>=0&&(o[S--]=y>>24&255),x=0,m=0):(x=y>>>24,m+=2)}if(S>=0)for(o[S--]=x;S>=0;)o[S--]=0},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var l=o,S=0;return l>=4096&&(S+=13,l>>>=13),l>=64&&(S+=7,l>>>=7),l>=8&&(S+=4,l>>>=4),l>=2&&(S+=2,l>>>=2),S+l},n.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,S=0;return(l&8191)===0&&(S+=13,l>>>=13),(l&127)===0&&(S+=7,l>>>=7),(l&15)===0&&(S+=4,l>>>=4),(l&3)===0&&(S+=2,l>>>=2),(l&1)===0&&S++,S},n.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function R(p){for(var o=new Array(p.bitLength()),l=0;l<o.length;l++){var S=l/26|0,x=l%26;o[l]=p.words[S]>>>x&1}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var S=this._zeroBits(this.words[l]);if(o+=S,S!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this._strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var S=0;S<l.length;S++)this.words[S]=this.words[S]&o.words[S];return this.length=l.length,this._strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var l,S;this.length>o.length?(l=this,S=o):(l=o,S=this);for(var x=0;x<S.length;x++)this.words[x]=l.words[x]^S.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,S=o%26;this._expand(l),S>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return S>0&&(this.words[x]=~this.words[x]&67108863>>26-S),this._strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,l){r(typeof o=="number"&&o>=0);var S=o/26|0,x=o%26;return this._expand(S+1),l?this.words[S]=this.words[S]|1<<x:this.words[S]=this.words[S]&~(1<<x),this._strip()},n.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var S,x;this.length>o.length?(S=this,x=o):(S=o,x=this);for(var v=0,m=0;m<x.length;m++)l=(S.words[m]|0)+(x.words[m]|0)+v,this.words[m]=l&67108863,v=l>>>26;for(;v!==0&&m<S.length;m++)l=(S.words[m]|0)+v,this.words[m]=l&67108863,v=l>>>26;if(this.length=S.length,v!==0)this.words[this.length]=v,this.length++;else if(S!==this)for(;m<S.length;m++)this.words[m]=S.words[m];return this},n.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var S=this.cmp(o);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;S>0?(x=this,v=o):(x=o,v=this);for(var m=0,y=0;y<v.length;y++)l=(x.words[y]|0)-(v.words[y]|0)+m,m=l>>26,this.words[y]=l&67108863;for(;m!==0&&y<x.length;y++)l=(x.words[y]|0)+m,m=l>>26,this.words[y]=l&67108863;if(m===0&&y<x.length&&x!==this)for(;y<x.length;y++)this.words[y]=x.words[y];return this.length=Math.max(this.length,y),x!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function A(p,o,l){l.negative=o.negative^p.negative;var S=p.length+o.length|0;l.length=S,S=S-1|0;var x=p.words[0]|0,v=o.words[0]|0,m=x*v,y=m&67108863,k=m/67108864|0;l.words[0]=y;for(var w=1;w<S;w++){for(var T=k>>>26,ie=k&67108863,ve=Math.min(w,o.length-1),ce=Math.max(0,w-p.length+1);ce<=ve;ce++){var C=w-ce|0;x=p.words[C]|0,v=o.words[ce]|0,m=x*v+ie,T+=m/67108864|0,ie=m&67108863}l.words[w]=ie|0,k=T|0}return k!==0?l.words[w]=k|0:l.length--,l._strip()}var I=function(o,l,S){var x=o.words,v=l.words,m=S.words,y=0,k,w,T,ie=x[0]|0,ve=ie&8191,ce=ie>>>13,C=x[1]|0,B=C&8191,ee=C>>>13,z=x[2]|0,P=z&8191,O=z>>>13,se=x[3]|0,le=se&8191,ge=se>>>13,Ee=x[4]|0,me=Ee&8191,ye=Ee>>>13,Te=x[5]|0,we=Te&8191,Me=Te>>>13,Ne=x[6]|0,Re=Ne&8191,Oe=Ne>>>13,Ye=x[7]|0,Xe=Ye&8191,qe=Ye>>>13,ct=x[8]|0,rt=ct&8191,X=ct>>>13,q=x[9]|0,j=q&8191,ae=q>>>13,xe=v[0]|0,Se=xe&8191,_e=xe>>>13,Ze=v[1]|0,Qe=Ze&8191,je=Ze>>>13,vt=v[2]|0,et=vt&8191,at=vt>>>13,Rt=v[3]|0,yt=Rt&8191,ft=Rt>>>13,Vt=v[4]|0,xt=Vt&8191,te=Vt>>>13,W=v[5]|0,H=W&8191,fe=W>>>13,De=v[6]|0,L=De&8191,K=De>>>13,re=v[7]|0,F=re&8191,ne=re>>>13,Ae=v[8]|0,be=Ae&8191,Pe=Ae>>>13,Ke=v[9]|0,nt=Ke&8191,Ge=Ke>>>13;S.negative=o.negative^l.negative,S.length=19,k=Math.imul(ve,Se),w=Math.imul(ve,_e),w=w+Math.imul(ce,Se)|0,T=Math.imul(ce,_e);var Nt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,k=Math.imul(B,Se),w=Math.imul(B,_e),w=w+Math.imul(ee,Se)|0,T=Math.imul(ee,_e),k=k+Math.imul(ve,Qe)|0,w=w+Math.imul(ve,je)|0,w=w+Math.imul(ce,Qe)|0,T=T+Math.imul(ce,je)|0;var gt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(gt>>>26)|0,gt&=67108863,k=Math.imul(P,Se),w=Math.imul(P,_e),w=w+Math.imul(O,Se)|0,T=Math.imul(O,_e),k=k+Math.imul(B,Qe)|0,w=w+Math.imul(B,je)|0,w=w+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,je)|0,k=k+Math.imul(ve,et)|0,w=w+Math.imul(ve,at)|0,w=w+Math.imul(ce,et)|0,T=T+Math.imul(ce,at)|0;var Mt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(le,Se),w=Math.imul(le,_e),w=w+Math.imul(ge,Se)|0,T=Math.imul(ge,_e),k=k+Math.imul(P,Qe)|0,w=w+Math.imul(P,je)|0,w=w+Math.imul(O,Qe)|0,T=T+Math.imul(O,je)|0,k=k+Math.imul(B,et)|0,w=w+Math.imul(B,at)|0,w=w+Math.imul(ee,et)|0,T=T+Math.imul(ee,at)|0,k=k+Math.imul(ve,yt)|0,w=w+Math.imul(ve,ft)|0,w=w+Math.imul(ce,yt)|0,T=T+Math.imul(ce,ft)|0;var kt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(kt>>>26)|0,kt&=67108863,k=Math.imul(me,Se),w=Math.imul(me,_e),w=w+Math.imul(ye,Se)|0,T=Math.imul(ye,_e),k=k+Math.imul(le,Qe)|0,w=w+Math.imul(le,je)|0,w=w+Math.imul(ge,Qe)|0,T=T+Math.imul(ge,je)|0,k=k+Math.imul(P,et)|0,w=w+Math.imul(P,at)|0,w=w+Math.imul(O,et)|0,T=T+Math.imul(O,at)|0,k=k+Math.imul(B,yt)|0,w=w+Math.imul(B,ft)|0,w=w+Math.imul(ee,yt)|0,T=T+Math.imul(ee,ft)|0,k=k+Math.imul(ve,xt)|0,w=w+Math.imul(ve,te)|0,w=w+Math.imul(ce,xt)|0,T=T+Math.imul(ce,te)|0;var Ft=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,k=Math.imul(we,Se),w=Math.imul(we,_e),w=w+Math.imul(Me,Se)|0,T=Math.imul(Me,_e),k=k+Math.imul(me,Qe)|0,w=w+Math.imul(me,je)|0,w=w+Math.imul(ye,Qe)|0,T=T+Math.imul(ye,je)|0,k=k+Math.imul(le,et)|0,w=w+Math.imul(le,at)|0,w=w+Math.imul(ge,et)|0,T=T+Math.imul(ge,at)|0,k=k+Math.imul(P,yt)|0,w=w+Math.imul(P,ft)|0,w=w+Math.imul(O,yt)|0,T=T+Math.imul(O,ft)|0,k=k+Math.imul(B,xt)|0,w=w+Math.imul(B,te)|0,w=w+Math.imul(ee,xt)|0,T=T+Math.imul(ee,te)|0,k=k+Math.imul(ve,H)|0,w=w+Math.imul(ve,fe)|0,w=w+Math.imul(ce,H)|0,T=T+Math.imul(ce,fe)|0;var Tt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,k=Math.imul(Re,Se),w=Math.imul(Re,_e),w=w+Math.imul(Oe,Se)|0,T=Math.imul(Oe,_e),k=k+Math.imul(we,Qe)|0,w=w+Math.imul(we,je)|0,w=w+Math.imul(Me,Qe)|0,T=T+Math.imul(Me,je)|0,k=k+Math.imul(me,et)|0,w=w+Math.imul(me,at)|0,w=w+Math.imul(ye,et)|0,T=T+Math.imul(ye,at)|0,k=k+Math.imul(le,yt)|0,w=w+Math.imul(le,ft)|0,w=w+Math.imul(ge,yt)|0,T=T+Math.imul(ge,ft)|0,k=k+Math.imul(P,xt)|0,w=w+Math.imul(P,te)|0,w=w+Math.imul(O,xt)|0,T=T+Math.imul(O,te)|0,k=k+Math.imul(B,H)|0,w=w+Math.imul(B,fe)|0,w=w+Math.imul(ee,H)|0,T=T+Math.imul(ee,fe)|0,k=k+Math.imul(ve,L)|0,w=w+Math.imul(ve,K)|0,w=w+Math.imul(ce,L)|0,T=T+Math.imul(ce,K)|0;var _t=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(_t>>>26)|0,_t&=67108863,k=Math.imul(Xe,Se),w=Math.imul(Xe,_e),w=w+Math.imul(qe,Se)|0,T=Math.imul(qe,_e),k=k+Math.imul(Re,Qe)|0,w=w+Math.imul(Re,je)|0,w=w+Math.imul(Oe,Qe)|0,T=T+Math.imul(Oe,je)|0,k=k+Math.imul(we,et)|0,w=w+Math.imul(we,at)|0,w=w+Math.imul(Me,et)|0,T=T+Math.imul(Me,at)|0,k=k+Math.imul(me,yt)|0,w=w+Math.imul(me,ft)|0,w=w+Math.imul(ye,yt)|0,T=T+Math.imul(ye,ft)|0,k=k+Math.imul(le,xt)|0,w=w+Math.imul(le,te)|0,w=w+Math.imul(ge,xt)|0,T=T+Math.imul(ge,te)|0,k=k+Math.imul(P,H)|0,w=w+Math.imul(P,fe)|0,w=w+Math.imul(O,H)|0,T=T+Math.imul(O,fe)|0,k=k+Math.imul(B,L)|0,w=w+Math.imul(B,K)|0,w=w+Math.imul(ee,L)|0,T=T+Math.imul(ee,K)|0,k=k+Math.imul(ve,F)|0,w=w+Math.imul(ve,ne)|0,w=w+Math.imul(ce,F)|0,T=T+Math.imul(ce,ne)|0;var Et=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Et>>>26)|0,Et&=67108863,k=Math.imul(rt,Se),w=Math.imul(rt,_e),w=w+Math.imul(X,Se)|0,T=Math.imul(X,_e),k=k+Math.imul(Xe,Qe)|0,w=w+Math.imul(Xe,je)|0,w=w+Math.imul(qe,Qe)|0,T=T+Math.imul(qe,je)|0,k=k+Math.imul(Re,et)|0,w=w+Math.imul(Re,at)|0,w=w+Math.imul(Oe,et)|0,T=T+Math.imul(Oe,at)|0,k=k+Math.imul(we,yt)|0,w=w+Math.imul(we,ft)|0,w=w+Math.imul(Me,yt)|0,T=T+Math.imul(Me,ft)|0,k=k+Math.imul(me,xt)|0,w=w+Math.imul(me,te)|0,w=w+Math.imul(ye,xt)|0,T=T+Math.imul(ye,te)|0,k=k+Math.imul(le,H)|0,w=w+Math.imul(le,fe)|0,w=w+Math.imul(ge,H)|0,T=T+Math.imul(ge,fe)|0,k=k+Math.imul(P,L)|0,w=w+Math.imul(P,K)|0,w=w+Math.imul(O,L)|0,T=T+Math.imul(O,K)|0,k=k+Math.imul(B,F)|0,w=w+Math.imul(B,ne)|0,w=w+Math.imul(ee,F)|0,T=T+Math.imul(ee,ne)|0,k=k+Math.imul(ve,be)|0,w=w+Math.imul(ve,Pe)|0,w=w+Math.imul(ce,be)|0,T=T+Math.imul(ce,Pe)|0;var At=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(At>>>26)|0,At&=67108863,k=Math.imul(j,Se),w=Math.imul(j,_e),w=w+Math.imul(ae,Se)|0,T=Math.imul(ae,_e),k=k+Math.imul(rt,Qe)|0,w=w+Math.imul(rt,je)|0,w=w+Math.imul(X,Qe)|0,T=T+Math.imul(X,je)|0,k=k+Math.imul(Xe,et)|0,w=w+Math.imul(Xe,at)|0,w=w+Math.imul(qe,et)|0,T=T+Math.imul(qe,at)|0,k=k+Math.imul(Re,yt)|0,w=w+Math.imul(Re,ft)|0,w=w+Math.imul(Oe,yt)|0,T=T+Math.imul(Oe,ft)|0,k=k+Math.imul(we,xt)|0,w=w+Math.imul(we,te)|0,w=w+Math.imul(Me,xt)|0,T=T+Math.imul(Me,te)|0,k=k+Math.imul(me,H)|0,w=w+Math.imul(me,fe)|0,w=w+Math.imul(ye,H)|0,T=T+Math.imul(ye,fe)|0,k=k+Math.imul(le,L)|0,w=w+Math.imul(le,K)|0,w=w+Math.imul(ge,L)|0,T=T+Math.imul(ge,K)|0,k=k+Math.imul(P,F)|0,w=w+Math.imul(P,ne)|0,w=w+Math.imul(O,F)|0,T=T+Math.imul(O,ne)|0,k=k+Math.imul(B,be)|0,w=w+Math.imul(B,Pe)|0,w=w+Math.imul(ee,be)|0,T=T+Math.imul(ee,Pe)|0,k=k+Math.imul(ve,nt)|0,w=w+Math.imul(ve,Ge)|0,w=w+Math.imul(ce,nt)|0,T=T+Math.imul(ce,Ge)|0;var dt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,k=Math.imul(j,Qe),w=Math.imul(j,je),w=w+Math.imul(ae,Qe)|0,T=Math.imul(ae,je),k=k+Math.imul(rt,et)|0,w=w+Math.imul(rt,at)|0,w=w+Math.imul(X,et)|0,T=T+Math.imul(X,at)|0,k=k+Math.imul(Xe,yt)|0,w=w+Math.imul(Xe,ft)|0,w=w+Math.imul(qe,yt)|0,T=T+Math.imul(qe,ft)|0,k=k+Math.imul(Re,xt)|0,w=w+Math.imul(Re,te)|0,w=w+Math.imul(Oe,xt)|0,T=T+Math.imul(Oe,te)|0,k=k+Math.imul(we,H)|0,w=w+Math.imul(we,fe)|0,w=w+Math.imul(Me,H)|0,T=T+Math.imul(Me,fe)|0,k=k+Math.imul(me,L)|0,w=w+Math.imul(me,K)|0,w=w+Math.imul(ye,L)|0,T=T+Math.imul(ye,K)|0,k=k+Math.imul(le,F)|0,w=w+Math.imul(le,ne)|0,w=w+Math.imul(ge,F)|0,T=T+Math.imul(ge,ne)|0,k=k+Math.imul(P,be)|0,w=w+Math.imul(P,Pe)|0,w=w+Math.imul(O,be)|0,T=T+Math.imul(O,Pe)|0,k=k+Math.imul(B,nt)|0,w=w+Math.imul(B,Ge)|0,w=w+Math.imul(ee,nt)|0,T=T+Math.imul(ee,Ge)|0;var bt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(bt>>>26)|0,bt&=67108863,k=Math.imul(j,et),w=Math.imul(j,at),w=w+Math.imul(ae,et)|0,T=Math.imul(ae,at),k=k+Math.imul(rt,yt)|0,w=w+Math.imul(rt,ft)|0,w=w+Math.imul(X,yt)|0,T=T+Math.imul(X,ft)|0,k=k+Math.imul(Xe,xt)|0,w=w+Math.imul(Xe,te)|0,w=w+Math.imul(qe,xt)|0,T=T+Math.imul(qe,te)|0,k=k+Math.imul(Re,H)|0,w=w+Math.imul(Re,fe)|0,w=w+Math.imul(Oe,H)|0,T=T+Math.imul(Oe,fe)|0,k=k+Math.imul(we,L)|0,w=w+Math.imul(we,K)|0,w=w+Math.imul(Me,L)|0,T=T+Math.imul(Me,K)|0,k=k+Math.imul(me,F)|0,w=w+Math.imul(me,ne)|0,w=w+Math.imul(ye,F)|0,T=T+Math.imul(ye,ne)|0,k=k+Math.imul(le,be)|0,w=w+Math.imul(le,Pe)|0,w=w+Math.imul(ge,be)|0,T=T+Math.imul(ge,Pe)|0,k=k+Math.imul(P,nt)|0,w=w+Math.imul(P,Ge)|0,w=w+Math.imul(O,nt)|0,T=T+Math.imul(O,Ge)|0;var ut=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(ut>>>26)|0,ut&=67108863,k=Math.imul(j,yt),w=Math.imul(j,ft),w=w+Math.imul(ae,yt)|0,T=Math.imul(ae,ft),k=k+Math.imul(rt,xt)|0,w=w+Math.imul(rt,te)|0,w=w+Math.imul(X,xt)|0,T=T+Math.imul(X,te)|0,k=k+Math.imul(Xe,H)|0,w=w+Math.imul(Xe,fe)|0,w=w+Math.imul(qe,H)|0,T=T+Math.imul(qe,fe)|0,k=k+Math.imul(Re,L)|0,w=w+Math.imul(Re,K)|0,w=w+Math.imul(Oe,L)|0,T=T+Math.imul(Oe,K)|0,k=k+Math.imul(we,F)|0,w=w+Math.imul(we,ne)|0,w=w+Math.imul(Me,F)|0,T=T+Math.imul(Me,ne)|0,k=k+Math.imul(me,be)|0,w=w+Math.imul(me,Pe)|0,w=w+Math.imul(ye,be)|0,T=T+Math.imul(ye,Pe)|0,k=k+Math.imul(le,nt)|0,w=w+Math.imul(le,Ge)|0,w=w+Math.imul(ge,nt)|0,T=T+Math.imul(ge,Ge)|0;var mt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(mt>>>26)|0,mt&=67108863,k=Math.imul(j,xt),w=Math.imul(j,te),w=w+Math.imul(ae,xt)|0,T=Math.imul(ae,te),k=k+Math.imul(rt,H)|0,w=w+Math.imul(rt,fe)|0,w=w+Math.imul(X,H)|0,T=T+Math.imul(X,fe)|0,k=k+Math.imul(Xe,L)|0,w=w+Math.imul(Xe,K)|0,w=w+Math.imul(qe,L)|0,T=T+Math.imul(qe,K)|0,k=k+Math.imul(Re,F)|0,w=w+Math.imul(Re,ne)|0,w=w+Math.imul(Oe,F)|0,T=T+Math.imul(Oe,ne)|0,k=k+Math.imul(we,be)|0,w=w+Math.imul(we,Pe)|0,w=w+Math.imul(Me,be)|0,T=T+Math.imul(Me,Pe)|0,k=k+Math.imul(me,nt)|0,w=w+Math.imul(me,Ge)|0,w=w+Math.imul(ye,nt)|0,T=T+Math.imul(ye,Ge)|0;var wt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(wt>>>26)|0,wt&=67108863,k=Math.imul(j,H),w=Math.imul(j,fe),w=w+Math.imul(ae,H)|0,T=Math.imul(ae,fe),k=k+Math.imul(rt,L)|0,w=w+Math.imul(rt,K)|0,w=w+Math.imul(X,L)|0,T=T+Math.imul(X,K)|0,k=k+Math.imul(Xe,F)|0,w=w+Math.imul(Xe,ne)|0,w=w+Math.imul(qe,F)|0,T=T+Math.imul(qe,ne)|0,k=k+Math.imul(Re,be)|0,w=w+Math.imul(Re,Pe)|0,w=w+Math.imul(Oe,be)|0,T=T+Math.imul(Oe,Pe)|0,k=k+Math.imul(we,nt)|0,w=w+Math.imul(we,Ge)|0,w=w+Math.imul(Me,nt)|0,T=T+Math.imul(Me,Ge)|0;var lt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(lt>>>26)|0,lt&=67108863,k=Math.imul(j,L),w=Math.imul(j,K),w=w+Math.imul(ae,L)|0,T=Math.imul(ae,K),k=k+Math.imul(rt,F)|0,w=w+Math.imul(rt,ne)|0,w=w+Math.imul(X,F)|0,T=T+Math.imul(X,ne)|0,k=k+Math.imul(Xe,be)|0,w=w+Math.imul(Xe,Pe)|0,w=w+Math.imul(qe,be)|0,T=T+Math.imul(qe,Pe)|0,k=k+Math.imul(Re,nt)|0,w=w+Math.imul(Re,Ge)|0,w=w+Math.imul(Oe,nt)|0,T=T+Math.imul(Oe,Ge)|0;var Le=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Le>>>26)|0,Le&=67108863,k=Math.imul(j,F),w=Math.imul(j,ne),w=w+Math.imul(ae,F)|0,T=Math.imul(ae,ne),k=k+Math.imul(rt,be)|0,w=w+Math.imul(rt,Pe)|0,w=w+Math.imul(X,be)|0,T=T+Math.imul(X,Pe)|0,k=k+Math.imul(Xe,nt)|0,w=w+Math.imul(Xe,Ge)|0,w=w+Math.imul(qe,nt)|0,T=T+Math.imul(qe,Ge)|0;var $e=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+($e>>>26)|0,$e&=67108863,k=Math.imul(j,be),w=Math.imul(j,Pe),w=w+Math.imul(ae,be)|0,T=Math.imul(ae,Pe),k=k+Math.imul(rt,nt)|0,w=w+Math.imul(rt,Ge)|0,w=w+Math.imul(X,nt)|0,T=T+Math.imul(X,Ge)|0;var it=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(it>>>26)|0,it&=67108863,k=Math.imul(j,nt),w=Math.imul(j,Ge),w=w+Math.imul(ae,nt)|0,T=Math.imul(ae,Ge);var Q=(y+k|0)+((w&8191)<<13)|0;return y=(T+(w>>>13)|0)+(Q>>>26)|0,Q&=67108863,m[0]=Nt,m[1]=gt,m[2]=Mt,m[3]=kt,m[4]=Ft,m[5]=Tt,m[6]=_t,m[7]=Et,m[8]=At,m[9]=dt,m[10]=bt,m[11]=ut,m[12]=mt,m[13]=wt,m[14]=lt,m[15]=Le,m[16]=$e,m[17]=it,m[18]=Q,y!==0&&(m[19]=y,S.length++),S};Math.imul||(I=A);function N(p,o,l){l.negative=o.negative^p.negative,l.length=p.length+o.length;for(var S=0,x=0,v=0;v<l.length-1;v++){var m=x;x=0;for(var y=S&67108863,k=Math.min(v,o.length-1),w=Math.max(0,v-p.length+1);w<=k;w++){var T=v-w,ie=p.words[T]|0,ve=o.words[w]|0,ce=ie*ve,C=ce&67108863;m=m+(ce/67108864|0)|0,C=C+y|0,y=C&67108863,m=m+(C>>>26)|0,x+=m>>>26,m&=67108863}l.words[v]=y,S=m,m=x}return S!==0?l.words[v]=S:l.length--,l._strip()}function $(p,o,l){return N(p,o,l)}n.prototype.mulTo=function(o,l){var S,x=this.length+o.length;return this.length===10&&o.length===10?S=I(this,o,l):x<63?S=A(this,o,l):x<1024?S=N(this,o,l):S=$(this,o,l),S},n.prototype.mul=function(o){var l=new n(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},n.prototype.mulf=function(o){var l=new n(null);return l.words=new Array(this.length+o.length),$(this,o,l)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){var l=o<0;l&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var S=0,x=0;x<this.length;x++){var v=(this.words[x]|0)*o,m=(v&67108863)+(S&67108863);S>>=26,S+=v/67108864|0,S+=m>>>26,this.words[x]=m&67108863}return S!==0&&(this.words[x]=S,this.length++),this.length=o===0?1:this.length,l?this.ineg():this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var l=R(o);if(l.length===0)return new n(1);for(var S=this,x=0;x<l.length&&l[x]===0;x++,S=S.sqr());if(++x<l.length)for(var v=S.sqr();x<l.length;x++,v=v.sqr())l[x]!==0&&(S=S.mul(v));return S},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26,x=67108863>>>26-l<<26-l,v;if(l!==0){var m=0;for(v=0;v<this.length;v++){var y=this.words[v]&x,k=(this.words[v]|0)-y<<l;this.words[v]=k|m,m=y>>>26-l}m&&(this.words[v]=m,this.length++)}if(S!==0){for(v=this.length-1;v>=0;v--)this.words[v+S]=this.words[v];for(v=0;v<S;v++)this.words[v]=0;this.length+=S}return this._strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,l,S){r(typeof o=="number"&&o>=0);var x;l?x=(l-l%26)/26:x=0;var v=o%26,m=Math.min((o-v)/26,this.length),y=67108863^67108863>>>v<<v,k=S;if(x-=m,x=Math.max(0,x),k){for(var w=0;w<m;w++)k.words[w]=this.words[w];k.length=m}if(m!==0)if(this.length>m)for(this.length-=m,w=0;w<this.length;w++)this.words[w]=this.words[w+m];else this.words[0]=0,this.length=1;var T=0;for(w=this.length-1;w>=0&&(T!==0||w>=x);w--){var ie=this.words[w]|0;this.words[w]=T<<26-v|ie>>>v,T=ie&y}return k&&T!==0&&(k.words[k.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(o,l,S){return r(this.negative===0),this.iushrn(o,l,S)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26,x=1<<l;if(this.length<=S)return!1;var v=this.words[S];return!!(v&x)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(l!==0&&S++,this.length=Math.min(S,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,l,S){var x=o.length+S,v;this._expand(x);var m,y=0;for(v=0;v<o.length;v++){m=(this.words[v+S]|0)+y;var k=(o.words[v]|0)*l;m-=k&67108863,y=(m>>26)-(k/67108864|0),this.words[v+S]=m&67108863}for(;v<this.length-S;v++)m=(this.words[v+S]|0)+y,y=m>>26,this.words[v+S]=m&67108863;if(y===0)return this._strip();for(r(y===-1),y=0,v=0;v<this.length;v++)m=-(this.words[v]|0)+y,y=m>>26,this.words[v]=m&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(o,l){var S=this.length-o.length,x=this.clone(),v=o,m=v.words[v.length-1]|0,y=this._countBits(m);S=26-y,S!==0&&(v=v.ushln(S),x.iushln(S),m=v.words[v.length-1]|0);var k=x.length-v.length,w;if(l!=="mod"){w=new n(null),w.length=k+1,w.words=new Array(w.length);for(var T=0;T<w.length;T++)w.words[T]=0}var ie=x.clone()._ishlnsubmul(v,1,k);ie.negative===0&&(x=ie,w&&(w.words[k]=1));for(var ve=k-1;ve>=0;ve--){var ce=(x.words[v.length+ve]|0)*67108864+(x.words[v.length+ve-1]|0);for(ce=Math.min(ce/m|0,67108863),x._ishlnsubmul(v,ce,ve);x.negative!==0;)ce--,x.negative=0,x._ishlnsubmul(v,1,ve),x.isZero()||(x.negative^=1);w&&(w.words[ve]=ce)}return w&&w._strip(),x._strip(),l!=="div"&&S!==0&&x.iushrn(S),{div:w||null,mod:x}},n.prototype.divmod=function(o,l,S){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var x,v,m;return this.negative!==0&&o.negative===0?(m=this.neg().divmod(o,l),l!=="mod"&&(x=m.div.neg()),l!=="div"&&(v=m.mod.neg(),S&&v.negative!==0&&v.iadd(o)),{div:x,mod:v}):this.negative===0&&o.negative!==0?(m=this.divmod(o.neg(),l),l!=="mod"&&(x=m.div.neg()),{div:x,mod:m.mod}):(this.negative&o.negative)!==0?(m=this.neg().divmod(o.neg(),l),l!=="div"&&(v=m.mod.neg(),S&&v.negative!==0&&v.isub(o)),{div:m.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new n(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modrn(o.words[0]))}:this._wordDiv(o,l)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var S=l.div.negative!==0?l.mod.isub(o):l.mod,x=o.ushrn(1),v=o.andln(1),m=S.cmp(x);return m<0||v===1&&m===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},n.prototype.modrn=function(o){var l=o<0;l&&(o=-o),r(o<=67108863);for(var S=(1<<26)%o,x=0,v=this.length-1;v>=0;v--)x=(S*x+(this.words[v]|0))%o;return l?-x:x},n.prototype.modn=function(o){return this.modrn(o)},n.prototype.idivn=function(o){var l=o<0;l&&(o=-o),r(o<=67108863);for(var S=0,x=this.length-1;x>=0;x--){var v=(this.words[x]|0)+S*67108864;this.words[x]=v/o|0,S=v%o}return this._strip(),l?this.ineg():this},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var l=this,S=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var x=new n(1),v=new n(0),m=new n(0),y=new n(1),k=0;l.isEven()&&S.isEven();)l.iushrn(1),S.iushrn(1),++k;for(var w=S.clone(),T=l.clone();!l.isZero();){for(var ie=0,ve=1;(l.words[0]&ve)===0&&ie<26;++ie,ve<<=1);if(ie>0)for(l.iushrn(ie);ie-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(w),v.isub(T)),x.iushrn(1),v.iushrn(1);for(var ce=0,C=1;(S.words[0]&C)===0&&ce<26;++ce,C<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(w),y.isub(T)),m.iushrn(1),y.iushrn(1);l.cmp(S)>=0?(l.isub(S),x.isub(m),v.isub(y)):(S.isub(l),m.isub(x),y.isub(v))}return{a:m,b:y,gcd:S.iushln(k)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var l=this,S=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var x=new n(1),v=new n(0),m=S.clone();l.cmpn(1)>0&&S.cmpn(1)>0;){for(var y=0,k=1;(l.words[0]&k)===0&&y<26;++y,k<<=1);if(y>0)for(l.iushrn(y);y-- >0;)x.isOdd()&&x.iadd(m),x.iushrn(1);for(var w=0,T=1;(S.words[0]&T)===0&&w<26;++w,T<<=1);if(w>0)for(S.iushrn(w);w-- >0;)v.isOdd()&&v.iadd(m),v.iushrn(1);l.cmp(S)>=0?(l.isub(S),x.isub(v)):(S.isub(l),v.isub(x))}var ie;return l.cmpn(1)===0?ie=x:ie=v,ie.cmpn(0)<0&&ie.iadd(o),ie},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),S=o.clone();l.negative=0,S.negative=0;for(var x=0;l.isEven()&&S.isEven();x++)l.iushrn(1),S.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;S.isEven();)S.iushrn(1);var v=l.cmp(S);if(v<0){var m=l;l=S,S=m}else if(v===0||S.cmpn(1)===0)break;l.isub(S)}while(!0);return S.iushln(x)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var l=o%26,S=(o-l)/26,x=1<<l;if(this.length<=S)return this._expand(S+1),this.words[S]|=x,this;for(var v=x,m=S;v!==0&&m<this.length;m++){var y=this.words[m]|0;y+=v,v=y>>>26,y&=67108863,this.words[m]=y}return v!==0&&(this.words[m]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var S;if(this.length>1)S=1;else{l&&(o=-o),r(o<=67108863,"Number is too big");var x=this.words[0]|0;S=x===o?0:x<o?-1:1}return this.negative!==0?-S|0:S},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,S=this.length-1;S>=0;S--){var x=this.words[S]|0,v=o.words[S]|0;if(x!==v){x<v?l=-1:x>v&&(l=1);break}}return l},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new E(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var V={k256:null,p224:null,p192:null,p25519:null};function U(p,o){this.name=p,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},U.prototype.ireduce=function(o){var l=o,S;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),S=l.bitLength();while(S>this.n);var x=S<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(o,l){o.iushrn(this.n,0,l)},U.prototype.imulK=function(o){return o.imul(this.k)};function J(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(J,U),J.prototype.split=function(o,l){for(var S=4194303,x=Math.min(o.length,9),v=0;v<x;v++)l.words[v]=o.words[v];if(l.length=x,o.length<=9){o.words[0]=0,o.length=1;return}var m=o.words[9];for(l.words[l.length++]=m&S,v=10;v<o.length;v++){var y=o.words[v]|0;o.words[v-10]=(y&S)<<4|m>>>22,m=y}m>>>=22,o.words[v-10]=m,m===0&&o.length>10?o.length-=10:o.length-=9},J.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,S=0;S<o.length;S++){var x=o.words[S]|0;l+=x*977,o.words[S]=l&67108863,l=x*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Y(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Y,U);function oe(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(oe,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(G,U),G.prototype.imulK=function(o){for(var l=0,S=0;S<o.length;S++){var x=(o.words[S]|0)*19+l,v=x&67108863;x>>>=26,o.words[S]=v,l=x}return l!==0&&(o.words[o.length++]=l),o},n._prime=function(o){if(V[o])return V[o];var l;if(o==="k256")l=new J;else if(o==="p224")l=new Y;else if(o==="p192")l=new oe;else if(o==="p25519")l=new G;else throw new Error("Unknown prime "+o);return V[o]=l,l};function E(p){if(typeof p=="string"){var o=n._prime(p);this.m=o.p,this.prime=o}else r(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}E.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},E.prototype._verify2=function(o,l){r((o.negative|l.negative)===0,"red works only with positives"),r(o.red&&o.red===l.red,"red works only with red numbers")},E.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(f(o,o.umod(this.m)._forceRed(this)),o)},E.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},E.prototype.add=function(o,l){this._verify2(o,l);var S=o.add(l);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},E.prototype.iadd=function(o,l){this._verify2(o,l);var S=o.iadd(l);return S.cmp(this.m)>=0&&S.isub(this.m),S},E.prototype.sub=function(o,l){this._verify2(o,l);var S=o.sub(l);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},E.prototype.isub=function(o,l){this._verify2(o,l);var S=o.isub(l);return S.cmpn(0)<0&&S.iadd(this.m),S},E.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},E.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},E.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},E.prototype.isqr=function(o){return this.imul(o,o.clone())},E.prototype.sqr=function(o){return this.mul(o,o)},E.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var S=this.m.add(new n(1)).iushrn(2);return this.pow(o,S)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var m=new n(1).toRed(this),y=m.redNeg(),k=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new n(2*w*w).toRed(this);this.pow(w,k).cmp(y)!==0;)w.redIAdd(y);for(var T=this.pow(w,x),ie=this.pow(o,x.addn(1).iushrn(1)),ve=this.pow(o,x),ce=v;ve.cmp(m)!==0;){for(var C=ve,B=0;C.cmp(m)!==0;B++)C=C.redSqr();r(B<ce);var ee=this.pow(T,new n(1).iushln(ce-B-1));ie=ie.redMul(ee),T=ee.redSqr(),ve=ve.redMul(T),ce=B}return ie},E.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},E.prototype.pow=function(o,l){if(l.isZero())return new n(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var S=4,x=new Array(1<<S);x[0]=new n(1).toRed(this),x[1]=o;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],o);var m=x[0],y=0,k=0,w=l.bitLength()%26;for(w===0&&(w=26),v=l.length-1;v>=0;v--){for(var T=l.words[v],ie=w-1;ie>=0;ie--){var ve=T>>ie&1;if(m!==x[0]&&(m=this.sqr(m)),ve===0&&y===0){k=0;continue}y<<=1,y|=ve,k++,!(k!==S&&(v!==0||ie!==0))&&(m=this.mul(m,x[y]),k=0,y=0)}w=26}return m},E.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},E.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},n.mont=function(o){return new d(o)};function d(p){E.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(d,E),d.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},d.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},d.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var S=o.imul(l),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=S.isub(x).iushrn(this.shift),m=v;return v.cmp(this.m)>=0?m=v.isub(this.m):v.cmpn(0)<0&&(m=v.iadd(this.m)),m._forceRed(this)},d.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new n(0)._forceRed(this);var S=o.mul(l),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=S.isub(x).iushrn(this.shift),m=v;return v.cmp(this.m)>=0?m=v.isub(this.m):v.cmpn(0)<0&&(m=v.iadd(this.m)),m._forceRed(this)},d.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(i,Qx)})(ff)),ff.exports}var Gl,Jv;function Mg(){if(Jv)return Gl;Jv=1;var i=eS(),e=ns(),t=Wt().Buffer;function r(s){var c=s.modulus.byteLength(),u;do u=new i(e(c));while(u.cmp(s.modulus)>=0||!u.umod(s.prime1)||!u.umod(s.prime2));return u}function a(s){var c=r(s),u=c.toRed(i.mont(s.modulus)).redPow(new i(s.publicExponent)).fromRed();return{blinder:u,unblinder:c.invm(s.modulus)}}function n(s,c){var u=a(c),h=c.modulus.byteLength(),f=new i(s).mul(u.blinder).umod(c.modulus),g=f.toRed(i.mont(c.prime1)),b=f.toRed(i.mont(c.prime2)),M=c.coefficient,_=c.prime1,D=c.prime2,R=g.redPow(c.exponent1).fromRed(),A=b.redPow(c.exponent2).fromRed(),I=R.isub(A).imul(M).umod(_).imul(D);return A.iadd(I).imul(u.unblinder).umod(c.modulus).toArrayLike(t,"be",h)}return n.getr=r,Gl=n,Gl}var Kl={};const tS="6.6.1",rS={version:tS};var Jl={},hf={exports:{}},nS=hf.exports,Yv;function Zn(){return Yv||(Yv=1,(function(i){(function(e,t){function r(E,d){if(!E)throw new Error(d||"Assertion failed")}function a(E,d){E.super_=d;var p=function(){};p.prototype=d.prototype,E.prototype=new p,E.prototype.constructor=E}function n(E,d,p){if(n.isBN(E))return E;this.negative=0,this.words=null,this.length=0,this.red=null,E!==null&&((d==="le"||d==="be")&&(p=d,d=10),this._init(E||0,d||10,p||"be"))}typeof e=="object"?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ar().Buffer}catch{}n.isBN=function(d){return d instanceof n?!0:d!==null&&typeof d=="object"&&d.constructor.wordSize===n.wordSize&&Array.isArray(d.words)},n.max=function(d,p){return d.cmp(p)>0?d:p},n.min=function(d,p){return d.cmp(p)<0?d:p},n.prototype._init=function(d,p,o){if(typeof d=="number")return this._initNumber(d,p,o);if(typeof d=="object")return this._initArray(d,p,o);p==="hex"&&(p=16),r(p===(p|0)&&p>=2&&p<=36),d=d.toString().replace(/\s+/g,"");var l=0;d[0]==="-"&&(l++,this.negative=1),l<d.length&&(p===16?this._parseHex(d,l,o):(this._parseBase(d,p,l),o==="le"&&this._initArray(this.toArray(),p,o)))},n.prototype._initNumber=function(d,p,o){d<0&&(this.negative=1,d=-d),d<67108864?(this.words=[d&67108863],this.length=1):d<4503599627370496?(this.words=[d&67108863,d/67108864&67108863],this.length=2):(r(d<9007199254740992),this.words=[d&67108863,d/67108864&67108863,1],this.length=3),o==="le"&&this._initArray(this.toArray(),p,o)},n.prototype._initArray=function(d,p,o){if(r(typeof d.length=="number"),d.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(d.length/3),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var S,x,v=0;if(o==="be")for(l=d.length-1,S=0;l>=0;l-=3)x=d[l]|d[l-1]<<8|d[l-2]<<16,this.words[S]|=x<<v&67108863,this.words[S+1]=x>>>26-v&67108863,v+=24,v>=26&&(v-=26,S++);else if(o==="le")for(l=0,S=0;l<d.length;l+=3)x=d[l]|d[l+1]<<8|d[l+2]<<16,this.words[S]|=x<<v&67108863,this.words[S+1]=x>>>26-v&67108863,v+=24,v>=26&&(v-=26,S++);return this.strip()};function c(E,d){var p=E.charCodeAt(d);return p>=65&&p<=70?p-55:p>=97&&p<=102?p-87:p-48&15}function u(E,d,p){var o=c(E,p);return p-1>=d&&(o|=c(E,p-1)<<4),o}n.prototype._parseHex=function(d,p,o){this.length=Math.ceil((d.length-p)/6),this.words=new Array(this.length);for(var l=0;l<this.length;l++)this.words[l]=0;var S=0,x=0,v;if(o==="be")for(l=d.length-1;l>=p;l-=2)v=u(d,p,l)<<S,this.words[x]|=v&67108863,S>=18?(S-=18,x+=1,this.words[x]|=v>>>26):S+=8;else{var m=d.length-p;for(l=m%2===0?p+1:p;l<d.length;l+=2)v=u(d,p,l)<<S,this.words[x]|=v&67108863,S>=18?(S-=18,x+=1,this.words[x]|=v>>>26):S+=8}this.strip()};function h(E,d,p,o){for(var l=0,S=Math.min(E.length,p),x=d;x<S;x++){var v=E.charCodeAt(x)-48;l*=o,v>=49?l+=v-49+10:v>=17?l+=v-17+10:l+=v}return l}n.prototype._parseBase=function(d,p,o){this.words=[0],this.length=1;for(var l=0,S=1;S<=67108863;S*=p)l++;l--,S=S/p|0;for(var x=d.length-o,v=x%l,m=Math.min(x,x-v)+o,y=0,k=o;k<m;k+=l)y=h(d,k,k+l,p),this.imuln(S),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y);if(v!==0){var w=1;for(y=h(d,k,d.length,p),k=0;k<v;k++)w*=p;this.imuln(w),this.words[0]+y<67108864?this.words[0]+=y:this._iaddn(y)}this.strip()},n.prototype.copy=function(d){d.words=new Array(this.length);for(var p=0;p<this.length;p++)d.words[p]=this.words[p];d.length=this.length,d.negative=this.negative,d.red=this.red},n.prototype.clone=function(){var d=new n(null);return this.copy(d),d},n.prototype._expand=function(d){for(;this.length<d;)this.words[this.length++]=0;return this},n.prototype.strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},n.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var f=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(d,p){d=d||10,p=p|0||1;var o;if(d===16||d==="hex"){o="";for(var l=0,S=0,x=0;x<this.length;x++){var v=this.words[x],m=((v<<l|S)&16777215).toString(16);S=v>>>24-l&16777215,l+=2,l>=26&&(l-=26,x--),S!==0||x!==this.length-1?o=f[6-m.length]+m+o:o=m+o}for(S!==0&&(o=S.toString(16)+o);o.length%p!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}if(d===(d|0)&&d>=2&&d<=36){var y=g[d],k=b[d];o="";var w=this.clone();for(w.negative=0;!w.isZero();){var T=w.modn(k).toString(d);w=w.idivn(k),w.isZero()?o=T+o:o=f[y-T.length]+T+o}for(this.isZero()&&(o="0"+o);o.length%p!==0;)o="0"+o;return this.negative!==0&&(o="-"+o),o}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var d=this.words[0];return this.length===2?d+=this.words[1]*67108864:this.length===3&&this.words[2]===1?d+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-d:d},n.prototype.toJSON=function(){return this.toString(16)},n.prototype.toBuffer=function(d,p){return r(typeof s<"u"),this.toArrayLike(s,d,p)},n.prototype.toArray=function(d,p){return this.toArrayLike(Array,d,p)},n.prototype.toArrayLike=function(d,p,o){var l=this.byteLength(),S=o||Math.max(1,l);r(l<=S,"byte array longer than desired length"),r(S>0,"Requested array length <= 0"),this.strip();var x=p==="le",v=new d(S),m,y,k=this.clone();if(x){for(y=0;!k.isZero();y++)m=k.andln(255),k.iushrn(8),v[y]=m;for(;y<S;y++)v[y]=0}else{for(y=0;y<S-l;y++)v[y]=0;for(y=0;!k.isZero();y++)m=k.andln(255),k.iushrn(8),v[S-y-1]=m}return v},Math.clz32?n.prototype._countBits=function(d){return 32-Math.clz32(d)}:n.prototype._countBits=function(d){var p=d,o=0;return p>=4096&&(o+=13,p>>>=13),p>=64&&(o+=7,p>>>=7),p>=8&&(o+=4,p>>>=4),p>=2&&(o+=2,p>>>=2),o+p},n.prototype._zeroBits=function(d){if(d===0)return 26;var p=d,o=0;return(p&8191)===0&&(o+=13,p>>>=13),(p&127)===0&&(o+=7,p>>>=7),(p&15)===0&&(o+=4,p>>>=4),(p&3)===0&&(o+=2,p>>>=2),(p&1)===0&&o++,o},n.prototype.bitLength=function(){var d=this.words[this.length-1],p=this._countBits(d);return(this.length-1)*26+p};function M(E){for(var d=new Array(E.bitLength()),p=0;p<d.length;p++){var o=p/26|0,l=p%26;d[p]=(E.words[o]&1<<l)>>>l}return d}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var d=0,p=0;p<this.length;p++){var o=this._zeroBits(this.words[p]);if(d+=o,o!==26)break}return d},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(d){return this.negative!==0?this.abs().inotn(d).iaddn(1):this.clone()},n.prototype.fromTwos=function(d){return this.testn(d-1)?this.notn(d).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(d){for(;this.length<d.length;)this.words[this.length++]=0;for(var p=0;p<d.length;p++)this.words[p]=this.words[p]|d.words[p];return this.strip()},n.prototype.ior=function(d){return r((this.negative|d.negative)===0),this.iuor(d)},n.prototype.or=function(d){return this.length>d.length?this.clone().ior(d):d.clone().ior(this)},n.prototype.uor=function(d){return this.length>d.length?this.clone().iuor(d):d.clone().iuor(this)},n.prototype.iuand=function(d){var p;this.length>d.length?p=d:p=this;for(var o=0;o<p.length;o++)this.words[o]=this.words[o]&d.words[o];return this.length=p.length,this.strip()},n.prototype.iand=function(d){return r((this.negative|d.negative)===0),this.iuand(d)},n.prototype.and=function(d){return this.length>d.length?this.clone().iand(d):d.clone().iand(this)},n.prototype.uand=function(d){return this.length>d.length?this.clone().iuand(d):d.clone().iuand(this)},n.prototype.iuxor=function(d){var p,o;this.length>d.length?(p=this,o=d):(p=d,o=this);for(var l=0;l<o.length;l++)this.words[l]=p.words[l]^o.words[l];if(this!==p)for(;l<p.length;l++)this.words[l]=p.words[l];return this.length=p.length,this.strip()},n.prototype.ixor=function(d){return r((this.negative|d.negative)===0),this.iuxor(d)},n.prototype.xor=function(d){return this.length>d.length?this.clone().ixor(d):d.clone().ixor(this)},n.prototype.uxor=function(d){return this.length>d.length?this.clone().iuxor(d):d.clone().iuxor(this)},n.prototype.inotn=function(d){r(typeof d=="number"&&d>=0);var p=Math.ceil(d/26)|0,o=d%26;this._expand(p),o>0&&p--;for(var l=0;l<p;l++)this.words[l]=~this.words[l]&67108863;return o>0&&(this.words[l]=~this.words[l]&67108863>>26-o),this.strip()},n.prototype.notn=function(d){return this.clone().inotn(d)},n.prototype.setn=function(d,p){r(typeof d=="number"&&d>=0);var o=d/26|0,l=d%26;return this._expand(o+1),p?this.words[o]=this.words[o]|1<<l:this.words[o]=this.words[o]&~(1<<l),this.strip()},n.prototype.iadd=function(d){var p;if(this.negative!==0&&d.negative===0)return this.negative=0,p=this.isub(d),this.negative^=1,this._normSign();if(this.negative===0&&d.negative!==0)return d.negative=0,p=this.isub(d),d.negative=1,p._normSign();var o,l;this.length>d.length?(o=this,l=d):(o=d,l=this);for(var S=0,x=0;x<l.length;x++)p=(o.words[x]|0)+(l.words[x]|0)+S,this.words[x]=p&67108863,S=p>>>26;for(;S!==0&&x<o.length;x++)p=(o.words[x]|0)+S,this.words[x]=p&67108863,S=p>>>26;if(this.length=o.length,S!==0)this.words[this.length]=S,this.length++;else if(o!==this)for(;x<o.length;x++)this.words[x]=o.words[x];return this},n.prototype.add=function(d){var p;return d.negative!==0&&this.negative===0?(d.negative=0,p=this.sub(d),d.negative^=1,p):d.negative===0&&this.negative!==0?(this.negative=0,p=d.sub(this),this.negative=1,p):this.length>d.length?this.clone().iadd(d):d.clone().iadd(this)},n.prototype.isub=function(d){if(d.negative!==0){d.negative=0;var p=this.iadd(d);return d.negative=1,p._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(d),this.negative=1,this._normSign();var o=this.cmp(d);if(o===0)return this.negative=0,this.length=1,this.words[0]=0,this;var l,S;o>0?(l=this,S=d):(l=d,S=this);for(var x=0,v=0;v<S.length;v++)p=(l.words[v]|0)-(S.words[v]|0)+x,x=p>>26,this.words[v]=p&67108863;for(;x!==0&&v<l.length;v++)p=(l.words[v]|0)+x,x=p>>26,this.words[v]=p&67108863;if(x===0&&v<l.length&&l!==this)for(;v<l.length;v++)this.words[v]=l.words[v];return this.length=Math.max(this.length,v),l!==this&&(this.negative=1),this.strip()},n.prototype.sub=function(d){return this.clone().isub(d)};function _(E,d,p){p.negative=d.negative^E.negative;var o=E.length+d.length|0;p.length=o,o=o-1|0;var l=E.words[0]|0,S=d.words[0]|0,x=l*S,v=x&67108863,m=x/67108864|0;p.words[0]=v;for(var y=1;y<o;y++){for(var k=m>>>26,w=m&67108863,T=Math.min(y,d.length-1),ie=Math.max(0,y-E.length+1);ie<=T;ie++){var ve=y-ie|0;l=E.words[ve]|0,S=d.words[ie]|0,x=l*S+w,k+=x/67108864|0,w=x&67108863}p.words[y]=w|0,m=k|0}return m!==0?p.words[y]=m|0:p.length--,p.strip()}var D=function(d,p,o){var l=d.words,S=p.words,x=o.words,v=0,m,y,k,w=l[0]|0,T=w&8191,ie=w>>>13,ve=l[1]|0,ce=ve&8191,C=ve>>>13,B=l[2]|0,ee=B&8191,z=B>>>13,P=l[3]|0,O=P&8191,se=P>>>13,le=l[4]|0,ge=le&8191,Ee=le>>>13,me=l[5]|0,ye=me&8191,Te=me>>>13,we=l[6]|0,Me=we&8191,Ne=we>>>13,Re=l[7]|0,Oe=Re&8191,Ye=Re>>>13,Xe=l[8]|0,qe=Xe&8191,ct=Xe>>>13,rt=l[9]|0,X=rt&8191,q=rt>>>13,j=S[0]|0,ae=j&8191,xe=j>>>13,Se=S[1]|0,_e=Se&8191,Ze=Se>>>13,Qe=S[2]|0,je=Qe&8191,vt=Qe>>>13,et=S[3]|0,at=et&8191,Rt=et>>>13,yt=S[4]|0,ft=yt&8191,Vt=yt>>>13,xt=S[5]|0,te=xt&8191,W=xt>>>13,H=S[6]|0,fe=H&8191,De=H>>>13,L=S[7]|0,K=L&8191,re=L>>>13,F=S[8]|0,ne=F&8191,Ae=F>>>13,be=S[9]|0,Pe=be&8191,Ke=be>>>13;o.negative=d.negative^p.negative,o.length=19,m=Math.imul(T,ae),y=Math.imul(T,xe),y=y+Math.imul(ie,ae)|0,k=Math.imul(ie,xe);var nt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(nt>>>26)|0,nt&=67108863,m=Math.imul(ce,ae),y=Math.imul(ce,xe),y=y+Math.imul(C,ae)|0,k=Math.imul(C,xe),m=m+Math.imul(T,_e)|0,y=y+Math.imul(T,Ze)|0,y=y+Math.imul(ie,_e)|0,k=k+Math.imul(ie,Ze)|0;var Ge=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Ge>>>26)|0,Ge&=67108863,m=Math.imul(ee,ae),y=Math.imul(ee,xe),y=y+Math.imul(z,ae)|0,k=Math.imul(z,xe),m=m+Math.imul(ce,_e)|0,y=y+Math.imul(ce,Ze)|0,y=y+Math.imul(C,_e)|0,k=k+Math.imul(C,Ze)|0,m=m+Math.imul(T,je)|0,y=y+Math.imul(T,vt)|0,y=y+Math.imul(ie,je)|0,k=k+Math.imul(ie,vt)|0;var Nt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,m=Math.imul(O,ae),y=Math.imul(O,xe),y=y+Math.imul(se,ae)|0,k=Math.imul(se,xe),m=m+Math.imul(ee,_e)|0,y=y+Math.imul(ee,Ze)|0,y=y+Math.imul(z,_e)|0,k=k+Math.imul(z,Ze)|0,m=m+Math.imul(ce,je)|0,y=y+Math.imul(ce,vt)|0,y=y+Math.imul(C,je)|0,k=k+Math.imul(C,vt)|0,m=m+Math.imul(T,at)|0,y=y+Math.imul(T,Rt)|0,y=y+Math.imul(ie,at)|0,k=k+Math.imul(ie,Rt)|0;var gt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(gt>>>26)|0,gt&=67108863,m=Math.imul(ge,ae),y=Math.imul(ge,xe),y=y+Math.imul(Ee,ae)|0,k=Math.imul(Ee,xe),m=m+Math.imul(O,_e)|0,y=y+Math.imul(O,Ze)|0,y=y+Math.imul(se,_e)|0,k=k+Math.imul(se,Ze)|0,m=m+Math.imul(ee,je)|0,y=y+Math.imul(ee,vt)|0,y=y+Math.imul(z,je)|0,k=k+Math.imul(z,vt)|0,m=m+Math.imul(ce,at)|0,y=y+Math.imul(ce,Rt)|0,y=y+Math.imul(C,at)|0,k=k+Math.imul(C,Rt)|0,m=m+Math.imul(T,ft)|0,y=y+Math.imul(T,Vt)|0,y=y+Math.imul(ie,ft)|0,k=k+Math.imul(ie,Vt)|0;var Mt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,m=Math.imul(ye,ae),y=Math.imul(ye,xe),y=y+Math.imul(Te,ae)|0,k=Math.imul(Te,xe),m=m+Math.imul(ge,_e)|0,y=y+Math.imul(ge,Ze)|0,y=y+Math.imul(Ee,_e)|0,k=k+Math.imul(Ee,Ze)|0,m=m+Math.imul(O,je)|0,y=y+Math.imul(O,vt)|0,y=y+Math.imul(se,je)|0,k=k+Math.imul(se,vt)|0,m=m+Math.imul(ee,at)|0,y=y+Math.imul(ee,Rt)|0,y=y+Math.imul(z,at)|0,k=k+Math.imul(z,Rt)|0,m=m+Math.imul(ce,ft)|0,y=y+Math.imul(ce,Vt)|0,y=y+Math.imul(C,ft)|0,k=k+Math.imul(C,Vt)|0,m=m+Math.imul(T,te)|0,y=y+Math.imul(T,W)|0,y=y+Math.imul(ie,te)|0,k=k+Math.imul(ie,W)|0;var kt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(kt>>>26)|0,kt&=67108863,m=Math.imul(Me,ae),y=Math.imul(Me,xe),y=y+Math.imul(Ne,ae)|0,k=Math.imul(Ne,xe),m=m+Math.imul(ye,_e)|0,y=y+Math.imul(ye,Ze)|0,y=y+Math.imul(Te,_e)|0,k=k+Math.imul(Te,Ze)|0,m=m+Math.imul(ge,je)|0,y=y+Math.imul(ge,vt)|0,y=y+Math.imul(Ee,je)|0,k=k+Math.imul(Ee,vt)|0,m=m+Math.imul(O,at)|0,y=y+Math.imul(O,Rt)|0,y=y+Math.imul(se,at)|0,k=k+Math.imul(se,Rt)|0,m=m+Math.imul(ee,ft)|0,y=y+Math.imul(ee,Vt)|0,y=y+Math.imul(z,ft)|0,k=k+Math.imul(z,Vt)|0,m=m+Math.imul(ce,te)|0,y=y+Math.imul(ce,W)|0,y=y+Math.imul(C,te)|0,k=k+Math.imul(C,W)|0,m=m+Math.imul(T,fe)|0,y=y+Math.imul(T,De)|0,y=y+Math.imul(ie,fe)|0,k=k+Math.imul(ie,De)|0;var Ft=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,m=Math.imul(Oe,ae),y=Math.imul(Oe,xe),y=y+Math.imul(Ye,ae)|0,k=Math.imul(Ye,xe),m=m+Math.imul(Me,_e)|0,y=y+Math.imul(Me,Ze)|0,y=y+Math.imul(Ne,_e)|0,k=k+Math.imul(Ne,Ze)|0,m=m+Math.imul(ye,je)|0,y=y+Math.imul(ye,vt)|0,y=y+Math.imul(Te,je)|0,k=k+Math.imul(Te,vt)|0,m=m+Math.imul(ge,at)|0,y=y+Math.imul(ge,Rt)|0,y=y+Math.imul(Ee,at)|0,k=k+Math.imul(Ee,Rt)|0,m=m+Math.imul(O,ft)|0,y=y+Math.imul(O,Vt)|0,y=y+Math.imul(se,ft)|0,k=k+Math.imul(se,Vt)|0,m=m+Math.imul(ee,te)|0,y=y+Math.imul(ee,W)|0,y=y+Math.imul(z,te)|0,k=k+Math.imul(z,W)|0,m=m+Math.imul(ce,fe)|0,y=y+Math.imul(ce,De)|0,y=y+Math.imul(C,fe)|0,k=k+Math.imul(C,De)|0,m=m+Math.imul(T,K)|0,y=y+Math.imul(T,re)|0,y=y+Math.imul(ie,K)|0,k=k+Math.imul(ie,re)|0;var Tt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,m=Math.imul(qe,ae),y=Math.imul(qe,xe),y=y+Math.imul(ct,ae)|0,k=Math.imul(ct,xe),m=m+Math.imul(Oe,_e)|0,y=y+Math.imul(Oe,Ze)|0,y=y+Math.imul(Ye,_e)|0,k=k+Math.imul(Ye,Ze)|0,m=m+Math.imul(Me,je)|0,y=y+Math.imul(Me,vt)|0,y=y+Math.imul(Ne,je)|0,k=k+Math.imul(Ne,vt)|0,m=m+Math.imul(ye,at)|0,y=y+Math.imul(ye,Rt)|0,y=y+Math.imul(Te,at)|0,k=k+Math.imul(Te,Rt)|0,m=m+Math.imul(ge,ft)|0,y=y+Math.imul(ge,Vt)|0,y=y+Math.imul(Ee,ft)|0,k=k+Math.imul(Ee,Vt)|0,m=m+Math.imul(O,te)|0,y=y+Math.imul(O,W)|0,y=y+Math.imul(se,te)|0,k=k+Math.imul(se,W)|0,m=m+Math.imul(ee,fe)|0,y=y+Math.imul(ee,De)|0,y=y+Math.imul(z,fe)|0,k=k+Math.imul(z,De)|0,m=m+Math.imul(ce,K)|0,y=y+Math.imul(ce,re)|0,y=y+Math.imul(C,K)|0,k=k+Math.imul(C,re)|0,m=m+Math.imul(T,ne)|0,y=y+Math.imul(T,Ae)|0,y=y+Math.imul(ie,ne)|0,k=k+Math.imul(ie,Ae)|0;var _t=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(_t>>>26)|0,_t&=67108863,m=Math.imul(X,ae),y=Math.imul(X,xe),y=y+Math.imul(q,ae)|0,k=Math.imul(q,xe),m=m+Math.imul(qe,_e)|0,y=y+Math.imul(qe,Ze)|0,y=y+Math.imul(ct,_e)|0,k=k+Math.imul(ct,Ze)|0,m=m+Math.imul(Oe,je)|0,y=y+Math.imul(Oe,vt)|0,y=y+Math.imul(Ye,je)|0,k=k+Math.imul(Ye,vt)|0,m=m+Math.imul(Me,at)|0,y=y+Math.imul(Me,Rt)|0,y=y+Math.imul(Ne,at)|0,k=k+Math.imul(Ne,Rt)|0,m=m+Math.imul(ye,ft)|0,y=y+Math.imul(ye,Vt)|0,y=y+Math.imul(Te,ft)|0,k=k+Math.imul(Te,Vt)|0,m=m+Math.imul(ge,te)|0,y=y+Math.imul(ge,W)|0,y=y+Math.imul(Ee,te)|0,k=k+Math.imul(Ee,W)|0,m=m+Math.imul(O,fe)|0,y=y+Math.imul(O,De)|0,y=y+Math.imul(se,fe)|0,k=k+Math.imul(se,De)|0,m=m+Math.imul(ee,K)|0,y=y+Math.imul(ee,re)|0,y=y+Math.imul(z,K)|0,k=k+Math.imul(z,re)|0,m=m+Math.imul(ce,ne)|0,y=y+Math.imul(ce,Ae)|0,y=y+Math.imul(C,ne)|0,k=k+Math.imul(C,Ae)|0,m=m+Math.imul(T,Pe)|0,y=y+Math.imul(T,Ke)|0,y=y+Math.imul(ie,Pe)|0,k=k+Math.imul(ie,Ke)|0;var Et=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Et>>>26)|0,Et&=67108863,m=Math.imul(X,_e),y=Math.imul(X,Ze),y=y+Math.imul(q,_e)|0,k=Math.imul(q,Ze),m=m+Math.imul(qe,je)|0,y=y+Math.imul(qe,vt)|0,y=y+Math.imul(ct,je)|0,k=k+Math.imul(ct,vt)|0,m=m+Math.imul(Oe,at)|0,y=y+Math.imul(Oe,Rt)|0,y=y+Math.imul(Ye,at)|0,k=k+Math.imul(Ye,Rt)|0,m=m+Math.imul(Me,ft)|0,y=y+Math.imul(Me,Vt)|0,y=y+Math.imul(Ne,ft)|0,k=k+Math.imul(Ne,Vt)|0,m=m+Math.imul(ye,te)|0,y=y+Math.imul(ye,W)|0,y=y+Math.imul(Te,te)|0,k=k+Math.imul(Te,W)|0,m=m+Math.imul(ge,fe)|0,y=y+Math.imul(ge,De)|0,y=y+Math.imul(Ee,fe)|0,k=k+Math.imul(Ee,De)|0,m=m+Math.imul(O,K)|0,y=y+Math.imul(O,re)|0,y=y+Math.imul(se,K)|0,k=k+Math.imul(se,re)|0,m=m+Math.imul(ee,ne)|0,y=y+Math.imul(ee,Ae)|0,y=y+Math.imul(z,ne)|0,k=k+Math.imul(z,Ae)|0,m=m+Math.imul(ce,Pe)|0,y=y+Math.imul(ce,Ke)|0,y=y+Math.imul(C,Pe)|0,k=k+Math.imul(C,Ke)|0;var At=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(At>>>26)|0,At&=67108863,m=Math.imul(X,je),y=Math.imul(X,vt),y=y+Math.imul(q,je)|0,k=Math.imul(q,vt),m=m+Math.imul(qe,at)|0,y=y+Math.imul(qe,Rt)|0,y=y+Math.imul(ct,at)|0,k=k+Math.imul(ct,Rt)|0,m=m+Math.imul(Oe,ft)|0,y=y+Math.imul(Oe,Vt)|0,y=y+Math.imul(Ye,ft)|0,k=k+Math.imul(Ye,Vt)|0,m=m+Math.imul(Me,te)|0,y=y+Math.imul(Me,W)|0,y=y+Math.imul(Ne,te)|0,k=k+Math.imul(Ne,W)|0,m=m+Math.imul(ye,fe)|0,y=y+Math.imul(ye,De)|0,y=y+Math.imul(Te,fe)|0,k=k+Math.imul(Te,De)|0,m=m+Math.imul(ge,K)|0,y=y+Math.imul(ge,re)|0,y=y+Math.imul(Ee,K)|0,k=k+Math.imul(Ee,re)|0,m=m+Math.imul(O,ne)|0,y=y+Math.imul(O,Ae)|0,y=y+Math.imul(se,ne)|0,k=k+Math.imul(se,Ae)|0,m=m+Math.imul(ee,Pe)|0,y=y+Math.imul(ee,Ke)|0,y=y+Math.imul(z,Pe)|0,k=k+Math.imul(z,Ke)|0;var dt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(dt>>>26)|0,dt&=67108863,m=Math.imul(X,at),y=Math.imul(X,Rt),y=y+Math.imul(q,at)|0,k=Math.imul(q,Rt),m=m+Math.imul(qe,ft)|0,y=y+Math.imul(qe,Vt)|0,y=y+Math.imul(ct,ft)|0,k=k+Math.imul(ct,Vt)|0,m=m+Math.imul(Oe,te)|0,y=y+Math.imul(Oe,W)|0,y=y+Math.imul(Ye,te)|0,k=k+Math.imul(Ye,W)|0,m=m+Math.imul(Me,fe)|0,y=y+Math.imul(Me,De)|0,y=y+Math.imul(Ne,fe)|0,k=k+Math.imul(Ne,De)|0,m=m+Math.imul(ye,K)|0,y=y+Math.imul(ye,re)|0,y=y+Math.imul(Te,K)|0,k=k+Math.imul(Te,re)|0,m=m+Math.imul(ge,ne)|0,y=y+Math.imul(ge,Ae)|0,y=y+Math.imul(Ee,ne)|0,k=k+Math.imul(Ee,Ae)|0,m=m+Math.imul(O,Pe)|0,y=y+Math.imul(O,Ke)|0,y=y+Math.imul(se,Pe)|0,k=k+Math.imul(se,Ke)|0;var bt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(bt>>>26)|0,bt&=67108863,m=Math.imul(X,ft),y=Math.imul(X,Vt),y=y+Math.imul(q,ft)|0,k=Math.imul(q,Vt),m=m+Math.imul(qe,te)|0,y=y+Math.imul(qe,W)|0,y=y+Math.imul(ct,te)|0,k=k+Math.imul(ct,W)|0,m=m+Math.imul(Oe,fe)|0,y=y+Math.imul(Oe,De)|0,y=y+Math.imul(Ye,fe)|0,k=k+Math.imul(Ye,De)|0,m=m+Math.imul(Me,K)|0,y=y+Math.imul(Me,re)|0,y=y+Math.imul(Ne,K)|0,k=k+Math.imul(Ne,re)|0,m=m+Math.imul(ye,ne)|0,y=y+Math.imul(ye,Ae)|0,y=y+Math.imul(Te,ne)|0,k=k+Math.imul(Te,Ae)|0,m=m+Math.imul(ge,Pe)|0,y=y+Math.imul(ge,Ke)|0,y=y+Math.imul(Ee,Pe)|0,k=k+Math.imul(Ee,Ke)|0;var ut=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(ut>>>26)|0,ut&=67108863,m=Math.imul(X,te),y=Math.imul(X,W),y=y+Math.imul(q,te)|0,k=Math.imul(q,W),m=m+Math.imul(qe,fe)|0,y=y+Math.imul(qe,De)|0,y=y+Math.imul(ct,fe)|0,k=k+Math.imul(ct,De)|0,m=m+Math.imul(Oe,K)|0,y=y+Math.imul(Oe,re)|0,y=y+Math.imul(Ye,K)|0,k=k+Math.imul(Ye,re)|0,m=m+Math.imul(Me,ne)|0,y=y+Math.imul(Me,Ae)|0,y=y+Math.imul(Ne,ne)|0,k=k+Math.imul(Ne,Ae)|0,m=m+Math.imul(ye,Pe)|0,y=y+Math.imul(ye,Ke)|0,y=y+Math.imul(Te,Pe)|0,k=k+Math.imul(Te,Ke)|0;var mt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(mt>>>26)|0,mt&=67108863,m=Math.imul(X,fe),y=Math.imul(X,De),y=y+Math.imul(q,fe)|0,k=Math.imul(q,De),m=m+Math.imul(qe,K)|0,y=y+Math.imul(qe,re)|0,y=y+Math.imul(ct,K)|0,k=k+Math.imul(ct,re)|0,m=m+Math.imul(Oe,ne)|0,y=y+Math.imul(Oe,Ae)|0,y=y+Math.imul(Ye,ne)|0,k=k+Math.imul(Ye,Ae)|0,m=m+Math.imul(Me,Pe)|0,y=y+Math.imul(Me,Ke)|0,y=y+Math.imul(Ne,Pe)|0,k=k+Math.imul(Ne,Ke)|0;var wt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(wt>>>26)|0,wt&=67108863,m=Math.imul(X,K),y=Math.imul(X,re),y=y+Math.imul(q,K)|0,k=Math.imul(q,re),m=m+Math.imul(qe,ne)|0,y=y+Math.imul(qe,Ae)|0,y=y+Math.imul(ct,ne)|0,k=k+Math.imul(ct,Ae)|0,m=m+Math.imul(Oe,Pe)|0,y=y+Math.imul(Oe,Ke)|0,y=y+Math.imul(Ye,Pe)|0,k=k+Math.imul(Ye,Ke)|0;var lt=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(lt>>>26)|0,lt&=67108863,m=Math.imul(X,ne),y=Math.imul(X,Ae),y=y+Math.imul(q,ne)|0,k=Math.imul(q,Ae),m=m+Math.imul(qe,Pe)|0,y=y+Math.imul(qe,Ke)|0,y=y+Math.imul(ct,Pe)|0,k=k+Math.imul(ct,Ke)|0;var Le=(v+m|0)+((y&8191)<<13)|0;v=(k+(y>>>13)|0)+(Le>>>26)|0,Le&=67108863,m=Math.imul(X,Pe),y=Math.imul(X,Ke),y=y+Math.imul(q,Pe)|0,k=Math.imul(q,Ke);var $e=(v+m|0)+((y&8191)<<13)|0;return v=(k+(y>>>13)|0)+($e>>>26)|0,$e&=67108863,x[0]=nt,x[1]=Ge,x[2]=Nt,x[3]=gt,x[4]=Mt,x[5]=kt,x[6]=Ft,x[7]=Tt,x[8]=_t,x[9]=Et,x[10]=At,x[11]=dt,x[12]=bt,x[13]=ut,x[14]=mt,x[15]=wt,x[16]=lt,x[17]=Le,x[18]=$e,v!==0&&(x[19]=v,o.length++),o};Math.imul||(D=_);function R(E,d,p){p.negative=d.negative^E.negative,p.length=E.length+d.length;for(var o=0,l=0,S=0;S<p.length-1;S++){var x=l;l=0;for(var v=o&67108863,m=Math.min(S,d.length-1),y=Math.max(0,S-E.length+1);y<=m;y++){var k=S-y,w=E.words[k]|0,T=d.words[y]|0,ie=w*T,ve=ie&67108863;x=x+(ie/67108864|0)|0,ve=ve+v|0,v=ve&67108863,x=x+(ve>>>26)|0,l+=x>>>26,x&=67108863}p.words[S]=v,o=x,x=l}return o!==0?p.words[S]=o:p.length--,p.strip()}function A(E,d,p){var o=new I;return o.mulp(E,d,p)}n.prototype.mulTo=function(d,p){var o,l=this.length+d.length;return this.length===10&&d.length===10?o=D(this,d,p):l<63?o=_(this,d,p):l<1024?o=R(this,d,p):o=A(this,d,p),o};function I(E,d){this.x=E,this.y=d}I.prototype.makeRBT=function(d){for(var p=new Array(d),o=n.prototype._countBits(d)-1,l=0;l<d;l++)p[l]=this.revBin(l,o,d);return p},I.prototype.revBin=function(d,p,o){if(d===0||d===o-1)return d;for(var l=0,S=0;S<p;S++)l|=(d&1)<<p-S-1,d>>=1;return l},I.prototype.permute=function(d,p,o,l,S,x){for(var v=0;v<x;v++)l[v]=p[d[v]],S[v]=o[d[v]]},I.prototype.transform=function(d,p,o,l,S,x){this.permute(x,d,p,o,l,S);for(var v=1;v<S;v<<=1)for(var m=v<<1,y=Math.cos(2*Math.PI/m),k=Math.sin(2*Math.PI/m),w=0;w<S;w+=m)for(var T=y,ie=k,ve=0;ve<v;ve++){var ce=o[w+ve],C=l[w+ve],B=o[w+ve+v],ee=l[w+ve+v],z=T*B-ie*ee;ee=T*ee+ie*B,B=z,o[w+ve]=ce+B,l[w+ve]=C+ee,o[w+ve+v]=ce-B,l[w+ve+v]=C-ee,ve!==m&&(z=y*T-k*ie,ie=y*ie+k*T,T=z)}},I.prototype.guessLen13b=function(d,p){var o=Math.max(p,d)|1,l=o&1,S=0;for(o=o/2|0;o;o=o>>>1)S++;return 1<<S+1+l},I.prototype.conjugate=function(d,p,o){if(!(o<=1))for(var l=0;l<o/2;l++){var S=d[l];d[l]=d[o-l-1],d[o-l-1]=S,S=p[l],p[l]=-p[o-l-1],p[o-l-1]=-S}},I.prototype.normalize13b=function(d,p){for(var o=0,l=0;l<p/2;l++){var S=Math.round(d[2*l+1]/p)*8192+Math.round(d[2*l]/p)+o;d[l]=S&67108863,S<67108864?o=0:o=S/67108864|0}return d},I.prototype.convert13b=function(d,p,o,l){for(var S=0,x=0;x<p;x++)S=S+(d[x]|0),o[2*x]=S&8191,S=S>>>13,o[2*x+1]=S&8191,S=S>>>13;for(x=2*p;x<l;++x)o[x]=0;r(S===0),r((S&-8192)===0)},I.prototype.stub=function(d){for(var p=new Array(d),o=0;o<d;o++)p[o]=0;return p},I.prototype.mulp=function(d,p,o){var l=2*this.guessLen13b(d.length,p.length),S=this.makeRBT(l),x=this.stub(l),v=new Array(l),m=new Array(l),y=new Array(l),k=new Array(l),w=new Array(l),T=new Array(l),ie=o.words;ie.length=l,this.convert13b(d.words,d.length,v,l),this.convert13b(p.words,p.length,k,l),this.transform(v,x,m,y,l,S),this.transform(k,x,w,T,l,S);for(var ve=0;ve<l;ve++){var ce=m[ve]*w[ve]-y[ve]*T[ve];y[ve]=m[ve]*T[ve]+y[ve]*w[ve],m[ve]=ce}return this.conjugate(m,y,l),this.transform(m,y,ie,x,l,S),this.conjugate(ie,x,l),this.normalize13b(ie,l),o.negative=d.negative^p.negative,o.length=d.length+p.length,o.strip()},n.prototype.mul=function(d){var p=new n(null);return p.words=new Array(this.length+d.length),this.mulTo(d,p)},n.prototype.mulf=function(d){var p=new n(null);return p.words=new Array(this.length+d.length),A(this,d,p)},n.prototype.imul=function(d){return this.clone().mulTo(d,this)},n.prototype.imuln=function(d){r(typeof d=="number"),r(d<67108864);for(var p=0,o=0;o<this.length;o++){var l=(this.words[o]|0)*d,S=(l&67108863)+(p&67108863);p>>=26,p+=l/67108864|0,p+=S>>>26,this.words[o]=S&67108863}return p!==0&&(this.words[o]=p,this.length++),this.length=d===0?1:this.length,this},n.prototype.muln=function(d){return this.clone().imuln(d)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(d){var p=M(d);if(p.length===0)return new n(1);for(var o=this,l=0;l<p.length&&p[l]===0;l++,o=o.sqr());if(++l<p.length)for(var S=o.sqr();l<p.length;l++,S=S.sqr())p[l]!==0&&(o=o.mul(S));return o},n.prototype.iushln=function(d){r(typeof d=="number"&&d>=0);var p=d%26,o=(d-p)/26,l=67108863>>>26-p<<26-p,S;if(p!==0){var x=0;for(S=0;S<this.length;S++){var v=this.words[S]&l,m=(this.words[S]|0)-v<<p;this.words[S]=m|x,x=v>>>26-p}x&&(this.words[S]=x,this.length++)}if(o!==0){for(S=this.length-1;S>=0;S--)this.words[S+o]=this.words[S];for(S=0;S<o;S++)this.words[S]=0;this.length+=o}return this.strip()},n.prototype.ishln=function(d){return r(this.negative===0),this.iushln(d)},n.prototype.iushrn=function(d,p,o){r(typeof d=="number"&&d>=0);var l;p?l=(p-p%26)/26:l=0;var S=d%26,x=Math.min((d-S)/26,this.length),v=67108863^67108863>>>S<<S,m=o;if(l-=x,l=Math.max(0,l),m){for(var y=0;y<x;y++)m.words[y]=this.words[y];m.length=x}if(x!==0)if(this.length>x)for(this.length-=x,y=0;y<this.length;y++)this.words[y]=this.words[y+x];else this.words[0]=0,this.length=1;var k=0;for(y=this.length-1;y>=0&&(k!==0||y>=l);y--){var w=this.words[y]|0;this.words[y]=k<<26-S|w>>>S,k=w&v}return m&&k!==0&&(m.words[m.length++]=k),this.length===0&&(this.words[0]=0,this.length=1),this.strip()},n.prototype.ishrn=function(d,p,o){return r(this.negative===0),this.iushrn(d,p,o)},n.prototype.shln=function(d){return this.clone().ishln(d)},n.prototype.ushln=function(d){return this.clone().iushln(d)},n.prototype.shrn=function(d){return this.clone().ishrn(d)},n.prototype.ushrn=function(d){return this.clone().iushrn(d)},n.prototype.testn=function(d){r(typeof d=="number"&&d>=0);var p=d%26,o=(d-p)/26,l=1<<p;if(this.length<=o)return!1;var S=this.words[o];return!!(S&l)},n.prototype.imaskn=function(d){r(typeof d=="number"&&d>=0);var p=d%26,o=(d-p)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=o)return this;if(p!==0&&o++,this.length=Math.min(o,this.length),p!==0){var l=67108863^67108863>>>p<<p;this.words[this.length-1]&=l}return this.strip()},n.prototype.maskn=function(d){return this.clone().imaskn(d)},n.prototype.iaddn=function(d){return r(typeof d=="number"),r(d<67108864),d<0?this.isubn(-d):this.negative!==0?this.length===1&&(this.words[0]|0)<d?(this.words[0]=d-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(d),this.negative=1,this):this._iaddn(d)},n.prototype._iaddn=function(d){this.words[0]+=d;for(var p=0;p<this.length&&this.words[p]>=67108864;p++)this.words[p]-=67108864,p===this.length-1?this.words[p+1]=1:this.words[p+1]++;return this.length=Math.max(this.length,p+1),this},n.prototype.isubn=function(d){if(r(typeof d=="number"),r(d<67108864),d<0)return this.iaddn(-d);if(this.negative!==0)return this.negative=0,this.iaddn(d),this.negative=1,this;if(this.words[0]-=d,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var p=0;p<this.length&&this.words[p]<0;p++)this.words[p]+=67108864,this.words[p+1]-=1;return this.strip()},n.prototype.addn=function(d){return this.clone().iaddn(d)},n.prototype.subn=function(d){return this.clone().isubn(d)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(d,p,o){var l=d.length+o,S;this._expand(l);var x,v=0;for(S=0;S<d.length;S++){x=(this.words[S+o]|0)+v;var m=(d.words[S]|0)*p;x-=m&67108863,v=(x>>26)-(m/67108864|0),this.words[S+o]=x&67108863}for(;S<this.length-o;S++)x=(this.words[S+o]|0)+v,v=x>>26,this.words[S+o]=x&67108863;if(v===0)return this.strip();for(r(v===-1),v=0,S=0;S<this.length;S++)x=-(this.words[S]|0)+v,v=x>>26,this.words[S]=x&67108863;return this.negative=1,this.strip()},n.prototype._wordDiv=function(d,p){var o=this.length-d.length,l=this.clone(),S=d,x=S.words[S.length-1]|0,v=this._countBits(x);o=26-v,o!==0&&(S=S.ushln(o),l.iushln(o),x=S.words[S.length-1]|0);var m=l.length-S.length,y;if(p!=="mod"){y=new n(null),y.length=m+1,y.words=new Array(y.length);for(var k=0;k<y.length;k++)y.words[k]=0}var w=l.clone()._ishlnsubmul(S,1,m);w.negative===0&&(l=w,y&&(y.words[m]=1));for(var T=m-1;T>=0;T--){var ie=(l.words[S.length+T]|0)*67108864+(l.words[S.length+T-1]|0);for(ie=Math.min(ie/x|0,67108863),l._ishlnsubmul(S,ie,T);l.negative!==0;)ie--,l.negative=0,l._ishlnsubmul(S,1,T),l.isZero()||(l.negative^=1);y&&(y.words[T]=ie)}return y&&y.strip(),l.strip(),p!=="div"&&o!==0&&l.iushrn(o),{div:y||null,mod:l}},n.prototype.divmod=function(d,p,o){if(r(!d.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var l,S,x;return this.negative!==0&&d.negative===0?(x=this.neg().divmod(d,p),p!=="mod"&&(l=x.div.neg()),p!=="div"&&(S=x.mod.neg(),o&&S.negative!==0&&S.iadd(d)),{div:l,mod:S}):this.negative===0&&d.negative!==0?(x=this.divmod(d.neg(),p),p!=="mod"&&(l=x.div.neg()),{div:l,mod:x.mod}):(this.negative&d.negative)!==0?(x=this.neg().divmod(d.neg(),p),p!=="div"&&(S=x.mod.neg(),o&&S.negative!==0&&S.isub(d)),{div:x.div,mod:S}):d.length>this.length||this.cmp(d)<0?{div:new n(0),mod:this}:d.length===1?p==="div"?{div:this.divn(d.words[0]),mod:null}:p==="mod"?{div:null,mod:new n(this.modn(d.words[0]))}:{div:this.divn(d.words[0]),mod:new n(this.modn(d.words[0]))}:this._wordDiv(d,p)},n.prototype.div=function(d){return this.divmod(d,"div",!1).div},n.prototype.mod=function(d){return this.divmod(d,"mod",!1).mod},n.prototype.umod=function(d){return this.divmod(d,"mod",!0).mod},n.prototype.divRound=function(d){var p=this.divmod(d);if(p.mod.isZero())return p.div;var o=p.div.negative!==0?p.mod.isub(d):p.mod,l=d.ushrn(1),S=d.andln(1),x=o.cmp(l);return x<0||S===1&&x===0?p.div:p.div.negative!==0?p.div.isubn(1):p.div.iaddn(1)},n.prototype.modn=function(d){r(d<=67108863);for(var p=(1<<26)%d,o=0,l=this.length-1;l>=0;l--)o=(p*o+(this.words[l]|0))%d;return o},n.prototype.idivn=function(d){r(d<=67108863);for(var p=0,o=this.length-1;o>=0;o--){var l=(this.words[o]|0)+p*67108864;this.words[o]=l/d|0,p=l%d}return this.strip()},n.prototype.divn=function(d){return this.clone().idivn(d)},n.prototype.egcd=function(d){r(d.negative===0),r(!d.isZero());var p=this,o=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var l=new n(1),S=new n(0),x=new n(0),v=new n(1),m=0;p.isEven()&&o.isEven();)p.iushrn(1),o.iushrn(1),++m;for(var y=o.clone(),k=p.clone();!p.isZero();){for(var w=0,T=1;(p.words[0]&T)===0&&w<26;++w,T<<=1);if(w>0)for(p.iushrn(w);w-- >0;)(l.isOdd()||S.isOdd())&&(l.iadd(y),S.isub(k)),l.iushrn(1),S.iushrn(1);for(var ie=0,ve=1;(o.words[0]&ve)===0&&ie<26;++ie,ve<<=1);if(ie>0)for(o.iushrn(ie);ie-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(y),v.isub(k)),x.iushrn(1),v.iushrn(1);p.cmp(o)>=0?(p.isub(o),l.isub(x),S.isub(v)):(o.isub(p),x.isub(l),v.isub(S))}return{a:x,b:v,gcd:o.iushln(m)}},n.prototype._invmp=function(d){r(d.negative===0),r(!d.isZero());var p=this,o=d.clone();p.negative!==0?p=p.umod(d):p=p.clone();for(var l=new n(1),S=new n(0),x=o.clone();p.cmpn(1)>0&&o.cmpn(1)>0;){for(var v=0,m=1;(p.words[0]&m)===0&&v<26;++v,m<<=1);if(v>0)for(p.iushrn(v);v-- >0;)l.isOdd()&&l.iadd(x),l.iushrn(1);for(var y=0,k=1;(o.words[0]&k)===0&&y<26;++y,k<<=1);if(y>0)for(o.iushrn(y);y-- >0;)S.isOdd()&&S.iadd(x),S.iushrn(1);p.cmp(o)>=0?(p.isub(o),l.isub(S)):(o.isub(p),S.isub(l))}var w;return p.cmpn(1)===0?w=l:w=S,w.cmpn(0)<0&&w.iadd(d),w},n.prototype.gcd=function(d){if(this.isZero())return d.abs();if(d.isZero())return this.abs();var p=this.clone(),o=d.clone();p.negative=0,o.negative=0;for(var l=0;p.isEven()&&o.isEven();l++)p.iushrn(1),o.iushrn(1);do{for(;p.isEven();)p.iushrn(1);for(;o.isEven();)o.iushrn(1);var S=p.cmp(o);if(S<0){var x=p;p=o,o=x}else if(S===0||o.cmpn(1)===0)break;p.isub(o)}while(!0);return o.iushln(l)},n.prototype.invm=function(d){return this.egcd(d).a.umod(d)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(d){return this.words[0]&d},n.prototype.bincn=function(d){r(typeof d=="number");var p=d%26,o=(d-p)/26,l=1<<p;if(this.length<=o)return this._expand(o+1),this.words[o]|=l,this;for(var S=l,x=o;S!==0&&x<this.length;x++){var v=this.words[x]|0;v+=S,S=v>>>26,v&=67108863,this.words[x]=v}return S!==0&&(this.words[x]=S,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(d){var p=d<0;if(this.negative!==0&&!p)return-1;if(this.negative===0&&p)return 1;this.strip();var o;if(this.length>1)o=1;else{p&&(d=-d),r(d<=67108863,"Number is too big");var l=this.words[0]|0;o=l===d?0:l<d?-1:1}return this.negative!==0?-o|0:o},n.prototype.cmp=function(d){if(this.negative!==0&&d.negative===0)return-1;if(this.negative===0&&d.negative!==0)return 1;var p=this.ucmp(d);return this.negative!==0?-p|0:p},n.prototype.ucmp=function(d){if(this.length>d.length)return 1;if(this.length<d.length)return-1;for(var p=0,o=this.length-1;o>=0;o--){var l=this.words[o]|0,S=d.words[o]|0;if(l!==S){l<S?p=-1:l>S&&(p=1);break}}return p},n.prototype.gtn=function(d){return this.cmpn(d)===1},n.prototype.gt=function(d){return this.cmp(d)===1},n.prototype.gten=function(d){return this.cmpn(d)>=0},n.prototype.gte=function(d){return this.cmp(d)>=0},n.prototype.ltn=function(d){return this.cmpn(d)===-1},n.prototype.lt=function(d){return this.cmp(d)===-1},n.prototype.lten=function(d){return this.cmpn(d)<=0},n.prototype.lte=function(d){return this.cmp(d)<=0},n.prototype.eqn=function(d){return this.cmpn(d)===0},n.prototype.eq=function(d){return this.cmp(d)===0},n.red=function(d){return new oe(d)},n.prototype.toRed=function(d){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),d.convertTo(this)._forceRed(d)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(d){return this.red=d,this},n.prototype.forceRed=function(d){return r(!this.red,"Already a number in reduction context"),this._forceRed(d)},n.prototype.redAdd=function(d){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,d)},n.prototype.redIAdd=function(d){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,d)},n.prototype.redSub=function(d){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,d)},n.prototype.redISub=function(d){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,d)},n.prototype.redShl=function(d){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,d)},n.prototype.redMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.mul(this,d)},n.prototype.redIMul=function(d){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,d),this.red.imul(this,d)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(d){return r(this.red&&!d.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,d)};var N={k256:null,p224:null,p192:null,p25519:null};function $(E,d){this.name=E,this.p=new n(d,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}$.prototype._tmp=function(){var d=new n(null);return d.words=new Array(Math.ceil(this.n/13)),d},$.prototype.ireduce=function(d){var p=d,o;do this.split(p,this.tmp),p=this.imulK(p),p=p.iadd(this.tmp),o=p.bitLength();while(o>this.n);var l=o<this.n?-1:p.ucmp(this.p);return l===0?(p.words[0]=0,p.length=1):l>0?p.isub(this.p):p.strip!==void 0?p.strip():p._strip(),p},$.prototype.split=function(d,p){d.iushrn(this.n,0,p)},$.prototype.imulK=function(d){return d.imul(this.k)};function V(){$.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(V,$),V.prototype.split=function(d,p){for(var o=4194303,l=Math.min(d.length,9),S=0;S<l;S++)p.words[S]=d.words[S];if(p.length=l,d.length<=9){d.words[0]=0,d.length=1;return}var x=d.words[9];for(p.words[p.length++]=x&o,S=10;S<d.length;S++){var v=d.words[S]|0;d.words[S-10]=(v&o)<<4|x>>>22,x=v}x>>>=22,d.words[S-10]=x,x===0&&d.length>10?d.length-=10:d.length-=9},V.prototype.imulK=function(d){d.words[d.length]=0,d.words[d.length+1]=0,d.length+=2;for(var p=0,o=0;o<d.length;o++){var l=d.words[o]|0;p+=l*977,d.words[o]=p&67108863,p=l*64+(p/67108864|0)}return d.words[d.length-1]===0&&(d.length--,d.words[d.length-1]===0&&d.length--),d};function U(){$.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(U,$);function J(){$.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(J,$);function Y(){$.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(Y,$),Y.prototype.imulK=function(d){for(var p=0,o=0;o<d.length;o++){var l=(d.words[o]|0)*19+p,S=l&67108863;l>>>=26,d.words[o]=S,p=l}return p!==0&&(d.words[d.length++]=p),d},n._prime=function(d){if(N[d])return N[d];var p;if(d==="k256")p=new V;else if(d==="p224")p=new U;else if(d==="p192")p=new J;else if(d==="p25519")p=new Y;else throw new Error("Unknown prime "+d);return N[d]=p,p};function oe(E){if(typeof E=="string"){var d=n._prime(E);this.m=d.p,this.prime=d}else r(E.gtn(1),"modulus must be greater than 1"),this.m=E,this.prime=null}oe.prototype._verify1=function(d){r(d.negative===0,"red works only with positives"),r(d.red,"red works only with red numbers")},oe.prototype._verify2=function(d,p){r((d.negative|p.negative)===0,"red works only with positives"),r(d.red&&d.red===p.red,"red works only with red numbers")},oe.prototype.imod=function(d){return this.prime?this.prime.ireduce(d)._forceRed(this):d.umod(this.m)._forceRed(this)},oe.prototype.neg=function(d){return d.isZero()?d.clone():this.m.sub(d)._forceRed(this)},oe.prototype.add=function(d,p){this._verify2(d,p);var o=d.add(p);return o.cmp(this.m)>=0&&o.isub(this.m),o._forceRed(this)},oe.prototype.iadd=function(d,p){this._verify2(d,p);var o=d.iadd(p);return o.cmp(this.m)>=0&&o.isub(this.m),o},oe.prototype.sub=function(d,p){this._verify2(d,p);var o=d.sub(p);return o.cmpn(0)<0&&o.iadd(this.m),o._forceRed(this)},oe.prototype.isub=function(d,p){this._verify2(d,p);var o=d.isub(p);return o.cmpn(0)<0&&o.iadd(this.m),o},oe.prototype.shl=function(d,p){return this._verify1(d),this.imod(d.ushln(p))},oe.prototype.imul=function(d,p){return this._verify2(d,p),this.imod(d.imul(p))},oe.prototype.mul=function(d,p){return this._verify2(d,p),this.imod(d.mul(p))},oe.prototype.isqr=function(d){return this.imul(d,d.clone())},oe.prototype.sqr=function(d){return this.mul(d,d)},oe.prototype.sqrt=function(d){if(d.isZero())return d.clone();var p=this.m.andln(3);if(r(p%2===1),p===3){var o=this.m.add(new n(1)).iushrn(2);return this.pow(d,o)}for(var l=this.m.subn(1),S=0;!l.isZero()&&l.andln(1)===0;)S++,l.iushrn(1);r(!l.isZero());var x=new n(1).toRed(this),v=x.redNeg(),m=this.m.subn(1).iushrn(1),y=this.m.bitLength();for(y=new n(2*y*y).toRed(this);this.pow(y,m).cmp(v)!==0;)y.redIAdd(v);for(var k=this.pow(y,l),w=this.pow(d,l.addn(1).iushrn(1)),T=this.pow(d,l),ie=S;T.cmp(x)!==0;){for(var ve=T,ce=0;ve.cmp(x)!==0;ce++)ve=ve.redSqr();r(ce<ie);var C=this.pow(k,new n(1).iushln(ie-ce-1));w=w.redMul(C),k=C.redSqr(),T=T.redMul(k),ie=ce}return w},oe.prototype.invm=function(d){var p=d._invmp(this.m);return p.negative!==0?(p.negative=0,this.imod(p).redNeg()):this.imod(p)},oe.prototype.pow=function(d,p){if(p.isZero())return new n(1).toRed(this);if(p.cmpn(1)===0)return d.clone();var o=4,l=new Array(1<<o);l[0]=new n(1).toRed(this),l[1]=d;for(var S=2;S<l.length;S++)l[S]=this.mul(l[S-1],d);var x=l[0],v=0,m=0,y=p.bitLength()%26;for(y===0&&(y=26),S=p.length-1;S>=0;S--){for(var k=p.words[S],w=y-1;w>=0;w--){var T=k>>w&1;if(x!==l[0]&&(x=this.sqr(x)),T===0&&v===0){m=0;continue}v<<=1,v|=T,m++,!(m!==o&&(S!==0||w!==0))&&(x=this.mul(x,l[v]),m=0,v=0)}y=26}return x},oe.prototype.convertTo=function(d){var p=d.umod(this.m);return p===d?p.clone():p},oe.prototype.convertFrom=function(d){var p=d.clone();return p.red=null,p},n.mont=function(d){return new G(d)};function G(E){oe.call(this,E),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(G,oe),G.prototype.convertTo=function(d){return this.imod(d.ushln(this.shift))},G.prototype.convertFrom=function(d){var p=this.imod(d.mul(this.rinv));return p.red=null,p},G.prototype.imul=function(d,p){if(d.isZero()||p.isZero())return d.words[0]=0,d.length=1,d;var o=d.imul(p),l=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=o.isub(l).iushrn(this.shift),x=S;return S.cmp(this.m)>=0?x=S.isub(this.m):S.cmpn(0)<0&&(x=S.iadd(this.m)),x._forceRed(this)},G.prototype.mul=function(d,p){if(d.isZero()||p.isZero())return new n(0)._forceRed(this);var o=d.mul(p),l=o.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),S=o.isub(l).iushrn(this.shift),x=S;return S.cmp(this.m)>=0?x=S.isub(this.m):S.cmpn(0)<0&&(x=S.iadd(this.m)),x._forceRed(this)},G.prototype.invm=function(d){var p=this.imod(d._invmp(this.m).mul(this.r2));return p._forceRed(this)}})(i,nS)})(hf)),hf.exports}var Yl={},Xv;function Wb(){return Xv||(Xv=1,(function(i){var e=i;function t(n,s){if(Array.isArray(n))return n.slice();if(!n)return[];var c=[];if(typeof n!="string"){for(var u=0;u<n.length;u++)c[u]=n[u]|0;return c}if(s==="hex"){n=n.replace(/[^a-z0-9]+/ig,""),n.length%2!==0&&(n="0"+n);for(var u=0;u<n.length;u+=2)c.push(parseInt(n[u]+n[u+1],16))}else for(var u=0;u<n.length;u++){var h=n.charCodeAt(u),f=h>>8,g=h&255;f?c.push(f,g):c.push(g)}return c}e.toArray=t;function r(n){return n.length===1?"0"+n:n}e.zero2=r;function a(n){for(var s="",c=0;c<n.length;c++)s+=r(n[c].toString(16));return s}e.toHex=a,e.encode=function(s,c){return c==="hex"?a(s):s}})(Yl)),Yl}var Zv;function Xr(){return Zv||(Zv=1,(function(i){var e=i,t=Zn(),r=Yr(),a=Wb();e.assert=r,e.toArray=a.toArray,e.zero2=a.zero2,e.toHex=a.toHex,e.encode=a.encode;function n(f,g,b){var M=new Array(Math.max(f.bitLength(),b)+1),_;for(_=0;_<M.length;_+=1)M[_]=0;var D=1<<g+1,R=f.clone();for(_=0;_<M.length;_++){var A,I=R.andln(D-1);R.isOdd()?(I>(D>>1)-1?A=(D>>1)-I:A=I,R.isubn(A)):A=0,M[_]=A,R.iushrn(1)}return M}e.getNAF=n;function s(f,g){var b=[[],[]];f=f.clone(),g=g.clone();for(var M=0,_=0,D;f.cmpn(-M)>0||g.cmpn(-_)>0;){var R=f.andln(3)+M&3,A=g.andln(3)+_&3;R===3&&(R=-1),A===3&&(A=-1);var I;(R&1)===0?I=0:(D=f.andln(7)+M&7,(D===3||D===5)&&A===2?I=-R:I=R),b[0].push(I);var N;(A&1)===0?N=0:(D=g.andln(7)+_&7,(D===3||D===5)&&R===2?N=-A:N=A),b[1].push(N),2*M===I+1&&(M=1-M),2*_===N+1&&(_=1-_),f.iushrn(1),g.iushrn(1)}return b}e.getJSF=s;function c(f,g,b){var M="_"+g;f.prototype[g]=function(){return this[M]!==void 0?this[M]:this[M]=b.call(this)}}e.cachedProperty=c;function u(f){return typeof f=="string"?e.toArray(f,"hex"):f}e.parseBytes=u;function h(f){return new t(f,"hex","le")}e.intFromLE=h})(Jl)),Jl}var Xl={},Zl,Qv;function zf(){if(Qv)return Zl;Qv=1;var i=Zn(),e=Xr(),t=e.getNAF,r=e.getJSF,a=e.assert;function n(c,u){this.type=c,this.p=new i(u.p,16),this.red=u.prime?i.red(u.prime):i.mont(this.p),this.zero=new i(0).toRed(this.red),this.one=new i(1).toRed(this.red),this.two=new i(2).toRed(this.red),this.n=u.n&&new i(u.n,16),this.g=u.g&&this.pointFromJSON(u.g,u.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var h=this.n&&this.p.div(this.n);!h||h.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}Zl=n,n.prototype.point=function(){throw new Error("Not implemented")},n.prototype.validate=function(){throw new Error("Not implemented")},n.prototype._fixedNafMul=function(u,h){a(u.precomputed);var f=u._getDoubles(),g=t(h,1,this._bitLength),b=(1<<f.step+1)-(f.step%2===0?2:1);b/=3;var M=[],_,D;for(_=0;_<g.length;_+=f.step){D=0;for(var R=_+f.step-1;R>=_;R--)D=(D<<1)+g[R];M.push(D)}for(var A=this.jpoint(null,null,null),I=this.jpoint(null,null,null),N=b;N>0;N--){for(_=0;_<M.length;_++)D=M[_],D===N?I=I.mixedAdd(f.points[_]):D===-N&&(I=I.mixedAdd(f.points[_].neg()));A=A.add(I)}return A.toP()},n.prototype._wnafMul=function(u,h){var f=4,g=u._getNAFPoints(f);f=g.wnd;for(var b=g.points,M=t(h,f,this._bitLength),_=this.jpoint(null,null,null),D=M.length-1;D>=0;D--){for(var R=0;D>=0&&M[D]===0;D--)R++;if(D>=0&&R++,_=_.dblp(R),D<0)break;var A=M[D];a(A!==0),u.type==="affine"?A>0?_=_.mixedAdd(b[A-1>>1]):_=_.mixedAdd(b[-A-1>>1].neg()):A>0?_=_.add(b[A-1>>1]):_=_.add(b[-A-1>>1].neg())}return u.type==="affine"?_.toP():_},n.prototype._wnafMulAdd=function(u,h,f,g,b){var M=this._wnafT1,_=this._wnafT2,D=this._wnafT3,R=0,A,I,N;for(A=0;A<g;A++){N=h[A];var $=N._getNAFPoints(u);M[A]=$.wnd,_[A]=$.points}for(A=g-1;A>=1;A-=2){var V=A-1,U=A;if(M[V]!==1||M[U]!==1){D[V]=t(f[V],M[V],this._bitLength),D[U]=t(f[U],M[U],this._bitLength),R=Math.max(D[V].length,R),R=Math.max(D[U].length,R);continue}var J=[h[V],null,null,h[U]];h[V].y.cmp(h[U].y)===0?(J[1]=h[V].add(h[U]),J[2]=h[V].toJ().mixedAdd(h[U].neg())):h[V].y.cmp(h[U].y.redNeg())===0?(J[1]=h[V].toJ().mixedAdd(h[U]),J[2]=h[V].add(h[U].neg())):(J[1]=h[V].toJ().mixedAdd(h[U]),J[2]=h[V].toJ().mixedAdd(h[U].neg()));var Y=[-3,-1,-5,-7,0,7,5,1,3],oe=r(f[V],f[U]);for(R=Math.max(oe[0].length,R),D[V]=new Array(R),D[U]=new Array(R),I=0;I<R;I++){var G=oe[0][I]|0,E=oe[1][I]|0;D[V][I]=Y[(G+1)*3+(E+1)],D[U][I]=0,_[V]=J}}var d=this.jpoint(null,null,null),p=this._wnafT4;for(A=R;A>=0;A--){for(var o=0;A>=0;){var l=!0;for(I=0;I<g;I++)p[I]=D[I][A]|0,p[I]!==0&&(l=!1);if(!l)break;o++,A--}if(A>=0&&o++,d=d.dblp(o),A<0)break;for(I=0;I<g;I++){var S=p[I];S!==0&&(S>0?N=_[I][S-1>>1]:S<0&&(N=_[I][-S-1>>1].neg()),N.type==="affine"?d=d.mixedAdd(N):d=d.add(N))}}for(A=0;A<g;A++)_[A]=null;return b?d:d.toP()};function s(c,u){this.curve=c,this.type=u,this.precomputed=null}return n.BasePoint=s,s.prototype.eq=function(){throw new Error("Not implemented")},s.prototype.validate=function(){return this.curve.validate(this)},n.prototype.decodePoint=function(u,h){u=e.toArray(u,h);var f=this.p.byteLength();if((u[0]===4||u[0]===6||u[0]===7)&&u.length-1===2*f){u[0]===6?a(u[u.length-1]%2===0):u[0]===7&&a(u[u.length-1]%2===1);var g=this.point(u.slice(1,1+f),u.slice(1+f,1+2*f));return g}else if((u[0]===2||u[0]===3)&&u.length-1===f)return this.pointFromX(u.slice(1,1+f),u[0]===3);throw new Error("Unknown point format")},s.prototype.encodeCompressed=function(u){return this.encode(u,!0)},s.prototype._encode=function(u){var h=this.curve.p.byteLength(),f=this.getX().toArray("be",h);return u?[this.getY().isEven()?2:3].concat(f):[4].concat(f,this.getY().toArray("be",h))},s.prototype.encode=function(u,h){return e.encode(this._encode(h),u)},s.prototype.precompute=function(u){if(this.precomputed)return this;var h={doubles:null,naf:null,beta:null};return h.naf=this._getNAFPoints(8),h.doubles=this._getDoubles(4,u),h.beta=this._getBeta(),this.precomputed=h,this},s.prototype._hasDoubles=function(u){if(!this.precomputed)return!1;var h=this.precomputed.doubles;return h?h.points.length>=Math.ceil((u.bitLength()+1)/h.step):!1},s.prototype._getDoubles=function(u,h){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var f=[this],g=this,b=0;b<h;b+=u){for(var M=0;M<u;M++)g=g.dbl();f.push(g)}return{step:u,points:f}},s.prototype._getNAFPoints=function(u){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var h=[this],f=(1<<u)-1,g=f===1?null:this.dbl(),b=1;b<f;b++)h[b]=h[b-1].add(g);return{wnd:u,points:h}},s.prototype._getBeta=function(){return null},s.prototype.dblp=function(u){for(var h=this,f=0;f<u;f++)h=h.dbl();return h},Zl}var Ql,ey;function iS(){if(ey)return Ql;ey=1;var i=Xr(),e=Zn(),t=Ut(),r=zf(),a=i.assert;function n(u){r.call(this,"short",u),this.a=new e(u.a,16).toRed(this.red),this.b=new e(u.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(u),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}t(n,r),Ql=n,n.prototype._getEndomorphism=function(h){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var f,g;if(h.beta)f=new e(h.beta,16).toRed(this.red);else{var b=this._getEndoRoots(this.p);f=b[0].cmp(b[1])<0?b[0]:b[1],f=f.toRed(this.red)}if(h.lambda)g=new e(h.lambda,16);else{var M=this._getEndoRoots(this.n);this.g.mul(M[0]).x.cmp(this.g.x.redMul(f))===0?g=M[0]:(g=M[1],a(this.g.mul(g).x.cmp(this.g.x.redMul(f))===0))}var _;return h.basis?_=h.basis.map(function(D){return{a:new e(D.a,16),b:new e(D.b,16)}}):_=this._getEndoBasis(g),{beta:f,lambda:g,basis:_}}},n.prototype._getEndoRoots=function(h){var f=h===this.p?this.red:e.mont(h),g=new e(2).toRed(f).redInvm(),b=g.redNeg(),M=new e(3).toRed(f).redNeg().redSqrt().redMul(g),_=b.redAdd(M).fromRed(),D=b.redSub(M).fromRed();return[_,D]},n.prototype._getEndoBasis=function(h){for(var f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),g=h,b=this.n.clone(),M=new e(1),_=new e(0),D=new e(0),R=new e(1),A,I,N,$,V,U,J,Y=0,oe,G;g.cmpn(0)!==0;){var E=b.div(g);oe=b.sub(E.mul(g)),G=D.sub(E.mul(M));var d=R.sub(E.mul(_));if(!N&&oe.cmp(f)<0)A=J.neg(),I=M,N=oe.neg(),$=G;else if(N&&++Y===2)break;J=oe,b=g,g=oe,D=M,M=G,R=_,_=d}V=oe.neg(),U=G;var p=N.sqr().add($.sqr()),o=V.sqr().add(U.sqr());return o.cmp(p)>=0&&(V=A,U=I),N.negative&&(N=N.neg(),$=$.neg()),V.negative&&(V=V.neg(),U=U.neg()),[{a:N,b:$},{a:V,b:U}]},n.prototype._endoSplit=function(h){var f=this.endo.basis,g=f[0],b=f[1],M=b.b.mul(h).divRound(this.n),_=g.b.neg().mul(h).divRound(this.n),D=M.mul(g.a),R=_.mul(b.a),A=M.mul(g.b),I=_.mul(b.b),N=h.sub(D).sub(R),$=A.add(I).neg();return{k1:N,k2:$}},n.prototype.pointFromX=function(h,f){h=new e(h,16),h.red||(h=h.toRed(this.red));var g=h.redSqr().redMul(h).redIAdd(h.redMul(this.a)).redIAdd(this.b),b=g.redSqrt();if(b.redSqr().redSub(g).cmp(this.zero)!==0)throw new Error("invalid point");var M=b.fromRed().isOdd();return(f&&!M||!f&&M)&&(b=b.redNeg()),this.point(h,b)},n.prototype.validate=function(h){if(h.inf)return!0;var f=h.x,g=h.y,b=this.a.redMul(f),M=f.redSqr().redMul(f).redIAdd(b).redIAdd(this.b);return g.redSqr().redISub(M).cmpn(0)===0},n.prototype._endoWnafMulAdd=function(h,f,g){for(var b=this._endoWnafT1,M=this._endoWnafT2,_=0;_<h.length;_++){var D=this._endoSplit(f[_]),R=h[_],A=R._getBeta();D.k1.negative&&(D.k1.ineg(),R=R.neg(!0)),D.k2.negative&&(D.k2.ineg(),A=A.neg(!0)),b[_*2]=R,b[_*2+1]=A,M[_*2]=D.k1,M[_*2+1]=D.k2}for(var I=this._wnafMulAdd(1,b,M,_*2,g),N=0;N<_*2;N++)b[N]=null,M[N]=null;return I};function s(u,h,f,g){r.BasePoint.call(this,u,"affine"),h===null&&f===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new e(h,16),this.y=new e(f,16),g&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}t(s,r.BasePoint),n.prototype.point=function(h,f,g){return new s(this,h,f,g)},n.prototype.pointFromJSON=function(h,f){return s.fromJSON(this,h,f)},s.prototype._getBeta=function(){if(this.curve.endo){var h=this.precomputed;if(h&&h.beta)return h.beta;var f=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(h){var g=this.curve,b=function(M){return g.point(M.x.redMul(g.endo.beta),M.y)};h.beta=f,f.precomputed={beta:null,naf:h.naf&&{wnd:h.naf.wnd,points:h.naf.points.map(b)},doubles:h.doubles&&{step:h.doubles.step,points:h.doubles.points.map(b)}}}return f}},s.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},s.fromJSON=function(h,f,g){typeof f=="string"&&(f=JSON.parse(f));var b=h.point(f[0],f[1],g);if(!f[2])return b;function M(D){return h.point(D[0],D[1],g)}var _=f[2];return b.precomputed={beta:null,doubles:_.doubles&&{step:_.doubles.step,points:[b].concat(_.doubles.points.map(M))},naf:_.naf&&{wnd:_.naf.wnd,points:[b].concat(_.naf.points.map(M))}},b},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.inf},s.prototype.add=function(h){if(this.inf)return h;if(h.inf)return this;if(this.eq(h))return this.dbl();if(this.neg().eq(h))return this.curve.point(null,null);if(this.x.cmp(h.x)===0)return this.curve.point(null,null);var f=this.y.redSub(h.y);f.cmpn(0)!==0&&(f=f.redMul(this.x.redSub(h.x).redInvm()));var g=f.redSqr().redISub(this.x).redISub(h.x),b=f.redMul(this.x.redSub(g)).redISub(this.y);return this.curve.point(g,b)},s.prototype.dbl=function(){if(this.inf)return this;var h=this.y.redAdd(this.y);if(h.cmpn(0)===0)return this.curve.point(null,null);var f=this.curve.a,g=this.x.redSqr(),b=h.redInvm(),M=g.redAdd(g).redIAdd(g).redIAdd(f).redMul(b),_=M.redSqr().redISub(this.x.redAdd(this.x)),D=M.redMul(this.x.redSub(_)).redISub(this.y);return this.curve.point(_,D)},s.prototype.getX=function(){return this.x.fromRed()},s.prototype.getY=function(){return this.y.fromRed()},s.prototype.mul=function(h){return h=new e(h,16),this.isInfinity()?this:this._hasDoubles(h)?this.curve._fixedNafMul(this,h):this.curve.endo?this.curve._endoWnafMulAdd([this],[h]):this.curve._wnafMul(this,h)},s.prototype.mulAdd=function(h,f,g){var b=[this,f],M=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(b,M):this.curve._wnafMulAdd(1,b,M,2)},s.prototype.jmulAdd=function(h,f,g){var b=[this,f],M=[h,g];return this.curve.endo?this.curve._endoWnafMulAdd(b,M,!0):this.curve._wnafMulAdd(1,b,M,2,!0)},s.prototype.eq=function(h){return this===h||this.inf===h.inf&&(this.inf||this.x.cmp(h.x)===0&&this.y.cmp(h.y)===0)},s.prototype.neg=function(h){if(this.inf)return this;var f=this.curve.point(this.x,this.y.redNeg());if(h&&this.precomputed){var g=this.precomputed,b=function(M){return M.neg()};f.precomputed={naf:g.naf&&{wnd:g.naf.wnd,points:g.naf.points.map(b)},doubles:g.doubles&&{step:g.doubles.step,points:g.doubles.points.map(b)}}}return f},s.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var h=this.curve.jpoint(this.x,this.y,this.curve.one);return h};function c(u,h,f,g){r.BasePoint.call(this,u,"jacobian"),h===null&&f===null&&g===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new e(0)):(this.x=new e(h,16),this.y=new e(f,16),this.z=new e(g,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}return t(c,r.BasePoint),n.prototype.jpoint=function(h,f,g){return new c(this,h,f,g)},c.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var h=this.z.redInvm(),f=h.redSqr(),g=this.x.redMul(f),b=this.y.redMul(f).redMul(h);return this.curve.point(g,b)},c.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},c.prototype.add=function(h){if(this.isInfinity())return h;if(h.isInfinity())return this;var f=h.z.redSqr(),g=this.z.redSqr(),b=this.x.redMul(f),M=h.x.redMul(g),_=this.y.redMul(f.redMul(h.z)),D=h.y.redMul(g.redMul(this.z)),R=b.redSub(M),A=_.redSub(D);if(R.cmpn(0)===0)return A.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var I=R.redSqr(),N=I.redMul(R),$=b.redMul(I),V=A.redSqr().redIAdd(N).redISub($).redISub($),U=A.redMul($.redISub(V)).redISub(_.redMul(N)),J=this.z.redMul(h.z).redMul(R);return this.curve.jpoint(V,U,J)},c.prototype.mixedAdd=function(h){if(this.isInfinity())return h.toJ();if(h.isInfinity())return this;var f=this.z.redSqr(),g=this.x,b=h.x.redMul(f),M=this.y,_=h.y.redMul(f).redMul(this.z),D=g.redSub(b),R=M.redSub(_);if(D.cmpn(0)===0)return R.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var A=D.redSqr(),I=A.redMul(D),N=g.redMul(A),$=R.redSqr().redIAdd(I).redISub(N).redISub(N),V=R.redMul(N.redISub($)).redISub(M.redMul(I)),U=this.z.redMul(D);return this.curve.jpoint($,V,U)},c.prototype.dblp=function(h){if(h===0)return this;if(this.isInfinity())return this;if(!h)return this.dbl();var f;if(this.curve.zeroA||this.curve.threeA){var g=this;for(f=0;f<h;f++)g=g.dbl();return g}var b=this.curve.a,M=this.curve.tinv,_=this.x,D=this.y,R=this.z,A=R.redSqr().redSqr(),I=D.redAdd(D);for(f=0;f<h;f++){var N=_.redSqr(),$=I.redSqr(),V=$.redSqr(),U=N.redAdd(N).redIAdd(N).redIAdd(b.redMul(A)),J=_.redMul($),Y=U.redSqr().redISub(J.redAdd(J)),oe=J.redISub(Y),G=U.redMul(oe);G=G.redIAdd(G).redISub(V);var E=I.redMul(R);f+1<h&&(A=A.redMul(V)),_=Y,R=E,I=G}return this.curve.jpoint(_,I.redMul(M),R)},c.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},c.prototype._zeroDbl=function(){var h,f,g;if(this.zOne){var b=this.x.redSqr(),M=this.y.redSqr(),_=M.redSqr(),D=this.x.redAdd(M).redSqr().redISub(b).redISub(_);D=D.redIAdd(D);var R=b.redAdd(b).redIAdd(b),A=R.redSqr().redISub(D).redISub(D),I=_.redIAdd(_);I=I.redIAdd(I),I=I.redIAdd(I),h=A,f=R.redMul(D.redISub(A)).redISub(I),g=this.y.redAdd(this.y)}else{var N=this.x.redSqr(),$=this.y.redSqr(),V=$.redSqr(),U=this.x.redAdd($).redSqr().redISub(N).redISub(V);U=U.redIAdd(U);var J=N.redAdd(N).redIAdd(N),Y=J.redSqr(),oe=V.redIAdd(V);oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),h=Y.redISub(U).redISub(U),f=J.redMul(U.redISub(h)).redISub(oe),g=this.y.redMul(this.z),g=g.redIAdd(g)}return this.curve.jpoint(h,f,g)},c.prototype._threeDbl=function(){var h,f,g;if(this.zOne){var b=this.x.redSqr(),M=this.y.redSqr(),_=M.redSqr(),D=this.x.redAdd(M).redSqr().redISub(b).redISub(_);D=D.redIAdd(D);var R=b.redAdd(b).redIAdd(b).redIAdd(this.curve.a),A=R.redSqr().redISub(D).redISub(D);h=A;var I=_.redIAdd(_);I=I.redIAdd(I),I=I.redIAdd(I),f=R.redMul(D.redISub(A)).redISub(I),g=this.y.redAdd(this.y)}else{var N=this.z.redSqr(),$=this.y.redSqr(),V=this.x.redMul($),U=this.x.redSub(N).redMul(this.x.redAdd(N));U=U.redAdd(U).redIAdd(U);var J=V.redIAdd(V);J=J.redIAdd(J);var Y=J.redAdd(J);h=U.redSqr().redISub(Y),g=this.y.redAdd(this.z).redSqr().redISub($).redISub(N);var oe=$.redSqr();oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),oe=oe.redIAdd(oe),f=U.redMul(J.redISub(h)).redISub(oe)}return this.curve.jpoint(h,f,g)},c.prototype._dbl=function(){var h=this.curve.a,f=this.x,g=this.y,b=this.z,M=b.redSqr().redSqr(),_=f.redSqr(),D=g.redSqr(),R=_.redAdd(_).redIAdd(_).redIAdd(h.redMul(M)),A=f.redAdd(f);A=A.redIAdd(A);var I=A.redMul(D),N=R.redSqr().redISub(I.redAdd(I)),$=I.redISub(N),V=D.redSqr();V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var U=R.redMul($).redISub(V),J=g.redAdd(g).redMul(b);return this.curve.jpoint(N,U,J)},c.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var h=this.x.redSqr(),f=this.y.redSqr(),g=this.z.redSqr(),b=f.redSqr(),M=h.redAdd(h).redIAdd(h),_=M.redSqr(),D=this.x.redAdd(f).redSqr().redISub(h).redISub(b);D=D.redIAdd(D),D=D.redAdd(D).redIAdd(D),D=D.redISub(_);var R=D.redSqr(),A=b.redIAdd(b);A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A);var I=M.redIAdd(D).redSqr().redISub(_).redISub(R).redISub(A),N=f.redMul(I);N=N.redIAdd(N),N=N.redIAdd(N);var $=this.x.redMul(R).redISub(N);$=$.redIAdd($),$=$.redIAdd($);var V=this.y.redMul(I.redMul(A.redISub(I)).redISub(D.redMul(R)));V=V.redIAdd(V),V=V.redIAdd(V),V=V.redIAdd(V);var U=this.z.redAdd(D).redSqr().redISub(g).redISub(R);return this.curve.jpoint($,V,U)},c.prototype.mul=function(h,f){return h=new e(h,f),this.curve._wnafMul(this,h)},c.prototype.eq=function(h){if(h.type==="affine")return this.eq(h.toJ());if(this===h)return!0;var f=this.z.redSqr(),g=h.z.redSqr();if(this.x.redMul(g).redISub(h.x.redMul(f)).cmpn(0)!==0)return!1;var b=f.redMul(this.z),M=g.redMul(h.z);return this.y.redMul(M).redISub(h.y.redMul(b)).cmpn(0)===0},c.prototype.eqXToP=function(h){var f=this.z.redSqr(),g=h.toRed(this.curve.red).redMul(f);if(this.x.cmp(g)===0)return!0;for(var b=h.clone(),M=this.curve.redN.redMul(f);;){if(b.iadd(this.curve.n),b.cmp(this.curve.p)>=0)return!1;if(g.redIAdd(M),this.x.cmp(g)===0)return!0}},c.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},c.prototype.isInfinity=function(){return this.z.cmpn(0)===0},Ql}var ed,ty;function aS(){if(ty)return ed;ty=1;var i=Zn(),e=Ut(),t=zf(),r=Xr();function a(s){t.call(this,"mont",s),this.a=new i(s.a,16).toRed(this.red),this.b=new i(s.b,16).toRed(this.red),this.i4=new i(4).toRed(this.red).redInvm(),this.two=new i(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}e(a,t),ed=a,a.prototype.validate=function(c){var u=c.normalize().x,h=u.redSqr(),f=h.redMul(u).redAdd(h.redMul(this.a)).redAdd(u),g=f.redSqrt();return g.redSqr().cmp(f)===0};function n(s,c,u){t.BasePoint.call(this,s,"projective"),c===null&&u===null?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new i(c,16),this.z=new i(u,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}return e(n,t.BasePoint),a.prototype.decodePoint=function(c,u){return this.point(r.toArray(c,u),1)},a.prototype.point=function(c,u){return new n(this,c,u)},a.prototype.pointFromJSON=function(c){return n.fromJSON(this,c)},n.prototype.precompute=function(){},n.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},n.fromJSON=function(c,u){return new n(c,u[0],u[1]||c.one)},n.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},n.prototype.isInfinity=function(){return this.z.cmpn(0)===0},n.prototype.dbl=function(){var c=this.x.redAdd(this.z),u=c.redSqr(),h=this.x.redSub(this.z),f=h.redSqr(),g=u.redSub(f),b=u.redMul(f),M=g.redMul(f.redAdd(this.curve.a24.redMul(g)));return this.curve.point(b,M)},n.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.diffAdd=function(c,u){var h=this.x.redAdd(this.z),f=this.x.redSub(this.z),g=c.x.redAdd(c.z),b=c.x.redSub(c.z),M=b.redMul(h),_=g.redMul(f),D=u.z.redMul(M.redAdd(_).redSqr()),R=u.x.redMul(M.redISub(_).redSqr());return this.curve.point(D,R)},n.prototype.mul=function(c){for(var u=c.clone(),h=this,f=this.curve.point(null,null),g=this,b=[];u.cmpn(0)!==0;u.iushrn(1))b.push(u.andln(1));for(var M=b.length-1;M>=0;M--)b[M]===0?(h=h.diffAdd(f,g),f=f.dbl()):(f=h.diffAdd(f,g),h=h.dbl());return f},n.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},n.prototype.eq=function(c){return this.getX().cmp(c.getX())===0},n.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},n.prototype.getX=function(){return this.normalize(),this.x.fromRed()},ed}var td,ry;function oS(){if(ry)return td;ry=1;var i=Xr(),e=Zn(),t=Ut(),r=zf(),a=i.assert;function n(c){this.twisted=(c.a|0)!==1,this.mOneA=this.twisted&&(c.a|0)===-1,this.extended=this.mOneA,r.call(this,"edwards",c),this.a=new e(c.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new e(c.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new e(c.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),a(!this.twisted||this.c.fromRed().cmpn(1)===0),this.oneC=(c.c|0)===1}t(n,r),td=n,n.prototype._mulA=function(u){return this.mOneA?u.redNeg():this.a.redMul(u)},n.prototype._mulC=function(u){return this.oneC?u:this.c.redMul(u)},n.prototype.jpoint=function(u,h,f,g){return this.point(u,h,f,g)},n.prototype.pointFromX=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),g=this.c2.redSub(this.a.redMul(f)),b=this.one.redSub(this.c2.redMul(this.d).redMul(f)),M=g.redMul(b.redInvm()),_=M.redSqrt();if(_.redSqr().redSub(M).cmp(this.zero)!==0)throw new Error("invalid point");var D=_.fromRed().isOdd();return(h&&!D||!h&&D)&&(_=_.redNeg()),this.point(u,_)},n.prototype.pointFromY=function(u,h){u=new e(u,16),u.red||(u=u.toRed(this.red));var f=u.redSqr(),g=f.redSub(this.c2),b=f.redMul(this.d).redMul(this.c2).redSub(this.a),M=g.redMul(b.redInvm());if(M.cmp(this.zero)===0){if(h)throw new Error("invalid point");return this.point(this.zero,u)}var _=M.redSqrt();if(_.redSqr().redSub(M).cmp(this.zero)!==0)throw new Error("invalid point");return _.fromRed().isOdd()!==h&&(_=_.redNeg()),this.point(_,u)},n.prototype.validate=function(u){if(u.isInfinity())return!0;u.normalize();var h=u.x.redSqr(),f=u.y.redSqr(),g=h.redMul(this.a).redAdd(f),b=this.c2.redMul(this.one.redAdd(this.d.redMul(h).redMul(f)));return g.cmp(b)===0};function s(c,u,h,f,g){r.BasePoint.call(this,c,"projective"),u===null&&h===null&&f===null?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new e(u,16),this.y=new e(h,16),this.z=f?new e(f,16):this.curve.one,this.t=g&&new e(g,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}return t(s,r.BasePoint),n.prototype.pointFromJSON=function(u){return s.fromJSON(this,u)},n.prototype.point=function(u,h,f,g){return new s(this,u,h,f,g)},s.fromJSON=function(u,h){return new s(u,h[0],h[1],h[2])},s.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},s.prototype.isInfinity=function(){return this.x.cmpn(0)===0&&(this.y.cmp(this.z)===0||this.zOne&&this.y.cmp(this.curve.c)===0)},s.prototype._extDbl=function(){var u=this.x.redSqr(),h=this.y.redSqr(),f=this.z.redSqr();f=f.redIAdd(f);var g=this.curve._mulA(u),b=this.x.redAdd(this.y).redSqr().redISub(u).redISub(h),M=g.redAdd(h),_=M.redSub(f),D=g.redSub(h),R=b.redMul(_),A=M.redMul(D),I=b.redMul(D),N=_.redMul(M);return this.curve.point(R,A,N,I)},s.prototype._projDbl=function(){var u=this.x.redAdd(this.y).redSqr(),h=this.x.redSqr(),f=this.y.redSqr(),g,b,M,_,D,R;if(this.curve.twisted){_=this.curve._mulA(h);var A=_.redAdd(f);this.zOne?(g=u.redSub(h).redSub(f).redMul(A.redSub(this.curve.two)),b=A.redMul(_.redSub(f)),M=A.redSqr().redSub(A).redSub(A)):(D=this.z.redSqr(),R=A.redSub(D).redISub(D),g=u.redSub(h).redISub(f).redMul(R),b=A.redMul(_.redSub(f)),M=A.redMul(R))}else _=h.redAdd(f),D=this.curve._mulC(this.z).redSqr(),R=_.redSub(D).redSub(D),g=this.curve._mulC(u.redISub(_)).redMul(R),b=this.curve._mulC(_).redMul(h.redISub(f)),M=_.redMul(R);return this.curve.point(g,b,M)},s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},s.prototype._extAdd=function(u){var h=this.y.redSub(this.x).redMul(u.y.redSub(u.x)),f=this.y.redAdd(this.x).redMul(u.y.redAdd(u.x)),g=this.t.redMul(this.curve.dd).redMul(u.t),b=this.z.redMul(u.z.redAdd(u.z)),M=f.redSub(h),_=b.redSub(g),D=b.redAdd(g),R=f.redAdd(h),A=M.redMul(_),I=D.redMul(R),N=M.redMul(R),$=_.redMul(D);return this.curve.point(A,I,$,N)},s.prototype._projAdd=function(u){var h=this.z.redMul(u.z),f=h.redSqr(),g=this.x.redMul(u.x),b=this.y.redMul(u.y),M=this.curve.d.redMul(g).redMul(b),_=f.redSub(M),D=f.redAdd(M),R=this.x.redAdd(this.y).redMul(u.x.redAdd(u.y)).redISub(g).redISub(b),A=h.redMul(_).redMul(R),I,N;return this.curve.twisted?(I=h.redMul(D).redMul(b.redSub(this.curve._mulA(g))),N=_.redMul(D)):(I=h.redMul(D).redMul(b.redSub(g)),N=this.curve._mulC(_).redMul(D)),this.curve.point(A,I,N)},s.prototype.add=function(u){return this.isInfinity()?u:u.isInfinity()?this:this.curve.extended?this._extAdd(u):this._projAdd(u)},s.prototype.mul=function(u){return this._hasDoubles(u)?this.curve._fixedNafMul(this,u):this.curve._wnafMul(this,u)},s.prototype.mulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!1)},s.prototype.jmulAdd=function(u,h,f){return this.curve._wnafMulAdd(1,[this,h],[u,f],2,!0)},s.prototype.normalize=function(){if(this.zOne)return this;var u=this.z.redInvm();return this.x=this.x.redMul(u),this.y=this.y.redMul(u),this.t&&(this.t=this.t.redMul(u)),this.z=this.curve.one,this.zOne=!0,this},s.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},s.prototype.getX=function(){return this.normalize(),this.x.fromRed()},s.prototype.getY=function(){return this.normalize(),this.y.fromRed()},s.prototype.eq=function(u){return this===u||this.getX().cmp(u.getX())===0&&this.getY().cmp(u.getY())===0},s.prototype.eqXToP=function(u){var h=u.toRed(this.curve.red).redMul(this.z);if(this.x.cmp(h)===0)return!0;for(var f=u.clone(),g=this.curve.redN.redMul(this.z);;){if(f.iadd(this.curve.n),f.cmp(this.curve.p)>=0)return!1;if(h.redIAdd(g),this.x.cmp(h)===0)return!0}},s.prototype.toP=s.prototype.normalize,s.prototype.mixedAdd=s.prototype.add,td}var ny;function Hb(){return ny||(ny=1,(function(i){var e=i;e.base=zf(),e.short=iS(),e.mont=aS(),e.edwards=oS()})(Xl)),Xl}var rd={},nd={},nr={},iy;function Tn(){if(iy)return nr;iy=1;var i=Yr(),e=Ut();nr.inherits=e;function t(d,p){return(d.charCodeAt(p)&64512)!==55296||p<0||p+1>=d.length?!1:(d.charCodeAt(p+1)&64512)===56320}function r(d,p){if(Array.isArray(d))return d.slice();if(!d)return[];var o=[];if(typeof d=="string")if(p){if(p==="hex")for(d=d.replace(/[^a-z0-9]+/ig,""),d.length%2!==0&&(d="0"+d),S=0;S<d.length;S+=2)o.push(parseInt(d[S]+d[S+1],16))}else for(var l=0,S=0;S<d.length;S++){var x=d.charCodeAt(S);x<128?o[l++]=x:x<2048?(o[l++]=x>>6|192,o[l++]=x&63|128):t(d,S)?(x=65536+((x&1023)<<10)+(d.charCodeAt(++S)&1023),o[l++]=x>>18|240,o[l++]=x>>12&63|128,o[l++]=x>>6&63|128,o[l++]=x&63|128):(o[l++]=x>>12|224,o[l++]=x>>6&63|128,o[l++]=x&63|128)}else for(S=0;S<d.length;S++)o[S]=d[S]|0;return o}nr.toArray=r;function a(d){for(var p="",o=0;o<d.length;o++)p+=c(d[o].toString(16));return p}nr.toHex=a;function n(d){var p=d>>>24|d>>>8&65280|d<<8&16711680|(d&255)<<24;return p>>>0}nr.htonl=n;function s(d,p){for(var o="",l=0;l<d.length;l++){var S=d[l];p==="little"&&(S=n(S)),o+=u(S.toString(16))}return o}nr.toHex32=s;function c(d){return d.length===1?"0"+d:d}nr.zero2=c;function u(d){return d.length===7?"0"+d:d.length===6?"00"+d:d.length===5?"000"+d:d.length===4?"0000"+d:d.length===3?"00000"+d:d.length===2?"000000"+d:d.length===1?"0000000"+d:d}nr.zero8=u;function h(d,p,o,l){var S=o-p;i(S%4===0);for(var x=new Array(S/4),v=0,m=p;v<x.length;v++,m+=4){var y;l==="big"?y=d[m]<<24|d[m+1]<<16|d[m+2]<<8|d[m+3]:y=d[m+3]<<24|d[m+2]<<16|d[m+1]<<8|d[m],x[v]=y>>>0}return x}nr.join32=h;function f(d,p){for(var o=new Array(d.length*4),l=0,S=0;l<d.length;l++,S+=4){var x=d[l];p==="big"?(o[S]=x>>>24,o[S+1]=x>>>16&255,o[S+2]=x>>>8&255,o[S+3]=x&255):(o[S+3]=x>>>24,o[S+2]=x>>>16&255,o[S+1]=x>>>8&255,o[S]=x&255)}return o}nr.split32=f;function g(d,p){return d>>>p|d<<32-p}nr.rotr32=g;function b(d,p){return d<<p|d>>>32-p}nr.rotl32=b;function M(d,p){return d+p>>>0}nr.sum32=M;function _(d,p,o){return d+p+o>>>0}nr.sum32_3=_;function D(d,p,o,l){return d+p+o+l>>>0}nr.sum32_4=D;function R(d,p,o,l,S){return d+p+o+l+S>>>0}nr.sum32_5=R;function A(d,p,o,l){var S=d[p],x=d[p+1],v=l+x>>>0,m=(v<l?1:0)+o+S;d[p]=m>>>0,d[p+1]=v}nr.sum64=A;function I(d,p,o,l){var S=p+l>>>0,x=(S<p?1:0)+d+o;return x>>>0}nr.sum64_hi=I;function N(d,p,o,l){var S=p+l;return S>>>0}nr.sum64_lo=N;function $(d,p,o,l,S,x,v,m){var y=0,k=p;k=k+l>>>0,y+=k<p?1:0,k=k+x>>>0,y+=k<x?1:0,k=k+m>>>0,y+=k<m?1:0;var w=d+o+S+v+y;return w>>>0}nr.sum64_4_hi=$;function V(d,p,o,l,S,x,v,m){var y=p+l+x+m;return y>>>0}nr.sum64_4_lo=V;function U(d,p,o,l,S,x,v,m,y,k){var w=0,T=p;T=T+l>>>0,w+=T<p?1:0,T=T+x>>>0,w+=T<x?1:0,T=T+m>>>0,w+=T<m?1:0,T=T+k>>>0,w+=T<k?1:0;var ie=d+o+S+v+y+w;return ie>>>0}nr.sum64_5_hi=U;function J(d,p,o,l,S,x,v,m,y,k){var w=p+l+x+m+k;return w>>>0}nr.sum64_5_lo=J;function Y(d,p,o){var l=p<<32-o|d>>>o;return l>>>0}nr.rotr64_hi=Y;function oe(d,p,o){var l=d<<32-o|p>>>o;return l>>>0}nr.rotr64_lo=oe;function G(d,p,o){return d>>>o}nr.shr64_hi=G;function E(d,p,o){var l=d<<32-o|p>>>o;return l>>>0}return nr.shr64_lo=E,nr}var id={},ay;function Sc(){if(ay)return id;ay=1;var i=Tn(),e=Yr();function t(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return id.BlockHash=t,t.prototype.update=function(a,n){if(a=i.toArray(a,n),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var s=a.length%this._delta8;this.pending=a.slice(a.length-s,a.length),this.pending.length===0&&(this.pending=null),a=i.join32(a,0,a.length-s,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},t.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},t.prototype._pad=function(){var a=this.pendingTotal,n=this._delta8,s=n-(a+this.padLength)%n,c=new Array(s+this.padLength);c[0]=128;for(var u=1;u<s;u++)c[u]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[u++]=0;c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=a>>>24&255,c[u++]=a>>>16&255,c[u++]=a>>>8&255,c[u++]=a&255}else for(c[u++]=a&255,c[u++]=a>>>8&255,c[u++]=a>>>16&255,c[u++]=a>>>24&255,c[u++]=0,c[u++]=0,c[u++]=0,c[u++]=0,h=8;h<this.padLength;h++)c[u++]=0;return c},id}var ki={},hn={},oy;function Gb(){if(oy)return hn;oy=1;var i=Tn(),e=i.rotr32;function t(f,g,b,M){if(f===0)return r(g,b,M);if(f===1||f===3)return n(g,b,M);if(f===2)return a(g,b,M)}hn.ft_1=t;function r(f,g,b){return f&g^~f&b}hn.ch32=r;function a(f,g,b){return f&g^f&b^g&b}hn.maj32=a;function n(f,g,b){return f^g^b}hn.p32=n;function s(f){return e(f,2)^e(f,13)^e(f,22)}hn.s0_256=s;function c(f){return e(f,6)^e(f,11)^e(f,25)}hn.s1_256=c;function u(f){return e(f,7)^e(f,18)^f>>>3}hn.g0_256=u;function h(f){return e(f,17)^e(f,19)^f>>>10}return hn.g1_256=h,hn}var ad,sy;function sS(){if(sy)return ad;sy=1;var i=Tn(),e=Sc(),t=Gb(),r=i.rotl32,a=i.sum32,n=i.sum32_5,s=t.ft_1,c=e.BlockHash,u=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return i.inherits(h,c),ad=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(g,b){for(var M=this.W,_=0;_<16;_++)M[_]=g[b+_];for(;_<M.length;_++)M[_]=r(M[_-3]^M[_-8]^M[_-14]^M[_-16],1);var D=this.h[0],R=this.h[1],A=this.h[2],I=this.h[3],N=this.h[4];for(_=0;_<M.length;_++){var $=~~(_/20),V=n(r(D,5),s($,R,A,I),N,M[_],u[$]);N=I,I=A,A=r(R,30),R=D,D=V}this.h[0]=a(this.h[0],D),this.h[1]=a(this.h[1],R),this.h[2]=a(this.h[2],A),this.h[3]=a(this.h[3],I),this.h[4]=a(this.h[4],N)},h.prototype._digest=function(g){return g==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")},ad}var od,cy;function Kb(){if(cy)return od;cy=1;var i=Tn(),e=Sc(),t=Gb(),r=Yr(),a=i.sum32,n=i.sum32_4,s=i.sum32_5,c=t.ch32,u=t.maj32,h=t.s0_256,f=t.s1_256,g=t.g0_256,b=t.g1_256,M=e.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function D(){if(!(this instanceof D))return new D;M.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}return i.inherits(D,M),od=D,D.blockSize=512,D.outSize=256,D.hmacStrength=192,D.padLength=64,D.prototype._update=function(A,I){for(var N=this.W,$=0;$<16;$++)N[$]=A[I+$];for(;$<N.length;$++)N[$]=n(b(N[$-2]),N[$-7],g(N[$-15]),N[$-16]);var V=this.h[0],U=this.h[1],J=this.h[2],Y=this.h[3],oe=this.h[4],G=this.h[5],E=this.h[6],d=this.h[7];for(r(this.k.length===N.length),$=0;$<N.length;$++){var p=s(d,f(oe),c(oe,G,E),this.k[$],N[$]),o=a(h(V),u(V,U,J));d=E,E=G,G=oe,oe=a(Y,p),Y=J,J=U,U=V,V=a(p,o)}this.h[0]=a(this.h[0],V),this.h[1]=a(this.h[1],U),this.h[2]=a(this.h[2],J),this.h[3]=a(this.h[3],Y),this.h[4]=a(this.h[4],oe),this.h[5]=a(this.h[5],G),this.h[6]=a(this.h[6],E),this.h[7]=a(this.h[7],d)},D.prototype._digest=function(A){return A==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")},od}var sd,fy;function cS(){if(fy)return sd;fy=1;var i=Tn(),e=Kb();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return i.inherits(t,e),sd=t,t.blockSize=512,t.outSize=224,t.hmacStrength=192,t.padLength=64,t.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")},sd}var cd,hy;function Jb(){if(hy)return cd;hy=1;var i=Tn(),e=Sc(),t=Yr(),r=i.rotr64_hi,a=i.rotr64_lo,n=i.shr64_hi,s=i.shr64_lo,c=i.sum64,u=i.sum64_hi,h=i.sum64_lo,f=i.sum64_4_hi,g=i.sum64_4_lo,b=i.sum64_5_hi,M=i.sum64_5_lo,_=e.BlockHash,D=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function R(){if(!(this instanceof R))return new R;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=D,this.W=new Array(160)}i.inherits(R,_),cd=R,R.blockSize=1024,R.outSize=512,R.hmacStrength=192,R.padLength=128,R.prototype._prepareBlock=function(o,l){for(var S=this.W,x=0;x<32;x++)S[x]=o[l+x];for(;x<S.length;x+=2){var v=E(S[x-4],S[x-3]),m=d(S[x-4],S[x-3]),y=S[x-14],k=S[x-13],w=oe(S[x-30],S[x-29]),T=G(S[x-30],S[x-29]),ie=S[x-32],ve=S[x-31];S[x]=f(v,m,y,k,w,T,ie,ve),S[x+1]=g(v,m,y,k,w,T,ie,ve)}},R.prototype._update=function(o,l){this._prepareBlock(o,l);var S=this.W,x=this.h[0],v=this.h[1],m=this.h[2],y=this.h[3],k=this.h[4],w=this.h[5],T=this.h[6],ie=this.h[7],ve=this.h[8],ce=this.h[9],C=this.h[10],B=this.h[11],ee=this.h[12],z=this.h[13],P=this.h[14],O=this.h[15];t(this.k.length===S.length);for(var se=0;se<S.length;se+=2){var le=P,ge=O,Ee=J(ve,ce),me=Y(ve,ce),ye=A(ve,ce,C,B,ee),Te=I(ve,ce,C,B,ee,z),we=this.k[se],Me=this.k[se+1],Ne=S[se],Re=S[se+1],Oe=b(le,ge,Ee,me,ye,Te,we,Me,Ne,Re),Ye=M(le,ge,Ee,me,ye,Te,we,Me,Ne,Re);le=V(x,v),ge=U(x,v),Ee=N(x,v,m,y,k),me=$(x,v,m,y,k,w);var Xe=u(le,ge,Ee,me),qe=h(le,ge,Ee,me);P=ee,O=z,ee=C,z=B,C=ve,B=ce,ve=u(T,ie,Oe,Ye),ce=h(ie,ie,Oe,Ye),T=k,ie=w,k=m,w=y,m=x,y=v,x=u(Oe,Ye,Xe,qe),v=h(Oe,Ye,Xe,qe)}c(this.h,0,x,v),c(this.h,2,m,y),c(this.h,4,k,w),c(this.h,6,T,ie),c(this.h,8,ve,ce),c(this.h,10,C,B),c(this.h,12,ee,z),c(this.h,14,P,O)},R.prototype._digest=function(o){return o==="hex"?i.toHex32(this.h,"big"):i.split32(this.h,"big")};function A(p,o,l,S,x){var v=p&l^~p&x;return v<0&&(v+=4294967296),v}function I(p,o,l,S,x,v){var m=o&S^~o&v;return m<0&&(m+=4294967296),m}function N(p,o,l,S,x){var v=p&l^p&x^l&x;return v<0&&(v+=4294967296),v}function $(p,o,l,S,x,v){var m=o&S^o&v^S&v;return m<0&&(m+=4294967296),m}function V(p,o){var l=r(p,o,28),S=r(o,p,2),x=r(o,p,7),v=l^S^x;return v<0&&(v+=4294967296),v}function U(p,o){var l=a(p,o,28),S=a(o,p,2),x=a(o,p,7),v=l^S^x;return v<0&&(v+=4294967296),v}function J(p,o){var l=r(p,o,14),S=r(p,o,18),x=r(o,p,9),v=l^S^x;return v<0&&(v+=4294967296),v}function Y(p,o){var l=a(p,o,14),S=a(p,o,18),x=a(o,p,9),v=l^S^x;return v<0&&(v+=4294967296),v}function oe(p,o){var l=r(p,o,1),S=r(p,o,8),x=n(p,o,7),v=l^S^x;return v<0&&(v+=4294967296),v}function G(p,o){var l=a(p,o,1),S=a(p,o,8),x=s(p,o,7),v=l^S^x;return v<0&&(v+=4294967296),v}function E(p,o){var l=r(p,o,19),S=r(o,p,29),x=n(p,o,6),v=l^S^x;return v<0&&(v+=4294967296),v}function d(p,o){var l=a(p,o,19),S=a(o,p,29),x=s(p,o,6),v=l^S^x;return v<0&&(v+=4294967296),v}return cd}var fd,uy;function fS(){if(uy)return fd;uy=1;var i=Tn(),e=Jb();function t(){if(!(this instanceof t))return new t;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return i.inherits(t,e),fd=t,t.blockSize=1024,t.outSize=384,t.hmacStrength=192,t.padLength=128,t.prototype._digest=function(a){return a==="hex"?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")},fd}var ly;function hS(){return ly||(ly=1,ki.sha1=sS(),ki.sha224=cS(),ki.sha256=Kb(),ki.sha384=fS(),ki.sha512=Jb()),ki}var hd={},dy;function uS(){if(dy)return hd;dy=1;var i=Tn(),e=Sc(),t=i.rotl32,r=i.sum32,a=i.sum32_3,n=i.sum32_4,s=e.BlockHash;function c(){if(!(this instanceof c))return new c;s.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}i.inherits(c,s),hd.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(R,A){for(var I=this.h[0],N=this.h[1],$=this.h[2],V=this.h[3],U=this.h[4],J=I,Y=N,oe=$,G=V,E=U,d=0;d<80;d++){var p=r(t(n(I,u(d,N,$,V),R[g[d]+A],h(d)),M[d]),U);I=U,U=V,V=t($,10),$=N,N=p,p=r(t(n(J,u(79-d,Y,oe,G),R[b[d]+A],f(d)),_[d]),E),J=E,E=G,G=t(oe,10),oe=Y,Y=p}p=a(this.h[1],$,G),this.h[1]=a(this.h[2],V,E),this.h[2]=a(this.h[3],U,J),this.h[3]=a(this.h[4],I,Y),this.h[4]=a(this.h[0],N,oe),this.h[0]=p},c.prototype._digest=function(R){return R==="hex"?i.toHex32(this.h,"little"):i.split32(this.h,"little")};function u(D,R,A,I){return D<=15?R^A^I:D<=31?R&A|~R&I:D<=47?(R|~A)^I:D<=63?R&I|A&~I:R^(A|~I)}function h(D){return D<=15?0:D<=31?1518500249:D<=47?1859775393:D<=63?2400959708:2840853838}function f(D){return D<=15?1352829926:D<=31?1548603684:D<=47?1836072691:D<=63?2053994217:0}var g=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],b=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],M=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return hd}var ud,py;function lS(){if(py)return ud;py=1;var i=Tn(),e=Yr();function t(r,a,n){if(!(this instanceof t))return new t(r,a,n);this.Hash=r,this.blockSize=r.blockSize/8,this.outSize=r.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(a,n))}return ud=t,t.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var n=a.length;n<this.blockSize;n++)a.push(0);for(n=0;n<a.length;n++)a[n]^=54;for(this.inner=new this.Hash().update(a),n=0;n<a.length;n++)a[n]^=106;this.outer=new this.Hash().update(a)},t.prototype.update=function(a,n){return this.inner.update(a,n),this},t.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},ud}var gy;function _g(){return gy||(gy=1,(function(i){var e=i;e.utils=Tn(),e.common=Sc(),e.sha=hS(),e.ripemd=uS(),e.hmac=lS(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(nd)),nd}var ld,my;function dS(){return my||(my=1,ld={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}),ld}var vy;function Ag(){return vy||(vy=1,(function(i){var e=i,t=_g(),r=Hb(),a=Xr(),n=a.assert;function s(h){h.type==="short"?this.curve=new r.short(h):h.type==="edwards"?this.curve=new r.edwards(h):this.curve=new r.mont(h),this.g=this.curve.g,this.n=this.curve.n,this.hash=h.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}e.PresetCurve=s;function c(h,f){Object.defineProperty(e,h,{configurable:!0,enumerable:!0,get:function(){var g=new s(f);return Object.defineProperty(e,h,{configurable:!0,enumerable:!0,value:g}),g}})}c("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:t.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),c("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:t.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),c("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:t.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),c("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:t.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),c("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:t.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),c("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["9"]}),c("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:t.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var u;try{u=dS()}catch{u=void 0}c("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:t.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",u]})})(rd)),rd}var dd,yy;function pS(){if(yy)return dd;yy=1;var i=_g(),e=Wb(),t=Yr();function r(a){if(!(this instanceof r))return new r(a);this.hash=a.hash,this.predResist=!!a.predResist,this.outLen=this.hash.outSize,this.minEntropy=a.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var n=e.toArray(a.entropy,a.entropyEnc||"hex"),s=e.toArray(a.nonce,a.nonceEnc||"hex"),c=e.toArray(a.pers,a.persEnc||"hex");t(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(n,s,c)}return dd=r,r.prototype._init=function(n,s,c){var u=n.concat(s).concat(c);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var h=0;h<this.V.length;h++)this.K[h]=0,this.V[h]=1;this._update(u),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(n){var s=this._hmac().update(this.V).update([0]);n&&(s=s.update(n)),this.K=s.digest(),this.V=this._hmac().update(this.V).digest(),n&&(this.K=this._hmac().update(this.V).update([1]).update(n).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(n,s,c,u){typeof s!="string"&&(u=c,c=s,s=null),n=e.toArray(n,s),c=e.toArray(c,u),t(n.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(n.concat(c||[])),this._reseed=1},r.prototype.generate=function(n,s,c,u){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof s!="string"&&(u=c,c=s,s=null),c&&(c=e.toArray(c,u||"hex"),this._update(c));for(var h=[];h.length<n;)this.V=this._hmac().update(this.V).digest(),h=h.concat(this.V);var f=h.slice(0,n);return this._update(c),this._reseed++,e.encode(f,s)},dd}var pd,wy;function gS(){if(wy)return pd;wy=1;var i=Zn(),e=Xr(),t=e.assert;function r(a,n){this.ec=a,this.priv=null,this.pub=null,n.priv&&this._importPrivate(n.priv,n.privEnc),n.pub&&this._importPublic(n.pub,n.pubEnc)}return pd=r,r.fromPublic=function(n,s,c){return s instanceof r?s:new r(n,{pub:s,pubEnc:c})},r.fromPrivate=function(n,s,c){return s instanceof r?s:new r(n,{priv:s,privEnc:c})},r.prototype.validate=function(){var n=this.getPublic();return n.isInfinity()?{result:!1,reason:"Invalid public key"}:n.validate()?n.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(n,s){return typeof n=="string"&&(s=n,n=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),s?this.pub.encode(s,n):this.pub},r.prototype.getPrivate=function(n){return n==="hex"?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(n,s){this.priv=new i(n,s||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(n,s){if(n.x||n.y){this.ec.curve.type==="mont"?t(n.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&t(n.x&&n.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(n.x,n.y);return}this.pub=this.ec.curve.decodePoint(n,s)},r.prototype.derive=function(n){return n.validate()||t(n.validate(),"public point not validated"),n.mul(this.priv).getX()},r.prototype.sign=function(n,s,c){return this.ec.sign(n,this,s,c)},r.prototype.verify=function(n,s,c){return this.ec.verify(n,s,this,void 0,c)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"},pd}var gd,by;function mS(){if(by)return gd;by=1;var i=Zn(),e=Xr(),t=e.assert;function r(u,h){if(u instanceof r)return u;this._importDER(u,h)||(t(u.r&&u.s,"Signature without r or s"),this.r=new i(u.r,16),this.s=new i(u.s,16),u.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=u.recoveryParam)}gd=r;function a(){this.place=0}function n(u,h){var f=u[h.place++];if(!(f&128))return f;var g=f&15;if(g===0||g>4||u[h.place]===0)return!1;for(var b=0,M=0,_=h.place;M<g;M++,_++)b<<=8,b|=u[_],b>>>=0;return b<=127?!1:(h.place=_,b)}function s(u){for(var h=0,f=u.length-1;!u[h]&&!(u[h+1]&128)&&h<f;)h++;return h===0?u:u.slice(h)}r.prototype._importDER=function(h,f){h=e.toArray(h,f);var g=new a;if(h[g.place++]!==48)return!1;var b=n(h,g);if(b===!1||b+g.place!==h.length||h[g.place++]!==2)return!1;var M=n(h,g);if(M===!1||(h[g.place]&128)!==0)return!1;var _=h.slice(g.place,M+g.place);if(g.place+=M,h[g.place++]!==2)return!1;var D=n(h,g);if(D===!1||h.length!==D+g.place||(h[g.place]&128)!==0)return!1;var R=h.slice(g.place,D+g.place);if(_[0]===0)if(_[1]&128)_=_.slice(1);else return!1;if(R[0]===0)if(R[1]&128)R=R.slice(1);else return!1;return this.r=new i(_),this.s=new i(R),this.recoveryParam=null,!0};function c(u,h){if(h<128){u.push(h);return}var f=1+(Math.log(h)/Math.LN2>>>3);for(u.push(f|128);--f;)u.push(h>>>(f<<3)&255);u.push(h)}return r.prototype.toDER=function(h){var f=this.r.toArray(),g=this.s.toArray();for(f[0]&128&&(f=[0].concat(f)),g[0]&128&&(g=[0].concat(g)),f=s(f),g=s(g);!g[0]&&!(g[1]&128);)g=g.slice(1);var b=[2];c(b,f.length),b=b.concat(f),b.push(2),c(b,g.length);var M=b.concat(g),_=[48];return c(_,M.length),_=_.concat(M),e.encode(_,h)},gd}var md,xy;function vS(){if(xy)return md;xy=1;var i=Zn(),e=pS(),t=Xr(),r=Ag(),a=Sg(),n=t.assert,s=gS(),c=mS();function u(h){if(!(this instanceof u))return new u(h);typeof h=="string"&&(n(Object.prototype.hasOwnProperty.call(r,h),"Unknown curve "+h),h=r[h]),h instanceof r.PresetCurve&&(h={curve:h}),this.curve=h.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=h.curve.g,this.g.precompute(h.curve.n.bitLength()+1),this.hash=h.hash||h.curve.hash}return md=u,u.prototype.keyPair=function(f){return new s(this,f)},u.prototype.keyFromPrivate=function(f,g){return s.fromPrivate(this,f,g)},u.prototype.keyFromPublic=function(f,g){return s.fromPublic(this,f,g)},u.prototype.genKeyPair=function(f){f||(f={});for(var g=new e({hash:this.hash,pers:f.pers,persEnc:f.persEnc||"utf8",entropy:f.entropy||a(this.hash.hmacStrength),entropyEnc:f.entropy&&f.entropyEnc||"utf8",nonce:this.n.toArray()}),b=this.n.byteLength(),M=this.n.sub(new i(2));;){var _=new i(g.generate(b));if(!(_.cmp(M)>0))return _.iaddn(1),this.keyFromPrivate(_)}},u.prototype._truncateToN=function(f,g,b){var M;if(i.isBN(f)||typeof f=="number")f=new i(f,16),M=f.byteLength();else if(typeof f=="object")M=f.length,f=new i(f,16);else{var _=f.toString();M=_.length+1>>>1,f=new i(_,16)}typeof b!="number"&&(b=M*8);var D=b-this.n.bitLength();return D>0&&(f=f.ushrn(D)),!g&&f.cmp(this.n)>=0?f.sub(this.n):f},u.prototype.sign=function(f,g,b,M){if(typeof b=="object"&&(M=b,b=null),M||(M={}),typeof f!="string"&&typeof f!="number"&&!i.isBN(f)){n(typeof f=="object"&&f&&typeof f.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),n(f.length>>>0===f.length);for(var _=0;_<f.length;_++)n((f[_]&255)===f[_])}g=this.keyFromPrivate(g,b),f=this._truncateToN(f,!1,M.msgBitLength),n(!f.isNeg(),"Can not sign a negative message");var D=this.n.byteLength(),R=g.getPrivate().toArray("be",D),A=f.toArray("be",D);n(new i(A).eq(f),"Can not sign message");for(var I=new e({hash:this.hash,entropy:R,nonce:A,pers:M.pers,persEnc:M.persEnc||"utf8"}),N=this.n.sub(new i(1)),$=0;;$++){var V=M.k?M.k($):new i(I.generate(this.n.byteLength()));if(V=this._truncateToN(V,!0),!(V.cmpn(1)<=0||V.cmp(N)>=0)){var U=this.g.mul(V);if(!U.isInfinity()){var J=U.getX(),Y=J.umod(this.n);if(Y.cmpn(0)!==0){var oe=V.invm(this.n).mul(Y.mul(g.getPrivate()).iadd(f));if(oe=oe.umod(this.n),oe.cmpn(0)!==0){var G=(U.getY().isOdd()?1:0)|(J.cmp(Y)!==0?2:0);return M.canonical&&oe.cmp(this.nh)>0&&(oe=this.n.sub(oe),G^=1),new c({r:Y,s:oe,recoveryParam:G})}}}}}},u.prototype.verify=function(f,g,b,M,_){_||(_={}),f=this._truncateToN(f,!1,_.msgBitLength),b=this.keyFromPublic(b,M),g=new c(g,"hex");var D=g.r,R=g.s;if(D.cmpn(1)<0||D.cmp(this.n)>=0||R.cmpn(1)<0||R.cmp(this.n)>=0)return!1;var A=R.invm(this.n),I=A.mul(f).umod(this.n),N=A.mul(D).umod(this.n),$;return this.curve._maxwellTrick?($=this.g.jmulAdd(I,b.getPublic(),N),$.isInfinity()?!1:$.eqXToP(D)):($=this.g.mulAdd(I,b.getPublic(),N),$.isInfinity()?!1:$.getX().umod(this.n).cmp(D)===0)},u.prototype.recoverPubKey=function(h,f,g,b){n((3&g)===g,"The recovery param is more than two bits"),f=new c(f,b);var M=this.n,_=new i(h),D=f.r,R=f.s,A=g&1,I=g>>1;if(D.cmp(this.curve.p.umod(this.curve.n))>=0&&I)throw new Error("Unable to find sencond key candinate");I?D=this.curve.pointFromX(D.add(this.curve.n),A):D=this.curve.pointFromX(D,A);var N=f.r.invm(M),$=M.sub(_).mul(N).umod(M),V=R.mul(N).umod(M);return this.g.mulAdd($,D,V)},u.prototype.getKeyRecoveryParam=function(h,f,g,b){if(f=new c(f,b),f.recoveryParam!==null)return f.recoveryParam;for(var M=0;M<4;M++){var _;try{_=this.recoverPubKey(h,f,M)}catch{continue}if(_.eq(g))return M}throw new Error("Unable to find valid recovery factor")},md}var vd,Sy;function yS(){if(Sy)return vd;Sy=1;var i=Xr(),e=i.assert,t=i.parseBytes,r=i.cachedProperty;function a(n,s){this.eddsa=n,this._secret=t(s.secret),n.isPoint(s.pub)?this._pub=s.pub:this._pubBytes=t(s.pub)}return a.fromPublic=function(s,c){return c instanceof a?c:new a(s,{pub:c})},a.fromSecret=function(s,c){return c instanceof a?c:new a(s,{secret:c})},a.prototype.secret=function(){return this._secret},r(a,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),r(a,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),r(a,"privBytes",function(){var s=this.eddsa,c=this.hash(),u=s.encodingLength-1,h=c.slice(0,s.encodingLength);return h[0]&=248,h[u]&=127,h[u]|=64,h}),r(a,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),r(a,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),r(a,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),a.prototype.sign=function(s){return e(this._secret,"KeyPair can only verify"),this.eddsa.sign(s,this)},a.prototype.verify=function(s,c){return this.eddsa.verify(s,c,this)},a.prototype.getSecret=function(s){return e(this._secret,"KeyPair is public only"),i.encode(this.secret(),s)},a.prototype.getPublic=function(s){return i.encode(this.pubBytes(),s)},vd=a,vd}var yd,Ey;function wS(){if(Ey)return yd;Ey=1;var i=Zn(),e=Xr(),t=e.assert,r=e.cachedProperty,a=e.parseBytes;function n(s,c){this.eddsa=s,typeof c!="object"&&(c=a(c)),Array.isArray(c)&&(t(c.length===s.encodingLength*2,"Signature has invalid size"),c={R:c.slice(0,s.encodingLength),S:c.slice(s.encodingLength)}),t(c.R&&c.S,"Signature without R or S"),s.isPoint(c.R)&&(this._R=c.R),c.S instanceof i&&(this._S=c.S),this._Rencoded=Array.isArray(c.R)?c.R:c.Rencoded,this._Sencoded=Array.isArray(c.S)?c.S:c.Sencoded}return r(n,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),r(n,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),r(n,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),r(n,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),n.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},n.prototype.toHex=function(){return e.encode(this.toBytes(),"hex").toUpperCase()},yd=n,yd}var wd,My;function bS(){if(My)return wd;My=1;var i=_g(),e=Ag(),t=Xr(),r=t.assert,a=t.parseBytes,n=yS(),s=wS();function c(u){if(r(u==="ed25519","only tested with ed25519 so far"),!(this instanceof c))return new c(u);u=e[u].curve,this.curve=u,this.g=u.g,this.g.precompute(u.n.bitLength()+1),this.pointClass=u.point().constructor,this.encodingLength=Math.ceil(u.n.bitLength()/8),this.hash=i.sha512}return wd=c,c.prototype.sign=function(h,f){h=a(h);var g=this.keyFromSecret(f),b=this.hashInt(g.messagePrefix(),h),M=this.g.mul(b),_=this.encodePoint(M),D=this.hashInt(_,g.pubBytes(),h).mul(g.priv()),R=b.add(D).umod(this.curve.n);return this.makeSignature({R:M,S:R,Rencoded:_})},c.prototype.verify=function(h,f,g){if(h=a(h),f=this.makeSignature(f),f.S().gte(f.eddsa.curve.n)||f.S().isNeg())return!1;var b=this.keyFromPublic(g),M=this.hashInt(f.Rencoded(),b.pubBytes(),h),_=this.g.mul(f.S()),D=f.R().add(b.pub().mul(M));return D.eq(_)},c.prototype.hashInt=function(){for(var h=this.hash(),f=0;f<arguments.length;f++)h.update(arguments[f]);return t.intFromLE(h.digest()).umod(this.curve.n)},c.prototype.keyFromPublic=function(h){return n.fromPublic(this,h)},c.prototype.keyFromSecret=function(h){return n.fromSecret(this,h)},c.prototype.makeSignature=function(h){return h instanceof s?h:new s(this,h)},c.prototype.encodePoint=function(h){var f=h.getY().toArray("le",this.encodingLength);return f[this.encodingLength-1]|=h.getX().isOdd()?128:0,f},c.prototype.decodePoint=function(h){h=t.parseBytes(h);var f=h.length-1,g=h.slice(0,f).concat(h[f]&-129),b=(h[f]&128)!==0,M=t.intFromLE(g);return this.curve.pointFromY(M,b)},c.prototype.encodeInt=function(h){return h.toArray("le",this.encodingLength)},c.prototype.decodeInt=function(h){return t.intFromLE(h)},c.prototype.isPoint=function(h){return h instanceof this.pointClass},wd}var _y;function kg(){return _y||(_y=1,(function(i){var e=i;e.version=rS.version,e.utils=Xr(),e.rand=Sg(),e.curve=Hb(),e.curves=Ag(),e.ec=vS(),e.eddsa=bS()})(Kl)),Kl}var uf={exports:{}},xS=uf.exports,Ay;function Yb(){return Ay||(Ay=1,(function(i){(function(e,t){function r(p,o){if(!p)throw new Error(o||"Assertion failed")}function a(p,o){p.super_=o;var l=function(){};l.prototype=o.prototype,p.prototype=new l,p.prototype.constructor=p}function n(p,o,l){if(n.isBN(p))return p;this.negative=0,this.words=null,this.length=0,this.red=null,p!==null&&((o==="le"||o==="be")&&(l=o,o=10),this._init(p||0,o||10,l||"be"))}typeof e=="object"?e.exports=n:t.BN=n,n.BN=n,n.wordSize=26;var s;try{typeof window<"u"&&typeof window.Buffer<"u"?s=window.Buffer:s=Ar().Buffer}catch{}n.isBN=function(o){return o instanceof n?!0:o!==null&&typeof o=="object"&&o.constructor.wordSize===n.wordSize&&Array.isArray(o.words)},n.max=function(o,l){return o.cmp(l)>0?o:l},n.min=function(o,l){return o.cmp(l)<0?o:l},n.prototype._init=function(o,l,S){if(typeof o=="number")return this._initNumber(o,l,S);if(typeof o=="object")return this._initArray(o,l,S);l==="hex"&&(l=16),r(l===(l|0)&&l>=2&&l<=36),o=o.toString().replace(/\s+/g,"");var x=0;o[0]==="-"&&(x++,this.negative=1),x<o.length&&(l===16?this._parseHex(o,x,S):(this._parseBase(o,l,x),S==="le"&&this._initArray(this.toArray(),l,S)))},n.prototype._initNumber=function(o,l,S){o<0&&(this.negative=1,o=-o),o<67108864?(this.words=[o&67108863],this.length=1):o<4503599627370496?(this.words=[o&67108863,o/67108864&67108863],this.length=2):(r(o<9007199254740992),this.words=[o&67108863,o/67108864&67108863,1],this.length=3),S==="le"&&this._initArray(this.toArray(),l,S)},n.prototype._initArray=function(o,l,S){if(r(typeof o.length=="number"),o.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(o.length/3),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v,m,y=0;if(S==="be")for(x=o.length-1,v=0;x>=0;x-=3)m=o[x]|o[x-1]<<8|o[x-2]<<16,this.words[v]|=m<<y&67108863,this.words[v+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,v++);else if(S==="le")for(x=0,v=0;x<o.length;x+=3)m=o[x]|o[x+1]<<8|o[x+2]<<16,this.words[v]|=m<<y&67108863,this.words[v+1]=m>>>26-y&67108863,y+=24,y>=26&&(y-=26,v++);return this._strip()};function c(p,o){var l=p.charCodeAt(o);if(l>=48&&l<=57)return l-48;if(l>=65&&l<=70)return l-55;if(l>=97&&l<=102)return l-87;r(!1,"Invalid character in "+p)}function u(p,o,l){var S=c(p,l);return l-1>=o&&(S|=c(p,l-1)<<4),S}n.prototype._parseHex=function(o,l,S){this.length=Math.ceil((o.length-l)/6),this.words=new Array(this.length);for(var x=0;x<this.length;x++)this.words[x]=0;var v=0,m=0,y;if(S==="be")for(x=o.length-1;x>=l;x-=2)y=u(o,l,x)<<v,this.words[m]|=y&67108863,v>=18?(v-=18,m+=1,this.words[m]|=y>>>26):v+=8;else{var k=o.length-l;for(x=k%2===0?l+1:l;x<o.length;x+=2)y=u(o,l,x)<<v,this.words[m]|=y&67108863,v>=18?(v-=18,m+=1,this.words[m]|=y>>>26):v+=8}this._strip()};function h(p,o,l,S){for(var x=0,v=0,m=Math.min(p.length,l),y=o;y<m;y++){var k=p.charCodeAt(y)-48;x*=S,k>=49?v=k-49+10:k>=17?v=k-17+10:v=k,r(k>=0&&v<S,"Invalid character"),x+=v}return x}n.prototype._parseBase=function(o,l,S){this.words=[0],this.length=1;for(var x=0,v=1;v<=67108863;v*=l)x++;x--,v=v/l|0;for(var m=o.length-S,y=m%x,k=Math.min(m,m-y)+S,w=0,T=S;T<k;T+=x)w=h(o,T,T+x,l),this.imuln(v),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w);if(y!==0){var ie=1;for(w=h(o,T,o.length,l),T=0;T<y;T++)ie*=l;this.imuln(ie),this.words[0]+w<67108864?this.words[0]+=w:this._iaddn(w)}this._strip()},n.prototype.copy=function(o){o.words=new Array(this.length);for(var l=0;l<this.length;l++)o.words[l]=this.words[l];o.length=this.length,o.negative=this.negative,o.red=this.red};function f(p,o){p.words=o.words,p.length=o.length,p.negative=o.negative,p.red=o.red}if(n.prototype._move=function(o){f(o,this)},n.prototype.clone=function(){var o=new n(null);return this.copy(o),o},n.prototype._expand=function(o){for(;this.length<o;)this.words[this.length++]=0;return this},n.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},n.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{n.prototype[Symbol.for("nodejs.util.inspect.custom")]=g}catch{n.prototype.inspect=g}else n.prototype.inspect=g;function g(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var b=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],M=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];n.prototype.toString=function(o,l){o=o||10,l=l|0||1;var S;if(o===16||o==="hex"){S="";for(var x=0,v=0,m=0;m<this.length;m++){var y=this.words[m],k=((y<<x|v)&16777215).toString(16);v=y>>>24-x&16777215,x+=2,x>=26&&(x-=26,m--),v!==0||m!==this.length-1?S=b[6-k.length]+k+S:S=k+S}for(v!==0&&(S=v.toString(16)+S);S.length%l!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}if(o===(o|0)&&o>=2&&o<=36){var w=M[o],T=_[o];S="";var ie=this.clone();for(ie.negative=0;!ie.isZero();){var ve=ie.modrn(T).toString(o);ie=ie.idivn(T),ie.isZero()?S=ve+S:S=b[w-ve.length]+ve+S}for(this.isZero()&&(S="0"+S);S.length%l!==0;)S="0"+S;return this.negative!==0&&(S="-"+S),S}r(!1,"Base should be between 2 and 36")},n.prototype.toNumber=function(){var o=this.words[0];return this.length===2?o+=this.words[1]*67108864:this.length===3&&this.words[2]===1?o+=4503599627370496+this.words[1]*67108864:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-o:o},n.prototype.toJSON=function(){return this.toString(16,2)},s&&(n.prototype.toBuffer=function(o,l){return this.toArrayLike(s,o,l)}),n.prototype.toArray=function(o,l){return this.toArrayLike(Array,o,l)};var D=function(o,l){return o.allocUnsafe?o.allocUnsafe(l):new o(l)};n.prototype.toArrayLike=function(o,l,S){this._strip();var x=this.byteLength(),v=S||Math.max(1,x);r(x<=v,"byte array longer than desired length"),r(v>0,"Requested array length <= 0");var m=D(o,v),y=l==="le"?"LE":"BE";return this["_toArrayLike"+y](m,x),m},n.prototype._toArrayLikeLE=function(o,l){for(var S=0,x=0,v=0,m=0;v<this.length;v++){var y=this.words[v]<<m|x;o[S++]=y&255,S<o.length&&(o[S++]=y>>8&255),S<o.length&&(o[S++]=y>>16&255),m===6?(S<o.length&&(o[S++]=y>>24&255),x=0,m=0):(x=y>>>24,m+=2)}if(S<o.length)for(o[S++]=x;S<o.length;)o[S++]=0},n.prototype._toArrayLikeBE=function(o,l){for(var S=o.length-1,x=0,v=0,m=0;v<this.length;v++){var y=this.words[v]<<m|x;o[S--]=y&255,S>=0&&(o[S--]=y>>8&255),S>=0&&(o[S--]=y>>16&255),m===6?(S>=0&&(o[S--]=y>>24&255),x=0,m=0):(x=y>>>24,m+=2)}if(S>=0)for(o[S--]=x;S>=0;)o[S--]=0},Math.clz32?n.prototype._countBits=function(o){return 32-Math.clz32(o)}:n.prototype._countBits=function(o){var l=o,S=0;return l>=4096&&(S+=13,l>>>=13),l>=64&&(S+=7,l>>>=7),l>=8&&(S+=4,l>>>=4),l>=2&&(S+=2,l>>>=2),S+l},n.prototype._zeroBits=function(o){if(o===0)return 26;var l=o,S=0;return(l&8191)===0&&(S+=13,l>>>=13),(l&127)===0&&(S+=7,l>>>=7),(l&15)===0&&(S+=4,l>>>=4),(l&3)===0&&(S+=2,l>>>=2),(l&1)===0&&S++,S},n.prototype.bitLength=function(){var o=this.words[this.length-1],l=this._countBits(o);return(this.length-1)*26+l};function R(p){for(var o=new Array(p.bitLength()),l=0;l<o.length;l++){var S=l/26|0,x=l%26;o[l]=p.words[S]>>>x&1}return o}n.prototype.zeroBits=function(){if(this.isZero())return 0;for(var o=0,l=0;l<this.length;l++){var S=this._zeroBits(this.words[l]);if(o+=S,S!==26)break}return o},n.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},n.prototype.toTwos=function(o){return this.negative!==0?this.abs().inotn(o).iaddn(1):this.clone()},n.prototype.fromTwos=function(o){return this.testn(o-1)?this.notn(o).iaddn(1).ineg():this.clone()},n.prototype.isNeg=function(){return this.negative!==0},n.prototype.neg=function(){return this.clone().ineg()},n.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},n.prototype.iuor=function(o){for(;this.length<o.length;)this.words[this.length++]=0;for(var l=0;l<o.length;l++)this.words[l]=this.words[l]|o.words[l];return this._strip()},n.prototype.ior=function(o){return r((this.negative|o.negative)===0),this.iuor(o)},n.prototype.or=function(o){return this.length>o.length?this.clone().ior(o):o.clone().ior(this)},n.prototype.uor=function(o){return this.length>o.length?this.clone().iuor(o):o.clone().iuor(this)},n.prototype.iuand=function(o){var l;this.length>o.length?l=o:l=this;for(var S=0;S<l.length;S++)this.words[S]=this.words[S]&o.words[S];return this.length=l.length,this._strip()},n.prototype.iand=function(o){return r((this.negative|o.negative)===0),this.iuand(o)},n.prototype.and=function(o){return this.length>o.length?this.clone().iand(o):o.clone().iand(this)},n.prototype.uand=function(o){return this.length>o.length?this.clone().iuand(o):o.clone().iuand(this)},n.prototype.iuxor=function(o){var l,S;this.length>o.length?(l=this,S=o):(l=o,S=this);for(var x=0;x<S.length;x++)this.words[x]=l.words[x]^S.words[x];if(this!==l)for(;x<l.length;x++)this.words[x]=l.words[x];return this.length=l.length,this._strip()},n.prototype.ixor=function(o){return r((this.negative|o.negative)===0),this.iuxor(o)},n.prototype.xor=function(o){return this.length>o.length?this.clone().ixor(o):o.clone().ixor(this)},n.prototype.uxor=function(o){return this.length>o.length?this.clone().iuxor(o):o.clone().iuxor(this)},n.prototype.inotn=function(o){r(typeof o=="number"&&o>=0);var l=Math.ceil(o/26)|0,S=o%26;this._expand(l),S>0&&l--;for(var x=0;x<l;x++)this.words[x]=~this.words[x]&67108863;return S>0&&(this.words[x]=~this.words[x]&67108863>>26-S),this._strip()},n.prototype.notn=function(o){return this.clone().inotn(o)},n.prototype.setn=function(o,l){r(typeof o=="number"&&o>=0);var S=o/26|0,x=o%26;return this._expand(S+1),l?this.words[S]=this.words[S]|1<<x:this.words[S]=this.words[S]&~(1<<x),this._strip()},n.prototype.iadd=function(o){var l;if(this.negative!==0&&o.negative===0)return this.negative=0,l=this.isub(o),this.negative^=1,this._normSign();if(this.negative===0&&o.negative!==0)return o.negative=0,l=this.isub(o),o.negative=1,l._normSign();var S,x;this.length>o.length?(S=this,x=o):(S=o,x=this);for(var v=0,m=0;m<x.length;m++)l=(S.words[m]|0)+(x.words[m]|0)+v,this.words[m]=l&67108863,v=l>>>26;for(;v!==0&&m<S.length;m++)l=(S.words[m]|0)+v,this.words[m]=l&67108863,v=l>>>26;if(this.length=S.length,v!==0)this.words[this.length]=v,this.length++;else if(S!==this)for(;m<S.length;m++)this.words[m]=S.words[m];return this},n.prototype.add=function(o){var l;return o.negative!==0&&this.negative===0?(o.negative=0,l=this.sub(o),o.negative^=1,l):o.negative===0&&this.negative!==0?(this.negative=0,l=o.sub(this),this.negative=1,l):this.length>o.length?this.clone().iadd(o):o.clone().iadd(this)},n.prototype.isub=function(o){if(o.negative!==0){o.negative=0;var l=this.iadd(o);return o.negative=1,l._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(o),this.negative=1,this._normSign();var S=this.cmp(o);if(S===0)return this.negative=0,this.length=1,this.words[0]=0,this;var x,v;S>0?(x=this,v=o):(x=o,v=this);for(var m=0,y=0;y<v.length;y++)l=(x.words[y]|0)-(v.words[y]|0)+m,m=l>>26,this.words[y]=l&67108863;for(;m!==0&&y<x.length;y++)l=(x.words[y]|0)+m,m=l>>26,this.words[y]=l&67108863;if(m===0&&y<x.length&&x!==this)for(;y<x.length;y++)this.words[y]=x.words[y];return this.length=Math.max(this.length,y),x!==this&&(this.negative=1),this._strip()},n.prototype.sub=function(o){return this.clone().isub(o)};function A(p,o,l){l.negative=o.negative^p.negative;var S=p.length+o.length|0;l.length=S,S=S-1|0;var x=p.words[0]|0,v=o.words[0]|0,m=x*v,y=m&67108863,k=m/67108864|0;l.words[0]=y;for(var w=1;w<S;w++){for(var T=k>>>26,ie=k&67108863,ve=Math.min(w,o.length-1),ce=Math.max(0,w-p.length+1);ce<=ve;ce++){var C=w-ce|0;x=p.words[C]|0,v=o.words[ce]|0,m=x*v+ie,T+=m/67108864|0,ie=m&67108863}l.words[w]=ie|0,k=T|0}return k!==0?l.words[w]=k|0:l.length--,l._strip()}var I=function(o,l,S){var x=o.words,v=l.words,m=S.words,y=0,k,w,T,ie=x[0]|0,ve=ie&8191,ce=ie>>>13,C=x[1]|0,B=C&8191,ee=C>>>13,z=x[2]|0,P=z&8191,O=z>>>13,se=x[3]|0,le=se&8191,ge=se>>>13,Ee=x[4]|0,me=Ee&8191,ye=Ee>>>13,Te=x[5]|0,we=Te&8191,Me=Te>>>13,Ne=x[6]|0,Re=Ne&8191,Oe=Ne>>>13,Ye=x[7]|0,Xe=Ye&8191,qe=Ye>>>13,ct=x[8]|0,rt=ct&8191,X=ct>>>13,q=x[9]|0,j=q&8191,ae=q>>>13,xe=v[0]|0,Se=xe&8191,_e=xe>>>13,Ze=v[1]|0,Qe=Ze&8191,je=Ze>>>13,vt=v[2]|0,et=vt&8191,at=vt>>>13,Rt=v[3]|0,yt=Rt&8191,ft=Rt>>>13,Vt=v[4]|0,xt=Vt&8191,te=Vt>>>13,W=v[5]|0,H=W&8191,fe=W>>>13,De=v[6]|0,L=De&8191,K=De>>>13,re=v[7]|0,F=re&8191,ne=re>>>13,Ae=v[8]|0,be=Ae&8191,Pe=Ae>>>13,Ke=v[9]|0,nt=Ke&8191,Ge=Ke>>>13;S.negative=o.negative^l.negative,S.length=19,k=Math.imul(ve,Se),w=Math.imul(ve,_e),w=w+Math.imul(ce,Se)|0,T=Math.imul(ce,_e);var Nt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,k=Math.imul(B,Se),w=Math.imul(B,_e),w=w+Math.imul(ee,Se)|0,T=Math.imul(ee,_e),k=k+Math.imul(ve,Qe)|0,w=w+Math.imul(ve,je)|0,w=w+Math.imul(ce,Qe)|0,T=T+Math.imul(ce,je)|0;var gt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(gt>>>26)|0,gt&=67108863,k=Math.imul(P,Se),w=Math.imul(P,_e),w=w+Math.imul(O,Se)|0,T=Math.imul(O,_e),k=k+Math.imul(B,Qe)|0,w=w+Math.imul(B,je)|0,w=w+Math.imul(ee,Qe)|0,T=T+Math.imul(ee,je)|0,k=k+Math.imul(ve,et)|0,w=w+Math.imul(ve,at)|0,w=w+Math.imul(ce,et)|0,T=T+Math.imul(ce,at)|0;var Mt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Mt>>>26)|0,Mt&=67108863,k=Math.imul(le,Se),w=Math.imul(le,_e),w=w+Math.imul(ge,Se)|0,T=Math.imul(ge,_e),k=k+Math.imul(P,Qe)|0,w=w+Math.imul(P,je)|0,w=w+Math.imul(O,Qe)|0,T=T+Math.imul(O,je)|0,k=k+Math.imul(B,et)|0,w=w+Math.imul(B,at)|0,w=w+Math.imul(ee,et)|0,T=T+Math.imul(ee,at)|0,k=k+Math.imul(ve,yt)|0,w=w+Math.imul(ve,ft)|0,w=w+Math.imul(ce,yt)|0,T=T+Math.imul(ce,ft)|0;var kt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(kt>>>26)|0,kt&=67108863,k=Math.imul(me,Se),w=Math.imul(me,_e),w=w+Math.imul(ye,Se)|0,T=Math.imul(ye,_e),k=k+Math.imul(le,Qe)|0,w=w+Math.imul(le,je)|0,w=w+Math.imul(ge,Qe)|0,T=T+Math.imul(ge,je)|0,k=k+Math.imul(P,et)|0,w=w+Math.imul(P,at)|0,w=w+Math.imul(O,et)|0,T=T+Math.imul(O,at)|0,k=k+Math.imul(B,yt)|0,w=w+Math.imul(B,ft)|0,w=w+Math.imul(ee,yt)|0,T=T+Math.imul(ee,ft)|0,k=k+Math.imul(ve,xt)|0,w=w+Math.imul(ve,te)|0,w=w+Math.imul(ce,xt)|0,T=T+Math.imul(ce,te)|0;var Ft=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Ft>>>26)|0,Ft&=67108863,k=Math.imul(we,Se),w=Math.imul(we,_e),w=w+Math.imul(Me,Se)|0,T=Math.imul(Me,_e),k=k+Math.imul(me,Qe)|0,w=w+Math.imul(me,je)|0,w=w+Math.imul(ye,Qe)|0,T=T+Math.imul(ye,je)|0,k=k+Math.imul(le,et)|0,w=w+Math.imul(le,at)|0,w=w+Math.imul(ge,et)|0,T=T+Math.imul(ge,at)|0,k=k+Math.imul(P,yt)|0,w=w+Math.imul(P,ft)|0,w=w+Math.imul(O,yt)|0,T=T+Math.imul(O,ft)|0,k=k+Math.imul(B,xt)|0,w=w+Math.imul(B,te)|0,w=w+Math.imul(ee,xt)|0,T=T+Math.imul(ee,te)|0,k=k+Math.imul(ve,H)|0,w=w+Math.imul(ve,fe)|0,w=w+Math.imul(ce,H)|0,T=T+Math.imul(ce,fe)|0;var Tt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,k=Math.imul(Re,Se),w=Math.imul(Re,_e),w=w+Math.imul(Oe,Se)|0,T=Math.imul(Oe,_e),k=k+Math.imul(we,Qe)|0,w=w+Math.imul(we,je)|0,w=w+Math.imul(Me,Qe)|0,T=T+Math.imul(Me,je)|0,k=k+Math.imul(me,et)|0,w=w+Math.imul(me,at)|0,w=w+Math.imul(ye,et)|0,T=T+Math.imul(ye,at)|0,k=k+Math.imul(le,yt)|0,w=w+Math.imul(le,ft)|0,w=w+Math.imul(ge,yt)|0,T=T+Math.imul(ge,ft)|0,k=k+Math.imul(P,xt)|0,w=w+Math.imul(P,te)|0,w=w+Math.imul(O,xt)|0,T=T+Math.imul(O,te)|0,k=k+Math.imul(B,H)|0,w=w+Math.imul(B,fe)|0,w=w+Math.imul(ee,H)|0,T=T+Math.imul(ee,fe)|0,k=k+Math.imul(ve,L)|0,w=w+Math.imul(ve,K)|0,w=w+Math.imul(ce,L)|0,T=T+Math.imul(ce,K)|0;var _t=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(_t>>>26)|0,_t&=67108863,k=Math.imul(Xe,Se),w=Math.imul(Xe,_e),w=w+Math.imul(qe,Se)|0,T=Math.imul(qe,_e),k=k+Math.imul(Re,Qe)|0,w=w+Math.imul(Re,je)|0,w=w+Math.imul(Oe,Qe)|0,T=T+Math.imul(Oe,je)|0,k=k+Math.imul(we,et)|0,w=w+Math.imul(we,at)|0,w=w+Math.imul(Me,et)|0,T=T+Math.imul(Me,at)|0,k=k+Math.imul(me,yt)|0,w=w+Math.imul(me,ft)|0,w=w+Math.imul(ye,yt)|0,T=T+Math.imul(ye,ft)|0,k=k+Math.imul(le,xt)|0,w=w+Math.imul(le,te)|0,w=w+Math.imul(ge,xt)|0,T=T+Math.imul(ge,te)|0,k=k+Math.imul(P,H)|0,w=w+Math.imul(P,fe)|0,w=w+Math.imul(O,H)|0,T=T+Math.imul(O,fe)|0,k=k+Math.imul(B,L)|0,w=w+Math.imul(B,K)|0,w=w+Math.imul(ee,L)|0,T=T+Math.imul(ee,K)|0,k=k+Math.imul(ve,F)|0,w=w+Math.imul(ve,ne)|0,w=w+Math.imul(ce,F)|0,T=T+Math.imul(ce,ne)|0;var Et=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Et>>>26)|0,Et&=67108863,k=Math.imul(rt,Se),w=Math.imul(rt,_e),w=w+Math.imul(X,Se)|0,T=Math.imul(X,_e),k=k+Math.imul(Xe,Qe)|0,w=w+Math.imul(Xe,je)|0,w=w+Math.imul(qe,Qe)|0,T=T+Math.imul(qe,je)|0,k=k+Math.imul(Re,et)|0,w=w+Math.imul(Re,at)|0,w=w+Math.imul(Oe,et)|0,T=T+Math.imul(Oe,at)|0,k=k+Math.imul(we,yt)|0,w=w+Math.imul(we,ft)|0,w=w+Math.imul(Me,yt)|0,T=T+Math.imul(Me,ft)|0,k=k+Math.imul(me,xt)|0,w=w+Math.imul(me,te)|0,w=w+Math.imul(ye,xt)|0,T=T+Math.imul(ye,te)|0,k=k+Math.imul(le,H)|0,w=w+Math.imul(le,fe)|0,w=w+Math.imul(ge,H)|0,T=T+Math.imul(ge,fe)|0,k=k+Math.imul(P,L)|0,w=w+Math.imul(P,K)|0,w=w+Math.imul(O,L)|0,T=T+Math.imul(O,K)|0,k=k+Math.imul(B,F)|0,w=w+Math.imul(B,ne)|0,w=w+Math.imul(ee,F)|0,T=T+Math.imul(ee,ne)|0,k=k+Math.imul(ve,be)|0,w=w+Math.imul(ve,Pe)|0,w=w+Math.imul(ce,be)|0,T=T+Math.imul(ce,Pe)|0;var At=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(At>>>26)|0,At&=67108863,k=Math.imul(j,Se),w=Math.imul(j,_e),w=w+Math.imul(ae,Se)|0,T=Math.imul(ae,_e),k=k+Math.imul(rt,Qe)|0,w=w+Math.imul(rt,je)|0,w=w+Math.imul(X,Qe)|0,T=T+Math.imul(X,je)|0,k=k+Math.imul(Xe,et)|0,w=w+Math.imul(Xe,at)|0,w=w+Math.imul(qe,et)|0,T=T+Math.imul(qe,at)|0,k=k+Math.imul(Re,yt)|0,w=w+Math.imul(Re,ft)|0,w=w+Math.imul(Oe,yt)|0,T=T+Math.imul(Oe,ft)|0,k=k+Math.imul(we,xt)|0,w=w+Math.imul(we,te)|0,w=w+Math.imul(Me,xt)|0,T=T+Math.imul(Me,te)|0,k=k+Math.imul(me,H)|0,w=w+Math.imul(me,fe)|0,w=w+Math.imul(ye,H)|0,T=T+Math.imul(ye,fe)|0,k=k+Math.imul(le,L)|0,w=w+Math.imul(le,K)|0,w=w+Math.imul(ge,L)|0,T=T+Math.imul(ge,K)|0,k=k+Math.imul(P,F)|0,w=w+Math.imul(P,ne)|0,w=w+Math.imul(O,F)|0,T=T+Math.imul(O,ne)|0,k=k+Math.imul(B,be)|0,w=w+Math.imul(B,Pe)|0,w=w+Math.imul(ee,be)|0,T=T+Math.imul(ee,Pe)|0,k=k+Math.imul(ve,nt)|0,w=w+Math.imul(ve,Ge)|0,w=w+Math.imul(ce,nt)|0,T=T+Math.imul(ce,Ge)|0;var dt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(dt>>>26)|0,dt&=67108863,k=Math.imul(j,Qe),w=Math.imul(j,je),w=w+Math.imul(ae,Qe)|0,T=Math.imul(ae,je),k=k+Math.imul(rt,et)|0,w=w+Math.imul(rt,at)|0,w=w+Math.imul(X,et)|0,T=T+Math.imul(X,at)|0,k=k+Math.imul(Xe,yt)|0,w=w+Math.imul(Xe,ft)|0,w=w+Math.imul(qe,yt)|0,T=T+Math.imul(qe,ft)|0,k=k+Math.imul(Re,xt)|0,w=w+Math.imul(Re,te)|0,w=w+Math.imul(Oe,xt)|0,T=T+Math.imul(Oe,te)|0,k=k+Math.imul(we,H)|0,w=w+Math.imul(we,fe)|0,w=w+Math.imul(Me,H)|0,T=T+Math.imul(Me,fe)|0,k=k+Math.imul(me,L)|0,w=w+Math.imul(me,K)|0,w=w+Math.imul(ye,L)|0,T=T+Math.imul(ye,K)|0,k=k+Math.imul(le,F)|0,w=w+Math.imul(le,ne)|0,w=w+Math.imul(ge,F)|0,T=T+Math.imul(ge,ne)|0,k=k+Math.imul(P,be)|0,w=w+Math.imul(P,Pe)|0,w=w+Math.imul(O,be)|0,T=T+Math.imul(O,Pe)|0,k=k+Math.imul(B,nt)|0,w=w+Math.imul(B,Ge)|0,w=w+Math.imul(ee,nt)|0,T=T+Math.imul(ee,Ge)|0;var bt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(bt>>>26)|0,bt&=67108863,k=Math.imul(j,et),w=Math.imul(j,at),w=w+Math.imul(ae,et)|0,T=Math.imul(ae,at),k=k+Math.imul(rt,yt)|0,w=w+Math.imul(rt,ft)|0,w=w+Math.imul(X,yt)|0,T=T+Math.imul(X,ft)|0,k=k+Math.imul(Xe,xt)|0,w=w+Math.imul(Xe,te)|0,w=w+Math.imul(qe,xt)|0,T=T+Math.imul(qe,te)|0,k=k+Math.imul(Re,H)|0,w=w+Math.imul(Re,fe)|0,w=w+Math.imul(Oe,H)|0,T=T+Math.imul(Oe,fe)|0,k=k+Math.imul(we,L)|0,w=w+Math.imul(we,K)|0,w=w+Math.imul(Me,L)|0,T=T+Math.imul(Me,K)|0,k=k+Math.imul(me,F)|0,w=w+Math.imul(me,ne)|0,w=w+Math.imul(ye,F)|0,T=T+Math.imul(ye,ne)|0,k=k+Math.imul(le,be)|0,w=w+Math.imul(le,Pe)|0,w=w+Math.imul(ge,be)|0,T=T+Math.imul(ge,Pe)|0,k=k+Math.imul(P,nt)|0,w=w+Math.imul(P,Ge)|0,w=w+Math.imul(O,nt)|0,T=T+Math.imul(O,Ge)|0;var ut=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(ut>>>26)|0,ut&=67108863,k=Math.imul(j,yt),w=Math.imul(j,ft),w=w+Math.imul(ae,yt)|0,T=Math.imul(ae,ft),k=k+Math.imul(rt,xt)|0,w=w+Math.imul(rt,te)|0,w=w+Math.imul(X,xt)|0,T=T+Math.imul(X,te)|0,k=k+Math.imul(Xe,H)|0,w=w+Math.imul(Xe,fe)|0,w=w+Math.imul(qe,H)|0,T=T+Math.imul(qe,fe)|0,k=k+Math.imul(Re,L)|0,w=w+Math.imul(Re,K)|0,w=w+Math.imul(Oe,L)|0,T=T+Math.imul(Oe,K)|0,k=k+Math.imul(we,F)|0,w=w+Math.imul(we,ne)|0,w=w+Math.imul(Me,F)|0,T=T+Math.imul(Me,ne)|0,k=k+Math.imul(me,be)|0,w=w+Math.imul(me,Pe)|0,w=w+Math.imul(ye,be)|0,T=T+Math.imul(ye,Pe)|0,k=k+Math.imul(le,nt)|0,w=w+Math.imul(le,Ge)|0,w=w+Math.imul(ge,nt)|0,T=T+Math.imul(ge,Ge)|0;var mt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(mt>>>26)|0,mt&=67108863,k=Math.imul(j,xt),w=Math.imul(j,te),w=w+Math.imul(ae,xt)|0,T=Math.imul(ae,te),k=k+Math.imul(rt,H)|0,w=w+Math.imul(rt,fe)|0,w=w+Math.imul(X,H)|0,T=T+Math.imul(X,fe)|0,k=k+Math.imul(Xe,L)|0,w=w+Math.imul(Xe,K)|0,w=w+Math.imul(qe,L)|0,T=T+Math.imul(qe,K)|0,k=k+Math.imul(Re,F)|0,w=w+Math.imul(Re,ne)|0,w=w+Math.imul(Oe,F)|0,T=T+Math.imul(Oe,ne)|0,k=k+Math.imul(we,be)|0,w=w+Math.imul(we,Pe)|0,w=w+Math.imul(Me,be)|0,T=T+Math.imul(Me,Pe)|0,k=k+Math.imul(me,nt)|0,w=w+Math.imul(me,Ge)|0,w=w+Math.imul(ye,nt)|0,T=T+Math.imul(ye,Ge)|0;var wt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(wt>>>26)|0,wt&=67108863,k=Math.imul(j,H),w=Math.imul(j,fe),w=w+Math.imul(ae,H)|0,T=Math.imul(ae,fe),k=k+Math.imul(rt,L)|0,w=w+Math.imul(rt,K)|0,w=w+Math.imul(X,L)|0,T=T+Math.imul(X,K)|0,k=k+Math.imul(Xe,F)|0,w=w+Math.imul(Xe,ne)|0,w=w+Math.imul(qe,F)|0,T=T+Math.imul(qe,ne)|0,k=k+Math.imul(Re,be)|0,w=w+Math.imul(Re,Pe)|0,w=w+Math.imul(Oe,be)|0,T=T+Math.imul(Oe,Pe)|0,k=k+Math.imul(we,nt)|0,w=w+Math.imul(we,Ge)|0,w=w+Math.imul(Me,nt)|0,T=T+Math.imul(Me,Ge)|0;var lt=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(lt>>>26)|0,lt&=67108863,k=Math.imul(j,L),w=Math.imul(j,K),w=w+Math.imul(ae,L)|0,T=Math.imul(ae,K),k=k+Math.imul(rt,F)|0,w=w+Math.imul(rt,ne)|0,w=w+Math.imul(X,F)|0,T=T+Math.imul(X,ne)|0,k=k+Math.imul(Xe,be)|0,w=w+Math.imul(Xe,Pe)|0,w=w+Math.imul(qe,be)|0,T=T+Math.imul(qe,Pe)|0,k=k+Math.imul(Re,nt)|0,w=w+Math.imul(Re,Ge)|0,w=w+Math.imul(Oe,nt)|0,T=T+Math.imul(Oe,Ge)|0;var Le=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(Le>>>26)|0,Le&=67108863,k=Math.imul(j,F),w=Math.imul(j,ne),w=w+Math.imul(ae,F)|0,T=Math.imul(ae,ne),k=k+Math.imul(rt,be)|0,w=w+Math.imul(rt,Pe)|0,w=w+Math.imul(X,be)|0,T=T+Math.imul(X,Pe)|0,k=k+Math.imul(Xe,nt)|0,w=w+Math.imul(Xe,Ge)|0,w=w+Math.imul(qe,nt)|0,T=T+Math.imul(qe,Ge)|0;var $e=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+($e>>>26)|0,$e&=67108863,k=Math.imul(j,be),w=Math.imul(j,Pe),w=w+Math.imul(ae,be)|0,T=Math.imul(ae,Pe),k=k+Math.imul(rt,nt)|0,w=w+Math.imul(rt,Ge)|0,w=w+Math.imul(X,nt)|0,T=T+Math.imul(X,Ge)|0;var it=(y+k|0)+((w&8191)<<13)|0;y=(T+(w>>>13)|0)+(it>>>26)|0,it&=67108863,k=Math.imul(j,nt),w=Math.imul(j,Ge),w=w+Math.imul(ae,nt)|0,T=Math.imul(ae,Ge);var Q=(y+k|0)+((w&8191)<<13)|0;return y=(T+(w>>>13)|0)+(Q>>>26)|0,Q&=67108863,m[0]=Nt,m[1]=gt,m[2]=Mt,m[3]=kt,m[4]=Ft,m[5]=Tt,m[6]=_t,m[7]=Et,m[8]=At,m[9]=dt,m[10]=bt,m[11]=ut,m[12]=mt,m[13]=wt,m[14]=lt,m[15]=Le,m[16]=$e,m[17]=it,m[18]=Q,y!==0&&(m[19]=y,S.length++),S};Math.imul||(I=A);function N(p,o,l){l.negative=o.negative^p.negative,l.length=p.length+o.length;for(var S=0,x=0,v=0;v<l.length-1;v++){var m=x;x=0;for(var y=S&67108863,k=Math.min(v,o.length-1),w=Math.max(0,v-p.length+1);w<=k;w++){var T=v-w,ie=p.words[T]|0,ve=o.words[w]|0,ce=ie*ve,C=ce&67108863;m=m+(ce/67108864|0)|0,C=C+y|0,y=C&67108863,m=m+(C>>>26)|0,x+=m>>>26,m&=67108863}l.words[v]=y,S=m,m=x}return S!==0?l.words[v]=S:l.length--,l._strip()}function $(p,o,l){return N(p,o,l)}n.prototype.mulTo=function(o,l){var S,x=this.length+o.length;return this.length===10&&o.length===10?S=I(this,o,l):x<63?S=A(this,o,l):x<1024?S=N(this,o,l):S=$(this,o,l),S},n.prototype.mul=function(o){var l=new n(null);return l.words=new Array(this.length+o.length),this.mulTo(o,l)},n.prototype.mulf=function(o){var l=new n(null);return l.words=new Array(this.length+o.length),$(this,o,l)},n.prototype.imul=function(o){return this.clone().mulTo(o,this)},n.prototype.imuln=function(o){var l=o<0;l&&(o=-o),r(typeof o=="number"),r(o<67108864);for(var S=0,x=0;x<this.length;x++){var v=(this.words[x]|0)*o,m=(v&67108863)+(S&67108863);S>>=26,S+=v/67108864|0,S+=m>>>26,this.words[x]=m&67108863}return S!==0&&(this.words[x]=S,this.length++),this.length=o===0?1:this.length,l?this.ineg():this},n.prototype.muln=function(o){return this.clone().imuln(o)},n.prototype.sqr=function(){return this.mul(this)},n.prototype.isqr=function(){return this.imul(this.clone())},n.prototype.pow=function(o){var l=R(o);if(l.length===0)return new n(1);for(var S=this,x=0;x<l.length&&l[x]===0;x++,S=S.sqr());if(++x<l.length)for(var v=S.sqr();x<l.length;x++,v=v.sqr())l[x]!==0&&(S=S.mul(v));return S},n.prototype.iushln=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26,x=67108863>>>26-l<<26-l,v;if(l!==0){var m=0;for(v=0;v<this.length;v++){var y=this.words[v]&x,k=(this.words[v]|0)-y<<l;this.words[v]=k|m,m=y>>>26-l}m&&(this.words[v]=m,this.length++)}if(S!==0){for(v=this.length-1;v>=0;v--)this.words[v+S]=this.words[v];for(v=0;v<S;v++)this.words[v]=0;this.length+=S}return this._strip()},n.prototype.ishln=function(o){return r(this.negative===0),this.iushln(o)},n.prototype.iushrn=function(o,l,S){r(typeof o=="number"&&o>=0);var x;l?x=(l-l%26)/26:x=0;var v=o%26,m=Math.min((o-v)/26,this.length),y=67108863^67108863>>>v<<v,k=S;if(x-=m,x=Math.max(0,x),k){for(var w=0;w<m;w++)k.words[w]=this.words[w];k.length=m}if(m!==0)if(this.length>m)for(this.length-=m,w=0;w<this.length;w++)this.words[w]=this.words[w+m];else this.words[0]=0,this.length=1;var T=0;for(w=this.length-1;w>=0&&(T!==0||w>=x);w--){var ie=this.words[w]|0;this.words[w]=T<<26-v|ie>>>v,T=ie&y}return k&&T!==0&&(k.words[k.length++]=T),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},n.prototype.ishrn=function(o,l,S){return r(this.negative===0),this.iushrn(o,l,S)},n.prototype.shln=function(o){return this.clone().ishln(o)},n.prototype.ushln=function(o){return this.clone().iushln(o)},n.prototype.shrn=function(o){return this.clone().ishrn(o)},n.prototype.ushrn=function(o){return this.clone().iushrn(o)},n.prototype.testn=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26,x=1<<l;if(this.length<=S)return!1;var v=this.words[S];return!!(v&x)},n.prototype.imaskn=function(o){r(typeof o=="number"&&o>=0);var l=o%26,S=(o-l)/26;if(r(this.negative===0,"imaskn works only with positive numbers"),this.length<=S)return this;if(l!==0&&S++,this.length=Math.min(S,this.length),l!==0){var x=67108863^67108863>>>l<<l;this.words[this.length-1]&=x}return this._strip()},n.prototype.maskn=function(o){return this.clone().imaskn(o)},n.prototype.iaddn=function(o){return r(typeof o=="number"),r(o<67108864),o<0?this.isubn(-o):this.negative!==0?this.length===1&&(this.words[0]|0)<=o?(this.words[0]=o-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(o),this.negative=1,this):this._iaddn(o)},n.prototype._iaddn=function(o){this.words[0]+=o;for(var l=0;l<this.length&&this.words[l]>=67108864;l++)this.words[l]-=67108864,l===this.length-1?this.words[l+1]=1:this.words[l+1]++;return this.length=Math.max(this.length,l+1),this},n.prototype.isubn=function(o){if(r(typeof o=="number"),r(o<67108864),o<0)return this.iaddn(-o);if(this.negative!==0)return this.negative=0,this.iaddn(o),this.negative=1,this;if(this.words[0]-=o,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var l=0;l<this.length&&this.words[l]<0;l++)this.words[l]+=67108864,this.words[l+1]-=1;return this._strip()},n.prototype.addn=function(o){return this.clone().iaddn(o)},n.prototype.subn=function(o){return this.clone().isubn(o)},n.prototype.iabs=function(){return this.negative=0,this},n.prototype.abs=function(){return this.clone().iabs()},n.prototype._ishlnsubmul=function(o,l,S){var x=o.length+S,v;this._expand(x);var m,y=0;for(v=0;v<o.length;v++){m=(this.words[v+S]|0)+y;var k=(o.words[v]|0)*l;m-=k&67108863,y=(m>>26)-(k/67108864|0),this.words[v+S]=m&67108863}for(;v<this.length-S;v++)m=(this.words[v+S]|0)+y,y=m>>26,this.words[v+S]=m&67108863;if(y===0)return this._strip();for(r(y===-1),y=0,v=0;v<this.length;v++)m=-(this.words[v]|0)+y,y=m>>26,this.words[v]=m&67108863;return this.negative=1,this._strip()},n.prototype._wordDiv=function(o,l){var S=this.length-o.length,x=this.clone(),v=o,m=v.words[v.length-1]|0,y=this._countBits(m);S=26-y,S!==0&&(v=v.ushln(S),x.iushln(S),m=v.words[v.length-1]|0);var k=x.length-v.length,w;if(l!=="mod"){w=new n(null),w.length=k+1,w.words=new Array(w.length);for(var T=0;T<w.length;T++)w.words[T]=0}var ie=x.clone()._ishlnsubmul(v,1,k);ie.negative===0&&(x=ie,w&&(w.words[k]=1));for(var ve=k-1;ve>=0;ve--){var ce=(x.words[v.length+ve]|0)*67108864+(x.words[v.length+ve-1]|0);for(ce=Math.min(ce/m|0,67108863),x._ishlnsubmul(v,ce,ve);x.negative!==0;)ce--,x.negative=0,x._ishlnsubmul(v,1,ve),x.isZero()||(x.negative^=1);w&&(w.words[ve]=ce)}return w&&w._strip(),x._strip(),l!=="div"&&S!==0&&x.iushrn(S),{div:w||null,mod:x}},n.prototype.divmod=function(o,l,S){if(r(!o.isZero()),this.isZero())return{div:new n(0),mod:new n(0)};var x,v,m;return this.negative!==0&&o.negative===0?(m=this.neg().divmod(o,l),l!=="mod"&&(x=m.div.neg()),l!=="div"&&(v=m.mod.neg(),S&&v.negative!==0&&v.iadd(o)),{div:x,mod:v}):this.negative===0&&o.negative!==0?(m=this.divmod(o.neg(),l),l!=="mod"&&(x=m.div.neg()),{div:x,mod:m.mod}):(this.negative&o.negative)!==0?(m=this.neg().divmod(o.neg(),l),l!=="div"&&(v=m.mod.neg(),S&&v.negative!==0&&v.isub(o)),{div:m.div,mod:v}):o.length>this.length||this.cmp(o)<0?{div:new n(0),mod:this}:o.length===1?l==="div"?{div:this.divn(o.words[0]),mod:null}:l==="mod"?{div:null,mod:new n(this.modrn(o.words[0]))}:{div:this.divn(o.words[0]),mod:new n(this.modrn(o.words[0]))}:this._wordDiv(o,l)},n.prototype.div=function(o){return this.divmod(o,"div",!1).div},n.prototype.mod=function(o){return this.divmod(o,"mod",!1).mod},n.prototype.umod=function(o){return this.divmod(o,"mod",!0).mod},n.prototype.divRound=function(o){var l=this.divmod(o);if(l.mod.isZero())return l.div;var S=l.div.negative!==0?l.mod.isub(o):l.mod,x=o.ushrn(1),v=o.andln(1),m=S.cmp(x);return m<0||v===1&&m===0?l.div:l.div.negative!==0?l.div.isubn(1):l.div.iaddn(1)},n.prototype.modrn=function(o){var l=o<0;l&&(o=-o),r(o<=67108863);for(var S=(1<<26)%o,x=0,v=this.length-1;v>=0;v--)x=(S*x+(this.words[v]|0))%o;return l?-x:x},n.prototype.modn=function(o){return this.modrn(o)},n.prototype.idivn=function(o){var l=o<0;l&&(o=-o),r(o<=67108863);for(var S=0,x=this.length-1;x>=0;x--){var v=(this.words[x]|0)+S*67108864;this.words[x]=v/o|0,S=v%o}return this._strip(),l?this.ineg():this},n.prototype.divn=function(o){return this.clone().idivn(o)},n.prototype.egcd=function(o){r(o.negative===0),r(!o.isZero());var l=this,S=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var x=new n(1),v=new n(0),m=new n(0),y=new n(1),k=0;l.isEven()&&S.isEven();)l.iushrn(1),S.iushrn(1),++k;for(var w=S.clone(),T=l.clone();!l.isZero();){for(var ie=0,ve=1;(l.words[0]&ve)===0&&ie<26;++ie,ve<<=1);if(ie>0)for(l.iushrn(ie);ie-- >0;)(x.isOdd()||v.isOdd())&&(x.iadd(w),v.isub(T)),x.iushrn(1),v.iushrn(1);for(var ce=0,C=1;(S.words[0]&C)===0&&ce<26;++ce,C<<=1);if(ce>0)for(S.iushrn(ce);ce-- >0;)(m.isOdd()||y.isOdd())&&(m.iadd(w),y.isub(T)),m.iushrn(1),y.iushrn(1);l.cmp(S)>=0?(l.isub(S),x.isub(m),v.isub(y)):(S.isub(l),m.isub(x),y.isub(v))}return{a:m,b:y,gcd:S.iushln(k)}},n.prototype._invmp=function(o){r(o.negative===0),r(!o.isZero());var l=this,S=o.clone();l.negative!==0?l=l.umod(o):l=l.clone();for(var x=new n(1),v=new n(0),m=S.clone();l.cmpn(1)>0&&S.cmpn(1)>0;){for(var y=0,k=1;(l.words[0]&k)===0&&y<26;++y,k<<=1);if(y>0)for(l.iushrn(y);y-- >0;)x.isOdd()&&x.iadd(m),x.iushrn(1);for(var w=0,T=1;(S.words[0]&T)===0&&w<26;++w,T<<=1);if(w>0)for(S.iushrn(w);w-- >0;)v.isOdd()&&v.iadd(m),v.iushrn(1);l.cmp(S)>=0?(l.isub(S),x.isub(v)):(S.isub(l),v.isub(x))}var ie;return l.cmpn(1)===0?ie=x:ie=v,ie.cmpn(0)<0&&ie.iadd(o),ie},n.prototype.gcd=function(o){if(this.isZero())return o.abs();if(o.isZero())return this.abs();var l=this.clone(),S=o.clone();l.negative=0,S.negative=0;for(var x=0;l.isEven()&&S.isEven();x++)l.iushrn(1),S.iushrn(1);do{for(;l.isEven();)l.iushrn(1);for(;S.isEven();)S.iushrn(1);var v=l.cmp(S);if(v<0){var m=l;l=S,S=m}else if(v===0||S.cmpn(1)===0)break;l.isub(S)}while(!0);return S.iushln(x)},n.prototype.invm=function(o){return this.egcd(o).a.umod(o)},n.prototype.isEven=function(){return(this.words[0]&1)===0},n.prototype.isOdd=function(){return(this.words[0]&1)===1},n.prototype.andln=function(o){return this.words[0]&o},n.prototype.bincn=function(o){r(typeof o=="number");var l=o%26,S=(o-l)/26,x=1<<l;if(this.length<=S)return this._expand(S+1),this.words[S]|=x,this;for(var v=x,m=S;v!==0&&m<this.length;m++){var y=this.words[m]|0;y+=v,v=y>>>26,y&=67108863,this.words[m]=y}return v!==0&&(this.words[m]=v,this.length++),this},n.prototype.isZero=function(){return this.length===1&&this.words[0]===0},n.prototype.cmpn=function(o){var l=o<0;if(this.negative!==0&&!l)return-1;if(this.negative===0&&l)return 1;this._strip();var S;if(this.length>1)S=1;else{l&&(o=-o),r(o<=67108863,"Number is too big");var x=this.words[0]|0;S=x===o?0:x<o?-1:1}return this.negative!==0?-S|0:S},n.prototype.cmp=function(o){if(this.negative!==0&&o.negative===0)return-1;if(this.negative===0&&o.negative!==0)return 1;var l=this.ucmp(o);return this.negative!==0?-l|0:l},n.prototype.ucmp=function(o){if(this.length>o.length)return 1;if(this.length<o.length)return-1;for(var l=0,S=this.length-1;S>=0;S--){var x=this.words[S]|0,v=o.words[S]|0;if(x!==v){x<v?l=-1:x>v&&(l=1);break}}return l},n.prototype.gtn=function(o){return this.cmpn(o)===1},n.prototype.gt=function(o){return this.cmp(o)===1},n.prototype.gten=function(o){return this.cmpn(o)>=0},n.prototype.gte=function(o){return this.cmp(o)>=0},n.prototype.ltn=function(o){return this.cmpn(o)===-1},n.prototype.lt=function(o){return this.cmp(o)===-1},n.prototype.lten=function(o){return this.cmpn(o)<=0},n.prototype.lte=function(o){return this.cmp(o)<=0},n.prototype.eqn=function(o){return this.cmpn(o)===0},n.prototype.eq=function(o){return this.cmp(o)===0},n.red=function(o){return new E(o)},n.prototype.toRed=function(o){return r(!this.red,"Already a number in reduction context"),r(this.negative===0,"red works only with positives"),o.convertTo(this)._forceRed(o)},n.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},n.prototype._forceRed=function(o){return this.red=o,this},n.prototype.forceRed=function(o){return r(!this.red,"Already a number in reduction context"),this._forceRed(o)},n.prototype.redAdd=function(o){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,o)},n.prototype.redIAdd=function(o){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,o)},n.prototype.redSub=function(o){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,o)},n.prototype.redISub=function(o){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,o)},n.prototype.redShl=function(o){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,o)},n.prototype.redMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.mul(this,o)},n.prototype.redIMul=function(o){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,o),this.red.imul(this,o)},n.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},n.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},n.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},n.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},n.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},n.prototype.redPow=function(o){return r(this.red&&!o.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,o)};var V={k256:null,p224:null,p192:null,p25519:null};function U(p,o){this.name=p,this.p=new n(o,16),this.n=this.p.bitLength(),this.k=new n(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}U.prototype._tmp=function(){var o=new n(null);return o.words=new Array(Math.ceil(this.n/13)),o},U.prototype.ireduce=function(o){var l=o,S;do this.split(l,this.tmp),l=this.imulK(l),l=l.iadd(this.tmp),S=l.bitLength();while(S>this.n);var x=S<this.n?-1:l.ucmp(this.p);return x===0?(l.words[0]=0,l.length=1):x>0?l.isub(this.p):l.strip!==void 0?l.strip():l._strip(),l},U.prototype.split=function(o,l){o.iushrn(this.n,0,l)},U.prototype.imulK=function(o){return o.imul(this.k)};function J(){U.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}a(J,U),J.prototype.split=function(o,l){for(var S=4194303,x=Math.min(o.length,9),v=0;v<x;v++)l.words[v]=o.words[v];if(l.length=x,o.length<=9){o.words[0]=0,o.length=1;return}var m=o.words[9];for(l.words[l.length++]=m&S,v=10;v<o.length;v++){var y=o.words[v]|0;o.words[v-10]=(y&S)<<4|m>>>22,m=y}m>>>=22,o.words[v-10]=m,m===0&&o.length>10?o.length-=10:o.length-=9},J.prototype.imulK=function(o){o.words[o.length]=0,o.words[o.length+1]=0,o.length+=2;for(var l=0,S=0;S<o.length;S++){var x=o.words[S]|0;l+=x*977,o.words[S]=l&67108863,l=x*64+(l/67108864|0)}return o.words[o.length-1]===0&&(o.length--,o.words[o.length-1]===0&&o.length--),o};function Y(){U.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}a(Y,U);function oe(){U.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}a(oe,U);function G(){U.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}a(G,U),G.prototype.imulK=function(o){for(var l=0,S=0;S<o.length;S++){var x=(o.words[S]|0)*19+l,v=x&67108863;x>>>=26,o.words[S]=v,l=x}return l!==0&&(o.words[o.length++]=l),o},n._prime=function(o){if(V[o])return V[o];var l;if(o==="k256")l=new J;else if(o==="p224")l=new Y;else if(o==="p192")l=new oe;else if(o==="p25519")l=new G;else throw new Error("Unknown prime "+o);return V[o]=l,l};function E(p){if(typeof p=="string"){var o=n._prime(p);this.m=o.p,this.prime=o}else r(p.gtn(1),"modulus must be greater than 1"),this.m=p,this.prime=null}E.prototype._verify1=function(o){r(o.negative===0,"red works only with positives"),r(o.red,"red works only with red numbers")},E.prototype._verify2=function(o,l){r((o.negative|l.negative)===0,"red works only with positives"),r(o.red&&o.red===l.red,"red works only with red numbers")},E.prototype.imod=function(o){return this.prime?this.prime.ireduce(o)._forceRed(this):(f(o,o.umod(this.m)._forceRed(this)),o)},E.prototype.neg=function(o){return o.isZero()?o.clone():this.m.sub(o)._forceRed(this)},E.prototype.add=function(o,l){this._verify2(o,l);var S=o.add(l);return S.cmp(this.m)>=0&&S.isub(this.m),S._forceRed(this)},E.prototype.iadd=function(o,l){this._verify2(o,l);var S=o.iadd(l);return S.cmp(this.m)>=0&&S.isub(this.m),S},E.prototype.sub=function(o,l){this._verify2(o,l);var S=o.sub(l);return S.cmpn(0)<0&&S.iadd(this.m),S._forceRed(this)},E.prototype.isub=function(o,l){this._verify2(o,l);var S=o.isub(l);return S.cmpn(0)<0&&S.iadd(this.m),S},E.prototype.shl=function(o,l){return this._verify1(o),this.imod(o.ushln(l))},E.prototype.imul=function(o,l){return this._verify2(o,l),this.imod(o.imul(l))},E.prototype.mul=function(o,l){return this._verify2(o,l),this.imod(o.mul(l))},E.prototype.isqr=function(o){return this.imul(o,o.clone())},E.prototype.sqr=function(o){return this.mul(o,o)},E.prototype.sqrt=function(o){if(o.isZero())return o.clone();var l=this.m.andln(3);if(r(l%2===1),l===3){var S=this.m.add(new n(1)).iushrn(2);return this.pow(o,S)}for(var x=this.m.subn(1),v=0;!x.isZero()&&x.andln(1)===0;)v++,x.iushrn(1);r(!x.isZero());var m=new n(1).toRed(this),y=m.redNeg(),k=this.m.subn(1).iushrn(1),w=this.m.bitLength();for(w=new n(2*w*w).toRed(this);this.pow(w,k).cmp(y)!==0;)w.redIAdd(y);for(var T=this.pow(w,x),ie=this.pow(o,x.addn(1).iushrn(1)),ve=this.pow(o,x),ce=v;ve.cmp(m)!==0;){for(var C=ve,B=0;C.cmp(m)!==0;B++)C=C.redSqr();r(B<ce);var ee=this.pow(T,new n(1).iushln(ce-B-1));ie=ie.redMul(ee),T=ee.redSqr(),ve=ve.redMul(T),ce=B}return ie},E.prototype.invm=function(o){var l=o._invmp(this.m);return l.negative!==0?(l.negative=0,this.imod(l).redNeg()):this.imod(l)},E.prototype.pow=function(o,l){if(l.isZero())return new n(1).toRed(this);if(l.cmpn(1)===0)return o.clone();var S=4,x=new Array(1<<S);x[0]=new n(1).toRed(this),x[1]=o;for(var v=2;v<x.length;v++)x[v]=this.mul(x[v-1],o);var m=x[0],y=0,k=0,w=l.bitLength()%26;for(w===0&&(w=26),v=l.length-1;v>=0;v--){for(var T=l.words[v],ie=w-1;ie>=0;ie--){var ve=T>>ie&1;if(m!==x[0]&&(m=this.sqr(m)),ve===0&&y===0){k=0;continue}y<<=1,y|=ve,k++,!(k!==S&&(v!==0||ie!==0))&&(m=this.mul(m,x[y]),k=0,y=0)}w=26}return m},E.prototype.convertTo=function(o){var l=o.umod(this.m);return l===o?l.clone():l},E.prototype.convertFrom=function(o){var l=o.clone();return l.red=null,l},n.mont=function(o){return new d(o)};function d(p){E.call(this,p),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new n(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}a(d,E),d.prototype.convertTo=function(o){return this.imod(o.ushln(this.shift))},d.prototype.convertFrom=function(o){var l=this.imod(o.mul(this.rinv));return l.red=null,l},d.prototype.imul=function(o,l){if(o.isZero()||l.isZero())return o.words[0]=0,o.length=1,o;var S=o.imul(l),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=S.isub(x).iushrn(this.shift),m=v;return v.cmp(this.m)>=0?m=v.isub(this.m):v.cmpn(0)<0&&(m=v.iadd(this.m)),m._forceRed(this)},d.prototype.mul=function(o,l){if(o.isZero()||l.isZero())return new n(0)._forceRed(this);var S=o.mul(l),x=S.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),v=S.isub(x).iushrn(this.shift),m=v;return v.cmp(this.m)>=0?m=v.isub(this.m):v.cmpn(0)<0&&(m=v.iadd(this.m)),m._forceRed(this)},d.prototype.invm=function(o){var l=this.imod(o._invmp(this.m).mul(this.r2));return l._forceRed(this)}})(i,xS)})(uf)),uf.exports}var zr={},bd={},xd={},ky;function SS(){return ky||(ky=1,(function(i){var e=Ec(),t=Ut(),r=i;r.define=function(s,c){return new a(s,c)};function a(n,s){this.name=n,this.body=s,this.decoders={},this.encoders={}}a.prototype._createNamed=function(s){var c;try{c=Ia.runInThisContext("(function "+this.name+`(entity) {
  this._initNamed(entity);
})`)}catch{c=function(h){this._initNamed(h)}}return t(c,s),c.prototype._initNamed=function(h){s.call(this,h)},new c(this)},a.prototype._getDecoder=function(s){return s=s||"der",this.decoders.hasOwnProperty(s)||(this.decoders[s]=this._createNamed(e.decoders[s])),this.decoders[s]},a.prototype.decode=function(s,c,u){return this._getDecoder(c).decode(s,u)},a.prototype._getEncoder=function(s){return s=s||"der",this.encoders.hasOwnProperty(s)||(this.encoders[s]=this._createNamed(e.encoders[s])),this.encoders[s]},a.prototype.encode=function(s,c,u){return this._getEncoder(c).encode(s,u)}})(xd)),xd}var Sd={},Ed={},Iy;function ES(){if(Iy)return Ed;Iy=1;var i=Ut();function e(r){this._reporterState={obj:null,path:[],options:r||{},errors:[]}}Ed.Reporter=e,e.prototype.isError=function(a){return a instanceof t},e.prototype.save=function(){var a=this._reporterState;return{obj:a.obj,pathLen:a.path.length}},e.prototype.restore=function(a){var n=this._reporterState;n.obj=a.obj,n.path=n.path.slice(0,a.pathLen)},e.prototype.enterKey=function(a){return this._reporterState.path.push(a)},e.prototype.exitKey=function(a){var n=this._reporterState;n.path=n.path.slice(0,a-1)},e.prototype.leaveKey=function(a,n,s){var c=this._reporterState;this.exitKey(a),c.obj!==null&&(c.obj[n]=s)},e.prototype.path=function(){return this._reporterState.path.join("/")},e.prototype.enterObject=function(){var a=this._reporterState,n=a.obj;return a.obj={},n},e.prototype.leaveObject=function(a){var n=this._reporterState,s=n.obj;return n.obj=a,s},e.prototype.error=function(a){var n,s=this._reporterState,c=a instanceof t;if(c?n=a:n=new t(s.path.map(function(u){return"["+JSON.stringify(u)+"]"}).join(""),a.message||a,a.stack),!s.options.partial)throw n;return c||s.errors.push(n),n},e.prototype.wrapResult=function(a){var n=this._reporterState;return n.options.partial?{result:this.isError(a)?null:a,errors:n.errors}:a};function t(r,a){this.path=r,this.rethrow(a)}return i(t,Error),t.prototype.rethrow=function(a){if(this.message=a+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,t),!this.stack)try{throw new Error(this.message)}catch(n){this.stack=n.stack}return this},Ed}var Gc={},Dy;function Ry(){if(Dy)return Gc;Dy=1;var i=Ut(),e=ks().Reporter,t=Ar().Buffer;function r(n,s){if(e.call(this,s),!t.isBuffer(n)){this.error("Input not Buffer");return}this.base=n,this.offset=0,this.length=n.length}i(r,e),Gc.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:e.prototype.save.call(this)}},r.prototype.restore=function(s){var c=new r(this.base);return c.offset=s.offset,c.length=this.offset,this.offset=s.offset,e.prototype.restore.call(this,s.reporter),c},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(s){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(s||"DecoderBuffer overrun")},r.prototype.skip=function(s,c){if(!(this.offset+s<=this.length))return this.error(c||"DecoderBuffer overrun");var u=new r(this.base);return u._reporterState=this._reporterState,u.offset=this.offset,u.length=this.offset+s,this.offset+=s,u},r.prototype.raw=function(s){return this.base.slice(s?s.offset:this.offset,this.length)};function a(n,s){if(Array.isArray(n))this.length=0,this.value=n.map(function(c){return c instanceof a||(c=new a(c,s)),this.length+=c.length,c},this);else if(typeof n=="number"){if(!(0<=n&&n<=255))return s.error("non-byte EncoderBuffer value");this.value=n,this.length=1}else if(typeof n=="string")this.value=n,this.length=t.byteLength(n);else if(t.isBuffer(n))this.value=n,this.length=n.length;else return s.error("Unsupported type: "+typeof n)}return Gc.EncoderBuffer=a,a.prototype.join=function(s,c){return s||(s=new t(this.length)),c||(c=0),this.length===0||(Array.isArray(this.value)?this.value.forEach(function(u){u.join(s,c),c+=u.length}):(typeof this.value=="number"?s[c]=this.value:typeof this.value=="string"?s.write(this.value,c):t.isBuffer(this.value)&&this.value.copy(s,c),c+=this.length)),s},Gc}var Md,Ty;function MS(){if(Ty)return Md;Ty=1;var i=ks().Reporter,e=ks().EncoderBuffer,t=ks().DecoderBuffer,r=Yr(),a=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],n=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(a),s=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];function c(h,f){var g={};this._baseState=g,g.enc=h,g.parent=f||null,g.children=null,g.tag=null,g.args=null,g.reverseArgs=null,g.choice=null,g.optional=!1,g.any=!1,g.obj=!1,g.use=null,g.useDecoder=null,g.key=null,g.default=null,g.explicit=null,g.implicit=null,g.contains=null,g.parent||(g.children=[],this._wrap())}Md=c;var u=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];return c.prototype.clone=function(){var f=this._baseState,g={};u.forEach(function(M){g[M]=f[M]});var b=new this.constructor(g.parent);return b._baseState=g,b},c.prototype._wrap=function(){var f=this._baseState;n.forEach(function(g){this[g]=function(){var M=new this.constructor(this);return f.children.push(M),M[g].apply(M,arguments)}},this)},c.prototype._init=function(f){var g=this._baseState;r(g.parent===null),f.call(this),g.children=g.children.filter(function(b){return b._baseState.parent===this},this),r.equal(g.children.length,1,"Root node can have only one child")},c.prototype._useArgs=function(f){var g=this._baseState,b=f.filter(function(M){return M instanceof this.constructor},this);f=f.filter(function(M){return!(M instanceof this.constructor)},this),b.length!==0&&(r(g.children===null),g.children=b,b.forEach(function(M){M._baseState.parent=this},this)),f.length!==0&&(r(g.args===null),g.args=f,g.reverseArgs=f.map(function(M){if(typeof M!="object"||M.constructor!==Object)return M;var _={};return Object.keys(M).forEach(function(D){D==(D|0)&&(D|=0);var R=M[D];_[R]=D}),_}))},s.forEach(function(h){c.prototype[h]=function(){var g=this._baseState;throw new Error(h+" not implemented for encoding: "+g.enc)}}),a.forEach(function(h){c.prototype[h]=function(){var g=this._baseState,b=Array.prototype.slice.call(arguments);return r(g.tag===null),g.tag=h,this._useArgs(b),this}}),c.prototype.use=function(f){r(f);var g=this._baseState;return r(g.use===null),g.use=f,this},c.prototype.optional=function(){var f=this._baseState;return f.optional=!0,this},c.prototype.def=function(f){var g=this._baseState;return r(g.default===null),g.default=f,g.optional=!0,this},c.prototype.explicit=function(f){var g=this._baseState;return r(g.explicit===null&&g.implicit===null),g.explicit=f,this},c.prototype.implicit=function(f){var g=this._baseState;return r(g.explicit===null&&g.implicit===null),g.implicit=f,this},c.prototype.obj=function(){var f=this._baseState,g=Array.prototype.slice.call(arguments);return f.obj=!0,g.length!==0&&this._useArgs(g),this},c.prototype.key=function(f){var g=this._baseState;return r(g.key===null),g.key=f,this},c.prototype.any=function(){var f=this._baseState;return f.any=!0,this},c.prototype.choice=function(f){var g=this._baseState;return r(g.choice===null),g.choice=f,this._useArgs(Object.keys(f).map(function(b){return f[b]})),this},c.prototype.contains=function(f){var g=this._baseState;return r(g.use===null),g.contains=f,this},c.prototype._decode=function(f,g){var b=this._baseState;if(b.parent===null)return f.wrapResult(b.children[0]._decode(f,g));var M=b.default,_=!0,D=null;if(b.key!==null&&(D=f.enterKey(b.key)),b.optional){var R=null;if(b.explicit!==null?R=b.explicit:b.implicit!==null?R=b.implicit:b.tag!==null&&(R=b.tag),R===null&&!b.any){var A=f.save();try{b.choice===null?this._decodeGeneric(b.tag,f,g):this._decodeChoice(f,g),_=!0}catch{_=!1}f.restore(A)}else if(_=this._peekTag(f,R,b.any),f.isError(_))return _}var I;if(b.obj&&_&&(I=f.enterObject()),_){if(b.explicit!==null){var N=this._decodeTag(f,b.explicit);if(f.isError(N))return N;f=N}var $=f.offset;if(b.use===null&&b.choice===null){if(b.any)var A=f.save();var V=this._decodeTag(f,b.implicit!==null?b.implicit:b.tag,b.any);if(f.isError(V))return V;b.any?M=f.raw(A):f=V}if(g&&g.track&&b.tag!==null&&g.track(f.path(),$,f.length,"tagged"),g&&g.track&&b.tag!==null&&g.track(f.path(),f.offset,f.length,"content"),b.any?M=M:b.choice===null?M=this._decodeGeneric(b.tag,f,g):M=this._decodeChoice(f,g),f.isError(M))return M;if(!b.any&&b.choice===null&&b.children!==null&&b.children.forEach(function(Y){Y._decode(f,g)}),b.contains&&(b.tag==="octstr"||b.tag==="bitstr")){var U=new t(M);M=this._getUse(b.contains,f._reporterState.obj)._decode(U,g)}}return b.obj&&_&&(M=f.leaveObject(I)),b.key!==null&&(M!==null||_===!0)?f.leaveKey(D,b.key,M):D!==null&&f.exitKey(D),M},c.prototype._decodeGeneric=function(f,g,b){var M=this._baseState;return f==="seq"||f==="set"?null:f==="seqof"||f==="setof"?this._decodeList(g,f,M.args[0],b):/str$/.test(f)?this._decodeStr(g,f,b):f==="objid"&&M.args?this._decodeObjid(g,M.args[0],M.args[1],b):f==="objid"?this._decodeObjid(g,null,null,b):f==="gentime"||f==="utctime"?this._decodeTime(g,f,b):f==="null_"?this._decodeNull(g,b):f==="bool"?this._decodeBool(g,b):f==="objDesc"?this._decodeStr(g,f,b):f==="int"||f==="enum"?this._decodeInt(g,M.args&&M.args[0],b):M.use!==null?this._getUse(M.use,g._reporterState.obj)._decode(g,b):g.error("unknown tag: "+f)},c.prototype._getUse=function(f,g){var b=this._baseState;return b.useDecoder=this._use(f,g),r(b.useDecoder._baseState.parent===null),b.useDecoder=b.useDecoder._baseState.children[0],b.implicit!==b.useDecoder._baseState.implicit&&(b.useDecoder=b.useDecoder.clone(),b.useDecoder._baseState.implicit=b.implicit),b.useDecoder},c.prototype._decodeChoice=function(f,g){var b=this._baseState,M=null,_=!1;return Object.keys(b.choice).some(function(D){var R=f.save(),A=b.choice[D];try{var I=A._decode(f,g);if(f.isError(I))return!1;M={type:D,value:I},_=!0}catch{return f.restore(R),!1}return!0},this),_?M:f.error("Choice not matched")},c.prototype._createEncoderBuffer=function(f){return new e(f,this.reporter)},c.prototype._encode=function(f,g,b){var M=this._baseState;if(!(M.default!==null&&M.default===f)){var _=this._encodeValue(f,g,b);if(_!==void 0&&!this._skipDefault(_,g,b))return _}},c.prototype._encodeValue=function(f,g,b){var M=this._baseState;if(M.parent===null)return M.children[0]._encode(f,g||new i);var A=null;if(this.reporter=g,M.optional&&f===void 0)if(M.default!==null)f=M.default;else return;var _=null,D=!1;if(M.any)A=this._createEncoderBuffer(f);else if(M.choice)A=this._encodeChoice(f,g);else if(M.contains)_=this._getUse(M.contains,b)._encode(f,g),D=!0;else if(M.children)_=M.children.map(function($){if($._baseState.tag==="null_")return $._encode(null,g,f);if($._baseState.key===null)return g.error("Child should have a key");var V=g.enterKey($._baseState.key);if(typeof f!="object")return g.error("Child expected, but input is not object");var U=$._encode(f[$._baseState.key],g,f);return g.leaveKey(V),U},this).filter(function($){return $}),_=this._createEncoderBuffer(_);else if(M.tag==="seqof"||M.tag==="setof"){if(!(M.args&&M.args.length===1))return g.error("Too many args for : "+M.tag);if(!Array.isArray(f))return g.error("seqof/setof, but data is not Array");var R=this.clone();R._baseState.implicit=null,_=this._createEncoderBuffer(f.map(function($){var V=this._baseState;return this._getUse(V.args[0],f)._encode($,g)},R))}else M.use!==null?A=this._getUse(M.use,b)._encode(f,g):(_=this._encodePrimitive(M.tag,f),D=!0);var A;if(!M.any&&M.choice===null){var I=M.implicit!==null?M.implicit:M.tag,N=M.implicit===null?"universal":"context";I===null?M.use===null&&g.error("Tag could be omitted only for .use()"):M.use===null&&(A=this._encodeComposite(I,D,N,_))}return M.explicit!==null&&(A=this._encodeComposite(M.explicit,!1,"context",A)),A},c.prototype._encodeChoice=function(f,g){var b=this._baseState,M=b.choice[f.type];return M||r(!1,f.type+" not found in "+JSON.stringify(Object.keys(b.choice))),M._encode(f.value,g)},c.prototype._encodePrimitive=function(f,g){var b=this._baseState;if(/str$/.test(f))return this._encodeStr(g,f);if(f==="objid"&&b.args)return this._encodeObjid(g,b.reverseArgs[0],b.args[1]);if(f==="objid")return this._encodeObjid(g,null,null);if(f==="gentime"||f==="utctime")return this._encodeTime(g,f);if(f==="null_")return this._encodeNull();if(f==="int"||f==="enum")return this._encodeInt(g,b.args&&b.reverseArgs[0]);if(f==="bool")return this._encodeBool(g);if(f==="objDesc")return this._encodeStr(g,f);throw new Error("Unsupported tag: "+f)},c.prototype._isNumstr=function(f){return/^[0-9 ]*$/.test(f)},c.prototype._isPrintstr=function(f){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(f)},Md}var By;function ks(){return By||(By=1,(function(i){var e=i;e.Reporter=ES().Reporter,e.DecoderBuffer=Ry().DecoderBuffer,e.EncoderBuffer=Ry().EncoderBuffer,e.Node=MS()})(Sd)),Sd}var _d={},Ad={},Fy;function _S(){return Fy||(Fy=1,(function(i){var e=Xb();i.tagClass={0:"universal",1:"application",2:"context",3:"private"},i.tagClassByName=e._reverse(i.tagClass),i.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},i.tagByName=e._reverse(i.tag)})(Ad)),Ad}var Cy;function Xb(){return Cy||(Cy=1,(function(i){var e=i;e._reverse=function(r){var a={};return Object.keys(r).forEach(function(n){(n|0)==n&&(n=n|0);var s=r[n];a[s]=n}),a},e.der=_S()})(_d)),_d}var kd={},Id,Py;function Zb(){if(Py)return Id;Py=1;var i=Ut(),e=Ec(),t=e.base,r=e.bignum,a=e.constants.der;function n(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new s,this.tree._init(h.body)}Id=n,n.prototype.decode=function(f,g){return f instanceof t.DecoderBuffer||(f=new t.DecoderBuffer(f,g)),this.tree._decode(f,g)};function s(h){t.Node.call(this,"der",h)}i(s,t.Node),s.prototype._peekTag=function(f,g,b){if(f.isEmpty())return!1;var M=f.save(),_=c(f,'Failed to peek tag: "'+g+'"');return f.isError(_)?_:(f.restore(M),_.tag===g||_.tagStr===g||_.tagStr+"of"===g||b)},s.prototype._decodeTag=function(f,g,b){var M=c(f,'Failed to decode tag of "'+g+'"');if(f.isError(M))return M;var _=u(f,M.primitive,'Failed to get length of "'+g+'"');if(f.isError(_))return _;if(!b&&M.tag!==g&&M.tagStr!==g&&M.tagStr+"of"!==g)return f.error('Failed to match tag: "'+g+'"');if(M.primitive||_!==null)return f.skip(_,'Failed to match body of: "'+g+'"');var D=f.save(),R=this._skipUntilEnd(f,'Failed to skip indefinite length body: "'+this.tag+'"');return f.isError(R)?R:(_=f.offset-D.offset,f.restore(D),f.skip(_,'Failed to match body of: "'+g+'"'))},s.prototype._skipUntilEnd=function(f,g){for(;;){var b=c(f,g);if(f.isError(b))return b;var M=u(f,b.primitive,g);if(f.isError(M))return M;var _;if(b.primitive||M!==null?_=f.skip(M):_=this._skipUntilEnd(f,g),f.isError(_))return _;if(b.tagStr==="end")break}},s.prototype._decodeList=function(f,g,b,M){for(var _=[];!f.isEmpty();){var D=this._peekTag(f,"end");if(f.isError(D))return D;var R=b.decode(f,"der",M);if(f.isError(R)&&D)break;_.push(R)}return _},s.prototype._decodeStr=function(f,g){if(g==="bitstr"){var b=f.readUInt8();return f.isError(b)?b:{unused:b,data:f.raw()}}else if(g==="bmpstr"){var M=f.raw();if(M.length%2===1)return f.error("Decoding of string type: bmpstr length mismatch");for(var _="",D=0;D<M.length/2;D++)_+=String.fromCharCode(M.readUInt16BE(D*2));return _}else if(g==="numstr"){var R=f.raw().toString("ascii");return this._isNumstr(R)?R:f.error("Decoding of string type: numstr unsupported characters")}else{if(g==="octstr")return f.raw();if(g==="objDesc")return f.raw();if(g==="printstr"){var A=f.raw().toString("ascii");return this._isPrintstr(A)?A:f.error("Decoding of string type: printstr unsupported characters")}else return/str$/.test(g)?f.raw().toString():f.error("Decoding of string type: "+g+" unsupported")}},s.prototype._decodeObjid=function(f,g,b){for(var M,_=[],D=0;!f.isEmpty();){var R=f.readUInt8();D<<=7,D|=R&127,(R&128)===0&&(_.push(D),D=0)}R&128&&_.push(D);var A=_[0]/40|0,I=_[0]%40;if(b?M=_:M=[A,I].concat(_.slice(1)),g){var N=g[M.join(" ")];N===void 0&&(N=g[M.join(".")]),N!==void 0&&(M=N)}return M},s.prototype._decodeTime=function(f,g){var b=f.raw().toString();if(g==="gentime")var M=b.slice(0,4)|0,_=b.slice(4,6)|0,D=b.slice(6,8)|0,R=b.slice(8,10)|0,A=b.slice(10,12)|0,I=b.slice(12,14)|0;else if(g==="utctime"){var M=b.slice(0,2)|0,_=b.slice(2,4)|0,D=b.slice(4,6)|0,R=b.slice(6,8)|0,A=b.slice(8,10)|0,I=b.slice(10,12)|0;M<70?M=2e3+M:M=1900+M}else return f.error("Decoding "+g+" time is not supported yet");return Date.UTC(M,_-1,D,R,A,I,0)},s.prototype._decodeNull=function(f){return null},s.prototype._decodeBool=function(f){var g=f.readUInt8();return f.isError(g)?g:g!==0},s.prototype._decodeInt=function(f,g){var b=f.raw(),M=new r(b);return g&&(M=g[M.toString(10)]||M),M},s.prototype._use=function(f,g){return typeof f=="function"&&(f=f(g)),f._getDecoder("der").tree};function c(h,f){var g=h.readUInt8(f);if(h.isError(g))return g;var b=a.tagClass[g>>6],M=(g&32)===0;if((g&31)===31){var _=g;for(g=0;(_&128)===128;){if(_=h.readUInt8(f),h.isError(_))return _;g<<=7,g|=_&127}}else g&=31;var D=a.tag[g];return{cls:b,primitive:M,tag:g,tagStr:D}}function u(h,f,g){var b=h.readUInt8(g);if(h.isError(b))return b;if(!f&&b===128)return null;if((b&128)===0)return b;var M=b&127;if(M>4)return h.error("length octect is too long");b=0;for(var _=0;_<M;_++){b<<=8;var D=h.readUInt8(g);if(h.isError(D))return D;b|=D}return b}return Id}var Dd,Ny;function AS(){if(Ny)return Dd;Ny=1;var i=Ut(),e=Ar().Buffer,t=Zb();function r(a){t.call(this,a),this.enc="pem"}return i(r,t),Dd=r,r.prototype.decode=function(n,s){for(var c=n.toString().split(/[\r\n]+/g),u=s.label.toUpperCase(),h=/^-----(BEGIN|END) ([^-]+)-----$/,f=-1,g=-1,b=0;b<c.length;b++){var M=c[b].match(h);if(M!==null&&M[2]===u)if(f===-1){if(M[1]!=="BEGIN")break;f=b}else{if(M[1]!=="END")break;g=b;break}}if(f===-1||g===-1)throw new Error("PEM section not found for: "+u);var _=c.slice(f+1,g).join("");_.replace(/[^a-z0-9\+\/=]+/gi,"");var D=new e(_,"base64");return t.prototype.decode.call(this,D,s)},Dd}var Oy;function kS(){return Oy||(Oy=1,(function(i){var e=i;e.der=Zb(),e.pem=AS()})(kd)),kd}var Rd={},Td,Ly;function Qb(){if(Ly)return Td;Ly=1;var i=Ut(),e=Ar().Buffer,t=Ec(),r=t.base,a=t.constants.der;function n(h){this.enc="der",this.name=h.name,this.entity=h,this.tree=new s,this.tree._init(h.body)}Td=n,n.prototype.encode=function(f,g){return this.tree._encode(f,g).join()};function s(h){r.Node.call(this,"der",h)}i(s,r.Node),s.prototype._encodeComposite=function(f,g,b,M){var _=u(f,g,b,this.reporter);if(M.length<128){var A=new e(2);return A[0]=_,A[1]=M.length,this._createEncoderBuffer([A,M])}for(var D=1,R=M.length;R>=256;R>>=8)D++;var A=new e(2+D);A[0]=_,A[1]=128|D;for(var R=1+D,I=M.length;I>0;R--,I>>=8)A[R]=I&255;return this._createEncoderBuffer([A,M])},s.prototype._encodeStr=function(f,g){if(g==="bitstr")return this._createEncoderBuffer([f.unused|0,f.data]);if(g==="bmpstr"){for(var b=new e(f.length*2),M=0;M<f.length;M++)b.writeUInt16BE(f.charCodeAt(M),M*2);return this._createEncoderBuffer(b)}else return g==="numstr"?this._isNumstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: numstr supports only digits and space"):g==="printstr"?this._isPrintstr(f)?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(g)?this._createEncoderBuffer(f):g==="objDesc"?this._createEncoderBuffer(f):this.reporter.error("Encoding of string type: "+g+" unsupported")},s.prototype._encodeObjid=function(f,g,b){if(typeof f=="string"){if(!g)return this.reporter.error("string objid given, but no values map found");if(!g.hasOwnProperty(f))return this.reporter.error("objid not found in values map");f=g[f].split(/[\s\.]+/g);for(var M=0;M<f.length;M++)f[M]|=0}else if(Array.isArray(f)){f=f.slice();for(var M=0;M<f.length;M++)f[M]|=0}if(!Array.isArray(f))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(f));if(!b){if(f[1]>=40)return this.reporter.error("Second objid identifier OOB");f.splice(0,2,f[0]*40+f[1])}for(var _=0,M=0;M<f.length;M++){var D=f[M];for(_++;D>=128;D>>=7)_++}for(var R=new e(_),A=R.length-1,M=f.length-1;M>=0;M--){var D=f[M];for(R[A--]=D&127;(D>>=7)>0;)R[A--]=128|D&127}return this._createEncoderBuffer(R)};function c(h){return h<10?"0"+h:h}s.prototype._encodeTime=function(f,g){var b,M=new Date(f);return g==="gentime"?b=[c(M.getFullYear()),c(M.getUTCMonth()+1),c(M.getUTCDate()),c(M.getUTCHours()),c(M.getUTCMinutes()),c(M.getUTCSeconds()),"Z"].join(""):g==="utctime"?b=[c(M.getFullYear()%100),c(M.getUTCMonth()+1),c(M.getUTCDate()),c(M.getUTCHours()),c(M.getUTCMinutes()),c(M.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+g+" time is not supported yet"),this._encodeStr(b,"octstr")},s.prototype._encodeNull=function(){return this._createEncoderBuffer("")},s.prototype._encodeInt=function(f,g){if(typeof f=="string"){if(!g)return this.reporter.error("String int or enum given, but no values map");if(!g.hasOwnProperty(f))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(f));f=g[f]}if(typeof f!="number"&&!e.isBuffer(f)){var b=f.toArray();!f.sign&&b[0]&128&&b.unshift(0),f=new e(b)}if(e.isBuffer(f)){var M=f.length;f.length===0&&M++;var D=new e(M);return f.copy(D),f.length===0&&(D[0]=0),this._createEncoderBuffer(D)}if(f<128)return this._createEncoderBuffer(f);if(f<256)return this._createEncoderBuffer([0,f]);for(var M=1,_=f;_>=256;_>>=8)M++;for(var D=new Array(M),_=D.length-1;_>=0;_--)D[_]=f&255,f>>=8;return D[0]&128&&D.unshift(0),this._createEncoderBuffer(new e(D))},s.prototype._encodeBool=function(f){return this._createEncoderBuffer(f?255:0)},s.prototype._use=function(f,g){return typeof f=="function"&&(f=f(g)),f._getEncoder("der").tree},s.prototype._skipDefault=function(f,g,b){var M=this._baseState,_;if(M.default===null)return!1;var D=f.join();if(M.defaultBuffer===void 0&&(M.defaultBuffer=this._encodeValue(M.default,g,b).join()),D.length!==M.defaultBuffer.length)return!1;for(_=0;_<D.length;_++)if(D[_]!==M.defaultBuffer[_])return!1;return!0};function u(h,f,g,b){var M;if(h==="seqof"?h="seq":h==="setof"&&(h="set"),a.tagByName.hasOwnProperty(h))M=a.tagByName[h];else if(typeof h=="number"&&(h|0)===h)M=h;else return b.error("Unknown tag: "+h);return M>=31?b.error("Multi-octet tag encoding unsupported"):(f||(M|=32),M|=a.tagClassByName[g||"universal"]<<6,M)}return Td}var Bd,Uy;function IS(){if(Uy)return Bd;Uy=1;var i=Ut(),e=Qb();function t(r){e.call(this,r),this.enc="pem"}return i(t,e),Bd=t,t.prototype.encode=function(a,n){for(var s=e.prototype.encode.call(this,a),c=s.toString("base64"),u=["-----BEGIN "+n.label+"-----"],h=0;h<c.length;h+=64)u.push(c.slice(h,h+64));return u.push("-----END "+n.label+"-----"),u.join(`
`)},Bd}var $y;function DS(){return $y||($y=1,(function(i){var e=i;e.der=Qb(),e.pem=IS()})(Rd)),Rd}var qy;function Ec(){return qy||(qy=1,(function(i){var e=i;e.bignum=Ei(),e.define=SS().define,e.base=ks(),e.constants=Xb(),e.decoders=kS(),e.encoders=DS()})(bd)),bd}var Fd,Vy;function RS(){if(Vy)return Fd;Vy=1;var i=Ec(),e=i.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),t=i.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),r=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional(),this.key("curve").objid().optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())}),n=i.define("RelativeDistinguishedName",function(){this.setof(t)}),s=i.define("RDNSequence",function(){this.seqof(n)}),c=i.define("Name",function(){this.choice({rdnSequence:this.use(s)})}),u=i.define("Validity",function(){this.seq().obj(this.key("notBefore").use(e),this.key("notAfter").use(e))}),h=i.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),f=i.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int().optional(),this.key("serialNumber").int(),this.key("signature").use(r),this.key("issuer").use(c),this.key("validity").use(u),this.key("subject").use(c),this.key("subjectPublicKeyInfo").use(a),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),g=i.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(f),this.key("signatureAlgorithm").use(r),this.key("signatureValue").bitstr())});return Fd=g,Fd}var zy;function TS(){if(zy)return zr;zy=1;var i=Ec();zr.certificate=RS();var e=i.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});zr.RSAPrivateKey=e;var t=i.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});zr.RSAPublicKey=t;var r=i.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),a=i.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(r),this.key("subjectPublicKey").bitstr())});zr.PublicKey=a;var n=i.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(r),this.key("subjectPrivateKey").octstr())});zr.PrivateKey=n;var s=i.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});zr.EncryptedPrivateKey=s;var c=i.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});zr.DSAPrivateKey=c,zr.DSAparam=i.define("DSAparam",function(){this.int()});var u=i.define("ECParameters",function(){this.choice({namedCurve:this.objid()})}),h=i.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(u),this.key("publicKey").optional().explicit(1).bitstr())});return zr.ECPrivateKey=h,zr.signature=i.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())}),zr}const BS={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"};var Cd,jy;function FS(){if(jy)return Cd;jy=1;var i=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r+/=]+)[\n\r]+/m,e=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----/m,t=/^-----BEGIN ((?:.*? KEY)|CERTIFICATE)-----([0-9A-z\n\r+/=]+)-----END \1-----$/m,r=Vf(),a=xg(),n=Wt().Buffer;return Cd=function(s,c){var u=s.toString(),h=u.match(i),f;if(h){var b="aes"+h[1],M=n.from(h[2],"hex"),_=n.from(h[3].replace(/[\r\n]/g,""),"base64"),D=r(c,M.slice(0,8),parseInt(h[1],10)).key,R=[],A=a.createDecipheriv(b,D,M);R.push(A.update(_)),R.push(A.final()),f=n.concat(R)}else{var g=u.match(t);f=n.from(g[2].replace(/[\r\n]/g,""),"base64")}var I=u.match(e)[1];return{tag:I,data:f}},Cd}var Pd,Wy;function jf(){if(Wy)return Pd;Wy=1;var i=TS(),e=BS,t=FS(),r=xg(),a=Rb().pbkdf2Sync,n=Wt().Buffer;function s(u,h){var f=u.algorithm.decrypt.kde.kdeparams.salt,g=parseInt(u.algorithm.decrypt.kde.kdeparams.iters.toString(),10),b=e[u.algorithm.decrypt.cipher.algo.join(".")],M=u.algorithm.decrypt.cipher.iv,_=u.subjectPrivateKey,D=parseInt(b.split("-")[1],10)/8,R=a(h,f,g,D,"sha1"),A=r.createDecipheriv(b,R,M),I=[];return I.push(A.update(_)),I.push(A.final()),n.concat(I)}function c(u){var h;typeof u=="object"&&!n.isBuffer(u)&&(h=u.passphrase,u=u.key),typeof u=="string"&&(u=n.from(u));var f=t(u,h),g=f.tag,b=f.data,M,_;switch(g){case"CERTIFICATE":_=i.certificate.decode(b,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(_||(_=i.PublicKey.decode(b,"der")),M=_.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return i.RSAPublicKey.decode(_.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return _.subjectPrivateKey=_.subjectPublicKey,{type:"ec",data:_};case"1.2.840.10040.4.1":return _.algorithm.params.pub_key=i.DSAparam.decode(_.subjectPublicKey.data,"der"),{type:"dsa",data:_.algorithm.params};default:throw new Error("unknown key id "+M)}case"ENCRYPTED PRIVATE KEY":b=i.EncryptedPrivateKey.decode(b,"der"),b=s(b,h);case"PRIVATE KEY":switch(_=i.PrivateKey.decode(b,"der"),M=_.algorithm.algorithm.join("."),M){case"1.2.840.113549.1.1.1":return i.RSAPrivateKey.decode(_.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:_.algorithm.curve,privateKey:i.ECPrivateKey.decode(_.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return _.algorithm.params.priv_key=i.DSAparam.decode(_.subjectPrivateKey,"der"),{type:"dsa",params:_.algorithm.params};default:throw new Error("unknown key id "+M)}case"RSA PUBLIC KEY":return i.RSAPublicKey.decode(b,"der");case"RSA PRIVATE KEY":return i.RSAPrivateKey.decode(b,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:i.DSAPrivateKey.decode(b,"der")};case"EC PRIVATE KEY":return b=i.ECPrivateKey.decode(b,"der"),{curve:b.parameters.value,privateKey:b.privateKey};default:throw new Error("unknown key type "+g)}}return c.signature=i.signature,Pd=c,Pd}const e3={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"};var Hy;function CS(){if(Hy)return us.exports;Hy=1;var i=Wt().Buffer,e=Mb(),t=Mg(),r=kg().ec,a=Yb(),n=jf(),s=e3,c=1;function u(A,I,N,$,V){var U=n(I);if(U.curve){if($!=="ecdsa"&&$!=="ecdsa/rsa")throw new Error("wrong private key type");return h(A,U)}else if(U.type==="dsa"){if($!=="dsa")throw new Error("wrong private key type");return f(A,U,N)}if($!=="rsa"&&$!=="ecdsa/rsa")throw new Error("wrong private key type");if(I.padding!==void 0&&I.padding!==c)throw new Error("illegal or unsupported padding mode");A=i.concat([V,A]);for(var J=U.modulus.byteLength(),Y=[0,1];A.length+Y.length+1<J;)Y.push(255);Y.push(0);for(var oe=-1;++oe<A.length;)Y.push(A[oe]);var G=t(Y,U);return G}function h(A,I){var N=s[I.curve.join(".")];if(!N)throw new Error("unknown curve "+I.curve.join("."));var $=new r(N),V=$.keyFromPrivate(I.privateKey),U=V.sign(A);return i.from(U.toDER())}function f(A,I,N){for(var $=I.params.priv_key,V=I.params.p,U=I.params.q,J=I.params.g,Y=new a(0),oe,G=M(A,U).mod(U),E=!1,d=b($,U,A,N);E===!1;)oe=D(U,d,N),Y=R(J,oe,V,U),E=oe.invm(U).imul(G.add($.mul(Y))).mod(U),E.cmpn(0)===0&&(E=!1,Y=new a(0));return g(Y,E)}function g(A,I){A=A.toArray(),I=I.toArray(),A[0]&128&&(A=[0].concat(A)),I[0]&128&&(I=[0].concat(I));var N=A.length+I.length+4,$=[48,N,2,A.length];return $=$.concat(A,[2,I.length],I),i.from($)}function b(A,I,N,$){if(A=i.from(A.toArray()),A.length<I.byteLength()){var V=i.alloc(I.byteLength()-A.length);A=i.concat([V,A])}var U=N.length,J=_(N,I),Y=i.alloc(U);Y.fill(1);var oe=i.alloc(U);return oe=e($,oe).update(Y).update(i.from([0])).update(A).update(J).digest(),Y=e($,oe).update(Y).digest(),oe=e($,oe).update(Y).update(i.from([1])).update(A).update(J).digest(),Y=e($,oe).update(Y).digest(),{k:oe,v:Y}}function M(A,I){var N=new a(A),$=(A.length<<3)-I.bitLength();return $>0&&N.ishrn($),N}function _(A,I){A=M(A,I),A=A.mod(I);var N=i.from(A.toArray());if(N.length<I.byteLength()){var $=i.alloc(I.byteLength()-N.length);N=i.concat([$,N])}return N}function D(A,I,N){var $,V;do{for($=i.alloc(0);$.length*8<A.bitLength();)I.v=e(N,I.k).update(I.v).digest(),$=i.concat([$,I.v]);V=M($,A),I.k=e(N,I.k).update(I.v).update(i.from([0])).digest(),I.v=e(N,I.k).update(I.v).digest()}while(V.cmp(A)!==-1);return V}function R(A,I,N,$){return A.toRed(a.mont(N)).redPow(I).fromRed().mod($)}return us.exports=u,us.exports.getKey=b,us.exports.makeKey=D,us.exports}var Nd,Gy;function PS(){if(Gy)return Nd;Gy=1;var i=Wt().Buffer,e=Yb(),t=kg().ec,r=jf(),a=e3;function n(h,f,g,b,M){var _=r(g);if(_.type==="ec"){if(b!=="ecdsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");return s(h,f,_)}else if(_.type==="dsa"){if(b!=="dsa")throw new Error("wrong public key type");return c(h,f,_)}if(b!=="rsa"&&b!=="ecdsa/rsa")throw new Error("wrong public key type");f=i.concat([M,f]);for(var D=_.modulus.byteLength(),R=[1],A=0;f.length+R.length+2<D;)R.push(255),A+=1;R.push(0);for(var I=-1;++I<f.length;)R.push(f[I]);R=i.from(R);var N=e.mont(_.modulus);h=new e(h).toRed(N),h=h.redPow(new e(_.publicExponent)),h=i.from(h.fromRed().toArray());var $=A<8?1:0;for(D=Math.min(h.length,R.length),h.length!==R.length&&($=1),I=-1;++I<D;)$|=h[I]^R[I];return $===0}function s(h,f,g){var b=a[g.data.algorithm.curve.join(".")];if(!b)throw new Error("unknown curve "+g.data.algorithm.curve.join("."));var M=new t(b),_=g.data.subjectPrivateKey.data;return M.verify(f,h,_)}function c(h,f,g){var b=g.data.p,M=g.data.q,_=g.data.g,D=g.data.pub_key,R=r.signature.decode(h,"der"),A=R.s,I=R.r;u(A,M),u(I,M);var N=e.mont(b),$=A.invm(M),V=_.toRed(N).redPow(new e(f).mul($).mod(M)).fromRed().mul(D.toRed(N).redPow(I.mul($).mod(M)).fromRed()).mod(b).mod(M);return V.cmp(I)===0}function u(h,f){if(h.cmpn(0)<=0)throw new Error("invalid sig");if(h.cmp(f)>=0)throw new Error("invalid sig")}return Nd=n,Nd}var Od,Ky;function NS(){if(Ky)return Od;Ky=1;var i=Wt().Buffer,e=bc(),t=Zx(),r=Ut(),a=CS(),n=PS(),s=_b;Object.keys(s).forEach(function(g){s[g].id=i.from(s[g].id,"hex"),s[g.toLowerCase()]=s[g]});function c(g){t.Writable.call(this);var b=s[g];if(!b)throw new Error("Unknown message digest");this._hashType=b.hash,this._hash=e(b.hash),this._tag=b.id,this._signType=b.sign}r(c,t.Writable),c.prototype._write=function(b,M,_){this._hash.update(b),_()},c.prototype.update=function(b,M){return this._hash.update(typeof b=="string"?i.from(b,M):b),this},c.prototype.sign=function(b,M){this.end();var _=this._hash.digest(),D=a(_,b,this._hashType,this._signType,this._tag);return M?D.toString(M):D};function u(g){t.Writable.call(this);var b=s[g];if(!b)throw new Error("Unknown message digest");this._hash=e(b.hash),this._tag=b.id,this._signType=b.sign}r(u,t.Writable),u.prototype._write=function(b,M,_){this._hash.update(b),_()},u.prototype.update=function(b,M){return this._hash.update(typeof b=="string"?i.from(b,M):b),this},u.prototype.verify=function(b,M,_){var D=typeof M=="string"?i.from(M,_):M;this.end();var R=this._hash.digest();return n(D,R,b,this._signType,this._tag)};function h(g){return new c(g)}function f(g){return new u(g)}return Od={Sign:h,Verify:f,createSign:h,createVerify:f},Od}var Ld,Jy;function OS(){if(Jy)return Ld;Jy=1;var i=kg(),e=Ei();Ld=function(s){return new r(s)};var t={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};t.p224=t.secp224r1,t.p256=t.secp256r1=t.prime256v1,t.p192=t.secp192r1=t.prime192v1,t.p384=t.secp384r1,t.p521=t.secp521r1;function r(n){this.curveType=t[n],this.curveType||(this.curveType={name:n}),this.curve=new i.ec(this.curveType.name),this.keys=void 0}r.prototype.generateKeys=function(n,s){return this.keys=this.curve.genKeyPair(),this.getPublicKey(n,s)},r.prototype.computeSecret=function(n,s,c){s=s||"utf8",Xt.isBuffer(n)||(n=new Xt(n,s));var u=this.curve.keyFromPublic(n).getPublic(),h=u.mul(this.keys.getPrivate()).getX();return a(h,c,this.curveType.byteLength)},r.prototype.getPublicKey=function(n,s){var c=this.keys.getPublic(s==="compressed",!0);return s==="hybrid"&&(c[c.length-1]%2?c[0]=7:c[0]=6),a(c,n)},r.prototype.getPrivateKey=function(n){return a(this.keys.getPrivate(),n)},r.prototype.setPublicKey=function(n,s){return s=s||"utf8",Xt.isBuffer(n)||(n=new Xt(n,s)),this.keys._importPublic(n),this},r.prototype.setPrivateKey=function(n,s){s=s||"utf8",Xt.isBuffer(n)||(n=new Xt(n,s));var c=new e(n);return c=c.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(c),this};function a(n,s,c){Array.isArray(n)||(n=n.toArray());var u=new Xt(n);if(c&&u.length<c){var h=new Xt(c-u.length);h.fill(0),u=Xt.concat([h,u])}return s?u.toString(s):u}return Ld}var Ud={},$d,Yy;function t3(){if(Yy)return $d;Yy=1;var i=bc(),e=Wt().Buffer;$d=function(r,a){for(var n=e.alloc(0),s=0,c;n.length<a;)c=t(s++),n=e.concat([n,i("sha1").update(r).update(c).digest()]);return n.slice(0,a)};function t(r){var a=e.allocUnsafe(4);return a.writeUInt32BE(r,0),a}return $d}var qd,Xy;function r3(){return Xy||(Xy=1,qd=function(e,t){for(var r=e.length,a=-1;++a<r;)e[a]^=t[a];return e}),qd}var Vd,Zy;function n3(){if(Zy)return Vd;Zy=1;var i=Ei(),e=Wt().Buffer;function t(r,a){return e.from(r.toRed(i.mont(a.modulus)).redPow(new i(a.publicExponent)).fromRed().toArray())}return Vd=t,Vd}var zd,Qy;function LS(){if(Qy)return zd;Qy=1;var i=jf(),e=ns(),t=bc(),r=t3(),a=r3(),n=Ei(),s=n3(),c=Mg(),u=Wt().Buffer;zd=function(M,_,D){var R;M.padding?R=M.padding:D?R=1:R=4;var A=i(M),I;if(R===4)I=h(A,_);else if(R===1)I=f(A,_,D);else if(R===3){if(I=new n(_),I.cmp(A.modulus)>=0)throw new Error("data too long for modulus")}else throw new Error("unknown padding");return D?c(I,A):s(I,A)};function h(b,M){var _=b.modulus.byteLength(),D=M.length,R=t("sha1").update(u.alloc(0)).digest(),A=R.length,I=2*A;if(D>_-I-2)throw new Error("message too long");var N=u.alloc(_-D-I-2),$=_-A-1,V=e(A),U=a(u.concat([R,N,u.alloc(1,1),M],$),r(V,$)),J=a(V,r(U,A));return new n(u.concat([u.alloc(1),J,U],_))}function f(b,M,_){var D=M.length,R=b.modulus.byteLength();if(D>R-11)throw new Error("message too long");var A;return _?A=u.alloc(R-D-3,255):A=g(R-D-3),new n(u.concat([u.from([0,_?1:2]),A,u.alloc(1),M],R))}function g(b){for(var M=u.allocUnsafe(b),_=0,D=e(b*2),R=0,A;_<b;)R===D.length&&(D=e(b*2),R=0),A=D[R++],A&&(M[_++]=A);return M}return zd}var jd,ew;function US(){if(ew)return jd;ew=1;var i=jf(),e=t3(),t=r3(),r=Ei(),a=Mg(),n=bc(),s=n3(),c=Wt().Buffer;jd=function(b,M,_){var D;b.padding?D=b.padding:_?D=1:D=4;var R=i(b),A=R.modulus.byteLength();if(M.length>A||new r(M).cmp(R.modulus)>=0)throw new Error("decryption error");var I;_?I=s(new r(M),R):I=a(M,R);var N=c.alloc(A-I.length);if(I=c.concat([N,I],A),D===4)return u(R,I);if(D===1)return h(R,I,_);if(D===3)return I;throw new Error("unknown padding")};function u(g,b){var M=g.modulus.byteLength(),_=n("sha1").update(c.alloc(0)).digest(),D=_.length;if(b[0]!==0)throw new Error("decryption error");var R=b.slice(1,D+1),A=b.slice(D+1),I=t(R,e(A,D)),N=t(A,e(I,M-D-1));if(f(_,N.slice(0,D)))throw new Error("decryption error");for(var $=D;N[$]===0;)$++;if(N[$++]!==1)throw new Error("decryption error");return N.slice($)}function h(g,b,M){for(var _=b.slice(0,2),D=2,R=0;b[D++]!==0;)if(D>=b.length){R++;break}var A=b.slice(2,D-1);if((_.toString("hex")!=="0002"&&!M||_.toString("hex")!=="0001"&&M)&&R++,A.length<8&&R++,R)throw new Error("decryption error");return b.slice(D)}function f(g,b){g=c.from(g),b=c.from(b);var M=0,_=g.length;g.length!==b.length&&(M++,_=Math.min(g.length,b.length));for(var D=-1;++D<_;)M+=g[D]^b[D];return M}return jd}var tw;function $S(){return tw||(tw=1,(function(i){i.publicEncrypt=LS(),i.privateDecrypt=US(),i.privateEncrypt=function(t,r){return i.publicEncrypt(t,r,!0)},i.publicDecrypt=function(t,r){return i.privateDecrypt(t,r,!0)}})(Ud)),Ud}var Ta={},rw;function qS(){if(rw)return Ta;rw=1;function i(){throw new Error(`secure random number generation not supported by this browser
use chrome, FireFox or Internet Explorer 11`)}var e=Wt(),t=ns(),r=e.Buffer,a=e.kMaxLength,n=Gt.crypto||Gt.msCrypto,s=Math.pow(2,32)-1;function c(b,M){if(typeof b!="number"||b!==b)throw new TypeError("offset must be a number");if(b>s||b<0)throw new TypeError("offset must be a uint32");if(b>a||b>M)throw new RangeError("offset out of range")}function u(b,M,_){if(typeof b!="number"||b!==b)throw new TypeError("size must be a number");if(b>s||b<0)throw new TypeError("size must be a uint32");if(b+M>_||b>a)throw new RangeError("buffer too small")}n&&n.getRandomValues||!Bt.browser?(Ta.randomFill=h,Ta.randomFillSync=g):(Ta.randomFill=i,Ta.randomFillSync=i);function h(b,M,_,D){if(!r.isBuffer(b)&&!(b instanceof Gt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if(typeof M=="function")D=M,M=0,_=b.length;else if(typeof _=="function")D=_,_=b.length-M;else if(typeof D!="function")throw new TypeError('"cb" argument must be a function');return c(M,b.length),u(_,M,b.length),f(b,M,_,D)}function f(b,M,_,D){if(Bt.browser){var R=b.buffer,A=new Uint8Array(R,M,_);if(n.getRandomValues(A),D){Bt.nextTick(function(){D(null,b)});return}return b}if(D){t(_,function(N,$){if(N)return D(N);$.copy(b,M),D(null,b)});return}var I=t(_);return I.copy(b,M),b}function g(b,M,_){if(typeof M>"u"&&(M=0),!r.isBuffer(b)&&!(b instanceof Gt.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return c(M,b.length),_===void 0&&(_=b.length-M),u(_,M,b.length),f(b,M,_)}return Ta}var nw;function i3(){if(nw)return Ht;nw=1,Ht.randomBytes=Ht.rng=Ht.pseudoRandomBytes=Ht.prng=ns(),Ht.createHash=Ht.Hash=bc(),Ht.createHmac=Ht.Hmac=Mb();var i=cx(),e=Object.keys(i),t=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(e);Ht.getHashes=function(){return t};var r=Rb();Ht.pbkdf2=r.pbkdf2,Ht.pbkdf2Sync=r.pbkdf2Sync;var a=Px();Ht.Cipher=a.Cipher,Ht.createCipher=a.createCipher,Ht.Cipheriv=a.Cipheriv,Ht.createCipheriv=a.createCipheriv,Ht.Decipher=a.Decipher,Ht.createDecipher=a.createDecipher,Ht.Decipheriv=a.Decipheriv,Ht.createDecipheriv=a.createDecipheriv,Ht.getCiphers=a.getCiphers,Ht.listCiphers=a.listCiphers;var n=Gx();Ht.DiffieHellmanGroup=n.DiffieHellmanGroup,Ht.createDiffieHellmanGroup=n.createDiffieHellmanGroup,Ht.getDiffieHellman=n.getDiffieHellman,Ht.createDiffieHellman=n.createDiffieHellman,Ht.DiffieHellman=n.DiffieHellman;var s=NS();Ht.createSign=s.createSign,Ht.Sign=s.Sign,Ht.createVerify=s.createVerify,Ht.Verify=s.Verify,Ht.createECDH=OS();var c=$S();Ht.publicEncrypt=c.publicEncrypt,Ht.privateEncrypt=c.privateEncrypt,Ht.publicDecrypt=c.publicDecrypt,Ht.privateDecrypt=c.privateDecrypt;var u=qS();return Ht.randomFill=u.randomFill,Ht.randomFillSync=u.randomFillSync,Ht.createCredentials=function(){throw new Error(`sorry, createCredentials is not implemented yet
we accept pull requests
https://github.com/browserify/crypto-browserify`)},Ht.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6},Ht}var iw;function VS(){return iw||(iw=1,(function(i){(function(e){var t=function(L){var K,re=new Float64Array(16);if(L)for(K=0;K<L.length;K++)re[K]=L[K];return re},r=function(){throw new Error("no PRNG")},a=new Uint8Array(16),n=new Uint8Array(32);n[0]=9;var s=t(),c=t([1]),u=t([56129,1]),h=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),f=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),g=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),b=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),M=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function _(L,K,re,F){L[K]=re>>24&255,L[K+1]=re>>16&255,L[K+2]=re>>8&255,L[K+3]=re&255,L[K+4]=F>>24&255,L[K+5]=F>>16&255,L[K+6]=F>>8&255,L[K+7]=F&255}function D(L,K,re,F,ne){var Ae,be=0;for(Ae=0;Ae<ne;Ae++)be|=L[K+Ae]^re[F+Ae];return(1&be-1>>>8)-1}function R(L,K,re,F){return D(L,K,re,F,16)}function A(L,K,re,F){return D(L,K,re,F,32)}function I(L,K,re,F){for(var ne=F[0]&255|(F[1]&255)<<8|(F[2]&255)<<16|(F[3]&255)<<24,Ae=re[0]&255|(re[1]&255)<<8|(re[2]&255)<<16|(re[3]&255)<<24,be=re[4]&255|(re[5]&255)<<8|(re[6]&255)<<16|(re[7]&255)<<24,Pe=re[8]&255|(re[9]&255)<<8|(re[10]&255)<<16|(re[11]&255)<<24,Ke=re[12]&255|(re[13]&255)<<8|(re[14]&255)<<16|(re[15]&255)<<24,nt=F[4]&255|(F[5]&255)<<8|(F[6]&255)<<16|(F[7]&255)<<24,Ge=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,Nt=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,gt=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,Mt=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,kt=F[8]&255|(F[9]&255)<<8|(F[10]&255)<<16|(F[11]&255)<<24,Ft=re[16]&255|(re[17]&255)<<8|(re[18]&255)<<16|(re[19]&255)<<24,Tt=re[20]&255|(re[21]&255)<<8|(re[22]&255)<<16|(re[23]&255)<<24,_t=re[24]&255|(re[25]&255)<<8|(re[26]&255)<<16|(re[27]&255)<<24,Et=re[28]&255|(re[29]&255)<<8|(re[30]&255)<<16|(re[31]&255)<<24,At=F[12]&255|(F[13]&255)<<8|(F[14]&255)<<16|(F[15]&255)<<24,dt=ne,bt=Ae,ut=be,mt=Pe,wt=Ke,lt=nt,Le=Ge,$e=Nt,it=gt,Q=Mt,he=kt,de=Ft,Ie=Tt,ke=_t,Be=Et,Ue=At,pe,We=0;We<20;We+=2)pe=dt+Ie|0,wt^=pe<<7|pe>>>25,pe=wt+dt|0,it^=pe<<9|pe>>>23,pe=it+wt|0,Ie^=pe<<13|pe>>>19,pe=Ie+it|0,dt^=pe<<18|pe>>>14,pe=lt+bt|0,Q^=pe<<7|pe>>>25,pe=Q+lt|0,ke^=pe<<9|pe>>>23,pe=ke+Q|0,bt^=pe<<13|pe>>>19,pe=bt+ke|0,lt^=pe<<18|pe>>>14,pe=he+Le|0,Be^=pe<<7|pe>>>25,pe=Be+he|0,ut^=pe<<9|pe>>>23,pe=ut+Be|0,Le^=pe<<13|pe>>>19,pe=Le+ut|0,he^=pe<<18|pe>>>14,pe=Ue+de|0,mt^=pe<<7|pe>>>25,pe=mt+Ue|0,$e^=pe<<9|pe>>>23,pe=$e+mt|0,de^=pe<<13|pe>>>19,pe=de+$e|0,Ue^=pe<<18|pe>>>14,pe=dt+mt|0,bt^=pe<<7|pe>>>25,pe=bt+dt|0,ut^=pe<<9|pe>>>23,pe=ut+bt|0,mt^=pe<<13|pe>>>19,pe=mt+ut|0,dt^=pe<<18|pe>>>14,pe=lt+wt|0,Le^=pe<<7|pe>>>25,pe=Le+lt|0,$e^=pe<<9|pe>>>23,pe=$e+Le|0,wt^=pe<<13|pe>>>19,pe=wt+$e|0,lt^=pe<<18|pe>>>14,pe=he+Q|0,de^=pe<<7|pe>>>25,pe=de+he|0,it^=pe<<9|pe>>>23,pe=it+de|0,Q^=pe<<13|pe>>>19,pe=Q+it|0,he^=pe<<18|pe>>>14,pe=Ue+Be|0,Ie^=pe<<7|pe>>>25,pe=Ie+Ue|0,ke^=pe<<9|pe>>>23,pe=ke+Ie|0,Be^=pe<<13|pe>>>19,pe=Be+ke|0,Ue^=pe<<18|pe>>>14;dt=dt+ne|0,bt=bt+Ae|0,ut=ut+be|0,mt=mt+Pe|0,wt=wt+Ke|0,lt=lt+nt|0,Le=Le+Ge|0,$e=$e+Nt|0,it=it+gt|0,Q=Q+Mt|0,he=he+kt|0,de=de+Ft|0,Ie=Ie+Tt|0,ke=ke+_t|0,Be=Be+Et|0,Ue=Ue+At|0,L[0]=dt>>>0&255,L[1]=dt>>>8&255,L[2]=dt>>>16&255,L[3]=dt>>>24&255,L[4]=bt>>>0&255,L[5]=bt>>>8&255,L[6]=bt>>>16&255,L[7]=bt>>>24&255,L[8]=ut>>>0&255,L[9]=ut>>>8&255,L[10]=ut>>>16&255,L[11]=ut>>>24&255,L[12]=mt>>>0&255,L[13]=mt>>>8&255,L[14]=mt>>>16&255,L[15]=mt>>>24&255,L[16]=wt>>>0&255,L[17]=wt>>>8&255,L[18]=wt>>>16&255,L[19]=wt>>>24&255,L[20]=lt>>>0&255,L[21]=lt>>>8&255,L[22]=lt>>>16&255,L[23]=lt>>>24&255,L[24]=Le>>>0&255,L[25]=Le>>>8&255,L[26]=Le>>>16&255,L[27]=Le>>>24&255,L[28]=$e>>>0&255,L[29]=$e>>>8&255,L[30]=$e>>>16&255,L[31]=$e>>>24&255,L[32]=it>>>0&255,L[33]=it>>>8&255,L[34]=it>>>16&255,L[35]=it>>>24&255,L[36]=Q>>>0&255,L[37]=Q>>>8&255,L[38]=Q>>>16&255,L[39]=Q>>>24&255,L[40]=he>>>0&255,L[41]=he>>>8&255,L[42]=he>>>16&255,L[43]=he>>>24&255,L[44]=de>>>0&255,L[45]=de>>>8&255,L[46]=de>>>16&255,L[47]=de>>>24&255,L[48]=Ie>>>0&255,L[49]=Ie>>>8&255,L[50]=Ie>>>16&255,L[51]=Ie>>>24&255,L[52]=ke>>>0&255,L[53]=ke>>>8&255,L[54]=ke>>>16&255,L[55]=ke>>>24&255,L[56]=Be>>>0&255,L[57]=Be>>>8&255,L[58]=Be>>>16&255,L[59]=Be>>>24&255,L[60]=Ue>>>0&255,L[61]=Ue>>>8&255,L[62]=Ue>>>16&255,L[63]=Ue>>>24&255}function N(L,K,re,F){for(var ne=F[0]&255|(F[1]&255)<<8|(F[2]&255)<<16|(F[3]&255)<<24,Ae=re[0]&255|(re[1]&255)<<8|(re[2]&255)<<16|(re[3]&255)<<24,be=re[4]&255|(re[5]&255)<<8|(re[6]&255)<<16|(re[7]&255)<<24,Pe=re[8]&255|(re[9]&255)<<8|(re[10]&255)<<16|(re[11]&255)<<24,Ke=re[12]&255|(re[13]&255)<<8|(re[14]&255)<<16|(re[15]&255)<<24,nt=F[4]&255|(F[5]&255)<<8|(F[6]&255)<<16|(F[7]&255)<<24,Ge=K[0]&255|(K[1]&255)<<8|(K[2]&255)<<16|(K[3]&255)<<24,Nt=K[4]&255|(K[5]&255)<<8|(K[6]&255)<<16|(K[7]&255)<<24,gt=K[8]&255|(K[9]&255)<<8|(K[10]&255)<<16|(K[11]&255)<<24,Mt=K[12]&255|(K[13]&255)<<8|(K[14]&255)<<16|(K[15]&255)<<24,kt=F[8]&255|(F[9]&255)<<8|(F[10]&255)<<16|(F[11]&255)<<24,Ft=re[16]&255|(re[17]&255)<<8|(re[18]&255)<<16|(re[19]&255)<<24,Tt=re[20]&255|(re[21]&255)<<8|(re[22]&255)<<16|(re[23]&255)<<24,_t=re[24]&255|(re[25]&255)<<8|(re[26]&255)<<16|(re[27]&255)<<24,Et=re[28]&255|(re[29]&255)<<8|(re[30]&255)<<16|(re[31]&255)<<24,At=F[12]&255|(F[13]&255)<<8|(F[14]&255)<<16|(F[15]&255)<<24,dt=ne,bt=Ae,ut=be,mt=Pe,wt=Ke,lt=nt,Le=Ge,$e=Nt,it=gt,Q=Mt,he=kt,de=Ft,Ie=Tt,ke=_t,Be=Et,Ue=At,pe,We=0;We<20;We+=2)pe=dt+Ie|0,wt^=pe<<7|pe>>>25,pe=wt+dt|0,it^=pe<<9|pe>>>23,pe=it+wt|0,Ie^=pe<<13|pe>>>19,pe=Ie+it|0,dt^=pe<<18|pe>>>14,pe=lt+bt|0,Q^=pe<<7|pe>>>25,pe=Q+lt|0,ke^=pe<<9|pe>>>23,pe=ke+Q|0,bt^=pe<<13|pe>>>19,pe=bt+ke|0,lt^=pe<<18|pe>>>14,pe=he+Le|0,Be^=pe<<7|pe>>>25,pe=Be+he|0,ut^=pe<<9|pe>>>23,pe=ut+Be|0,Le^=pe<<13|pe>>>19,pe=Le+ut|0,he^=pe<<18|pe>>>14,pe=Ue+de|0,mt^=pe<<7|pe>>>25,pe=mt+Ue|0,$e^=pe<<9|pe>>>23,pe=$e+mt|0,de^=pe<<13|pe>>>19,pe=de+$e|0,Ue^=pe<<18|pe>>>14,pe=dt+mt|0,bt^=pe<<7|pe>>>25,pe=bt+dt|0,ut^=pe<<9|pe>>>23,pe=ut+bt|0,mt^=pe<<13|pe>>>19,pe=mt+ut|0,dt^=pe<<18|pe>>>14,pe=lt+wt|0,Le^=pe<<7|pe>>>25,pe=Le+lt|0,$e^=pe<<9|pe>>>23,pe=$e+Le|0,wt^=pe<<13|pe>>>19,pe=wt+$e|0,lt^=pe<<18|pe>>>14,pe=he+Q|0,de^=pe<<7|pe>>>25,pe=de+he|0,it^=pe<<9|pe>>>23,pe=it+de|0,Q^=pe<<13|pe>>>19,pe=Q+it|0,he^=pe<<18|pe>>>14,pe=Ue+Be|0,Ie^=pe<<7|pe>>>25,pe=Ie+Ue|0,ke^=pe<<9|pe>>>23,pe=ke+Ie|0,Be^=pe<<13|pe>>>19,pe=Be+ke|0,Ue^=pe<<18|pe>>>14;L[0]=dt>>>0&255,L[1]=dt>>>8&255,L[2]=dt>>>16&255,L[3]=dt>>>24&255,L[4]=lt>>>0&255,L[5]=lt>>>8&255,L[6]=lt>>>16&255,L[7]=lt>>>24&255,L[8]=he>>>0&255,L[9]=he>>>8&255,L[10]=he>>>16&255,L[11]=he>>>24&255,L[12]=Ue>>>0&255,L[13]=Ue>>>8&255,L[14]=Ue>>>16&255,L[15]=Ue>>>24&255,L[16]=Le>>>0&255,L[17]=Le>>>8&255,L[18]=Le>>>16&255,L[19]=Le>>>24&255,L[20]=$e>>>0&255,L[21]=$e>>>8&255,L[22]=$e>>>16&255,L[23]=$e>>>24&255,L[24]=it>>>0&255,L[25]=it>>>8&255,L[26]=it>>>16&255,L[27]=it>>>24&255,L[28]=Q>>>0&255,L[29]=Q>>>8&255,L[30]=Q>>>16&255,L[31]=Q>>>24&255}function $(L,K,re,F){I(L,K,re,F)}function V(L,K,re,F){N(L,K,re,F)}var U=new Uint8Array([101,120,112,97,110,100,32,51,50,45,98,121,116,101,32,107]);function J(L,K,re,F,ne,Ae,be){var Pe=new Uint8Array(16),Ke=new Uint8Array(64),nt,Ge;for(Ge=0;Ge<16;Ge++)Pe[Ge]=0;for(Ge=0;Ge<8;Ge++)Pe[Ge]=Ae[Ge];for(;ne>=64;){for($(Ke,Pe,be,U),Ge=0;Ge<64;Ge++)L[K+Ge]=re[F+Ge]^Ke[Ge];for(nt=1,Ge=8;Ge<16;Ge++)nt=nt+(Pe[Ge]&255)|0,Pe[Ge]=nt&255,nt>>>=8;ne-=64,K+=64,F+=64}if(ne>0)for($(Ke,Pe,be,U),Ge=0;Ge<ne;Ge++)L[K+Ge]=re[F+Ge]^Ke[Ge];return 0}function Y(L,K,re,F,ne){var Ae=new Uint8Array(16),be=new Uint8Array(64),Pe,Ke;for(Ke=0;Ke<16;Ke++)Ae[Ke]=0;for(Ke=0;Ke<8;Ke++)Ae[Ke]=F[Ke];for(;re>=64;){for($(be,Ae,ne,U),Ke=0;Ke<64;Ke++)L[K+Ke]=be[Ke];for(Pe=1,Ke=8;Ke<16;Ke++)Pe=Pe+(Ae[Ke]&255)|0,Ae[Ke]=Pe&255,Pe>>>=8;re-=64,K+=64}if(re>0)for($(be,Ae,ne,U),Ke=0;Ke<re;Ke++)L[K+Ke]=be[Ke];return 0}function oe(L,K,re,F,ne){var Ae=new Uint8Array(32);V(Ae,F,ne,U);for(var be=new Uint8Array(8),Pe=0;Pe<8;Pe++)be[Pe]=F[Pe+16];return Y(L,K,re,be,Ae)}function G(L,K,re,F,ne,Ae,be){var Pe=new Uint8Array(32);V(Pe,Ae,be,U);for(var Ke=new Uint8Array(8),nt=0;nt<8;nt++)Ke[nt]=Ae[nt+16];return J(L,K,re,F,ne,Ke,Pe)}var E=function(L){this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.leftover=0,this.fin=0;var K,re,F,ne,Ae,be,Pe,Ke;K=L[0]&255|(L[1]&255)<<8,this.r[0]=K&8191,re=L[2]&255|(L[3]&255)<<8,this.r[1]=(K>>>13|re<<3)&8191,F=L[4]&255|(L[5]&255)<<8,this.r[2]=(re>>>10|F<<6)&7939,ne=L[6]&255|(L[7]&255)<<8,this.r[3]=(F>>>7|ne<<9)&8191,Ae=L[8]&255|(L[9]&255)<<8,this.r[4]=(ne>>>4|Ae<<12)&255,this.r[5]=Ae>>>1&8190,be=L[10]&255|(L[11]&255)<<8,this.r[6]=(Ae>>>14|be<<2)&8191,Pe=L[12]&255|(L[13]&255)<<8,this.r[7]=(be>>>11|Pe<<5)&8065,Ke=L[14]&255|(L[15]&255)<<8,this.r[8]=(Pe>>>8|Ke<<8)&8191,this.r[9]=Ke>>>5&127,this.pad[0]=L[16]&255|(L[17]&255)<<8,this.pad[1]=L[18]&255|(L[19]&255)<<8,this.pad[2]=L[20]&255|(L[21]&255)<<8,this.pad[3]=L[22]&255|(L[23]&255)<<8,this.pad[4]=L[24]&255|(L[25]&255)<<8,this.pad[5]=L[26]&255|(L[27]&255)<<8,this.pad[6]=L[28]&255|(L[29]&255)<<8,this.pad[7]=L[30]&255|(L[31]&255)<<8};E.prototype.blocks=function(L,K,re){for(var F=this.fin?0:2048,ne,Ae,be,Pe,Ke,nt,Ge,Nt,gt,Mt,kt,Ft,Tt,_t,Et,At,dt,bt,ut,mt=this.h[0],wt=this.h[1],lt=this.h[2],Le=this.h[3],$e=this.h[4],it=this.h[5],Q=this.h[6],he=this.h[7],de=this.h[8],Ie=this.h[9],ke=this.r[0],Be=this.r[1],Ue=this.r[2],pe=this.r[3],We=this.r[4],Je=this.r[5],He=this.r[6],ht=this.r[7],St=this.r[8],Dt=this.r[9];re>=16;)ne=L[K+0]&255|(L[K+1]&255)<<8,mt+=ne&8191,Ae=L[K+2]&255|(L[K+3]&255)<<8,wt+=(ne>>>13|Ae<<3)&8191,be=L[K+4]&255|(L[K+5]&255)<<8,lt+=(Ae>>>10|be<<6)&8191,Pe=L[K+6]&255|(L[K+7]&255)<<8,Le+=(be>>>7|Pe<<9)&8191,Ke=L[K+8]&255|(L[K+9]&255)<<8,$e+=(Pe>>>4|Ke<<12)&8191,it+=Ke>>>1&8191,nt=L[K+10]&255|(L[K+11]&255)<<8,Q+=(Ke>>>14|nt<<2)&8191,Ge=L[K+12]&255|(L[K+13]&255)<<8,he+=(nt>>>11|Ge<<5)&8191,Nt=L[K+14]&255|(L[K+15]&255)<<8,de+=(Ge>>>8|Nt<<8)&8191,Ie+=Nt>>>5|F,gt=0,Mt=gt,Mt+=mt*ke,Mt+=wt*(5*Dt),Mt+=lt*(5*St),Mt+=Le*(5*ht),Mt+=$e*(5*He),gt=Mt>>>13,Mt&=8191,Mt+=it*(5*Je),Mt+=Q*(5*We),Mt+=he*(5*pe),Mt+=de*(5*Ue),Mt+=Ie*(5*Be),gt+=Mt>>>13,Mt&=8191,kt=gt,kt+=mt*Be,kt+=wt*ke,kt+=lt*(5*Dt),kt+=Le*(5*St),kt+=$e*(5*ht),gt=kt>>>13,kt&=8191,kt+=it*(5*He),kt+=Q*(5*Je),kt+=he*(5*We),kt+=de*(5*pe),kt+=Ie*(5*Ue),gt+=kt>>>13,kt&=8191,Ft=gt,Ft+=mt*Ue,Ft+=wt*Be,Ft+=lt*ke,Ft+=Le*(5*Dt),Ft+=$e*(5*St),gt=Ft>>>13,Ft&=8191,Ft+=it*(5*ht),Ft+=Q*(5*He),Ft+=he*(5*Je),Ft+=de*(5*We),Ft+=Ie*(5*pe),gt+=Ft>>>13,Ft&=8191,Tt=gt,Tt+=mt*pe,Tt+=wt*Ue,Tt+=lt*Be,Tt+=Le*ke,Tt+=$e*(5*Dt),gt=Tt>>>13,Tt&=8191,Tt+=it*(5*St),Tt+=Q*(5*ht),Tt+=he*(5*He),Tt+=de*(5*Je),Tt+=Ie*(5*We),gt+=Tt>>>13,Tt&=8191,_t=gt,_t+=mt*We,_t+=wt*pe,_t+=lt*Ue,_t+=Le*Be,_t+=$e*ke,gt=_t>>>13,_t&=8191,_t+=it*(5*Dt),_t+=Q*(5*St),_t+=he*(5*ht),_t+=de*(5*He),_t+=Ie*(5*Je),gt+=_t>>>13,_t&=8191,Et=gt,Et+=mt*Je,Et+=wt*We,Et+=lt*pe,Et+=Le*Ue,Et+=$e*Be,gt=Et>>>13,Et&=8191,Et+=it*ke,Et+=Q*(5*Dt),Et+=he*(5*St),Et+=de*(5*ht),Et+=Ie*(5*He),gt+=Et>>>13,Et&=8191,At=gt,At+=mt*He,At+=wt*Je,At+=lt*We,At+=Le*pe,At+=$e*Ue,gt=At>>>13,At&=8191,At+=it*Be,At+=Q*ke,At+=he*(5*Dt),At+=de*(5*St),At+=Ie*(5*ht),gt+=At>>>13,At&=8191,dt=gt,dt+=mt*ht,dt+=wt*He,dt+=lt*Je,dt+=Le*We,dt+=$e*pe,gt=dt>>>13,dt&=8191,dt+=it*Ue,dt+=Q*Be,dt+=he*ke,dt+=de*(5*Dt),dt+=Ie*(5*St),gt+=dt>>>13,dt&=8191,bt=gt,bt+=mt*St,bt+=wt*ht,bt+=lt*He,bt+=Le*Je,bt+=$e*We,gt=bt>>>13,bt&=8191,bt+=it*pe,bt+=Q*Ue,bt+=he*Be,bt+=de*ke,bt+=Ie*(5*Dt),gt+=bt>>>13,bt&=8191,ut=gt,ut+=mt*Dt,ut+=wt*St,ut+=lt*ht,ut+=Le*He,ut+=$e*Je,gt=ut>>>13,ut&=8191,ut+=it*We,ut+=Q*pe,ut+=he*Ue,ut+=de*Be,ut+=Ie*ke,gt+=ut>>>13,ut&=8191,gt=(gt<<2)+gt|0,gt=gt+Mt|0,Mt=gt&8191,gt=gt>>>13,kt+=gt,mt=Mt,wt=kt,lt=Ft,Le=Tt,$e=_t,it=Et,Q=At,he=dt,de=bt,Ie=ut,K+=16,re-=16;this.h[0]=mt,this.h[1]=wt,this.h[2]=lt,this.h[3]=Le,this.h[4]=$e,this.h[5]=it,this.h[6]=Q,this.h[7]=he,this.h[8]=de,this.h[9]=Ie},E.prototype.finish=function(L,K){var re=new Uint16Array(10),F,ne,Ae,be;if(this.leftover){for(be=this.leftover,this.buffer[be++]=1;be<16;be++)this.buffer[be]=0;this.fin=1,this.blocks(this.buffer,0,16)}for(F=this.h[1]>>>13,this.h[1]&=8191,be=2;be<10;be++)this.h[be]+=F,F=this.h[be]>>>13,this.h[be]&=8191;for(this.h[0]+=F*5,F=this.h[0]>>>13,this.h[0]&=8191,this.h[1]+=F,F=this.h[1]>>>13,this.h[1]&=8191,this.h[2]+=F,re[0]=this.h[0]+5,F=re[0]>>>13,re[0]&=8191,be=1;be<10;be++)re[be]=this.h[be]+F,F=re[be]>>>13,re[be]&=8191;for(re[9]-=8192,ne=(F^1)-1,be=0;be<10;be++)re[be]&=ne;for(ne=~ne,be=0;be<10;be++)this.h[be]=this.h[be]&ne|re[be];for(this.h[0]=(this.h[0]|this.h[1]<<13)&65535,this.h[1]=(this.h[1]>>>3|this.h[2]<<10)&65535,this.h[2]=(this.h[2]>>>6|this.h[3]<<7)&65535,this.h[3]=(this.h[3]>>>9|this.h[4]<<4)&65535,this.h[4]=(this.h[4]>>>12|this.h[5]<<1|this.h[6]<<14)&65535,this.h[5]=(this.h[6]>>>2|this.h[7]<<11)&65535,this.h[6]=(this.h[7]>>>5|this.h[8]<<8)&65535,this.h[7]=(this.h[8]>>>8|this.h[9]<<5)&65535,Ae=this.h[0]+this.pad[0],this.h[0]=Ae&65535,be=1;be<8;be++)Ae=(this.h[be]+this.pad[be]|0)+(Ae>>>16)|0,this.h[be]=Ae&65535;L[K+0]=this.h[0]>>>0&255,L[K+1]=this.h[0]>>>8&255,L[K+2]=this.h[1]>>>0&255,L[K+3]=this.h[1]>>>8&255,L[K+4]=this.h[2]>>>0&255,L[K+5]=this.h[2]>>>8&255,L[K+6]=this.h[3]>>>0&255,L[K+7]=this.h[3]>>>8&255,L[K+8]=this.h[4]>>>0&255,L[K+9]=this.h[4]>>>8&255,L[K+10]=this.h[5]>>>0&255,L[K+11]=this.h[5]>>>8&255,L[K+12]=this.h[6]>>>0&255,L[K+13]=this.h[6]>>>8&255,L[K+14]=this.h[7]>>>0&255,L[K+15]=this.h[7]>>>8&255},E.prototype.update=function(L,K,re){var F,ne;if(this.leftover){for(ne=16-this.leftover,ne>re&&(ne=re),F=0;F<ne;F++)this.buffer[this.leftover+F]=L[K+F];if(re-=ne,K+=ne,this.leftover+=ne,this.leftover<16)return;this.blocks(this.buffer,0,16),this.leftover=0}if(re>=16&&(ne=re-re%16,this.blocks(L,K,ne),K+=ne,re-=ne),re){for(F=0;F<re;F++)this.buffer[this.leftover+F]=L[K+F];this.leftover+=re}};function d(L,K,re,F,ne,Ae){var be=new E(Ae);return be.update(re,F,ne),be.finish(L,K),0}function p(L,K,re,F,ne,Ae){var be=new Uint8Array(16);return d(be,0,re,F,ne,Ae),R(L,K,be,0)}function o(L,K,re,F,ne){var Ae;if(re<32)return-1;for(G(L,0,K,0,re,F,ne),d(L,16,L,32,re-32,L),Ae=0;Ae<16;Ae++)L[Ae]=0;return 0}function l(L,K,re,F,ne){var Ae,be=new Uint8Array(32);if(re<32||(oe(be,0,32,F,ne),p(K,16,K,32,re-32,be)!==0))return-1;for(G(L,0,K,0,re,F,ne),Ae=0;Ae<32;Ae++)L[Ae]=0;return 0}function S(L,K){var re;for(re=0;re<16;re++)L[re]=K[re]|0}function x(L){var K,re,F=1;for(K=0;K<16;K++)re=L[K]+F+65535,F=Math.floor(re/65536),L[K]=re-F*65536;L[0]+=F-1+37*(F-1)}function v(L,K,re){for(var F,ne=~(re-1),Ae=0;Ae<16;Ae++)F=ne&(L[Ae]^K[Ae]),L[Ae]^=F,K[Ae]^=F}function m(L,K){var re,F,ne,Ae=t(),be=t();for(re=0;re<16;re++)be[re]=K[re];for(x(be),x(be),x(be),F=0;F<2;F++){for(Ae[0]=be[0]-65517,re=1;re<15;re++)Ae[re]=be[re]-65535-(Ae[re-1]>>16&1),Ae[re-1]&=65535;Ae[15]=be[15]-32767-(Ae[14]>>16&1),ne=Ae[15]>>16&1,Ae[14]&=65535,v(be,Ae,1-ne)}for(re=0;re<16;re++)L[2*re]=be[re]&255,L[2*re+1]=be[re]>>8}function y(L,K){var re=new Uint8Array(32),F=new Uint8Array(32);return m(re,L),m(F,K),A(re,0,F,0)}function k(L){var K=new Uint8Array(32);return m(K,L),K[0]&1}function w(L,K){var re;for(re=0;re<16;re++)L[re]=K[2*re]+(K[2*re+1]<<8);L[15]&=32767}function T(L,K,re){for(var F=0;F<16;F++)L[F]=K[F]+re[F]}function ie(L,K,re){for(var F=0;F<16;F++)L[F]=K[F]-re[F]}function ve(L,K,re){var F,ne,Ae=0,be=0,Pe=0,Ke=0,nt=0,Ge=0,Nt=0,gt=0,Mt=0,kt=0,Ft=0,Tt=0,_t=0,Et=0,At=0,dt=0,bt=0,ut=0,mt=0,wt=0,lt=0,Le=0,$e=0,it=0,Q=0,he=0,de=0,Ie=0,ke=0,Be=0,Ue=0,pe=re[0],We=re[1],Je=re[2],He=re[3],ht=re[4],St=re[5],Dt=re[6],Ot=re[7],Lt=re[8],zt=re[9],Jt=re[10],or=re[11],cr=re[12],mr=re[13],vr=re[14],gr=re[15];F=K[0],Ae+=F*pe,be+=F*We,Pe+=F*Je,Ke+=F*He,nt+=F*ht,Ge+=F*St,Nt+=F*Dt,gt+=F*Ot,Mt+=F*Lt,kt+=F*zt,Ft+=F*Jt,Tt+=F*or,_t+=F*cr,Et+=F*mr,At+=F*vr,dt+=F*gr,F=K[1],be+=F*pe,Pe+=F*We,Ke+=F*Je,nt+=F*He,Ge+=F*ht,Nt+=F*St,gt+=F*Dt,Mt+=F*Ot,kt+=F*Lt,Ft+=F*zt,Tt+=F*Jt,_t+=F*or,Et+=F*cr,At+=F*mr,dt+=F*vr,bt+=F*gr,F=K[2],Pe+=F*pe,Ke+=F*We,nt+=F*Je,Ge+=F*He,Nt+=F*ht,gt+=F*St,Mt+=F*Dt,kt+=F*Ot,Ft+=F*Lt,Tt+=F*zt,_t+=F*Jt,Et+=F*or,At+=F*cr,dt+=F*mr,bt+=F*vr,ut+=F*gr,F=K[3],Ke+=F*pe,nt+=F*We,Ge+=F*Je,Nt+=F*He,gt+=F*ht,Mt+=F*St,kt+=F*Dt,Ft+=F*Ot,Tt+=F*Lt,_t+=F*zt,Et+=F*Jt,At+=F*or,dt+=F*cr,bt+=F*mr,ut+=F*vr,mt+=F*gr,F=K[4],nt+=F*pe,Ge+=F*We,Nt+=F*Je,gt+=F*He,Mt+=F*ht,kt+=F*St,Ft+=F*Dt,Tt+=F*Ot,_t+=F*Lt,Et+=F*zt,At+=F*Jt,dt+=F*or,bt+=F*cr,ut+=F*mr,mt+=F*vr,wt+=F*gr,F=K[5],Ge+=F*pe,Nt+=F*We,gt+=F*Je,Mt+=F*He,kt+=F*ht,Ft+=F*St,Tt+=F*Dt,_t+=F*Ot,Et+=F*Lt,At+=F*zt,dt+=F*Jt,bt+=F*or,ut+=F*cr,mt+=F*mr,wt+=F*vr,lt+=F*gr,F=K[6],Nt+=F*pe,gt+=F*We,Mt+=F*Je,kt+=F*He,Ft+=F*ht,Tt+=F*St,_t+=F*Dt,Et+=F*Ot,At+=F*Lt,dt+=F*zt,bt+=F*Jt,ut+=F*or,mt+=F*cr,wt+=F*mr,lt+=F*vr,Le+=F*gr,F=K[7],gt+=F*pe,Mt+=F*We,kt+=F*Je,Ft+=F*He,Tt+=F*ht,_t+=F*St,Et+=F*Dt,At+=F*Ot,dt+=F*Lt,bt+=F*zt,ut+=F*Jt,mt+=F*or,wt+=F*cr,lt+=F*mr,Le+=F*vr,$e+=F*gr,F=K[8],Mt+=F*pe,kt+=F*We,Ft+=F*Je,Tt+=F*He,_t+=F*ht,Et+=F*St,At+=F*Dt,dt+=F*Ot,bt+=F*Lt,ut+=F*zt,mt+=F*Jt,wt+=F*or,lt+=F*cr,Le+=F*mr,$e+=F*vr,it+=F*gr,F=K[9],kt+=F*pe,Ft+=F*We,Tt+=F*Je,_t+=F*He,Et+=F*ht,At+=F*St,dt+=F*Dt,bt+=F*Ot,ut+=F*Lt,mt+=F*zt,wt+=F*Jt,lt+=F*or,Le+=F*cr,$e+=F*mr,it+=F*vr,Q+=F*gr,F=K[10],Ft+=F*pe,Tt+=F*We,_t+=F*Je,Et+=F*He,At+=F*ht,dt+=F*St,bt+=F*Dt,ut+=F*Ot,mt+=F*Lt,wt+=F*zt,lt+=F*Jt,Le+=F*or,$e+=F*cr,it+=F*mr,Q+=F*vr,he+=F*gr,F=K[11],Tt+=F*pe,_t+=F*We,Et+=F*Je,At+=F*He,dt+=F*ht,bt+=F*St,ut+=F*Dt,mt+=F*Ot,wt+=F*Lt,lt+=F*zt,Le+=F*Jt,$e+=F*or,it+=F*cr,Q+=F*mr,he+=F*vr,de+=F*gr,F=K[12],_t+=F*pe,Et+=F*We,At+=F*Je,dt+=F*He,bt+=F*ht,ut+=F*St,mt+=F*Dt,wt+=F*Ot,lt+=F*Lt,Le+=F*zt,$e+=F*Jt,it+=F*or,Q+=F*cr,he+=F*mr,de+=F*vr,Ie+=F*gr,F=K[13],Et+=F*pe,At+=F*We,dt+=F*Je,bt+=F*He,ut+=F*ht,mt+=F*St,wt+=F*Dt,lt+=F*Ot,Le+=F*Lt,$e+=F*zt,it+=F*Jt,Q+=F*or,he+=F*cr,de+=F*mr,Ie+=F*vr,ke+=F*gr,F=K[14],At+=F*pe,dt+=F*We,bt+=F*Je,ut+=F*He,mt+=F*ht,wt+=F*St,lt+=F*Dt,Le+=F*Ot,$e+=F*Lt,it+=F*zt,Q+=F*Jt,he+=F*or,de+=F*cr,Ie+=F*mr,ke+=F*vr,Be+=F*gr,F=K[15],dt+=F*pe,bt+=F*We,ut+=F*Je,mt+=F*He,wt+=F*ht,lt+=F*St,Le+=F*Dt,$e+=F*Ot,it+=F*Lt,Q+=F*zt,he+=F*Jt,de+=F*or,Ie+=F*cr,ke+=F*mr,Be+=F*vr,Ue+=F*gr,Ae+=38*bt,be+=38*ut,Pe+=38*mt,Ke+=38*wt,nt+=38*lt,Ge+=38*Le,Nt+=38*$e,gt+=38*it,Mt+=38*Q,kt+=38*he,Ft+=38*de,Tt+=38*Ie,_t+=38*ke,Et+=38*Be,At+=38*Ue,ne=1,F=Ae+ne+65535,ne=Math.floor(F/65536),Ae=F-ne*65536,F=be+ne+65535,ne=Math.floor(F/65536),be=F-ne*65536,F=Pe+ne+65535,ne=Math.floor(F/65536),Pe=F-ne*65536,F=Ke+ne+65535,ne=Math.floor(F/65536),Ke=F-ne*65536,F=nt+ne+65535,ne=Math.floor(F/65536),nt=F-ne*65536,F=Ge+ne+65535,ne=Math.floor(F/65536),Ge=F-ne*65536,F=Nt+ne+65535,ne=Math.floor(F/65536),Nt=F-ne*65536,F=gt+ne+65535,ne=Math.floor(F/65536),gt=F-ne*65536,F=Mt+ne+65535,ne=Math.floor(F/65536),Mt=F-ne*65536,F=kt+ne+65535,ne=Math.floor(F/65536),kt=F-ne*65536,F=Ft+ne+65535,ne=Math.floor(F/65536),Ft=F-ne*65536,F=Tt+ne+65535,ne=Math.floor(F/65536),Tt=F-ne*65536,F=_t+ne+65535,ne=Math.floor(F/65536),_t=F-ne*65536,F=Et+ne+65535,ne=Math.floor(F/65536),Et=F-ne*65536,F=At+ne+65535,ne=Math.floor(F/65536),At=F-ne*65536,F=dt+ne+65535,ne=Math.floor(F/65536),dt=F-ne*65536,Ae+=ne-1+37*(ne-1),ne=1,F=Ae+ne+65535,ne=Math.floor(F/65536),Ae=F-ne*65536,F=be+ne+65535,ne=Math.floor(F/65536),be=F-ne*65536,F=Pe+ne+65535,ne=Math.floor(F/65536),Pe=F-ne*65536,F=Ke+ne+65535,ne=Math.floor(F/65536),Ke=F-ne*65536,F=nt+ne+65535,ne=Math.floor(F/65536),nt=F-ne*65536,F=Ge+ne+65535,ne=Math.floor(F/65536),Ge=F-ne*65536,F=Nt+ne+65535,ne=Math.floor(F/65536),Nt=F-ne*65536,F=gt+ne+65535,ne=Math.floor(F/65536),gt=F-ne*65536,F=Mt+ne+65535,ne=Math.floor(F/65536),Mt=F-ne*65536,F=kt+ne+65535,ne=Math.floor(F/65536),kt=F-ne*65536,F=Ft+ne+65535,ne=Math.floor(F/65536),Ft=F-ne*65536,F=Tt+ne+65535,ne=Math.floor(F/65536),Tt=F-ne*65536,F=_t+ne+65535,ne=Math.floor(F/65536),_t=F-ne*65536,F=Et+ne+65535,ne=Math.floor(F/65536),Et=F-ne*65536,F=At+ne+65535,ne=Math.floor(F/65536),At=F-ne*65536,F=dt+ne+65535,ne=Math.floor(F/65536),dt=F-ne*65536,Ae+=ne-1+37*(ne-1),L[0]=Ae,L[1]=be,L[2]=Pe,L[3]=Ke,L[4]=nt,L[5]=Ge,L[6]=Nt,L[7]=gt,L[8]=Mt,L[9]=kt,L[10]=Ft,L[11]=Tt,L[12]=_t,L[13]=Et,L[14]=At,L[15]=dt}function ce(L,K){ve(L,K,K)}function C(L,K){var re=t(),F;for(F=0;F<16;F++)re[F]=K[F];for(F=253;F>=0;F--)ce(re,re),F!==2&&F!==4&&ve(re,re,K);for(F=0;F<16;F++)L[F]=re[F]}function B(L,K){var re=t(),F;for(F=0;F<16;F++)re[F]=K[F];for(F=250;F>=0;F--)ce(re,re),F!==1&&ve(re,re,K);for(F=0;F<16;F++)L[F]=re[F]}function ee(L,K,re){var F=new Uint8Array(32),ne=new Float64Array(80),Ae,be,Pe=t(),Ke=t(),nt=t(),Ge=t(),Nt=t(),gt=t();for(be=0;be<31;be++)F[be]=K[be];for(F[31]=K[31]&127|64,F[0]&=248,w(ne,re),be=0;be<16;be++)Ke[be]=ne[be],Ge[be]=Pe[be]=nt[be]=0;for(Pe[0]=Ge[0]=1,be=254;be>=0;--be)Ae=F[be>>>3]>>>(be&7)&1,v(Pe,Ke,Ae),v(nt,Ge,Ae),T(Nt,Pe,nt),ie(Pe,Pe,nt),T(nt,Ke,Ge),ie(Ke,Ke,Ge),ce(Ge,Nt),ce(gt,Pe),ve(Pe,nt,Pe),ve(nt,Ke,Nt),T(Nt,Pe,nt),ie(Pe,Pe,nt),ce(Ke,Pe),ie(nt,Ge,gt),ve(Pe,nt,u),T(Pe,Pe,Ge),ve(nt,nt,Pe),ve(Pe,Ge,gt),ve(Ge,Ke,ne),ce(Ke,Nt),v(Pe,Ke,Ae),v(nt,Ge,Ae);for(be=0;be<16;be++)ne[be+16]=Pe[be],ne[be+32]=nt[be],ne[be+48]=Ke[be],ne[be+64]=Ge[be];var Mt=ne.subarray(32),kt=ne.subarray(16);return C(Mt,Mt),ve(kt,kt,Mt),m(L,kt),0}function z(L,K){return ee(L,K,n)}function P(L,K){return r(K,32),z(L,K)}function O(L,K,re){var F=new Uint8Array(32);return ee(F,re,K),V(L,a,F,U)}var se=o,le=l;function ge(L,K,re,F,ne,Ae){var be=new Uint8Array(32);return O(be,ne,Ae),se(L,K,re,F,be)}function Ee(L,K,re,F,ne,Ae){var be=new Uint8Array(32);return O(be,ne,Ae),le(L,K,re,F,be)}var me=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function ye(L,K,re,F){for(var ne=new Int32Array(16),Ae=new Int32Array(16),be,Pe,Ke,nt,Ge,Nt,gt,Mt,kt,Ft,Tt,_t,Et,At,dt,bt,ut,mt,wt,lt,Le,$e,it,Q,he,de,Ie=L[0],ke=L[1],Be=L[2],Ue=L[3],pe=L[4],We=L[5],Je=L[6],He=L[7],ht=K[0],St=K[1],Dt=K[2],Ot=K[3],Lt=K[4],zt=K[5],Jt=K[6],or=K[7],cr=0;F>=128;){for(wt=0;wt<16;wt++)lt=8*wt+cr,ne[wt]=re[lt+0]<<24|re[lt+1]<<16|re[lt+2]<<8|re[lt+3],Ae[wt]=re[lt+4]<<24|re[lt+5]<<16|re[lt+6]<<8|re[lt+7];for(wt=0;wt<80;wt++)if(be=Ie,Pe=ke,Ke=Be,nt=Ue,Ge=pe,Nt=We,gt=Je,Mt=He,kt=ht,Ft=St,Tt=Dt,_t=Ot,Et=Lt,At=zt,dt=Jt,bt=or,Le=He,$e=or,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=(pe>>>14|Lt<<18)^(pe>>>18|Lt<<14)^(Lt>>>9|pe<<23),$e=(Lt>>>14|pe<<18)^(Lt>>>18|pe<<14)^(pe>>>9|Lt<<23),it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Le=pe&We^~pe&Je,$e=Lt&zt^~Lt&Jt,it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Le=me[wt*2],$e=me[wt*2+1],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Le=ne[wt%16],$e=Ae[wt%16],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,ut=he&65535|de<<16,mt=it&65535|Q<<16,Le=ut,$e=mt,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=(Ie>>>28|ht<<4)^(ht>>>2|Ie<<30)^(ht>>>7|Ie<<25),$e=(ht>>>28|Ie<<4)^(Ie>>>2|ht<<30)^(Ie>>>7|ht<<25),it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Le=Ie&ke^Ie&Be^ke&Be,$e=ht&St^ht&Dt^St&Dt,it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,Mt=he&65535|de<<16,bt=it&65535|Q<<16,Le=nt,$e=_t,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=ut,$e=mt,it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,nt=he&65535|de<<16,_t=it&65535|Q<<16,ke=be,Be=Pe,Ue=Ke,pe=nt,We=Ge,Je=Nt,He=gt,Ie=Mt,St=kt,Dt=Ft,Ot=Tt,Lt=_t,zt=Et,Jt=At,or=dt,ht=bt,wt%16===15)for(lt=0;lt<16;lt++)Le=ne[lt],$e=Ae[lt],it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=ne[(lt+9)%16],$e=Ae[(lt+9)%16],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,ut=ne[(lt+1)%16],mt=Ae[(lt+1)%16],Le=(ut>>>1|mt<<31)^(ut>>>8|mt<<24)^ut>>>7,$e=(mt>>>1|ut<<31)^(mt>>>8|ut<<24)^(mt>>>7|ut<<25),it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,ut=ne[(lt+14)%16],mt=Ae[(lt+14)%16],Le=(ut>>>19|mt<<13)^(mt>>>29|ut<<3)^ut>>>6,$e=(mt>>>19|ut<<13)^(ut>>>29|mt<<3)^(mt>>>6|ut<<26),it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,ne[lt]=he&65535|de<<16,Ae[lt]=it&65535|Q<<16;Le=Ie,$e=ht,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[0],$e=K[0],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[0]=Ie=he&65535|de<<16,K[0]=ht=it&65535|Q<<16,Le=ke,$e=St,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[1],$e=K[1],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[1]=ke=he&65535|de<<16,K[1]=St=it&65535|Q<<16,Le=Be,$e=Dt,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[2],$e=K[2],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[2]=Be=he&65535|de<<16,K[2]=Dt=it&65535|Q<<16,Le=Ue,$e=Ot,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[3],$e=K[3],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[3]=Ue=he&65535|de<<16,K[3]=Ot=it&65535|Q<<16,Le=pe,$e=Lt,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[4],$e=K[4],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[4]=pe=he&65535|de<<16,K[4]=Lt=it&65535|Q<<16,Le=We,$e=zt,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[5],$e=K[5],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[5]=We=he&65535|de<<16,K[5]=zt=it&65535|Q<<16,Le=Je,$e=Jt,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[6],$e=K[6],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[6]=Je=he&65535|de<<16,K[6]=Jt=it&65535|Q<<16,Le=He,$e=or,it=$e&65535,Q=$e>>>16,he=Le&65535,de=Le>>>16,Le=L[7],$e=K[7],it+=$e&65535,Q+=$e>>>16,he+=Le&65535,de+=Le>>>16,Q+=it>>>16,he+=Q>>>16,de+=he>>>16,L[7]=He=he&65535|de<<16,K[7]=or=it&65535|Q<<16,cr+=128,F-=128}return F}function Te(L,K,re){var F=new Int32Array(8),ne=new Int32Array(8),Ae=new Uint8Array(256),be,Pe=re;for(F[0]=1779033703,F[1]=3144134277,F[2]=1013904242,F[3]=2773480762,F[4]=1359893119,F[5]=2600822924,F[6]=528734635,F[7]=1541459225,ne[0]=4089235720,ne[1]=2227873595,ne[2]=4271175723,ne[3]=1595750129,ne[4]=2917565137,ne[5]=725511199,ne[6]=4215389547,ne[7]=327033209,ye(F,ne,K,re),re%=128,be=0;be<re;be++)Ae[be]=K[Pe-re+be];for(Ae[re]=128,re=256-128*(re<112?1:0),Ae[re-9]=0,_(Ae,re-8,Pe/536870912|0,Pe<<3),ye(F,ne,Ae,re),be=0;be<8;be++)_(L,8*be,F[be],ne[be]);return 0}function we(L,K){var re=t(),F=t(),ne=t(),Ae=t(),be=t(),Pe=t(),Ke=t(),nt=t(),Ge=t();ie(re,L[1],L[0]),ie(Ge,K[1],K[0]),ve(re,re,Ge),T(F,L[0],L[1]),T(Ge,K[0],K[1]),ve(F,F,Ge),ve(ne,L[3],K[3]),ve(ne,ne,f),ve(Ae,L[2],K[2]),T(Ae,Ae,Ae),ie(be,F,re),ie(Pe,Ae,ne),T(Ke,Ae,ne),T(nt,F,re),ve(L[0],be,Pe),ve(L[1],nt,Ke),ve(L[2],Ke,Pe),ve(L[3],be,nt)}function Me(L,K,re){var F;for(F=0;F<4;F++)v(L[F],K[F],re)}function Ne(L,K){var re=t(),F=t(),ne=t();C(ne,K[2]),ve(re,K[0],ne),ve(F,K[1],ne),m(L,F),L[31]^=k(re)<<7}function Re(L,K,re){var F,ne;for(S(L[0],s),S(L[1],c),S(L[2],c),S(L[3],s),ne=255;ne>=0;--ne)F=re[ne/8|0]>>(ne&7)&1,Me(L,K,F),we(K,L),we(L,L),Me(L,K,F)}function Oe(L,K){var re=[t(),t(),t(),t()];S(re[0],g),S(re[1],b),S(re[2],c),ve(re[3],g,b),Re(L,re,K)}function Ye(L,K,re){var F=new Uint8Array(64),ne=[t(),t(),t(),t()],Ae;for(re||r(K,32),Te(F,K,32),F[0]&=248,F[31]&=127,F[31]|=64,Oe(ne,F),Ne(L,ne),Ae=0;Ae<32;Ae++)K[Ae+32]=L[Ae];return 0}var Xe=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function qe(L,K){var re,F,ne,Ae;for(F=63;F>=32;--F){for(re=0,ne=F-32,Ae=F-12;ne<Ae;++ne)K[ne]+=re-16*K[F]*Xe[ne-(F-32)],re=Math.floor((K[ne]+128)/256),K[ne]-=re*256;K[ne]+=re,K[F]=0}for(re=0,ne=0;ne<32;ne++)K[ne]+=re-(K[31]>>4)*Xe[ne],re=K[ne]>>8,K[ne]&=255;for(ne=0;ne<32;ne++)K[ne]-=re*Xe[ne];for(F=0;F<32;F++)K[F+1]+=K[F]>>8,L[F]=K[F]&255}function ct(L){var K=new Float64Array(64),re;for(re=0;re<64;re++)K[re]=L[re];for(re=0;re<64;re++)L[re]=0;qe(L,K)}function rt(L,K,re,F){var ne=new Uint8Array(64),Ae=new Uint8Array(64),be=new Uint8Array(64),Pe,Ke,nt=new Float64Array(64),Ge=[t(),t(),t(),t()];Te(ne,F,32),ne[0]&=248,ne[31]&=127,ne[31]|=64;var Nt=re+64;for(Pe=0;Pe<re;Pe++)L[64+Pe]=K[Pe];for(Pe=0;Pe<32;Pe++)L[32+Pe]=ne[32+Pe];for(Te(be,L.subarray(32),re+32),ct(be),Oe(Ge,be),Ne(L,Ge),Pe=32;Pe<64;Pe++)L[Pe]=F[Pe];for(Te(Ae,L,re+64),ct(Ae),Pe=0;Pe<64;Pe++)nt[Pe]=0;for(Pe=0;Pe<32;Pe++)nt[Pe]=be[Pe];for(Pe=0;Pe<32;Pe++)for(Ke=0;Ke<32;Ke++)nt[Pe+Ke]+=Ae[Pe]*ne[Ke];return qe(L.subarray(32),nt),Nt}function X(L,K){var re=t(),F=t(),ne=t(),Ae=t(),be=t(),Pe=t(),Ke=t();return S(L[2],c),w(L[1],K),ce(ne,L[1]),ve(Ae,ne,h),ie(ne,ne,L[2]),T(Ae,L[2],Ae),ce(be,Ae),ce(Pe,be),ve(Ke,Pe,be),ve(re,Ke,ne),ve(re,re,Ae),B(re,re),ve(re,re,ne),ve(re,re,Ae),ve(re,re,Ae),ve(L[0],re,Ae),ce(F,L[0]),ve(F,F,Ae),y(F,ne)&&ve(L[0],L[0],M),ce(F,L[0]),ve(F,F,Ae),y(F,ne)?-1:(k(L[0])===K[31]>>7&&ie(L[0],s,L[0]),ve(L[3],L[0],L[1]),0)}function q(L,K,re,F){var ne,Ae=new Uint8Array(32),be=new Uint8Array(64),Pe=[t(),t(),t(),t()],Ke=[t(),t(),t(),t()];if(re<64||X(Ke,F))return-1;for(ne=0;ne<re;ne++)L[ne]=K[ne];for(ne=0;ne<32;ne++)L[ne+32]=F[ne];if(Te(be,L,re),ct(be),Re(Pe,Ke,be),Oe(Ke,K.subarray(32)),we(Pe,Ke),Ne(Ae,Pe),re-=64,A(K,0,Ae,0)){for(ne=0;ne<re;ne++)L[ne]=0;return-1}for(ne=0;ne<re;ne++)L[ne]=K[ne+64];return re}var j=32,ae=24,xe=32,Se=16,_e=32,Ze=32,Qe=32,je=32,vt=32,et=ae,at=xe,Rt=Se,yt=64,ft=32,Vt=64,xt=32,te=64;e.lowlevel={crypto_core_hsalsa20:V,crypto_stream_xor:G,crypto_stream:oe,crypto_stream_salsa20_xor:J,crypto_stream_salsa20:Y,crypto_onetimeauth:d,crypto_onetimeauth_verify:p,crypto_verify_16:R,crypto_verify_32:A,crypto_secretbox:o,crypto_secretbox_open:l,crypto_scalarmult:ee,crypto_scalarmult_base:z,crypto_box_beforenm:O,crypto_box_afternm:se,crypto_box:ge,crypto_box_open:Ee,crypto_box_keypair:P,crypto_hash:Te,crypto_sign:rt,crypto_sign_keypair:Ye,crypto_sign_open:q,crypto_secretbox_KEYBYTES:j,crypto_secretbox_NONCEBYTES:ae,crypto_secretbox_ZEROBYTES:xe,crypto_secretbox_BOXZEROBYTES:Se,crypto_scalarmult_BYTES:_e,crypto_scalarmult_SCALARBYTES:Ze,crypto_box_PUBLICKEYBYTES:Qe,crypto_box_SECRETKEYBYTES:je,crypto_box_BEFORENMBYTES:vt,crypto_box_NONCEBYTES:et,crypto_box_ZEROBYTES:at,crypto_box_BOXZEROBYTES:Rt,crypto_sign_BYTES:yt,crypto_sign_PUBLICKEYBYTES:ft,crypto_sign_SECRETKEYBYTES:Vt,crypto_sign_SEEDBYTES:xt,crypto_hash_BYTES:te,gf:t,D:h,L:Xe,pack25519:m,unpack25519:w,M:ve,A:T,S:ce,Z:ie,pow2523:B,add:we,set25519:S,modL:qe,scalarmult:Re,scalarbase:Oe};function W(L,K){if(L.length!==j)throw new Error("bad key size");if(K.length!==ae)throw new Error("bad nonce size")}function H(L,K){if(L.length!==Qe)throw new Error("bad public key size");if(K.length!==je)throw new Error("bad secret key size")}function fe(){for(var L=0;L<arguments.length;L++)if(!(arguments[L]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function De(L){for(var K=0;K<L.length;K++)L[K]=0}e.randomBytes=function(L){var K=new Uint8Array(L);return r(K,L),K},e.secretbox=function(L,K,re){fe(L,K,re),W(re,K);for(var F=new Uint8Array(xe+L.length),ne=new Uint8Array(F.length),Ae=0;Ae<L.length;Ae++)F[Ae+xe]=L[Ae];return o(ne,F,F.length,K,re),ne.subarray(Se)},e.secretbox.open=function(L,K,re){fe(L,K,re),W(re,K);for(var F=new Uint8Array(Se+L.length),ne=new Uint8Array(F.length),Ae=0;Ae<L.length;Ae++)F[Ae+Se]=L[Ae];return F.length<32||l(ne,F,F.length,K,re)!==0?null:ne.subarray(xe)},e.secretbox.keyLength=j,e.secretbox.nonceLength=ae,e.secretbox.overheadLength=Se,e.scalarMult=function(L,K){if(fe(L,K),L.length!==Ze)throw new Error("bad n size");if(K.length!==_e)throw new Error("bad p size");var re=new Uint8Array(_e);return ee(re,L,K),re},e.scalarMult.base=function(L){if(fe(L),L.length!==Ze)throw new Error("bad n size");var K=new Uint8Array(_e);return z(K,L),K},e.scalarMult.scalarLength=Ze,e.scalarMult.groupElementLength=_e,e.box=function(L,K,re,F){var ne=e.box.before(re,F);return e.secretbox(L,K,ne)},e.box.before=function(L,K){fe(L,K),H(L,K);var re=new Uint8Array(vt);return O(re,L,K),re},e.box.after=e.secretbox,e.box.open=function(L,K,re,F){var ne=e.box.before(re,F);return e.secretbox.open(L,K,ne)},e.box.open.after=e.secretbox.open,e.box.keyPair=function(){var L=new Uint8Array(Qe),K=new Uint8Array(je);return P(L,K),{publicKey:L,secretKey:K}},e.box.keyPair.fromSecretKey=function(L){if(fe(L),L.length!==je)throw new Error("bad secret key size");var K=new Uint8Array(Qe);return z(K,L),{publicKey:K,secretKey:new Uint8Array(L)}},e.box.publicKeyLength=Qe,e.box.secretKeyLength=je,e.box.sharedKeyLength=vt,e.box.nonceLength=et,e.box.overheadLength=e.secretbox.overheadLength,e.sign=function(L,K){if(fe(L,K),K.length!==Vt)throw new Error("bad secret key size");var re=new Uint8Array(yt+L.length);return rt(re,L,L.length,K),re},e.sign.open=function(L,K){if(fe(L,K),K.length!==ft)throw new Error("bad public key size");var re=new Uint8Array(L.length),F=q(re,L,L.length,K);if(F<0)return null;for(var ne=new Uint8Array(F),Ae=0;Ae<ne.length;Ae++)ne[Ae]=re[Ae];return ne},e.sign.detached=function(L,K){for(var re=e.sign(L,K),F=new Uint8Array(yt),ne=0;ne<F.length;ne++)F[ne]=re[ne];return F},e.sign.detached.verify=function(L,K,re){if(fe(L,K,re),K.length!==yt)throw new Error("bad signature size");if(re.length!==ft)throw new Error("bad public key size");var F=new Uint8Array(yt+L.length),ne=new Uint8Array(yt+L.length),Ae;for(Ae=0;Ae<yt;Ae++)F[Ae]=K[Ae];for(Ae=0;Ae<L.length;Ae++)F[Ae+yt]=L[Ae];return q(ne,F,F.length,re)>=0},e.sign.keyPair=function(){var L=new Uint8Array(ft),K=new Uint8Array(Vt);return Ye(L,K),{publicKey:L,secretKey:K}},e.sign.keyPair.fromSecretKey=function(L){if(fe(L),L.length!==Vt)throw new Error("bad secret key size");for(var K=new Uint8Array(ft),re=0;re<K.length;re++)K[re]=L[32+re];return{publicKey:K,secretKey:new Uint8Array(L)}},e.sign.keyPair.fromSeed=function(L){if(fe(L),L.length!==xt)throw new Error("bad seed size");for(var K=new Uint8Array(ft),re=new Uint8Array(Vt),F=0;F<32;F++)re[F]=L[F];return Ye(K,re,!0),{publicKey:K,secretKey:re}},e.sign.publicKeyLength=ft,e.sign.secretKeyLength=Vt,e.sign.seedLength=xt,e.sign.signatureLength=yt,e.hash=function(L){fe(L);var K=new Uint8Array(te);return Te(K,L,L.length),K},e.hash.hashLength=te,e.verify=function(L,K){return fe(L,K),L.length===0||K.length===0||L.length!==K.length?!1:D(L,0,K,0,L.length)===0},e.setPRNG=function(L){r=L},(function(){var L=typeof self<"u"?self.crypto||self.msCrypto:null;if(L&&L.getRandomValues){var K=65536;e.setPRNG(function(re,F){var ne,Ae=new Uint8Array(F);for(ne=0;ne<F;ne+=K)L.getRandomValues(Ae.subarray(ne,ne+Math.min(F-ne,K)));for(ne=0;ne<F;ne++)re[ne]=Ae[ne];De(Ae)})}else typeof X6<"u"&&(L=i3(),L&&L.randomBytes&&e.setPRNG(function(re,F){var ne,Ae=L.randomBytes(F);for(ne=0;ne<F;ne++)re[ne]=Ae[ne];De(Ae)}))})()})(i.exports?i.exports:self.nacl=self.nacl||{})})(yh)),yh.exports}var zS=VS();const Bn=Of(zS);var Wd={exports:{}},aw;function jS(){return aw||(aw=1,(function(i){(function(){var e="input is invalid type",t="finalize already called",r=typeof window=="object",a=r?window:{};a.JS_SHA512_NO_WINDOW&&(r=!1);var n=!r&&typeof self=="object",s=!a.JS_SHA512_NO_NODE_JS&&typeof Bt=="object"&&Bt.versions&&Bt.versions.node;s?a=Gt:n&&(a=self);var c=!a.JS_SHA512_NO_COMMON_JS&&!0&&i.exports,u=!a.JS_SHA512_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",h="0123456789abcdef".split(""),f=[-2147483648,8388608,32768,128],g=[24,16,8,0],b=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],M=["hex","array","digest","arrayBuffer"],_=[];(a.JS_SHA512_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(U){return Object.prototype.toString.call(U)==="[object Array]"}),u&&(a.JS_SHA512_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(U){return typeof U=="object"&&U.buffer&&U.buffer.constructor===ArrayBuffer});var D=function(U,J){return function(Y){return new N(J,!0).update(Y)[U]()}},R=function(U){var J=D("hex",U);J.create=function(){return new N(U)},J.update=function(G){return J.create().update(G)};for(var Y=0;Y<M.length;++Y){var oe=M[Y];J[oe]=D(oe,U)}return J},A=function(U,J){return function(Y,oe){return new $(Y,J,!0).update(oe)[U]()}},I=function(U){var J=A("hex",U);J.create=function(G){return new $(G,U)},J.update=function(G,E){return J.create(G).update(E)};for(var Y=0;Y<M.length;++Y){var oe=M[Y];J[oe]=A(oe,U)}return J};function N(U,J){J?(_[0]=_[1]=_[2]=_[3]=_[4]=_[5]=_[6]=_[7]=_[8]=_[9]=_[10]=_[11]=_[12]=_[13]=_[14]=_[15]=_[16]=_[17]=_[18]=_[19]=_[20]=_[21]=_[22]=_[23]=_[24]=_[25]=_[26]=_[27]=_[28]=_[29]=_[30]=_[31]=_[32]=0,this.blocks=_):this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],U==384?(this.h0h=3418070365,this.h0l=3238371032,this.h1h=1654270250,this.h1l=914150663,this.h2h=2438529370,this.h2l=812702999,this.h3h=355462360,this.h3l=4144912697,this.h4h=1731405415,this.h4l=4290775857,this.h5h=2394180231,this.h5l=1750603025,this.h6h=3675008525,this.h6l=1694076839,this.h7h=1203062813,this.h7l=3204075428):U==256?(this.h0h=573645204,this.h0l=4230739756,this.h1h=2673172387,this.h1l=3360449730,this.h2h=596883563,this.h2l=1867755857,this.h3h=2520282905,this.h3l=1497426621,this.h4h=2519219938,this.h4l=2827943907,this.h5h=3193839141,this.h5l=1401305490,this.h6h=721525244,this.h6l=746961066,this.h7h=246885852,this.h7l=2177182882):U==224?(this.h0h=2352822216,this.h0l=424955298,this.h1h=1944164710,this.h1l=2312950998,this.h2h=502970286,this.h2l=855612546,this.h3h=1738396948,this.h3l=1479516111,this.h4h=258812777,this.h4l=2077511080,this.h5h=2011393907,this.h5l=79989058,this.h6h=1067287976,this.h6l=1780299464,this.h7h=286451373,this.h7l=2446758561):(this.h0h=1779033703,this.h0l=4089235720,this.h1h=3144134277,this.h1l=2227873595,this.h2h=1013904242,this.h2l=4271175723,this.h3h=2773480762,this.h3l=1595750129,this.h4h=1359893119,this.h4l=2917565137,this.h5h=2600822924,this.h5l=725511199,this.h6h=528734635,this.h6l=4215389547,this.h7h=1541459225,this.h7l=327033209),this.bits=U,this.block=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1}N.prototype.update=function(U){if(this.finalized)throw new Error(t);var J,Y=typeof U;if(Y!=="string"){if(Y==="object"){if(U===null)throw new Error(e);if(u&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!u||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);J=!0}for(var oe,G=0,E,d=U.length,p=this.blocks;G<d;){if(this.hashed&&(this.hashed=!1,p[0]=this.block,p[1]=p[2]=p[3]=p[4]=p[5]=p[6]=p[7]=p[8]=p[9]=p[10]=p[11]=p[12]=p[13]=p[14]=p[15]=p[16]=p[17]=p[18]=p[19]=p[20]=p[21]=p[22]=p[23]=p[24]=p[25]=p[26]=p[27]=p[28]=p[29]=p[30]=p[31]=p[32]=0),J)for(E=this.start;G<d&&E<128;++G)p[E>>2]|=U[G]<<g[E++&3];else for(E=this.start;G<d&&E<128;++G)oe=U.charCodeAt(G),oe<128?p[E>>2]|=oe<<g[E++&3]:oe<2048?(p[E>>2]|=(192|oe>>6)<<g[E++&3],p[E>>2]|=(128|oe&63)<<g[E++&3]):oe<55296||oe>=57344?(p[E>>2]|=(224|oe>>12)<<g[E++&3],p[E>>2]|=(128|oe>>6&63)<<g[E++&3],p[E>>2]|=(128|oe&63)<<g[E++&3]):(oe=65536+((oe&1023)<<10|U.charCodeAt(++G)&1023),p[E>>2]|=(240|oe>>18)<<g[E++&3],p[E>>2]|=(128|oe>>12&63)<<g[E++&3],p[E>>2]|=(128|oe>>6&63)<<g[E++&3],p[E>>2]|=(128|oe&63)<<g[E++&3]);this.lastByteIndex=E,this.bytes+=E-this.start,E>=128?(this.block=p[32],this.start=E-128,this.hash(),this.hashed=!0):this.start=E}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},N.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var U=this.blocks,J=this.lastByteIndex;U[32]=this.block,U[J>>2]|=f[J&3],this.block=U[32],J>=112&&(this.hashed||this.hash(),U[0]=this.block,U[1]=U[2]=U[3]=U[4]=U[5]=U[6]=U[7]=U[8]=U[9]=U[10]=U[11]=U[12]=U[13]=U[14]=U[15]=U[16]=U[17]=U[18]=U[19]=U[20]=U[21]=U[22]=U[23]=U[24]=U[25]=U[26]=U[27]=U[28]=U[29]=U[30]=U[31]=U[32]=0),U[30]=this.hBytes<<3|this.bytes>>>29,U[31]=this.bytes<<3,this.hash()}},N.prototype.hash=function(){var U=this.h0h,J=this.h0l,Y=this.h1h,oe=this.h1l,G=this.h2h,E=this.h2l,d=this.h3h,p=this.h3l,o=this.h4h,l=this.h4l,S=this.h5h,x=this.h5l,v=this.h6h,m=this.h6l,y=this.h7h,k=this.h7l,w=this.blocks,T,ie,ve,ce,C,B,ee,z,P,O,se,le,ge,Ee,me,ye,Te,we,Me,Ne,Re,Oe,Ye,Xe,qe;for(T=32;T<160;T+=2)Ne=w[T-30],Re=w[T-29],ie=(Ne>>>1|Re<<31)^(Ne>>>8|Re<<24)^Ne>>>7,ve=(Re>>>1|Ne<<31)^(Re>>>8|Ne<<24)^(Re>>>7|Ne<<25),Ne=w[T-4],Re=w[T-3],ce=(Ne>>>19|Re<<13)^(Re>>>29|Ne<<3)^Ne>>>6,C=(Re>>>19|Ne<<13)^(Ne>>>29|Re<<3)^(Re>>>6|Ne<<26),Ne=w[T-32],Re=w[T-31],Oe=w[T-14],Ye=w[T-13],B=(Ye&65535)+(Re&65535)+(ve&65535)+(C&65535),ee=(Ye>>>16)+(Re>>>16)+(ve>>>16)+(C>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(ie&65535)+(ce&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(ie>>>16)+(ce>>>16)+(z>>>16),w[T]=P<<16|z&65535,w[T+1]=ee<<16|B&65535;var ct=U,rt=J,X=Y,q=oe,j=G,ae=E,xe=d,Se=p,_e=o,Ze=l,Qe=S,je=x,vt=v,et=m,at=y,Rt=k;for(ye=X&j,Te=q&ae,T=0;T<160;T+=8)ie=(ct>>>28|rt<<4)^(rt>>>2|ct<<30)^(rt>>>7|ct<<25),ve=(rt>>>28|ct<<4)^(ct>>>2|rt<<30)^(ct>>>7|rt<<25),ce=(_e>>>14|Ze<<18)^(_e>>>18|Ze<<14)^(Ze>>>9|_e<<23),C=(Ze>>>14|_e<<18)^(Ze>>>18|_e<<14)^(_e>>>9|Ze<<23),O=ct&X,se=rt&q,we=O^ct&j^ye,Me=se^rt&ae^Te,Xe=_e&Qe^~_e&vt,qe=Ze&je^~Ze&et,Ne=w[T],Re=w[T+1],Oe=b[T],Ye=b[T+1],B=(Ye&65535)+(Re&65535)+(qe&65535)+(C&65535)+(Rt&65535),ee=(Ye>>>16)+(Re>>>16)+(qe>>>16)+(C>>>16)+(Rt>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(Xe&65535)+(ce&65535)+(at&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(Xe>>>16)+(ce>>>16)+(at>>>16)+(z>>>16),Ne=P<<16|z&65535,Re=ee<<16|B&65535,B=(Me&65535)+(ve&65535),ee=(Me>>>16)+(ve>>>16)+(B>>>16),z=(we&65535)+(ie&65535)+(ee>>>16),P=(we>>>16)+(ie>>>16)+(z>>>16),Oe=P<<16|z&65535,Ye=ee<<16|B&65535,B=(Se&65535)+(Re&65535),ee=(Se>>>16)+(Re>>>16)+(B>>>16),z=(xe&65535)+(Ne&65535)+(ee>>>16),P=(xe>>>16)+(Ne>>>16)+(z>>>16),at=P<<16|z&65535,Rt=ee<<16|B&65535,B=(Ye&65535)+(Re&65535),ee=(Ye>>>16)+(Re>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(z>>>16),xe=P<<16|z&65535,Se=ee<<16|B&65535,ie=(xe>>>28|Se<<4)^(Se>>>2|xe<<30)^(Se>>>7|xe<<25),ve=(Se>>>28|xe<<4)^(xe>>>2|Se<<30)^(xe>>>7|Se<<25),ce=(at>>>14|Rt<<18)^(at>>>18|Rt<<14)^(Rt>>>9|at<<23),C=(Rt>>>14|at<<18)^(Rt>>>18|at<<14)^(at>>>9|Rt<<23),le=xe&ct,ge=Se&rt,we=le^xe&X^O,Me=ge^Se&q^se,Xe=at&_e^~at&Qe,qe=Rt&Ze^~Rt&je,Ne=w[T+2],Re=w[T+3],Oe=b[T+2],Ye=b[T+3],B=(Ye&65535)+(Re&65535)+(qe&65535)+(C&65535)+(et&65535),ee=(Ye>>>16)+(Re>>>16)+(qe>>>16)+(C>>>16)+(et>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(Xe&65535)+(ce&65535)+(vt&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(Xe>>>16)+(ce>>>16)+(vt>>>16)+(z>>>16),Ne=P<<16|z&65535,Re=ee<<16|B&65535,B=(Me&65535)+(ve&65535),ee=(Me>>>16)+(ve>>>16)+(B>>>16),z=(we&65535)+(ie&65535)+(ee>>>16),P=(we>>>16)+(ie>>>16)+(z>>>16),Oe=P<<16|z&65535,Ye=ee<<16|B&65535,B=(ae&65535)+(Re&65535),ee=(ae>>>16)+(Re>>>16)+(B>>>16),z=(j&65535)+(Ne&65535)+(ee>>>16),P=(j>>>16)+(Ne>>>16)+(z>>>16),vt=P<<16|z&65535,et=ee<<16|B&65535,B=(Ye&65535)+(Re&65535),ee=(Ye>>>16)+(Re>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(z>>>16),j=P<<16|z&65535,ae=ee<<16|B&65535,ie=(j>>>28|ae<<4)^(ae>>>2|j<<30)^(ae>>>7|j<<25),ve=(ae>>>28|j<<4)^(j>>>2|ae<<30)^(j>>>7|ae<<25),ce=(vt>>>14|et<<18)^(vt>>>18|et<<14)^(et>>>9|vt<<23),C=(et>>>14|vt<<18)^(et>>>18|vt<<14)^(vt>>>9|et<<23),Ee=j&xe,me=ae&Se,we=Ee^j&ct^le,Me=me^ae&rt^ge,Xe=vt&at^~vt&_e,qe=et&Rt^~et&Ze,Ne=w[T+4],Re=w[T+5],Oe=b[T+4],Ye=b[T+5],B=(Ye&65535)+(Re&65535)+(qe&65535)+(C&65535)+(je&65535),ee=(Ye>>>16)+(Re>>>16)+(qe>>>16)+(C>>>16)+(je>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(Xe&65535)+(ce&65535)+(Qe&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(Xe>>>16)+(ce>>>16)+(Qe>>>16)+(z>>>16),Ne=P<<16|z&65535,Re=ee<<16|B&65535,B=(Me&65535)+(ve&65535),ee=(Me>>>16)+(ve>>>16)+(B>>>16),z=(we&65535)+(ie&65535)+(ee>>>16),P=(we>>>16)+(ie>>>16)+(z>>>16),Oe=P<<16|z&65535,Ye=ee<<16|B&65535,B=(q&65535)+(Re&65535),ee=(q>>>16)+(Re>>>16)+(B>>>16),z=(X&65535)+(Ne&65535)+(ee>>>16),P=(X>>>16)+(Ne>>>16)+(z>>>16),Qe=P<<16|z&65535,je=ee<<16|B&65535,B=(Ye&65535)+(Re&65535),ee=(Ye>>>16)+(Re>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(z>>>16),X=P<<16|z&65535,q=ee<<16|B&65535,ie=(X>>>28|q<<4)^(q>>>2|X<<30)^(q>>>7|X<<25),ve=(q>>>28|X<<4)^(X>>>2|q<<30)^(X>>>7|q<<25),ce=(Qe>>>14|je<<18)^(Qe>>>18|je<<14)^(je>>>9|Qe<<23),C=(je>>>14|Qe<<18)^(je>>>18|Qe<<14)^(Qe>>>9|je<<23),ye=X&j,Te=q&ae,we=ye^X&xe^Ee,Me=Te^q&Se^me,Xe=Qe&vt^~Qe&at,qe=je&et^~je&Rt,Ne=w[T+6],Re=w[T+7],Oe=b[T+6],Ye=b[T+7],B=(Ye&65535)+(Re&65535)+(qe&65535)+(C&65535)+(Ze&65535),ee=(Ye>>>16)+(Re>>>16)+(qe>>>16)+(C>>>16)+(Ze>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(Xe&65535)+(ce&65535)+(_e&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(Xe>>>16)+(ce>>>16)+(_e>>>16)+(z>>>16),Ne=P<<16|z&65535,Re=ee<<16|B&65535,B=(Me&65535)+(ve&65535),ee=(Me>>>16)+(ve>>>16)+(B>>>16),z=(we&65535)+(ie&65535)+(ee>>>16),P=(we>>>16)+(ie>>>16)+(z>>>16),Oe=P<<16|z&65535,Ye=ee<<16|B&65535,B=(rt&65535)+(Re&65535),ee=(rt>>>16)+(Re>>>16)+(B>>>16),z=(ct&65535)+(Ne&65535)+(ee>>>16),P=(ct>>>16)+(Ne>>>16)+(z>>>16),_e=P<<16|z&65535,Ze=ee<<16|B&65535,B=(Ye&65535)+(Re&65535),ee=(Ye>>>16)+(Re>>>16)+(B>>>16),z=(Oe&65535)+(Ne&65535)+(ee>>>16),P=(Oe>>>16)+(Ne>>>16)+(z>>>16),ct=P<<16|z&65535,rt=ee<<16|B&65535;B=(J&65535)+(rt&65535),ee=(J>>>16)+(rt>>>16)+(B>>>16),z=(U&65535)+(ct&65535)+(ee>>>16),P=(U>>>16)+(ct>>>16)+(z>>>16),this.h0h=P<<16|z&65535,this.h0l=ee<<16|B&65535,B=(oe&65535)+(q&65535),ee=(oe>>>16)+(q>>>16)+(B>>>16),z=(Y&65535)+(X&65535)+(ee>>>16),P=(Y>>>16)+(X>>>16)+(z>>>16),this.h1h=P<<16|z&65535,this.h1l=ee<<16|B&65535,B=(E&65535)+(ae&65535),ee=(E>>>16)+(ae>>>16)+(B>>>16),z=(G&65535)+(j&65535)+(ee>>>16),P=(G>>>16)+(j>>>16)+(z>>>16),this.h2h=P<<16|z&65535,this.h2l=ee<<16|B&65535,B=(p&65535)+(Se&65535),ee=(p>>>16)+(Se>>>16)+(B>>>16),z=(d&65535)+(xe&65535)+(ee>>>16),P=(d>>>16)+(xe>>>16)+(z>>>16),this.h3h=P<<16|z&65535,this.h3l=ee<<16|B&65535,B=(l&65535)+(Ze&65535),ee=(l>>>16)+(Ze>>>16)+(B>>>16),z=(o&65535)+(_e&65535)+(ee>>>16),P=(o>>>16)+(_e>>>16)+(z>>>16),this.h4h=P<<16|z&65535,this.h4l=ee<<16|B&65535,B=(x&65535)+(je&65535),ee=(x>>>16)+(je>>>16)+(B>>>16),z=(S&65535)+(Qe&65535)+(ee>>>16),P=(S>>>16)+(Qe>>>16)+(z>>>16),this.h5h=P<<16|z&65535,this.h5l=ee<<16|B&65535,B=(m&65535)+(et&65535),ee=(m>>>16)+(et>>>16)+(B>>>16),z=(v&65535)+(vt&65535)+(ee>>>16),P=(v>>>16)+(vt>>>16)+(z>>>16),this.h6h=P<<16|z&65535,this.h6l=ee<<16|B&65535,B=(k&65535)+(Rt&65535),ee=(k>>>16)+(Rt>>>16)+(B>>>16),z=(y&65535)+(at&65535)+(ee>>>16),P=(y>>>16)+(at>>>16)+(z>>>16),this.h7h=P<<16|z&65535,this.h7l=ee<<16|B&65535},N.prototype.hex=function(){this.finalize();var U=this.h0h,J=this.h0l,Y=this.h1h,oe=this.h1l,G=this.h2h,E=this.h2l,d=this.h3h,p=this.h3l,o=this.h4h,l=this.h4l,S=this.h5h,x=this.h5l,v=this.h6h,m=this.h6l,y=this.h7h,k=this.h7l,w=this.bits,T=h[U>>28&15]+h[U>>24&15]+h[U>>20&15]+h[U>>16&15]+h[U>>12&15]+h[U>>8&15]+h[U>>4&15]+h[U&15]+h[J>>28&15]+h[J>>24&15]+h[J>>20&15]+h[J>>16&15]+h[J>>12&15]+h[J>>8&15]+h[J>>4&15]+h[J&15]+h[Y>>28&15]+h[Y>>24&15]+h[Y>>20&15]+h[Y>>16&15]+h[Y>>12&15]+h[Y>>8&15]+h[Y>>4&15]+h[Y&15]+h[oe>>28&15]+h[oe>>24&15]+h[oe>>20&15]+h[oe>>16&15]+h[oe>>12&15]+h[oe>>8&15]+h[oe>>4&15]+h[oe&15]+h[G>>28&15]+h[G>>24&15]+h[G>>20&15]+h[G>>16&15]+h[G>>12&15]+h[G>>8&15]+h[G>>4&15]+h[G&15]+h[E>>28&15]+h[E>>24&15]+h[E>>20&15]+h[E>>16&15]+h[E>>12&15]+h[E>>8&15]+h[E>>4&15]+h[E&15]+h[d>>28&15]+h[d>>24&15]+h[d>>20&15]+h[d>>16&15]+h[d>>12&15]+h[d>>8&15]+h[d>>4&15]+h[d&15];return w>=256&&(T+=h[p>>28&15]+h[p>>24&15]+h[p>>20&15]+h[p>>16&15]+h[p>>12&15]+h[p>>8&15]+h[p>>4&15]+h[p&15]),w>=384&&(T+=h[o>>28&15]+h[o>>24&15]+h[o>>20&15]+h[o>>16&15]+h[o>>12&15]+h[o>>8&15]+h[o>>4&15]+h[o&15]+h[l>>28&15]+h[l>>24&15]+h[l>>20&15]+h[l>>16&15]+h[l>>12&15]+h[l>>8&15]+h[l>>4&15]+h[l&15]+h[S>>28&15]+h[S>>24&15]+h[S>>20&15]+h[S>>16&15]+h[S>>12&15]+h[S>>8&15]+h[S>>4&15]+h[S&15]+h[x>>28&15]+h[x>>24&15]+h[x>>20&15]+h[x>>16&15]+h[x>>12&15]+h[x>>8&15]+h[x>>4&15]+h[x&15]),w==512&&(T+=h[v>>28&15]+h[v>>24&15]+h[v>>20&15]+h[v>>16&15]+h[v>>12&15]+h[v>>8&15]+h[v>>4&15]+h[v&15]+h[m>>28&15]+h[m>>24&15]+h[m>>20&15]+h[m>>16&15]+h[m>>12&15]+h[m>>8&15]+h[m>>4&15]+h[m&15]+h[y>>28&15]+h[y>>24&15]+h[y>>20&15]+h[y>>16&15]+h[y>>12&15]+h[y>>8&15]+h[y>>4&15]+h[y&15]+h[k>>28&15]+h[k>>24&15]+h[k>>20&15]+h[k>>16&15]+h[k>>12&15]+h[k>>8&15]+h[k>>4&15]+h[k&15]),T},N.prototype.toString=N.prototype.hex,N.prototype.digest=function(){this.finalize();var U=this.h0h,J=this.h0l,Y=this.h1h,oe=this.h1l,G=this.h2h,E=this.h2l,d=this.h3h,p=this.h3l,o=this.h4h,l=this.h4l,S=this.h5h,x=this.h5l,v=this.h6h,m=this.h6l,y=this.h7h,k=this.h7l,w=this.bits,T=[U>>24&255,U>>16&255,U>>8&255,U&255,J>>24&255,J>>16&255,J>>8&255,J&255,Y>>24&255,Y>>16&255,Y>>8&255,Y&255,oe>>24&255,oe>>16&255,oe>>8&255,oe&255,G>>24&255,G>>16&255,G>>8&255,G&255,E>>24&255,E>>16&255,E>>8&255,E&255,d>>24&255,d>>16&255,d>>8&255,d&255];return w>=256&&T.push(p>>24&255,p>>16&255,p>>8&255,p&255),w>=384&&T.push(o>>24&255,o>>16&255,o>>8&255,o&255,l>>24&255,l>>16&255,l>>8&255,l&255,S>>24&255,S>>16&255,S>>8&255,S&255,x>>24&255,x>>16&255,x>>8&255,x&255),w==512&&T.push(v>>24&255,v>>16&255,v>>8&255,v&255,m>>24&255,m>>16&255,m>>8&255,m&255,y>>24&255,y>>16&255,y>>8&255,y&255,k>>24&255,k>>16&255,k>>8&255,k&255),T},N.prototype.array=N.prototype.digest,N.prototype.arrayBuffer=function(){this.finalize();var U=this.bits,J=new ArrayBuffer(U/8),Y=new DataView(J);return Y.setUint32(0,this.h0h),Y.setUint32(4,this.h0l),Y.setUint32(8,this.h1h),Y.setUint32(12,this.h1l),Y.setUint32(16,this.h2h),Y.setUint32(20,this.h2l),Y.setUint32(24,this.h3h),U>=256&&Y.setUint32(28,this.h3l),U>=384&&(Y.setUint32(32,this.h4h),Y.setUint32(36,this.h4l),Y.setUint32(40,this.h5h),Y.setUint32(44,this.h5l)),U==512&&(Y.setUint32(48,this.h6h),Y.setUint32(52,this.h6l),Y.setUint32(56,this.h7h),Y.setUint32(60,this.h7l)),J},N.prototype.clone=function(){var U=new N(this.bits,!1);return this.copyTo(U),U},N.prototype.copyTo=function(U){var J=0,Y=["h0h","h0l","h1h","h1l","h2h","h2l","h3h","h3l","h4h","h4l","h5h","h5l","h6h","h6l","h7h","h7l","start","bytes","hBytes","finalized","hashed","lastByteIndex"];for(J=0;J<Y.length;++J)U[Y[J]]=this[Y[J]];for(J=0;J<this.blocks.length;++J)U.blocks[J]=this.blocks[J]};function $(U,J,Y){var oe,G=typeof U;if(G!=="string"){if(G==="object"){if(U===null)throw new Error(e);if(u&&U.constructor===ArrayBuffer)U=new Uint8Array(U);else if(!Array.isArray(U)&&(!u||!ArrayBuffer.isView(U)))throw new Error(e)}else throw new Error(e);oe=!0}var E=U.length;if(!oe){for(var d=[],E=U.length,p=0,o,l=0;l<E;++l)o=U.charCodeAt(l),o<128?d[p++]=o:o<2048?(d[p++]=192|o>>6,d[p++]=128|o&63):o<55296||o>=57344?(d[p++]=224|o>>12,d[p++]=128|o>>6&63,d[p++]=128|o&63):(o=65536+((o&1023)<<10|U.charCodeAt(++l)&1023),d[p++]=240|o>>18,d[p++]=128|o>>12&63,d[p++]=128|o>>6&63,d[p++]=128|o&63);U=d}U.length>128&&(U=new N(J,!0).update(U).array());for(var S=[],x=[],l=0;l<128;++l){var v=U[l]||0;S[l]=92^v,x[l]=54^v}N.call(this,J,Y),this.update(x),this.oKeyPad=S,this.inner=!0,this.sharedMemory=Y}$.prototype=new N,$.prototype.finalize=function(){if(N.prototype.finalize.call(this),this.inner){this.inner=!1;var U=this.array();N.call(this,this.bits,this.sharedMemory),this.update(this.oKeyPad),this.update(U),N.prototype.finalize.call(this)}},$.prototype.clone=function(){var U=new $([],this.bits,!1);this.copyTo(U),U.inner=this.inner;for(var J=0;J<this.oKeyPad.length;++J)U.oKeyPad[J]=this.oKeyPad[J];return U};var V=R(512);V.sha512=V,V.sha384=R(384),V.sha512_256=R(256),V.sha512_224=R(224),V.sha512.hmac=I(512),V.sha384.hmac=I(384),V.sha512_256.hmac=I(256),V.sha512_224.hmac=I(224),c?i.exports=V:(a.sha512=V.sha512,a.sha384=V.sha384,a.sha512_256=V.sha512_256,a.sha512_224=V.sha512_224)})()})(Wd)),Wd.exports}var WS=jS();const HS=Of(WS);var ls={exports:{}},Hd={exports:{}},lf={exports:{}},GS=lf.exports,ow;function a3(){return ow||(ow=1,(function(i){(function(e){var t,r=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,a=Math.ceil,n=Math.floor,s="[BigNumber Error] ",c=s+"Number primitive has more than 15 significant digits: ",u=1e14,h=14,f=9007199254740991,g=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],b=1e7,M=1e9;function _(U){var J,Y,oe,G=ie.prototype={constructor:ie,toString:null,valueOf:null},E=new ie(1),d=20,p=4,o=-7,l=21,S=-1e7,x=1e7,v=!1,m=1,y=0,k={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:" ",suffix:""},w="0123456789abcdefghijklmnopqrstuvwxyz",T=!0;function ie(z,P){var O,se,le,ge,Ee,me,ye,Te,we=this;if(!(we instanceof ie))return new ie(z,P);if(P==null){if(z&&z._isBigNumber===!0){we.s=z.s,!z.c||z.e>x?we.c=we.e=null:z.e<S?we.c=[we.e=0]:(we.e=z.e,we.c=z.c.slice());return}if((me=typeof z=="number")&&z*0==0){if(we.s=1/z<0?(z=-z,-1):1,z===~~z){for(ge=0,Ee=z;Ee>=10;Ee/=10,ge++);ge>x?we.c=we.e=null:(we.e=ge,we.c=[z]);return}Te=String(z)}else{if(!r.test(Te=String(z)))return oe(we,Te,me);we.s=Te.charCodeAt(0)==45?(Te=Te.slice(1),-1):1}(ge=Te.indexOf("."))>-1&&(Te=Te.replace(".","")),(Ee=Te.search(/e/i))>0?(ge<0&&(ge=Ee),ge+=+Te.slice(Ee+1),Te=Te.substring(0,Ee)):ge<0&&(ge=Te.length)}else{if(I(P,2,w.length,"Base"),P==10&&T)return we=new ie(z),B(we,d+we.e+1,p);if(Te=String(z),me=typeof z=="number"){if(z*0!=0)return oe(we,Te,me,P);if(we.s=1/z<0?(Te=Te.slice(1),-1):1,ie.DEBUG&&Te.replace(/^0\.0*|\./,"").length>15)throw Error(c+z)}else we.s=Te.charCodeAt(0)===45?(Te=Te.slice(1),-1):1;for(O=w.slice(0,P),ge=Ee=0,ye=Te.length;Ee<ye;Ee++)if(O.indexOf(se=Te.charAt(Ee))<0){if(se=="."){if(Ee>ge){ge=ye;continue}}else if(!le&&(Te==Te.toUpperCase()&&(Te=Te.toLowerCase())||Te==Te.toLowerCase()&&(Te=Te.toUpperCase()))){le=!0,Ee=-1,ge=0;continue}return oe(we,String(z),me,P)}me=!1,Te=Y(Te,P,10,we.s),(ge=Te.indexOf("."))>-1?Te=Te.replace(".",""):ge=Te.length}for(Ee=0;Te.charCodeAt(Ee)===48;Ee++);for(ye=Te.length;Te.charCodeAt(--ye)===48;);if(Te=Te.slice(Ee,++ye)){if(ye-=Ee,me&&ie.DEBUG&&ye>15&&(z>f||z!==n(z)))throw Error(c+we.s*z);if((ge=ge-Ee-1)>x)we.c=we.e=null;else if(ge<S)we.c=[we.e=0];else{if(we.e=ge,we.c=[],Ee=(ge+1)%h,ge<0&&(Ee+=h),Ee<ye){for(Ee&&we.c.push(+Te.slice(0,Ee)),ye-=h;Ee<ye;)we.c.push(+Te.slice(Ee,Ee+=h));Ee=h-(Te=Te.slice(Ee)).length}else Ee-=ye;for(;Ee--;Te+="0");we.c.push(+Te)}}else we.c=[we.e=0]}ie.clone=_,ie.ROUND_UP=0,ie.ROUND_DOWN=1,ie.ROUND_CEIL=2,ie.ROUND_FLOOR=3,ie.ROUND_HALF_UP=4,ie.ROUND_HALF_DOWN=5,ie.ROUND_HALF_EVEN=6,ie.ROUND_HALF_CEIL=7,ie.ROUND_HALF_FLOOR=8,ie.EUCLID=9,ie.config=ie.set=function(z){var P,O;if(z!=null)if(typeof z=="object"){if(z.hasOwnProperty(P="DECIMAL_PLACES")&&(O=z[P],I(O,0,M,P),d=O),z.hasOwnProperty(P="ROUNDING_MODE")&&(O=z[P],I(O,0,8,P),p=O),z.hasOwnProperty(P="EXPONENTIAL_AT")&&(O=z[P],O&&O.pop?(I(O[0],-M,0,P),I(O[1],0,M,P),o=O[0],l=O[1]):(I(O,-M,M,P),o=-(l=O<0?-O:O))),z.hasOwnProperty(P="RANGE"))if(O=z[P],O&&O.pop)I(O[0],-M,-1,P),I(O[1],1,M,P),S=O[0],x=O[1];else if(I(O,-M,M,P),O)S=-(x=O<0?-O:O);else throw Error(s+P+" cannot be zero: "+O);if(z.hasOwnProperty(P="CRYPTO"))if(O=z[P],O===!!O)if(O)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))v=O;else throw v=!O,Error(s+"crypto unavailable");else v=O;else throw Error(s+P+" not true or false: "+O);if(z.hasOwnProperty(P="MODULO_MODE")&&(O=z[P],I(O,0,9,P),m=O),z.hasOwnProperty(P="POW_PRECISION")&&(O=z[P],I(O,0,M,P),y=O),z.hasOwnProperty(P="FORMAT"))if(O=z[P],typeof O=="object")k=O;else throw Error(s+P+" not an object: "+O);if(z.hasOwnProperty(P="ALPHABET"))if(O=z[P],typeof O=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test(O))T=O.slice(0,10)=="0123456789",w=O;else throw Error(s+P+" invalid: "+O)}else throw Error(s+"Object expected: "+z);return{DECIMAL_PLACES:d,ROUNDING_MODE:p,EXPONENTIAL_AT:[o,l],RANGE:[S,x],CRYPTO:v,MODULO_MODE:m,POW_PRECISION:y,FORMAT:k,ALPHABET:w}},ie.isBigNumber=function(z){if(!z||z._isBigNumber!==!0)return!1;if(!ie.DEBUG)return!0;var P,O,se=z.c,le=z.e,ge=z.s;e:if({}.toString.call(se)=="[object Array]"){if((ge===1||ge===-1)&&le>=-M&&le<=M&&le===n(le)){if(se[0]===0){if(le===0&&se.length===1)return!0;break e}if(P=(le+1)%h,P<1&&(P+=h),String(se[0]).length==P){for(P=0;P<se.length;P++)if(O=se[P],O<0||O>=u||O!==n(O))break e;if(O!==0)return!0}}}else if(se===null&&le===null&&(ge===null||ge===1||ge===-1))return!0;throw Error(s+"Invalid BigNumber: "+z)},ie.maximum=ie.max=function(){return ce(arguments,-1)},ie.minimum=ie.min=function(){return ce(arguments,1)},ie.random=(function(){var z=9007199254740992,P=Math.random()*z&2097151?function(){return n(Math.random()*z)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function(O){var se,le,ge,Ee,me,ye=0,Te=[],we=new ie(E);if(O==null?O=d:I(O,0,M),Ee=a(O/h),v)if(crypto.getRandomValues){for(se=crypto.getRandomValues(new Uint32Array(Ee*=2));ye<Ee;)me=se[ye]*131072+(se[ye+1]>>>11),me>=9e15?(le=crypto.getRandomValues(new Uint32Array(2)),se[ye]=le[0],se[ye+1]=le[1]):(Te.push(me%1e14),ye+=2);ye=Ee/2}else if(crypto.randomBytes){for(se=crypto.randomBytes(Ee*=7);ye<Ee;)me=(se[ye]&31)*281474976710656+se[ye+1]*1099511627776+se[ye+2]*4294967296+se[ye+3]*16777216+(se[ye+4]<<16)+(se[ye+5]<<8)+se[ye+6],me>=9e15?crypto.randomBytes(7).copy(se,ye):(Te.push(me%1e14),ye+=7);ye=Ee/7}else throw v=!1,Error(s+"crypto unavailable");if(!v)for(;ye<Ee;)me=P(),me<9e15&&(Te[ye++]=me%1e14);for(Ee=Te[--ye],O%=h,Ee&&O&&(me=g[h-O],Te[ye]=n(Ee/me)*me);Te[ye]===0;Te.pop(),ye--);if(ye<0)Te=[ge=0];else{for(ge=-1;Te[0]===0;Te.splice(0,1),ge-=h);for(ye=1,me=Te[0];me>=10;me/=10,ye++);ye<h&&(ge-=h-ye)}return we.e=ge,we.c=Te,we}})(),ie.sum=function(){for(var z=1,P=arguments,O=new ie(P[0]);z<P.length;)O=O.plus(P[z++]);return O},Y=(function(){var z="0123456789";function P(O,se,le,ge){for(var Ee,me=[0],ye,Te=0,we=O.length;Te<we;){for(ye=me.length;ye--;me[ye]*=se);for(me[0]+=ge.indexOf(O.charAt(Te++)),Ee=0;Ee<me.length;Ee++)me[Ee]>le-1&&(me[Ee+1]==null&&(me[Ee+1]=0),me[Ee+1]+=me[Ee]/le|0,me[Ee]%=le)}return me.reverse()}return function(O,se,le,ge,Ee){var me,ye,Te,we,Me,Ne,Re,Oe,Ye=O.indexOf("."),Xe=d,qe=p;for(Ye>=0&&(we=y,y=0,O=O.replace(".",""),Oe=new ie(se),Ne=Oe.pow(O.length-Ye),y=we,Oe.c=P(V(R(Ne.c),Ne.e,"0"),10,le,z),Oe.e=Oe.c.length),Re=P(O,se,le,Ee?(me=w,z):(me=z,w)),Te=we=Re.length;Re[--we]==0;Re.pop());if(!Re[0])return me.charAt(0);if(Ye<0?--Te:(Ne.c=Re,Ne.e=Te,Ne.s=ge,Ne=J(Ne,Oe,Xe,qe,le),Re=Ne.c,Me=Ne.r,Te=Ne.e),ye=Te+Xe+1,Ye=Re[ye],we=le/2,Me=Me||ye<0||Re[ye+1]!=null,Me=qe<4?(Ye!=null||Me)&&(qe==0||qe==(Ne.s<0?3:2)):Ye>we||Ye==we&&(qe==4||Me||qe==6&&Re[ye-1]&1||qe==(Ne.s<0?8:7)),ye<1||!Re[0])O=Me?V(me.charAt(1),-Xe,me.charAt(0)):me.charAt(0);else{if(Re.length=ye,Me)for(--le;++Re[--ye]>le;)Re[ye]=0,ye||(++Te,Re=[1].concat(Re));for(we=Re.length;!Re[--we];);for(Ye=0,O="";Ye<=we;O+=me.charAt(Re[Ye++]));O=V(O,Te,me.charAt(0))}return O}})(),J=(function(){function z(se,le,ge){var Ee,me,ye,Te,we=0,Me=se.length,Ne=le%b,Re=le/b|0;for(se=se.slice();Me--;)ye=se[Me]%b,Te=se[Me]/b|0,Ee=Re*ye+Te*Ne,me=Ne*ye+Ee%b*b+we,we=(me/ge|0)+(Ee/b|0)+Re*Te,se[Me]=me%ge;return we&&(se=[we].concat(se)),se}function P(se,le,ge,Ee){var me,ye;if(ge!=Ee)ye=ge>Ee?1:-1;else for(me=ye=0;me<ge;me++)if(se[me]!=le[me]){ye=se[me]>le[me]?1:-1;break}return ye}function O(se,le,ge,Ee){for(var me=0;ge--;)se[ge]-=me,me=se[ge]<le[ge]?1:0,se[ge]=me*Ee+se[ge]-le[ge];for(;!se[0]&&se.length>1;se.splice(0,1));}return function(se,le,ge,Ee,me){var ye,Te,we,Me,Ne,Re,Oe,Ye,Xe,qe,ct,rt,X,q,j,ae,xe,Se=se.s==le.s?1:-1,_e=se.c,Ze=le.c;if(!_e||!_e[0]||!Ze||!Ze[0])return new ie(!se.s||!le.s||(_e?Ze&&_e[0]==Ze[0]:!Ze)?NaN:_e&&_e[0]==0||!Ze?Se*0:Se/0);for(Ye=new ie(Se),Xe=Ye.c=[],Te=se.e-le.e,Se=ge+Te+1,me||(me=u,Te=D(se.e/h)-D(le.e/h),Se=Se/h|0),we=0;Ze[we]==(_e[we]||0);we++);if(Ze[we]>(_e[we]||0)&&Te--,Se<0)Xe.push(1),Me=!0;else{for(q=_e.length,ae=Ze.length,we=0,Se+=2,Ne=n(me/(Ze[0]+1)),Ne>1&&(Ze=z(Ze,Ne,me),_e=z(_e,Ne,me),ae=Ze.length,q=_e.length),X=ae,qe=_e.slice(0,ae),ct=qe.length;ct<ae;qe[ct++]=0);xe=Ze.slice(),xe=[0].concat(xe),j=Ze[0],Ze[1]>=me/2&&j++;do{if(Ne=0,ye=P(Ze,qe,ae,ct),ye<0){if(rt=qe[0],ae!=ct&&(rt=rt*me+(qe[1]||0)),Ne=n(rt/j),Ne>1)for(Ne>=me&&(Ne=me-1),Re=z(Ze,Ne,me),Oe=Re.length,ct=qe.length;P(Re,qe,Oe,ct)==1;)Ne--,O(Re,ae<Oe?xe:Ze,Oe,me),Oe=Re.length,ye=1;else Ne==0&&(ye=Ne=1),Re=Ze.slice(),Oe=Re.length;if(Oe<ct&&(Re=[0].concat(Re)),O(qe,Re,ct,me),ct=qe.length,ye==-1)for(;P(Ze,qe,ae,ct)<1;)Ne++,O(qe,ae<ct?xe:Ze,ct,me),ct=qe.length}else ye===0&&(Ne++,qe=[0]);Xe[we++]=Ne,qe[0]?qe[ct++]=_e[X]||0:(qe=[_e[X]],ct=1)}while((X++<q||qe[0]!=null)&&Se--);Me=qe[0]!=null,Xe[0]||Xe.splice(0,1)}if(me==u){for(we=1,Se=Xe[0];Se>=10;Se/=10,we++);B(Ye,ge+(Ye.e=we+Te*h-1)+1,Ee,Me)}else Ye.e=Te,Ye.r=+Me;return Ye}})();function ve(z,P,O,se){var le,ge,Ee,me,ye;if(O==null?O=p:I(O,0,8),!z.c)return z.toString();if(le=z.c[0],Ee=z.e,P==null)ye=R(z.c),ye=se==1||se==2&&(Ee<=o||Ee>=l)?$(ye,Ee):V(ye,Ee,"0");else if(z=B(new ie(z),P,O),ge=z.e,ye=R(z.c),me=ye.length,se==1||se==2&&(P<=ge||ge<=o)){for(;me<P;ye+="0",me++);ye=$(ye,ge)}else if(P-=Ee+(se===2&&ge>Ee),ye=V(ye,ge,"0"),ge+1>me){if(--P>0)for(ye+=".";P--;ye+="0");}else if(P+=ge-me,P>0)for(ge+1==me&&(ye+=".");P--;ye+="0");return z.s<0&&le?"-"+ye:ye}function ce(z,P){for(var O,se,le=1,ge=new ie(z[0]);le<z.length;le++)se=new ie(z[le]),(!se.s||(O=A(ge,se))===P||O===0&&ge.s===P)&&(ge=se);return ge}function C(z,P,O){for(var se=1,le=P.length;!P[--le];P.pop());for(le=P[0];le>=10;le/=10,se++);return(O=se+O*h-1)>x?z.c=z.e=null:O<S?z.c=[z.e=0]:(z.e=O,z.c=P),z}oe=(function(){var z=/^(-?)0([xbo])(?=\w[\w.]*$)/i,P=/^([^.]+)\.$/,O=/^\.([^.]+)$/,se=/^-?(Infinity|NaN)$/,le=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(ge,Ee,me,ye){var Te,we=me?Ee:Ee.replace(le,"");if(se.test(we))ge.s=isNaN(we)?null:we<0?-1:1;else{if(!me&&(we=we.replace(z,function(Me,Ne,Re){return Te=(Re=Re.toLowerCase())=="x"?16:Re=="b"?2:8,!ye||ye==Te?Ne:Me}),ye&&(Te=ye,we=we.replace(P,"$1").replace(O,"0.$1")),Ee!=we))return new ie(we,Te);if(ie.DEBUG)throw Error(s+"Not a"+(ye?" base "+ye:"")+" number: "+Ee);ge.s=null}ge.c=ge.e=null}})();function B(z,P,O,se){var le,ge,Ee,me,ye,Te,we,Me=z.c,Ne=g;if(Me){e:{for(le=1,me=Me[0];me>=10;me/=10,le++);if(ge=P-le,ge<0)ge+=h,Ee=P,ye=Me[Te=0],we=n(ye/Ne[le-Ee-1]%10);else if(Te=a((ge+1)/h),Te>=Me.length)if(se){for(;Me.length<=Te;Me.push(0));ye=we=0,le=1,ge%=h,Ee=ge-h+1}else break e;else{for(ye=me=Me[Te],le=1;me>=10;me/=10,le++);ge%=h,Ee=ge-h+le,we=Ee<0?0:n(ye/Ne[le-Ee-1]%10)}if(se=se||P<0||Me[Te+1]!=null||(Ee<0?ye:ye%Ne[le-Ee-1]),se=O<4?(we||se)&&(O==0||O==(z.s<0?3:2)):we>5||we==5&&(O==4||se||O==6&&(ge>0?Ee>0?ye/Ne[le-Ee]:0:Me[Te-1])%10&1||O==(z.s<0?8:7)),P<1||!Me[0])return Me.length=0,se?(P-=z.e+1,Me[0]=Ne[(h-P%h)%h],z.e=-P||0):Me[0]=z.e=0,z;if(ge==0?(Me.length=Te,me=1,Te--):(Me.length=Te+1,me=Ne[h-ge],Me[Te]=Ee>0?n(ye/Ne[le-Ee]%Ne[Ee])*me:0),se)for(;;)if(Te==0){for(ge=1,Ee=Me[0];Ee>=10;Ee/=10,ge++);for(Ee=Me[0]+=me,me=1;Ee>=10;Ee/=10,me++);ge!=me&&(z.e++,Me[0]==u&&(Me[0]=1));break}else{if(Me[Te]+=me,Me[Te]!=u)break;Me[Te--]=0,me=1}for(ge=Me.length;Me[--ge]===0;Me.pop());}z.e>x?z.c=z.e=null:z.e<S&&(z.c=[z.e=0])}return z}function ee(z){var P,O=z.e;return O===null?z.toString():(P=R(z.c),P=O<=o||O>=l?$(P,O):V(P,O,"0"),z.s<0?"-"+P:P)}return G.absoluteValue=G.abs=function(){var z=new ie(this);return z.s<0&&(z.s=1),z},G.comparedTo=function(z,P){return A(this,new ie(z,P))},G.decimalPlaces=G.dp=function(z,P){var O,se,le,ge=this;if(z!=null)return I(z,0,M),P==null?P=p:I(P,0,8),B(new ie(ge),z+ge.e+1,P);if(!(O=ge.c))return null;if(se=((le=O.length-1)-D(this.e/h))*h,le=O[le])for(;le%10==0;le/=10,se--);return se<0&&(se=0),se},G.dividedBy=G.div=function(z,P){return J(this,new ie(z,P),d,p)},G.dividedToIntegerBy=G.idiv=function(z,P){return J(this,new ie(z,P),0,1)},G.exponentiatedBy=G.pow=function(z,P){var O,se,le,ge,Ee,me,ye,Te,we,Me=this;if(z=new ie(z),z.c&&!z.isInteger())throw Error(s+"Exponent not an integer: "+ee(z));if(P!=null&&(P=new ie(P)),me=z.e>14,!Me.c||!Me.c[0]||Me.c[0]==1&&!Me.e&&Me.c.length==1||!z.c||!z.c[0])return we=new ie(Math.pow(+ee(Me),me?z.s*(2-N(z)):+ee(z))),P?we.mod(P):we;if(ye=z.s<0,P){if(P.c?!P.c[0]:!P.s)return new ie(NaN);se=!ye&&Me.isInteger()&&P.isInteger(),se&&(Me=Me.mod(P))}else{if(z.e>9&&(Me.e>0||Me.e<-1||(Me.e==0?Me.c[0]>1||me&&Me.c[1]>=24e7:Me.c[0]<8e13||me&&Me.c[0]<=9999975e7)))return ge=Me.s<0&&N(z)?-0:0,Me.e>-1&&(ge=1/ge),new ie(ye?1/ge:ge);y&&(ge=a(y/h+2))}for(me?(O=new ie(.5),ye&&(z.s=1),Te=N(z)):(le=Math.abs(+ee(z)),Te=le%2),we=new ie(E);;){if(Te){if(we=we.times(Me),!we.c)break;ge?we.c.length>ge&&(we.c.length=ge):se&&(we=we.mod(P))}if(le){if(le=n(le/2),le===0)break;Te=le%2}else if(z=z.times(O),B(z,z.e+1,1),z.e>14)Te=N(z);else{if(le=+ee(z),le===0)break;Te=le%2}Me=Me.times(Me),ge?Me.c&&Me.c.length>ge&&(Me.c.length=ge):se&&(Me=Me.mod(P))}return se?we:(ye&&(we=E.div(we)),P?we.mod(P):ge?B(we,y,p,Ee):we)},G.integerValue=function(z){var P=new ie(this);return z==null?z=p:I(z,0,8),B(P,P.e+1,z)},G.isEqualTo=G.eq=function(z,P){return A(this,new ie(z,P))===0},G.isFinite=function(){return!!this.c},G.isGreaterThan=G.gt=function(z,P){return A(this,new ie(z,P))>0},G.isGreaterThanOrEqualTo=G.gte=function(z,P){return(P=A(this,new ie(z,P)))===1||P===0},G.isInteger=function(){return!!this.c&&D(this.e/h)>this.c.length-2},G.isLessThan=G.lt=function(z,P){return A(this,new ie(z,P))<0},G.isLessThanOrEqualTo=G.lte=function(z,P){return(P=A(this,new ie(z,P)))===-1||P===0},G.isNaN=function(){return!this.s},G.isNegative=function(){return this.s<0},G.isPositive=function(){return this.s>0},G.isZero=function(){return!!this.c&&this.c[0]==0},G.minus=function(z,P){var O,se,le,ge,Ee=this,me=Ee.s;if(z=new ie(z,P),P=z.s,!me||!P)return new ie(NaN);if(me!=P)return z.s=-P,Ee.plus(z);var ye=Ee.e/h,Te=z.e/h,we=Ee.c,Me=z.c;if(!ye||!Te){if(!we||!Me)return we?(z.s=-P,z):new ie(Me?Ee:NaN);if(!we[0]||!Me[0])return Me[0]?(z.s=-P,z):new ie(we[0]?Ee:p==3?-0:0)}if(ye=D(ye),Te=D(Te),we=we.slice(),me=ye-Te){for((ge=me<0)?(me=-me,le=we):(Te=ye,le=Me),le.reverse(),P=me;P--;le.push(0));le.reverse()}else for(se=(ge=(me=we.length)<(P=Me.length))?me:P,me=P=0;P<se;P++)if(we[P]!=Me[P]){ge=we[P]<Me[P];break}if(ge&&(le=we,we=Me,Me=le,z.s=-z.s),P=(se=Me.length)-(O=we.length),P>0)for(;P--;we[O++]=0);for(P=u-1;se>me;){if(we[--se]<Me[se]){for(O=se;O&&!we[--O];we[O]=P);--we[O],we[se]+=u}we[se]-=Me[se]}for(;we[0]==0;we.splice(0,1),--Te);return we[0]?C(z,we,Te):(z.s=p==3?-1:1,z.c=[z.e=0],z)},G.modulo=G.mod=function(z,P){var O,se,le=this;return z=new ie(z,P),!le.c||!z.s||z.c&&!z.c[0]?new ie(NaN):!z.c||le.c&&!le.c[0]?new ie(le):(m==9?(se=z.s,z.s=1,O=J(le,z,0,3),z.s=se,O.s*=se):O=J(le,z,0,m),z=le.minus(O.times(z)),!z.c[0]&&m==1&&(z.s=le.s),z)},G.multipliedBy=G.times=function(z,P){var O,se,le,ge,Ee,me,ye,Te,we,Me,Ne,Re,Oe,Ye,Xe,qe=this,ct=qe.c,rt=(z=new ie(z,P)).c;if(!ct||!rt||!ct[0]||!rt[0])return!qe.s||!z.s||ct&&!ct[0]&&!rt||rt&&!rt[0]&&!ct?z.c=z.e=z.s=null:(z.s*=qe.s,!ct||!rt?z.c=z.e=null:(z.c=[0],z.e=0)),z;for(se=D(qe.e/h)+D(z.e/h),z.s*=qe.s,ye=ct.length,Me=rt.length,ye<Me&&(Oe=ct,ct=rt,rt=Oe,le=ye,ye=Me,Me=le),le=ye+Me,Oe=[];le--;Oe.push(0));for(Ye=u,Xe=b,le=Me;--le>=0;){for(O=0,Ne=rt[le]%Xe,Re=rt[le]/Xe|0,Ee=ye,ge=le+Ee;ge>le;)Te=ct[--Ee]%Xe,we=ct[Ee]/Xe|0,me=Re*Te+we*Ne,Te=Ne*Te+me%Xe*Xe+Oe[ge]+O,O=(Te/Ye|0)+(me/Xe|0)+Re*we,Oe[ge--]=Te%Ye;Oe[ge]=O}return O?++se:Oe.splice(0,1),C(z,Oe,se)},G.negated=function(){var z=new ie(this);return z.s=-z.s||null,z},G.plus=function(z,P){var O,se=this,le=se.s;if(z=new ie(z,P),P=z.s,!le||!P)return new ie(NaN);if(le!=P)return z.s=-P,se.minus(z);var ge=se.e/h,Ee=z.e/h,me=se.c,ye=z.c;if(!ge||!Ee){if(!me||!ye)return new ie(le/0);if(!me[0]||!ye[0])return ye[0]?z:new ie(me[0]?se:le*0)}if(ge=D(ge),Ee=D(Ee),me=me.slice(),le=ge-Ee){for(le>0?(Ee=ge,O=ye):(le=-le,O=me),O.reverse();le--;O.push(0));O.reverse()}for(le=me.length,P=ye.length,le-P<0&&(O=ye,ye=me,me=O,P=le),le=0;P;)le=(me[--P]=me[P]+ye[P]+le)/u|0,me[P]=u===me[P]?0:me[P]%u;return le&&(me=[le].concat(me),++Ee),C(z,me,Ee)},G.precision=G.sd=function(z,P){var O,se,le,ge=this;if(z!=null&&z!==!!z)return I(z,1,M),P==null?P=p:I(P,0,8),B(new ie(ge),z,P);if(!(O=ge.c))return null;if(le=O.length-1,se=le*h+1,le=O[le]){for(;le%10==0;le/=10,se--);for(le=O[0];le>=10;le/=10,se++);}return z&&ge.e+1>se&&(se=ge.e+1),se},G.shiftedBy=function(z){return I(z,-f,f),this.times("1e"+z)},G.squareRoot=G.sqrt=function(){var z,P,O,se,le,ge=this,Ee=ge.c,me=ge.s,ye=ge.e,Te=d+4,we=new ie("0.5");if(me!==1||!Ee||!Ee[0])return new ie(!me||me<0&&(!Ee||Ee[0])?NaN:Ee?ge:1/0);if(me=Math.sqrt(+ee(ge)),me==0||me==1/0?(P=R(Ee),(P.length+ye)%2==0&&(P+="0"),me=Math.sqrt(+P),ye=D((ye+1)/2)-(ye<0||ye%2),me==1/0?P="5e"+ye:(P=me.toExponential(),P=P.slice(0,P.indexOf("e")+1)+ye),O=new ie(P)):O=new ie(me+""),O.c[0]){for(ye=O.e,me=ye+Te,me<3&&(me=0);;)if(le=O,O=we.times(le.plus(J(ge,le,Te,1))),R(le.c).slice(0,me)===(P=R(O.c)).slice(0,me))if(O.e<ye&&--me,P=P.slice(me-3,me+1),P=="9999"||!se&&P=="4999"){if(!se&&(B(le,le.e+d+2,0),le.times(le).eq(ge))){O=le;break}Te+=4,me+=4,se=1}else{(!+P||!+P.slice(1)&&P.charAt(0)=="5")&&(B(O,O.e+d+2,1),z=!O.times(O).eq(ge));break}}return B(O,O.e+d+1,p,z)},G.toExponential=function(z,P){return z!=null&&(I(z,0,M),z++),ve(this,z,P,1)},G.toFixed=function(z,P){return z!=null&&(I(z,0,M),z=z+this.e+1),ve(this,z,P)},G.toFormat=function(z,P,O){var se,le=this;if(O==null)z!=null&&P&&typeof P=="object"?(O=P,P=null):z&&typeof z=="object"?(O=z,z=P=null):O=k;else if(typeof O!="object")throw Error(s+"Argument not an object: "+O);if(se=le.toFixed(z,P),le.c){var ge,Ee=se.split("."),me=+O.groupSize,ye=+O.secondaryGroupSize,Te=O.groupSeparator||"",we=Ee[0],Me=Ee[1],Ne=le.s<0,Re=Ne?we.slice(1):we,Oe=Re.length;if(ye&&(ge=me,me=ye,ye=ge,Oe-=ge),me>0&&Oe>0){for(ge=Oe%me||me,we=Re.substr(0,ge);ge<Oe;ge+=me)we+=Te+Re.substr(ge,me);ye>0&&(we+=Te+Re.slice(ge)),Ne&&(we="-"+we)}se=Me?we+(O.decimalSeparator||"")+((ye=+O.fractionGroupSize)?Me.replace(new RegExp("\\d{"+ye+"}\\B","g"),"$&"+(O.fractionGroupSeparator||"")):Me):we}return(O.prefix||"")+se+(O.suffix||"")},G.toFraction=function(z){var P,O,se,le,ge,Ee,me,ye,Te,we,Me,Ne,Re=this,Oe=Re.c;if(z!=null&&(me=new ie(z),!me.isInteger()&&(me.c||me.s!==1)||me.lt(E)))throw Error(s+"Argument "+(me.isInteger()?"out of range: ":"not an integer: ")+ee(me));if(!Oe)return new ie(Re);for(P=new ie(E),Te=O=new ie(E),se=ye=new ie(E),Ne=R(Oe),ge=P.e=Ne.length-Re.e-1,P.c[0]=g[(Ee=ge%h)<0?h+Ee:Ee],z=!z||me.comparedTo(P)>0?ge>0?P:Te:me,Ee=x,x=1/0,me=new ie(Ne),ye.c[0]=0;we=J(me,P,0,1),le=O.plus(we.times(se)),le.comparedTo(z)!=1;)O=se,se=le,Te=ye.plus(we.times(le=Te)),ye=le,P=me.minus(we.times(le=P)),me=le;return le=J(z.minus(O),se,0,1),ye=ye.plus(le.times(Te)),O=O.plus(le.times(se)),ye.s=Te.s=Re.s,ge=ge*2,Me=J(Te,se,ge,p).minus(Re).abs().comparedTo(J(ye,O,ge,p).minus(Re).abs())<1?[Te,se]:[ye,O],x=Ee,Me},G.toNumber=function(){return+ee(this)},G.toPrecision=function(z,P){return z!=null&&I(z,1,M),ve(this,z,P,2)},G.toString=function(z){var P,O=this,se=O.s,le=O.e;return le===null?se?(P="Infinity",se<0&&(P="-"+P)):P="NaN":(z==null?P=le<=o||le>=l?$(R(O.c),le):V(R(O.c),le,"0"):z===10&&T?(O=B(new ie(O),d+le+1,p),P=V(R(O.c),O.e,"0")):(I(z,2,w.length,"Base"),P=Y(V(R(O.c),le,"0"),10,z,se,!0)),se<0&&O.c[0]&&(P="-"+P)),P},G.valueOf=G.toJSON=function(){return ee(this)},G._isBigNumber=!0,U!=null&&ie.set(U),ie}function D(U){var J=U|0;return U>0||U===J?J:J-1}function R(U){for(var J,Y,oe=1,G=U.length,E=U[0]+"";oe<G;){for(J=U[oe++]+"",Y=h-J.length;Y--;J="0"+J);E+=J}for(G=E.length;E.charCodeAt(--G)===48;);return E.slice(0,G+1||1)}function A(U,J){var Y,oe,G=U.c,E=J.c,d=U.s,p=J.s,o=U.e,l=J.e;if(!d||!p)return null;if(Y=G&&!G[0],oe=E&&!E[0],Y||oe)return Y?oe?0:-p:d;if(d!=p)return d;if(Y=d<0,oe=o==l,!G||!E)return oe?0:!G^Y?1:-1;if(!oe)return o>l^Y?1:-1;for(p=(o=G.length)<(l=E.length)?o:l,d=0;d<p;d++)if(G[d]!=E[d])return G[d]>E[d]^Y?1:-1;return o==l?0:o>l^Y?1:-1}function I(U,J,Y,oe){if(U<J||U>Y||U!==n(U))throw Error(s+(oe||"Argument")+(typeof U=="number"?U<J||U>Y?" out of range: ":" not an integer: ":" not a primitive number: ")+String(U))}function N(U){var J=U.c.length-1;return D(U.e/h)==J&&U.c[J]%2!=0}function $(U,J){return(U.length>1?U.charAt(0)+"."+U.slice(1):U)+(J<0?"e":"e+")+J}function V(U,J,Y){var oe,G;if(J<0){for(G=Y+".";++J;G+=Y);U=G+U}else if(oe=U.length,++J>oe){for(G=Y,J-=oe;--J;G+=Y);U+=G}else J<oe&&(U=U.slice(0,J)+"."+U.slice(J));return U}t=_(),t.default=t.BigNumber=t,i.exports?i.exports=t:(e||(e=typeof self<"u"&&self?self:window),e.BigNumber=t)})(GS)})(lf)),lf.exports}var sw;function KS(){return sw||(sw=1,(function(i){var e=a3(),t=i.exports;(function(){var r=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,a,n,s={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},c;function u(f){return r.lastIndex=0,r.test(f)?'"'+f.replace(r,function(g){var b=s[g];return typeof b=="string"?b:"\\u"+("0000"+g.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+f+'"'}function h(f,g){var b,M,_,D,R=a,A,I=g[f],N=I!=null&&(I instanceof e||e.isBigNumber(I));switch(I&&typeof I=="object"&&typeof I.toJSON=="function"&&(I=I.toJSON(f)),typeof c=="function"&&(I=c.call(g,f,I)),typeof I){case"string":return N?I:u(I);case"number":return isFinite(I)?String(I):"null";case"boolean":case"null":case"bigint":return String(I);case"object":if(!I)return"null";if(a+=n,A=[],Object.prototype.toString.apply(I)==="[object Array]"){for(D=I.length,b=0;b<D;b+=1)A[b]=h(b,I)||"null";return _=A.length===0?"[]":a?`[
`+a+A.join(`,
`+a)+`
`+R+"]":"["+A.join(",")+"]",a=R,_}if(c&&typeof c=="object")for(D=c.length,b=0;b<D;b+=1)typeof c[b]=="string"&&(M=c[b],_=h(M,I),_&&A.push(u(M)+(a?": ":":")+_));else Object.keys(I).forEach(function($){var V=h($,I);V&&A.push(u($)+(a?": ":":")+V)});return _=A.length===0?"{}":a?`{
`+a+A.join(`,
`+a)+`
`+R+"}":"{"+A.join(",")+"}",a=R,_}}typeof t.stringify!="function"&&(t.stringify=function(f,g,b){var M;if(a="",n="",typeof b=="number")for(M=0;M<b;M+=1)n+=" ";else typeof b=="string"&&(n=b);if(c=g,g&&typeof g!="function"&&(typeof g!="object"||typeof g.length!="number"))throw new Error("JSON.stringify");return h("",{"":f})})})()})(Hd)),Hd.exports}var Gd,cw;function JS(){if(cw)return Gd;cw=1;var i=null;const e=/(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])/,t=/(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)/;var r=function(a){var n={strict:!1,storeAsString:!1,alwaysParseAsBig:!1,useNativeBigInt:!1,protoAction:"error",constructorAction:"error"};if(a!=null){if(a.strict===!0&&(n.strict=!0),a.storeAsString===!0&&(n.storeAsString=!0),n.alwaysParseAsBig=a.alwaysParseAsBig===!0?a.alwaysParseAsBig:!1,n.useNativeBigInt=a.useNativeBigInt===!0?a.useNativeBigInt:!1,typeof a.constructorAction<"u")if(a.constructorAction==="error"||a.constructorAction==="ignore"||a.constructorAction==="preserve")n.constructorAction=a.constructorAction;else throw new Error(`Incorrect value for constructorAction option, must be "error", "ignore" or undefined but passed ${a.constructorAction}`);if(typeof a.protoAction<"u")if(a.protoAction==="error"||a.protoAction==="ignore"||a.protoAction==="preserve")n.protoAction=a.protoAction;else throw new Error(`Incorrect value for protoAction option, must be "error", "ignore" or undefined but passed ${a.protoAction}`)}var s,c,u={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},h,f=function(N){throw{name:"SyntaxError",message:N,at:s,text:h}},g=function(N){return N&&N!==c&&f("Expected '"+N+"' instead of '"+c+"'"),c=h.charAt(s),s+=1,c},b=function(){var N,$="";for(c==="-"&&($="-",g("-"));c>="0"&&c<="9";)$+=c,g();if(c===".")for($+=".";g()&&c>="0"&&c<="9";)$+=c;if(c==="e"||c==="E")for($+=c,g(),(c==="-"||c==="+")&&($+=c,g());c>="0"&&c<="9";)$+=c,g();if(N=+$,!isFinite(N))f("Bad number");else return i==null&&(i=a3()),$.length>15?n.storeAsString?$:n.useNativeBigInt?BigInt($):new i($):n.alwaysParseAsBig?n.useNativeBigInt?BigInt(N):new i(N):N},M=function(){var N,$,V="",U;if(c==='"')for(var J=s;g();){if(c==='"')return s-1>J&&(V+=h.substring(J,s-1)),g(),V;if(c==="\\"){if(s-1>J&&(V+=h.substring(J,s-1)),g(),c==="u"){for(U=0,$=0;$<4&&(N=parseInt(g(),16),!!isFinite(N));$+=1)U=U*16+N;V+=String.fromCharCode(U)}else if(typeof u[c]=="string")V+=u[c];else break;J=s}}f("Bad string")},_=function(){for(;c&&c<=" ";)g()},D=function(){switch(c){case"t":return g("t"),g("r"),g("u"),g("e"),!0;case"f":return g("f"),g("a"),g("l"),g("s"),g("e"),!1;case"n":return g("n"),g("u"),g("l"),g("l"),null}f("Unexpected '"+c+"'")},R,A=function(){var N=[];if(c==="["){if(g("["),_(),c==="]")return g("]"),N;for(;c;){if(N.push(R()),_(),c==="]")return g("]"),N;g(","),_()}}f("Bad array")},I=function(){var N,$=Object.create(null);if(c==="{"){if(g("{"),_(),c==="}")return g("}"),$;for(;c;){if(N=M(),_(),g(":"),n.strict===!0&&Object.hasOwnProperty.call($,N)&&f('Duplicate key "'+N+'"'),e.test(N)===!0?n.protoAction==="error"?f("Object contains forbidden prototype property"):n.protoAction==="ignore"?R():$[N]=R():t.test(N)===!0?n.constructorAction==="error"?f("Object contains forbidden constructor property"):n.constructorAction==="ignore"?R():$[N]=R():$[N]=R(),_(),c==="}")return g("}"),$;g(","),_()}}f("Bad object")};return R=function(){switch(_(),c){case"{":return I();case"[":return A();case'"':return M();case"-":return b();default:return c>="0"&&c<="9"?b():D()}},function(N,$){var V;return h=N+"",s=0,c=" ",V=R(),_(),c&&f("Syntax error"),typeof $=="function"?(function U(J,Y){var oe,G=J[Y];return G&&typeof G=="object"&&Object.keys(G).forEach(function(E){oe=U(G,E),oe!==void 0?G[E]=oe:delete G[E]}),$.call(J,Y,G)})({"":V},""):V}};return Gd=r,Gd}var fw;function YS(){if(fw)return ls.exports;fw=1;var i=KS().stringify,e=JS();return ls.exports=function(t){return{parse:e(t),stringify:i}},ls.exports.parse=e(),ls.exports.stringify=i,ls.exports}var XS=YS();const ZS=Of(XS);var V0;(function(i){i.UNSAFE="unsafe",i.SAFE="safe",i.MIXED="mixed",i.BIGINT="bigint"})(V0||(V0={}));const wr=V0,o3=ZS({useNativeBigInt:!0,strict:!0});function Ig(i,{intDecoding:e}){if(e!==wr.SAFE&&e!==wr.UNSAFE&&e!==wr.BIGINT&&e!==wr.MIXED)throw new Error(`Invalid intDecoding option: ${e}`);return o3.parse(i,(t,r)=>{if(r!=null&&typeof r=="object"&&Object.getPrototypeOf(r)==null&&Object.setPrototypeOf(r,Object.prototype),typeof r=="bigint"){if(e===wr.SAFE&&r>Number.MAX_SAFE_INTEGER)throw new Error(`Integer exceeds maximum safe integer: ${r.toString()}. Try parsing with a different intDecoding option.`);return e===wr.BIGINT||e===wr.MIXED&&r>Number.MAX_SAFE_INTEGER?r:Number(r)}return typeof r=="number"&&e===wr.BIGINT&&Number.isInteger(r)?BigInt(r):r})}function zi(i,e,t){return o3.stringify(i,e,t)}function _n(i,e){return i.length!==e.length?!1:Array.from(i).every((t,r)=>t===e[r])}function dr(...i){const e=i.reduce((a,n)=>a+n.length,0),t=new Uint8Array(e);let r=0;for(let a=0;a<i.length;a++)t.set(i[a],r),r+=i[a].length;return t}function Wf(){return typeof Bt=="object"&&typeof Bt.versions=="object"&&typeof Bt.versions.node<"u"}function QS(){const{navigator:i}=globalThis;return typeof i=="object"&&i.product==="ReactNative"}function st(i){if(typeof i>"u")throw new Error("Value is undefined");if(typeof i=="bigint"){if(i>BigInt(Number.MAX_SAFE_INTEGER)||i<BigInt(Number.MIN_SAFE_INTEGER))throw new Error(`BigInt value ${i} is not a safe integer`);return Number(i)}if(typeof i=="number"){if(Number.isSafeInteger(i))return i;throw new Error(`Value ${i} is not a safe integer`)}throw new Error(`Unexpected type ${typeof i}, ${i}`)}function Er(i){const e=st(i);if(e<0)throw new Error(`Value ${e} is negative`);return e}function Ve(i){if(typeof i>"u")throw new Error("Value is undefined");if(typeof i=="bigint")return i;if(typeof i=="number"){if(!Number.isSafeInteger(i))throw new Error(`Value ${i} is not a safe integer`);return BigInt(i)}throw new Error(`Unexpected type ${typeof i}, ${i}`)}function tr(i){const e=Ve(i);if(e<0||e>BigInt("0xffffffffffffffff"))throw new Error(`Value ${e} is not a uint64`);return e}function Wn(i){return HS.sha512_256.array(i)}function e8(i){return QS()&&console.warn("It looks like you're running in react-native. In order to perform common crypto operations you will need to polyfill common operations such as crypto.getRandomValues"),Bn.randomBytes(i)}function s3(i){return Bn.sign.keyPair.fromSeed(i)}function t8(){const i=e8(Bn.box.secretKeyLength);return s3(i)}function c3(i){return i===Bn.sign.signatureLength}function Hf(i){return Bn.sign.keyPair.fromSecretKey(i)}function Ts(i,e){return Bn.sign.detached(i,e)}function f3(i,e){return Bn.verify(i,e)}function Gf(i,e,t){return Bn.sign.detached.verify(i,e,t)}const h3=Bn.sign.publicKeyLength;Bn.sign.secretKeyLength;const hw=32,z0=32;var Kd={exports:{}},uw;function r8(){return uw||(uw=1,(function(i){(function(){var e=typeof window=="object"?window:{},t=!e.HI_BASE32_NO_NODE_JS&&typeof Bt=="object"&&Bt.versions&&Bt.versions.node;t&&(e=Gt);var r=!e.HI_BASE32_NO_COMMON_JS&&!0&&i.exports,a="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567".split(""),n={A:0,B:1,C:2,D:3,E:4,F:5,G:6,H:7,I:8,J:9,K:10,L:11,M:12,N:13,O:14,P:15,Q:16,R:17,S:18,T:19,U:20,V:21,W:22,X:23,Y:24,Z:25,2:26,3:27,4:28,5:29,6:30,7:31},s=[0,0,0,0,0,0,0,0],c=function(R,A){A.length>10&&(A="..."+A.substr(-10));var I=new Error("Decoded data is not valid UTF-8. Maybe try base32.decode.asBytes()? Partial data after reading "+R+" bytes: "+A+" <-");throw I.position=R,I},u=function(R){for(var A="",I=R.length,N=0,$=0,V,U;N<I;){if(V=R[N++],V<=127){A+=String.fromCharCode(V);continue}else V>191&&V<=223?(U=V&31,$=1):V<=239?(U=V&15,$=2):V<=247?(U=V&7,$=3):c(N,A);for(var J=0;J<$;++J)V=R[N++],(V<128||V>191)&&c(N,A),U<<=6,U+=V&63;U>=55296&&U<=57343&&c(N,A),U>1114111&&c(N,A),U<=65535?A+=String.fromCharCode(U):(U-=65536,A+=String.fromCharCode((U>>10)+55296),A+=String.fromCharCode((U&1023)+56320))}return A},h=function(R){if(R==="")return[];if(!/^[A-Z2-7=]+$/.test(R))throw new Error("Invalid base32 characters");R=R.replace(/=/g,"");for(var A,I,N,$,V,U,J,Y,oe=[],G=0,E=R.length,d=0,p=E>>3<<3;d<p;)A=n[R.charAt(d++)],I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],U=n[R.charAt(d++)],J=n[R.charAt(d++)],Y=n[R.charAt(d++)],oe[G++]=(A<<3|I>>>2)&255,oe[G++]=(I<<6|N<<1|$>>>4)&255,oe[G++]=($<<4|V>>>1)&255,oe[G++]=(V<<7|U<<2|J>>>3)&255,oe[G++]=(J<<5|Y)&255;var o=E-p;return o===2?(A=n[R.charAt(d++)],I=n[R.charAt(d++)],oe[G++]=(A<<3|I>>>2)&255):o===4?(A=n[R.charAt(d++)],I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],oe[G++]=(A<<3|I>>>2)&255,oe[G++]=(I<<6|N<<1|$>>>4)&255):o===5?(A=n[R.charAt(d++)],I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],oe[G++]=(A<<3|I>>>2)&255,oe[G++]=(I<<6|N<<1|$>>>4)&255,oe[G++]=($<<4|V>>>1)&255):o===7&&(A=n[R.charAt(d++)],I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],U=n[R.charAt(d++)],J=n[R.charAt(d++)],oe[G++]=(A<<3|I>>>2)&255,oe[G++]=(I<<6|N<<1|$>>>4)&255,oe[G++]=($<<4|V>>>1)&255,oe[G++]=(V<<7|U<<2|J>>>3)&255),oe},f=function(R){for(var A,I,N,$,V,U="",J=R.length,Y=0,oe=parseInt(J/5)*5;Y<oe;)A=R.charCodeAt(Y++),I=R.charCodeAt(Y++),N=R.charCodeAt(Y++),$=R.charCodeAt(Y++),V=R.charCodeAt(Y++),U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[($<<3|V>>>5)&31]+a[V&31];var G=J-oe;return G===1?(A=R.charCodeAt(Y),U+=a[A>>>3]+a[A<<2&31]+"======"):G===2?(A=R.charCodeAt(Y++),I=R.charCodeAt(Y),U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[I<<4&31]+"===="):G===3?(A=R.charCodeAt(Y++),I=R.charCodeAt(Y++),N=R.charCodeAt(Y),U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[N<<1&31]+"==="):G===4&&(A=R.charCodeAt(Y++),I=R.charCodeAt(Y++),N=R.charCodeAt(Y++),$=R.charCodeAt(Y),U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[$<<3&31]+"="),U},g=function(R){var A,I,N,$,V,U,J=!1,Y="",oe=0,G,E=0,d=R.length;if(R==="")return Y;do{for(s[0]=s[5],s[1]=s[6],s[2]=s[7],G=E;oe<d&&G<5;++oe)U=R.charCodeAt(oe),U<128?s[G++]=U:U<2048?(s[G++]=192|U>>6,s[G++]=128|U&63):U<55296||U>=57344?(s[G++]=224|U>>12,s[G++]=128|U>>6&63,s[G++]=128|U&63):(U=65536+((U&1023)<<10|R.charCodeAt(++oe)&1023),s[G++]=240|U>>18,s[G++]=128|U>>12&63,s[G++]=128|U>>6&63,s[G++]=128|U&63);E=G-5,oe===d&&++oe,oe>d&&G<6&&(J=!0),A=s[0],G>4?(I=s[1],N=s[2],$=s[3],V=s[4],Y+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[($<<3|V>>>5)&31]+a[V&31]):G===1?Y+=a[A>>>3]+a[A<<2&31]+"======":G===2?(I=s[1],Y+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[I<<4&31]+"===="):G===3?(I=s[1],N=s[2],Y+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[N<<1&31]+"==="):(I=s[1],N=s[2],$=s[3],Y+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[$<<3&31]+"=")}while(!J);return Y},b=function(R){for(var A,I,N,$,V,U="",J=R.length,Y=0,oe=parseInt(J/5)*5;Y<oe;)A=R[Y++],I=R[Y++],N=R[Y++],$=R[Y++],V=R[Y++],U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[($<<3|V>>>5)&31]+a[V&31];var G=J-oe;return G===1?(A=R[Y],U+=a[A>>>3]+a[A<<2&31]+"======"):G===2?(A=R[Y++],I=R[Y],U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[I<<4&31]+"===="):G===3?(A=R[Y++],I=R[Y++],N=R[Y],U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[N<<1&31]+"==="):G===4&&(A=R[Y++],I=R[Y++],N=R[Y++],$=R[Y],U+=a[A>>>3]+a[(A<<2|I>>>6)&31]+a[I>>>1&31]+a[(I<<4|N>>>4)&31]+a[(N<<1|$>>>7)&31]+a[$>>>2&31]+a[$<<3&31]+"="),U},M=function(R,A){var I=typeof R!="string";return I&&R.constructor===ArrayBuffer&&(R=new Uint8Array(R)),I?b(R):A?f(R):g(R)},_=function(R,A){if(!A)return u(h(R));if(R==="")return"";if(!/^[A-Z2-7=]+$/.test(R))throw new Error("Invalid base32 characters");var I,N,$,V,U,J,Y,oe,G="",E=R.indexOf("=");E===-1&&(E=R.length);for(var d=0,p=E>>3<<3;d<p;)I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],U=n[R.charAt(d++)],J=n[R.charAt(d++)],Y=n[R.charAt(d++)],oe=n[R.charAt(d++)],G+=String.fromCharCode((I<<3|N>>>2)&255)+String.fromCharCode((N<<6|$<<1|V>>>4)&255)+String.fromCharCode((V<<4|U>>>1)&255)+String.fromCharCode((U<<7|J<<2|Y>>>3)&255)+String.fromCharCode((Y<<5|oe)&255);var o=E-p;return o===2?(I=n[R.charAt(d++)],N=n[R.charAt(d++)],G+=String.fromCharCode((I<<3|N>>>2)&255)):o===4?(I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],G+=String.fromCharCode((I<<3|N>>>2)&255)+String.fromCharCode((N<<6|$<<1|V>>>4)&255)):o===5?(I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],U=n[R.charAt(d++)],G+=String.fromCharCode((I<<3|N>>>2)&255)+String.fromCharCode((N<<6|$<<1|V>>>4)&255)+String.fromCharCode((V<<4|U>>>1)&255)):o===7&&(I=n[R.charAt(d++)],N=n[R.charAt(d++)],$=n[R.charAt(d++)],V=n[R.charAt(d++)],U=n[R.charAt(d++)],J=n[R.charAt(d++)],Y=n[R.charAt(d++)],G+=String.fromCharCode((I<<3|N>>>2)&255)+String.fromCharCode((N<<6|$<<1|V>>>4)&255)+String.fromCharCode((V<<4|U>>>1)&255)+String.fromCharCode((U<<7|J<<2|Y>>>3)&255)),G},D={encode:M,decode:_};_.asBytes=h,r?i.exports=D:e.base32=D})()})(Kd)),Kd.exports}var n8=r8();const Bs=Of(n8);function u3(i){if(!(typeof i=="bigint"||Number.isInteger(i))||i<0||i>BigInt("0xffffffffffffffff"))throw new Error("Input is not a 64-bit unsigned integer");const t=new Uint8Array(8);return new DataView(t.buffer).setBigUint64(0,BigInt(i)),t}function i8(i,e="safe"){if(e!=="safe"&&e!=="mixed"&&e!=="bigint")throw new Error(`Unknown decodingMode option: ${e}`);if(i.byteLength===0||i.byteLength>8)throw new Error(`Data has unacceptable length. Expected length is between 1 and 8, got ${i.byteLength}`);const t=new Uint8Array(8-i.byteLength),r=dr(t,i),n=new DataView(r.buffer).getBigUint64(0),s=n>BigInt(Number.MAX_SAFE_INTEGER);if(e==="safe"){if(s)throw new Error(`Integer exceeds maximum safe integer: ${n.toString()}. Try decoding with "mixed" or "safe" decodingMode.`);return Number(n)}return e==="mixed"&&!s?Number(n):n}function pt(i){if(Wf())return new Uint8Array(Xt.from(i,"base64"));const e=atob(i);return Uint8Array.from(e,t=>t.codePointAt(0))}function Mr(i){if(Wf())return Xt.from(i).toString("base64");const e=Array.from(i,t=>String.fromCodePoint(t)).join("");return btoa(e)}function Kf(i){return new TextDecoder().decode(i)}function An(i){return typeof i=="string"?new TextEncoder().encode(i):i}function Jf(i){return Wf()?Xt.from(i).toString("hex"):Array.from(i).map(e=>e.toString(16).padStart(2,"0")).join("")}function a8(i){if(Wf())return Xt.from(i,"hex");let e=i;i.length%2!==0&&(e=i.padStart(1,"0"));const t=new Uint8Array(e.length/2);for(let r=0;r<e.length/2;r++)t[r]=parseInt(e.slice(2*r,2*r+2),16);return t}const Ri=36,Is=4,Jd=58,o8="AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAY5HFKQ",ds="address seems to be malformed",s8="wrong checksum for address";function lw(i){return Uint8Array.from(Wn(i).slice(hw-Is,hw))}class Ct{constructor(e){if(!(e instanceof Uint8Array))throw new Error(`${ds}: ${e} is not Uint8Array, type ${typeof e}`);if(e.length!==Ri-Is)throw new Error(`${ds}: 0x${Jf(e)}, length ${e.length}`);this.publicKey=e}equals(e){return e instanceof Ct&&_n(this.publicKey,e.publicKey)}checksum(){return lw(this.publicKey)}toString(){return Bs.encode(dr(this.publicKey,this.checksum())).slice(0,Jd)}static fromString(e){if(typeof e!="string")throw new Error(`${ds}: expected string, got ${typeof e}, ${e}`);if(e.length!==Jd)throw new Error(`${ds}: expected length ${Jd}, got ${e.length}: ${e}`);const t=Bs.decode.asBytes(e);if(t.length!==Ri)throw new Error(`${ds}: expected byte length ${Ri}, got ${t.length}`);const r=new Uint8Array(t.slice(0,Ri-Is)),a=new Uint8Array(t.slice(h3,Ri)),n=lw(r);if(!_n(n,a))throw new Error(s8);return new Ct(r)}static zeroAddress(){return new Ct(new Uint8Array(Ri-Is))}}function l3(i){return Ct.fromString(i)}function Dg(i){try{Ct.fromString(i)}catch{return!1}return!0}function d3(i){return new Ct(i).toString()}const c8=new TextEncoder().encode("appID");function j0(i){const e=dr(c8,u3(i)),t=Wn(e);return new Ct(Uint8Array.from(t))}const p3=1e6,Rg="Microalgos should be positive and less than 2^53 - 1.";function f8(i){if(i<0||!Number.isSafeInteger(i))throw new Error(Rg);return i/p3}function h8(i){const e=i*p3;return Math.round(e)}class u8 extends Error{constructor(e,t){super(e),this.response=t,this.name="URLTokenBaseHTTPError",this.response=t}}class Bi{constructor(e,t,r,a={}){this.defaultHeaders=a;const n=t.endsWith("/")?t:`${t}/`,s=new URL(n);if(typeof r<"u"&&(s.port=r.toString()),s.protocol.length===0)throw new Error("Invalid base server URL, protocol must be defined.");this.baseURL=s,this.tokenHeader=e}getURL(e,t){let r;e.startsWith("./")?r=e:e.startsWith("/")?r=`.${e}`:r=`./${e}`;const a=new URL(r,this.baseURL);if(t)for(const[n,s]of Object.entries(t))a.searchParams.set(n,s.toString());return a.toString()}static formatFetchResponseHeaders(e){const t={};return e.forEach((r,a)=>{t[r]=a}),t}static async checkHttpError(e){if(e.ok)return;let t,r;try{t=new Uint8Array(await e.arrayBuffer());const n=JSON.parse(new TextDecoder().decode(t));n.message&&(r=n.message)}catch{}let a=`Network request error. Received status ${e.status} (${e.statusText})`;throw r&&(a+=`: ${r}`),new u8(a,{body:t??new Uint8Array,status:e.status,headers:Bi.formatFetchResponseHeaders(e.headers)})}static async formatFetchResponse(e){return await this.checkHttpError(e),{body:new Uint8Array(await e.arrayBuffer()),status:e.status,headers:Bi.formatFetchResponseHeaders(e.headers)}}async get(e,t,r,a){const n={...this.tokenHeader,...this.defaultHeaders,...r??{}},s=await fetch(this.getURL(e,t),{headers:n,...a??{}});return Bi.formatFetchResponse(s)}async post(e,t,r,a,n){const s={...this.tokenHeader,...this.defaultHeaders,...a??{}},c=await fetch(this.getURL(e,r),{method:"POST",body:t,headers:s,...n??{}});return Bi.formatFetchResponse(c)}async delete(e,t,r,a,n){const s={...this.tokenHeader,...this.defaultHeaders,...a??{}},c=await fetch(this.getURL(e,r),{method:"DELETE",body:t,headers:s,...n??{}});return Bi.formatFetchResponse(c)}}class l8{constructor(e){this.body=e.body,this.text=e.text,this.format=e.format,this.headers=e.headers,this.status=e.status,this.ok=e.ok}getJSONText(){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return this.text}parseBodyAsJSON(e){if(this.text===void 0)throw new Error(`Response body does not contain JSON data. Format is ${this.format}`);return Lr.parseJSON(this.text,this.status,e)}}function d8(i){for(const e in i)Object.prototype.hasOwnProperty.call(i,e)&&(!i[e]||i[e].length===0)&&delete i[e];return i}function dw(i){return Object.keys(i).reduce((e,t)=>(e[t.toLowerCase()]=i[t],e),{})}function p8(i){if(i!==void 0&&Object.prototype.hasOwnProperty.call(i,"format"))switch(i.format){case"msgpack":return"application/msgpack";case"json":default:return"application/json"}else return"application/json"}class Lr{constructor(e,t,r,a={}){t!==void 0?this.bc=new Bi(e,t,r,a):this.bc=e}static parseJSON(e,t,r){try{return e?Ig(e,r):null}catch(a){const n=a;throw n.rawResponse=e||null,n.statusCode=t,n}}static serializeData(e,t){if(!e)return new Uint8Array(0);if(t["content-type"]==="application/json")return new TextEncoder().encode(zi(e));if(typeof e=="string")return new TextEncoder().encode(e);if(e instanceof Uint8Array)return e;throw new Error("provided data is neither a string nor a Uint8Array and content-type is not application/json")}static prepareResponse(e,t){const{body:r}=e;let a;return t!=="application/msgpack"&&(a=r&&new TextDecoder().decode(r)||""),new l8({...e,format:t,text:a,ok:Math.trunc(e.status/100)===2})}static prepareResponseError(e){return e.response&&(e.response=Lr.prepareResponse(e.response,"application/json"),e.status=e.response.status),e}async get({relativePath:e,query:t,requestHeaders:r,customOptions:a}){const n=p8(t),s={...r??{},accept:n};try{const c=await this.bc.get(e,t?d8(t):void 0,s,a);return Lr.prepareResponse(c,n)}catch(c){throw Lr.prepareResponseError(c)}}async post({relativePath:e,data:t,query:r,requestHeaders:a,customOptions:n}){const s={"content-type":"application/json",...dw(a??{})};try{const c=await this.bc.post(e,Lr.serializeData(t,s),r,s,n);return Lr.prepareResponse(c,"application/json")}catch(c){throw Lr.prepareResponseError(c)}}async delete({relativePath:e,data:t,requestHeaders:r,customOptions:a}){const n={"content-type":"application/json",...dw(r??{})};try{const s=await this.bc.delete(e,typeof t<"u"?Lr.serializeData(t,n):void 0,void 0,n,a);return Lr.prepareResponse(s,"application/json")}catch(s){throw Lr.prepareResponseError(s)}}}function g8(i,e=""){const t={};return e===""||(t[i]=e),t}function m8(i){return typeof i.get=="function"}class Tg{constructor(e,t,r,a,n={}){if(m8(t))this.c=new Lr(t);else{let s;typeof t=="string"?s=g8(e,t):s=t,this.c=new Lr(s,r,a,n)}}}function v8(i){for(var e=i.length,t=0,r=0;r<e;){var a=i.charCodeAt(r++);if((a&4294967168)===0){t++;continue}else if((a&4294965248)===0)t+=2;else{if(a>=55296&&a<=56319&&r<e){var n=i.charCodeAt(r);(n&64512)===56320&&(++r,a=((a&1023)<<10)+(n&1023)+65536)}(a&4294901760)===0?t+=3:t+=4}}return t}function y8(i,e,t){for(var r=i.length,a=t,n=0;n<r;){var s=i.charCodeAt(n++);if((s&4294967168)===0){e[a++]=s;continue}else if((s&4294965248)===0)e[a++]=s>>6&31|192;else{if(s>=55296&&s<=56319&&n<r){var c=i.charCodeAt(n);(c&64512)===56320&&(++n,s=((s&1023)<<10)+(c&1023)+65536)}(s&4294901760)===0?(e[a++]=s>>12&15|224,e[a++]=s>>6&63|128):(e[a++]=s>>18&7|240,e[a++]=s>>12&63|128,e[a++]=s>>6&63|128)}e[a++]=s&63|128}}var w8=new TextEncoder,b8=50;function x8(i,e,t){w8.encodeInto(i,e.subarray(t))}function S8(i,e,t){i.length>b8?x8(i,e,t):y8(i,e,t)}var E8=4096;function g3(i,e,t){for(var r=e,a=r+t,n=[],s="";r<a;){var c=i[r++];if((c&128)===0)n.push(c);else if((c&224)===192){var u=i[r++]&63;n.push((c&31)<<6|u)}else if((c&240)===224){var u=i[r++]&63,h=i[r++]&63;n.push((c&31)<<12|u<<6|h)}else if((c&248)===240){var u=i[r++]&63,h=i[r++]&63,f=i[r++]&63,g=(c&7)<<18|u<<12|h<<6|f;g>65535&&(g-=65536,n.push(g>>>10&1023|55296),g=56320|g&1023),n.push(g)}else n.push(c);n.length>=E8&&(s+=String.fromCharCode.apply(String,n),n.length=0)}return n.length>0&&(s+=String.fromCharCode.apply(String,n)),s}var M8=new TextDecoder,_8=200;function A8(i,e,t){var r=i.subarray(e,e+t);return M8.decode(r)}function k8(i,e,t){return t>_8?A8(i,e,t):g3(i,e,t)}var Kc=(function(){function i(e,t){this.type=e,this.data=t}return i})(),I8=(function(){var i=function(e,t){return i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,a){r.__proto__=a}||function(r,a){for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])},i(e,t)};return function(e,t){if(typeof t!="function"&&t!==null)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");i(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}})(),pn=(function(i){I8(e,i);function e(t){var r=i.call(this,t)||this,a=Object.create(e.prototype);return Object.setPrototypeOf(r,a),Object.defineProperty(r,"name",{configurable:!0,enumerable:!1,value:e.name}),r}return e})(Error),hr;(function(i){i[i.UNSAFE_NUMBER=0]="UNSAFE_NUMBER",i[i.SAFE_NUMBER=1]="SAFE_NUMBER",i[i.AS_ENCODED=2]="AS_ENCODED",i[i.MIXED=3]="MIXED",i[i.BIGINT=4]="BIGINT"})(hr||(hr={}));var ps=4294967295;function D8(i,e,t){var r=t/4294967296,a=t;i.setUint32(e,r),i.setUint32(e+4,a)}function m3(i,e,t){var r=Math.floor(t/4294967296),a=t;i.setUint32(e,r),i.setUint32(e+4,a)}function v3(i,e,t){if(t===hr.UNSAFE_NUMBER||t===hr.SAFE_NUMBER){var r=i.getInt32(e),a=i.getUint32(e+4);if(t===hr.SAFE_NUMBER&&(r<Math.floor(Number.MIN_SAFE_INTEGER/4294967296)||r===Math.floor(Number.MIN_SAFE_INTEGER/4294967296)&&a===0||r>(Number.MAX_SAFE_INTEGER-a)/4294967296)){var n="".concat(r<0?"-":"","0x").concat(Math.abs(r).toString(16)).concat(a.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(n))}return r*4294967296+a}var s=i.getBigInt64(e);return t===hr.MIXED&&s>=Number.MIN_SAFE_INTEGER&&s<=Number.MAX_SAFE_INTEGER?Number(s):s}function R8(i,e,t){if(t===hr.UNSAFE_NUMBER||t===hr.SAFE_NUMBER){var r=i.getUint32(e),a=i.getUint32(e+4);if(t===hr.SAFE_NUMBER&&r>(Number.MAX_SAFE_INTEGER-a)/4294967296){var n="0x".concat(r.toString(16)).concat(a.toString(16).padStart(8,"0"));throw new Error("Mode is IntMode.SAFE_NUMBER and value is not a safe integer: ".concat(n))}return r*4294967296+a}var s=i.getBigUint64(e);return t===hr.MIXED&&s<=Number.MAX_SAFE_INTEGER?Number(s):s}function T8(i,e){return e===hr.BIGINT?BigInt(i):Number(i)}var B8=-1,F8=4294967296-1,C8=17179869184-1;function P8(i){var e=i.sec,t=i.nsec;if(e>=0&&t>=0&&e<=C8)if(t===0&&e<=F8){var r=new Uint8Array(4),a=new DataView(r.buffer);return a.setUint32(0,e),r}else{var n=e/4294967296,s=e&4294967295,r=new Uint8Array(8),a=new DataView(r.buffer);return a.setUint32(0,t<<2|n&3),a.setUint32(4,s),r}else{var r=new Uint8Array(12),a=new DataView(r.buffer);return a.setUint32(0,t),m3(a,4,e),r}}function N8(i){var e=i.getTime(),t=Math.floor(e/1e3),r=(e-t*1e3)*1e6,a=Math.floor(r/1e9);return{sec:t+a,nsec:r-a*1e9}}function O8(i){if(i instanceof Date){var e=N8(i);return P8(e)}else return null}function L8(i){var e=new DataView(i.buffer,i.byteOffset,i.byteLength);switch(i.byteLength){case 4:{var t=e.getUint32(0),r=0;return{sec:t,nsec:r}}case 8:{var a=e.getUint32(0),n=e.getUint32(4),t=(a&3)*4294967296+n,r=a>>>2;return{sec:t,nsec:r}}case 12:{var t=v3(e,4,hr.UNSAFE_NUMBER),r=e.getUint32(0);return{sec:t,nsec:r}}default:throw new pn("Unrecognized data size for timestamp (expected 4, 8, or 12): ".concat(i.length))}}function U8(i){var e=L8(i);return new Date(e.sec*1e3+e.nsec/1e6)}var $8={type:B8,encode:O8,decode:U8},y3=(function(){function i(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register($8)}return i.prototype.register=function(e){var t=e.type,r=e.encode,a=e.decode;if(t>=0)this.encoders[t]=r,this.decoders[t]=a;else{var n=1+t;this.builtInEncoders[n]=r,this.builtInDecoders[n]=a}},i.prototype.tryToEncode=function(e,t){for(var r=0;r<this.builtInEncoders.length;r++){var a=this.builtInEncoders[r];if(a!=null){var n=a(e,t);if(n!=null){var s=-1-r;return new Kc(s,n)}}}for(var r=0;r<this.encoders.length;r++){var a=this.encoders[r];if(a!=null){var n=a(e,t);if(n!=null){var s=r;return new Kc(s,n)}}}return e instanceof Kc?e:null},i.prototype.decode=function(e,t,r){var a=t<0?this.builtInDecoders[-1-t]:this.decoders[t];return a?a(e,t,r):new Kc(t,e)},i.defaultCodec=new i,i})();function ni(i){return i instanceof Uint8Array?i:ArrayBuffer.isView(i)?new Uint8Array(i.buffer,i.byteOffset,i.byteLength):i instanceof ArrayBuffer?new Uint8Array(i):Uint8Array.from(i)}function q8(i){if(i instanceof ArrayBuffer)return new DataView(i);var e=ni(i);return new DataView(e.buffer,e.byteOffset,e.byteLength)}function pw(i,e){for(var t=Math.min(i.length,e.length),r=0;r<t;r++){var a=i[r]-e[r];if(a!==0)return a}return i.length-e.length}var Tr=(function(){function i(e){if(this.rawBinaryValue=e,!ArrayBuffer.isView(e))throw new TypeError("RawBinaryString: rawBinaryValue must be an ArrayBufferView")}return i})(),V8=100,z8=2048,j8=(function(){function i(e){var t,r,a,n,s,c,u,h;this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:y3.defaultCodec,this.context=e==null?void 0:e.context,this.forceBigIntToInt64=(r=e==null?void 0:e.forceBigIntToInt64)!==null&&r!==void 0?r:!1,this.maxDepth=(a=e==null?void 0:e.maxDepth)!==null&&a!==void 0?a:V8,this.initialBufferSize=(n=e==null?void 0:e.initialBufferSize)!==null&&n!==void 0?n:z8,this.sortKeys=(s=e==null?void 0:e.sortKeys)!==null&&s!==void 0?s:!1,this.forceFloat32=(c=e==null?void 0:e.forceFloat32)!==null&&c!==void 0?c:!1,this.ignoreUndefined=(u=e==null?void 0:e.ignoreUndefined)!==null&&u!==void 0?u:!1,this.forceIntegerToFloat=(h=e==null?void 0:e.forceIntegerToFloat)!==null&&h!==void 0?h:!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}return i.prototype.reinitializeState=function(){this.pos=0},i.prototype.encodeSharedRef=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)},i.prototype.encode=function(e){return this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)},i.prototype.doEncode=function(e,t){if(t>this.maxDepth)throw new Error("Too deep objects in depth ".concat(t));e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.encodeObject(e,t)},i.prototype.ensureBufferSizeToWrite=function(e){var t=this.pos+e;this.view.byteLength<t&&this.resizeBuffer(t*2)},i.prototype.resizeBuffer=function(e){var t=new ArrayBuffer(e),r=new Uint8Array(t),a=new DataView(t);r.set(this.bytes),this.view=a,this.bytes=r},i.prototype.encodeNil=function(){this.writeU8(192)},i.prototype.encodeBoolean=function(e){e===!1?this.writeU8(194):this.writeU8(195)},i.prototype.encodeNumber=function(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)},i.prototype.encodeNumberAsFloat=function(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))},i.prototype.encodeBigInt=function(e){if(this.forceBigIntToInt64)this.encodeBigIntAsInt64(e);else if(e>=0)if(e<4294967296||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e<BigInt("0x10000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too large for uint64: ".concat(e));else if(e>=-2147483648||this.forceIntegerToFloat)this.encodeNumber(Number(e));else if(e>=BigInt(-1)*BigInt("0x8000000000000000"))this.encodeBigIntAsInt64(e);else throw new Error("Bigint is too small for int64: ".concat(e))},i.prototype.encodeBigIntAsInt64=function(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))},i.prototype.writeStringHeader=function(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error("Too long string: ".concat(e," bytes in UTF-8"))},i.prototype.encodeString=function(e){var t=5,r=v8(e);this.ensureBufferSizeToWrite(t+r),this.writeStringHeader(r),S8(e,this.bytes,this.pos),this.pos+=r},i.prototype.encodeObject=function(e,t){var r=this.extensionCodec.tryToEncode(e,this.context);if(r!=null)this.encodeExtension(r);else if(Array.isArray(e))this.encodeArray(e,t);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(e instanceof Tr)this.encodeBinaryAsString(e);else if(typeof e=="bigint")this.encodeBigInt(e);else if(e instanceof Map)this.encodeMap(e,t);else if(typeof e=="object")this.encodeMapObject(e,t);else throw new Error("Unrecognized object: ".concat(Object.prototype.toString.apply(e)))},i.prototype.encodeBinary=function(e){var t=e.byteLength;if(t<256)this.writeU8(196),this.writeU8(t);else if(t<65536)this.writeU8(197),this.writeU16(t);else if(t<4294967296)this.writeU8(198),this.writeU32(t);else throw new Error("Too large binary: ".concat(t));var r=ni(e);this.writeU8a(r)},i.prototype.encodeBinaryAsString=function(e){var t=e.rawBinaryValue;this.writeStringHeader(t.byteLength);var r=ni(t);this.writeU8a(r)},i.prototype.encodeArray=function(e,t){var r=e.length;if(r<16)this.writeU8(144+r);else if(r<65536)this.writeU8(220),this.writeU16(r);else if(r<4294967296)this.writeU8(221),this.writeU32(r);else throw new Error("Too large array: ".concat(r));for(var a=0,n=e;a<n.length;a++){var s=n[a];this.doEncode(s,t+1)}},i.prototype.countWithoutUndefined=function(e,t){for(var r=0,a=0,n=t;a<n.length;a++){var s=n[a];e.get(s)!==void 0&&r++}return r},i.prototype.sortMapKeys=function(e){for(var t=[],r=[],a=[],n=[],s=0,c=e;s<c.length;s++){var u=c[s];if(typeof u=="number"){if(isNaN(u))throw new Error("Cannot sort map keys with NaN value");t.push(u)}else if(typeof u=="bigint")t.push(u);else if(typeof u=="string")r.push(u);else if(ArrayBuffer.isView(u))n.push(ni(u));else if(u instanceof Tr)a.push(u);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(u)))}return t.sort(function(h,f){return h<f?-1:h>f?1:0}),r.sort(),a.sort(function(h,f){return pw(ni(h.rawBinaryValue),ni(f.rawBinaryValue))}),n.sort(pw),[].concat(t,r,a,n)},i.prototype.encodeMapObject=function(e,t){this.encodeMap(new Map(Object.entries(e)),t)},i.prototype.encodeMap=function(e,t){var r=Array.from(e.keys());this.sortKeys&&(r=this.sortMapKeys(r));var a=this.ignoreUndefined?this.countWithoutUndefined(e,r):r.length;if(a<16)this.writeU8(128+a);else if(a<65536)this.writeU8(222),this.writeU16(a);else if(a<4294967296)this.writeU8(223),this.writeU32(a);else throw new Error("Too large map object: ".concat(a));for(var n=0,s=r;n<s.length;n++){var c=s[n],u=e.get(c);if(!(this.ignoreUndefined&&u===void 0)){if(typeof c=="string")this.encodeString(c);else if(typeof c=="number")this.encodeNumber(c);else if(typeof c=="bigint")this.encodeBigInt(c);else if(ArrayBuffer.isView(c))this.encodeBinary(c);else if(c instanceof Tr)this.encodeBinaryAsString(c);else throw new Error("Unsupported map key type: ".concat(Object.prototype.toString.apply(c)));this.doEncode(u,t+1)}}},i.prototype.encodeExtension=function(e){var t=e.data.length;if(t===1)this.writeU8(212);else if(t===2)this.writeU8(213);else if(t===4)this.writeU8(214);else if(t===8)this.writeU8(215);else if(t===16)this.writeU8(216);else if(t<256)this.writeU8(199),this.writeU8(t);else if(t<65536)this.writeU8(200),this.writeU16(t);else if(t<4294967296)this.writeU8(201),this.writeU32(t);else throw new Error("Too large extension object: ".concat(t));this.writeI8(e.type),this.writeU8a(e.data)},i.prototype.writeU8=function(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++},i.prototype.writeU8a=function(e){var t=e.length;this.ensureBufferSizeToWrite(t),this.bytes.set(e,this.pos),this.pos+=t},i.prototype.writeI8=function(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++},i.prototype.writeU16=function(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2},i.prototype.writeI16=function(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2},i.prototype.writeU32=function(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4},i.prototype.writeI32=function(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4},i.prototype.writeF32=function(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4},i.prototype.writeF64=function(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8},i.prototype.writeU64=function(e){this.ensureBufferSizeToWrite(8),D8(this.view,this.pos,e),this.pos+=8},i.prototype.writeI64=function(e){this.ensureBufferSizeToWrite(8),m3(this.view,this.pos,e),this.pos+=8},i.prototype.writeBigUint64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8},i.prototype.writeBigInt64=function(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8},i})();function W8(i,e){var t=new j8(e);return t.encodeSharedRef(i)}function Yd(i){return"".concat(i<0?"-":"","0x").concat(Math.abs(i).toString(16).padStart(2,"0"))}var H8=16,G8=16,K8=(function(){function i(e,t){e===void 0&&(e=H8),t===void 0&&(t=G8),this.maxKeyLength=e,this.maxLengthPerKey=t,this.hit=0,this.miss=0,this.caches=[];for(var r=0;r<this.maxKeyLength;r++)this.caches.push([])}return i.prototype.canBeCached=function(e){return e>0&&e<=this.maxKeyLength},i.prototype.find=function(e,t,r){var a=this.caches[r-1];e:for(var n=0,s=a;n<s.length;n++){for(var c=s[n],u=c.bytes,h=0;h<r;h++)if(u[h]!==e[t+h])continue e;return c.str}return null},i.prototype.store=function(e,t){var r=this.caches[e.length-1],a={bytes:e,str:t};r.length>=this.maxLengthPerKey?r[Math.random()*r.length|0]=a:r.push(a)},i.prototype.decode=function(e,t,r){var a=this.find(e,t,r);if(a!=null)return this.hit++,a;this.miss++;var n=g3(e,t,r),s=Uint8Array.prototype.slice.call(e,t,t+r);return this.store(s,n),n},i})(),J8=function(i,e,t,r){function a(n){return n instanceof t?n:new t(function(s){s(n)})}return new(t||(t=Promise))(function(n,s){function c(f){try{h(r.next(f))}catch(g){s(g)}}function u(f){try{h(r.throw(f))}catch(g){s(g)}}function h(f){f.done?n(f.value):a(f.value).then(c,u)}h((r=r.apply(i,e||[])).next())})},Xd=function(i,e){var t={label:0,sent:function(){if(n[0]&1)throw n[1];return n[1]},trys:[],ops:[]},r,a,n,s;return s={next:c(0),throw:c(1),return:c(2)},typeof Symbol=="function"&&(s[Symbol.iterator]=function(){return this}),s;function c(h){return function(f){return u([h,f])}}function u(h){if(r)throw new TypeError("Generator is already executing.");for(;s&&(s=0,h[0]&&(t=0)),t;)try{if(r=1,a&&(n=h[0]&2?a.return:h[0]?a.throw||((n=a.return)&&n.call(a),0):a.next)&&!(n=n.call(a,h[1])).done)return n;switch(a=0,n&&(h=[h[0]&2,n.value]),h[0]){case 0:case 1:n=h;break;case 4:return t.label++,{value:h[1],done:!1};case 5:t.label++,a=h[1],h=[0];continue;case 7:h=t.ops.pop(),t.trys.pop();continue;default:if(n=t.trys,!(n=n.length>0&&n[n.length-1])&&(h[0]===6||h[0]===2)){t=0;continue}if(h[0]===3&&(!n||h[1]>n[0]&&h[1]<n[3])){t.label=h[1];break}if(h[0]===6&&t.label<n[1]){t.label=n[1],n=h;break}if(n&&t.label<n[2]){t.label=n[2],t.ops.push(h);break}n[2]&&t.ops.pop(),t.trys.pop();continue}h=e.call(i,t)}catch(f){h=[6,f],a=0}finally{r=n=0}if(h[0]&5)throw h[1];return{value:h[0]?h[1]:void 0,done:!0}}},gw=function(i){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=i[Symbol.asyncIterator],t;return e?e.call(i):(i=typeof __values=="function"?__values(i):i[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(n){t[n]=i[n]&&function(s){return new Promise(function(c,u){s=i[n](s),a(c,u,s.done,s.value)})}}function a(n,s,c,u){Promise.resolve(u).then(function(h){n({value:h,done:c})},s)}},qa=function(i){return this instanceof qa?(this.v=i,this):new qa(i)},Y8=function(i,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(i,e||[]),a,n=[];return a={},s("next"),s("throw"),s("return"),a[Symbol.asyncIterator]=function(){return this},a;function s(b){r[b]&&(a[b]=function(M){return new Promise(function(_,D){n.push([b,M,_,D])>1||c(b,M)})})}function c(b,M){try{u(r[b](M))}catch(_){g(n[0][3],_)}}function u(b){b.value instanceof qa?Promise.resolve(b.value.v).then(h,f):g(n[0][2],b)}function h(b){c("next",b)}function f(b){c("throw",b)}function g(b,M){b(M),n.shift(),n.length&&c(n[0][0],n[0][1])}},W0="array",Ds="map_key",w3="map_value";function X8(i,e,t){return e?typeof i=="string"||typeof i=="number"||typeof i=="bigint"||i instanceof Uint8Array||i instanceof Tr:typeof i=="string"||t&&typeof i=="number"}var Z8=(function(){function i(e){this.useMap=e,this.stack=[],this.stackHeadPosition=-1}return Object.defineProperty(i.prototype,"length",{get:function(){return this.stackHeadPosition+1},enumerable:!1,configurable:!0}),i.prototype.top=function(){return this.stack[this.stackHeadPosition]},i.prototype.pushArrayState=function(e){var t=this.getUninitializedStateFromPool();t.type=W0,t.position=0,t.size=e,t.array=new Array(e)},i.prototype.pushMapState=function(e){var t=this.getUninitializedStateFromPool();t.type=Ds,t.readCount=0,t.size=e,t.map=this.useMap?new Map:{}},i.prototype.getUninitializedStateFromPool=function(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){var e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]},i.prototype.release=function(e){var t=this.stack[this.stackHeadPosition];if(t!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===W0){var r=e;r.size=0,r.array=void 0,r.position=0,r.type=void 0}if(e.type===Ds||e.type===w3){var r=e;r.size=0,r.map=void 0,r.readCount=0,r.type=void 0}this.stackHeadPosition--},i.prototype.reset=function(){this.stack.length=0,this.stackHeadPosition=-1},i})(),gs=-1,Bg=new DataView(new ArrayBuffer(0)),Q8=new Uint8Array(Bg.buffer);try{Bg.getInt8(0)}catch(i){if(!(i instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}var H0=RangeError,mw=new H0("Insufficient data"),e5=new K8,t5=(function(){function i(e){var t,r,a,n,s,c,u,h,f,g,b,M;if(this.totalPos=0,this.pos=0,this.view=Bg,this.bytes=Q8,this.headByte=gs,this.extensionCodec=(t=e==null?void 0:e.extensionCodec)!==null&&t!==void 0?t:y3.defaultCodec,this.context=e==null?void 0:e.context,this.intMode=(r=e==null?void 0:e.intMode)!==null&&r!==void 0?r:e!=null&&e.useBigInt64?hr.AS_ENCODED:hr.UNSAFE_NUMBER,this.rawBinaryStringValues=(a=e==null?void 0:e.rawBinaryStringValues)!==null&&a!==void 0?a:!1,this.rawBinaryStringKeys=(n=e==null?void 0:e.rawBinaryStringKeys)!==null&&n!==void 0?n:!1,this.useRawBinaryStringClass=(s=e==null?void 0:e.useRawBinaryStringClass)!==null&&s!==void 0?s:!1,this.useMap=(c=e==null?void 0:e.useMap)!==null&&c!==void 0?c:!1,this.supportObjectNumberKeys=(u=e==null?void 0:e.supportObjectNumberKeys)!==null&&u!==void 0?u:!1,this.maxStrLength=(h=e==null?void 0:e.maxStrLength)!==null&&h!==void 0?h:ps,this.maxBinLength=(f=e==null?void 0:e.maxBinLength)!==null&&f!==void 0?f:ps,this.maxArrayLength=(g=e==null?void 0:e.maxArrayLength)!==null&&g!==void 0?g:ps,this.maxMapLength=(b=e==null?void 0:e.maxMapLength)!==null&&b!==void 0?b:ps,this.maxExtLength=(M=e==null?void 0:e.maxExtLength)!==null&&M!==void 0?M:ps,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:e5,this.rawBinaryStringKeys&&!this.useMap)throw new Error("rawBinaryStringKeys is only supported when useMap is true");this.stack=new Z8(this.useMap)}return i.prototype.reinitializeState=function(){this.totalPos=0,this.headByte=gs,this.stack.reset()},i.prototype.setBuffer=function(e){this.bytes=ni(e),this.view=q8(this.bytes),this.pos=0},i.prototype.appendBuffer=function(e){if(this.headByte===gs&&!this.hasRemaining(1))this.setBuffer(e);else{var t=this.bytes.subarray(this.pos),r=ni(e),a=new Uint8Array(t.length+r.length);a.set(t),a.set(r,t.length),this.setBuffer(a)}},i.prototype.hasRemaining=function(e){return this.view.byteLength-this.pos>=e},i.prototype.createExtraByteError=function(e){var t=this,r=t.view,a=t.pos;return new RangeError("Extra ".concat(r.byteLength-a," of ").concat(r.byteLength," byte(s) found at buffer[").concat(e,"]"))},i.prototype.decode=function(e){this.reinitializeState(),this.setBuffer(e);var t=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return t},i.prototype.decodeMulti=function(e){return Xd(this,function(t){switch(t.label){case 0:this.reinitializeState(),this.setBuffer(e),t.label=1;case 1:return this.hasRemaining(1)?[4,this.doDecodeSync()]:[3,3];case 2:return t.sent(),[3,1];case 3:return[2]}})},i.prototype.decodeAsync=function(e){var t,r,a,n,s,c,u;return J8(this,void 0,void 0,function(){var h,f,g,b,M,_,D,R;return Xd(this,function(A){switch(A.label){case 0:h=!1,A.label=1;case 1:A.trys.push([1,6,7,12]),t=!0,r=gw(e),A.label=2;case 2:return[4,r.next()];case 3:if(a=A.sent(),n=a.done,!!n)return[3,5];if(u=a.value,t=!1,g=u,h)throw this.createExtraByteError(this.totalPos);this.appendBuffer(g);try{f=this.doDecodeSync(),h=!0}catch(I){if(!(I instanceof H0))throw I}this.totalPos+=this.pos,A.label=4;case 4:return t=!0,[3,2];case 5:return[3,12];case 6:return b=A.sent(),s={error:b},[3,12];case 7:return A.trys.push([7,,10,11]),!t&&!n&&(c=r.return)?[4,c.call(r)]:[3,9];case 8:A.sent(),A.label=9;case 9:return[3,11];case 10:if(s)throw s.error;return[7];case 11:return[7];case 12:if(h){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return[2,f]}throw M=this,_=M.headByte,D=M.pos,R=M.totalPos,new RangeError("Insufficient data in parsing ".concat(Yd(_)," at ").concat(R," (").concat(D," in the current buffer)"))}})})},i.prototype.decodeArrayStream=function(e){return this.decodeMultiAsync(e,!0)},i.prototype.decodeStream=function(e){return this.decodeMultiAsync(e,!1)},i.prototype.decodeMultiAsync=function(e,t){return Y8(this,arguments,function(){var a,n,s,c,u,h,f,g,b,M,_,D;return Xd(this,function(R){switch(R.label){case 0:a=t,n=-1,R.label=1;case 1:R.trys.push([1,13,14,19]),s=!0,c=gw(e),R.label=2;case 2:return[4,qa(c.next())];case 3:if(u=R.sent(),b=u.done,!!b)return[3,12];if(D=u.value,s=!1,h=D,t&&n===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(h),a&&(n=this.readArraySize(),a=!1,this.complete()),R.label=4;case 4:R.trys.push([4,9,,10]),R.label=5;case 5:return[4,qa(this.doDecodeSync())];case 6:return[4,R.sent()];case 7:return R.sent(),--n===0?[3,8]:[3,5];case 8:return[3,10];case 9:if(f=R.sent(),!(f instanceof H0))throw f;return[3,10];case 10:this.totalPos+=this.pos,R.label=11;case 11:return s=!0,[3,2];case 12:return[3,19];case 13:return g=R.sent(),M={error:g},[3,19];case 14:return R.trys.push([14,,17,18]),!s&&!b&&(_=c.return)?[4,qa(_.call(c))]:[3,16];case 15:R.sent(),R.label=16;case 16:return[3,18];case 17:if(M)throw M.error;return[7];case 18:return[7];case 19:return[2]}})})},i.prototype.doDecodeSync=function(){e:for(;;){var e=this.readHeadByte(),t=void 0;if(e>=224)t=this.convertNumber(e-256);else if(e<192)if(e<128)t=this.convertNumber(e);else if(e<144){var r=e-128;if(r!==0){this.pushMapState(r),this.complete();continue e}else t=this.useMap?new Map:{}}else if(e<160){var r=e-144;if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else{var a=e-160;t=this.decodeString(a,0)}else if(e===192)t=null;else if(e===194)t=!1;else if(e===195)t=!0;else if(e===202)t=this.readF32();else if(e===203)t=this.readF64();else if(e===204)t=this.convertNumber(this.readU8());else if(e===205)t=this.convertNumber(this.readU16());else if(e===206)t=this.convertNumber(this.readU32());else if(e===207)t=this.readU64();else if(e===208)t=this.convertNumber(this.readI8());else if(e===209)t=this.convertNumber(this.readI16());else if(e===210)t=this.convertNumber(this.readI32());else if(e===211)t=this.readI64();else if(e===217){var a=this.lookU8();t=this.decodeString(a,1)}else if(e===218){var a=this.lookU16();t=this.decodeString(a,2)}else if(e===219){var a=this.lookU32();t=this.decodeString(a,4)}else if(e===220){var r=this.readU16();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===221){var r=this.readU32();if(r!==0){this.pushArrayState(r),this.complete();continue e}else t=[]}else if(e===222){var r=this.readU16();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===223){var r=this.readU32();if(r!==0){this.pushMapState(r),this.complete();continue e}else t={}}else if(e===196){var r=this.lookU8();t=this.decodeBinary(r,1)}else if(e===197){var r=this.lookU16();t=this.decodeBinary(r,2)}else if(e===198){var r=this.lookU32();t=this.decodeBinary(r,4)}else if(e===212)t=this.decodeExtension(1,0);else if(e===213)t=this.decodeExtension(2,0);else if(e===214)t=this.decodeExtension(4,0);else if(e===215)t=this.decodeExtension(8,0);else if(e===216)t=this.decodeExtension(16,0);else if(e===199){var r=this.lookU8();t=this.decodeExtension(r,1)}else if(e===200){var r=this.lookU16();t=this.decodeExtension(r,2)}else if(e===201){var r=this.lookU32();t=this.decodeExtension(r,4)}else throw new pn("Unrecognized type byte: ".concat(Yd(e)));this.complete();for(var n=this.stack;n.length>0;){var s=n.top();if(s.type===W0)if(s.array[s.position]=t,s.position++,s.position===s.size)t=s.array,n.release(s);else continue e;else if(s.type===Ds){if(!X8(t,this.useMap,this.supportObjectNumberKeys)){var c=this.useMap?"string, number, bigint, or Uint8Array":this.supportObjectNumberKeys?"string or number":"string";throw new pn("The type of key must be ".concat(c," but got ").concat(typeof t))}if(!this.useMap&&t==="__proto__")throw new pn("The key __proto__ is not allowed");s.key=t,s.type=w3;continue e}else if(this.useMap?s.map.set(s.key,t):s.map[s.key]=t,s.readCount++,s.readCount===s.size)t=s.map,n.release(s);else{s.key=null,s.type=Ds;continue e}}return t}},i.prototype.readHeadByte=function(){return this.headByte===gs&&(this.headByte=this.readU8()),this.headByte},i.prototype.complete=function(){this.headByte=gs},i.prototype.readArraySize=function(){var e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new pn("Unrecognized array type byte: ".concat(Yd(e)))}}},i.prototype.pushMapState=function(e){if(e>this.maxMapLength)throw new pn("Max length exceeded: map length (".concat(e,") > maxMapLengthLength (").concat(this.maxMapLength,")"));this.stack.pushMapState(e)},i.prototype.pushArrayState=function(e){if(e>this.maxArrayLength)throw new pn("Max length exceeded: array length (".concat(e,") > maxArrayLength (").concat(this.maxArrayLength,")"));this.stack.pushArrayState(e)},i.prototype.decodeString=function(e,t){if(this.stateIsMapKey()?this.rawBinaryStringKeys:this.rawBinaryStringValues){var r=this.decodeBinary(e,t);return this.useRawBinaryStringClass?new Tr(r):r}return this.decodeUtf8String(e,t)},i.prototype.decodeUtf8String=function(e,t){var r;if(e>this.maxStrLength)throw new pn("Max length exceeded: UTF-8 byte length (".concat(e,") > maxStrLength (").concat(this.maxStrLength,")"));if(this.bytes.byteLength<this.pos+t+e)throw mw;var a=this.pos+t,n;return this.stateIsMapKey()&&(!((r=this.keyDecoder)===null||r===void 0)&&r.canBeCached(e))?n=this.keyDecoder.decode(this.bytes,a,e):n=k8(this.bytes,a,e),this.pos+=t+e,n},i.prototype.stateIsMapKey=function(){if(this.stack.length>0){var e=this.stack.top();return e.type===Ds}return!1},i.prototype.decodeBinary=function(e,t){if(e>this.maxBinLength)throw new pn("Max length exceeded: bin length (".concat(e,") > maxBinLength (").concat(this.maxBinLength,")"));if(!this.hasRemaining(e+t))throw mw;var r=this.pos+t,a=this.bytes.subarray(r,r+e);return this.pos+=t+e,a},i.prototype.decodeExtension=function(e,t){if(e>this.maxExtLength)throw new pn("Max length exceeded: ext length (".concat(e,") > maxExtLength (").concat(this.maxExtLength,")"));var r=this.view.getInt8(this.pos+t),a=this.decodeBinary(e,t+1);return this.extensionCodec.decode(a,r,this.context)},i.prototype.convertNumber=function(e){return T8(e,this.intMode)},i.prototype.lookU8=function(){return this.view.getUint8(this.pos)},i.prototype.lookU16=function(){return this.view.getUint16(this.pos)},i.prototype.lookU32=function(){return this.view.getUint32(this.pos)},i.prototype.readU8=function(){var e=this.view.getUint8(this.pos);return this.pos++,e},i.prototype.readI8=function(){var e=this.view.getInt8(this.pos);return this.pos++,e},i.prototype.readU16=function(){var e=this.view.getUint16(this.pos);return this.pos+=2,e},i.prototype.readI16=function(){var e=this.view.getInt16(this.pos);return this.pos+=2,e},i.prototype.readU32=function(){var e=this.view.getUint32(this.pos);return this.pos+=4,e},i.prototype.readI32=function(){var e=this.view.getInt32(this.pos);return this.pos+=4,e},i.prototype.readU64=function(){var e=R8(this.view,this.pos,this.intMode);return this.pos+=8,e},i.prototype.readI64=function(){var e=v3(this.view,this.pos,this.intMode);return this.pos+=8,e},i.prototype.readF32=function(){var e=this.view.getFloat32(this.pos);return this.pos+=4,e},i.prototype.readF64=function(){var e=this.view.getFloat64(this.pos);return this.pos+=8,e},i})();function Fg(i,e){var t=new t5(e);return t.decode(i)}const r5="The object contains empty or 0 values. First empty or 0 value encountered during encoding: ";function n5(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e)&&(!i[e]||i[e].length===0))return{containsEmpty:!0,firstEmptyKey:e};return{containsEmpty:!1,firstEmptyKey:void 0}}function Mc(i){return W8(i,{sortKeys:!0})}function i5(i){const e=n5(i);if(e.containsEmpty)throw new Error(r5+e.firstEmptyKey);return Mc(i)}function b3(i){switch(i){case wr.UNSAFE:return hr.UNSAFE_NUMBER;case wr.SAFE:return hr.SAFE_NUMBER;case wr.MIXED:return hr.MIXED;case wr.BIGINT:return hr.BIGINT;default:throw new Error(`Invalid intDecoding: ${i}`)}}function x3(i,e){const t={intMode:e!=null&&e.intDecoding?b3(e==null?void 0:e.intDecoding):hr.BIGINT};return Fg(i,t)}function a5(i){return x3(i,{intDecoding:wr.MIXED})}function S3(i,e){const t={intMode:e!=null&&e.intDecoding?b3(e==null?void 0:e.intDecoding):hr.BIGINT,useMap:!0};return Fg(i,t)}function o5(i,e){const t={intMode:hr.BIGINT,useMap:!0,rawBinaryStringKeys:!0,rawBinaryStringValues:!0,useRawBinaryStringClass:!0};return Fg(i,t)}function G0(i){if(i==null)return i;if(i instanceof Uint8Array)return Mr(i);if(Array.isArray(i))return i.map(G0);if(i instanceof Map){const e={};for(const[t,r]of i){if(typeof t!="string")throw new Error(`JSON map key must be a string: ${t}`);e[t]=G0(r)}return e}return i}function K0(i){if(i==null||typeof i=="string"||typeof i=="number"||typeof i=="bigint"||typeof i=="boolean")return i;if(Array.isArray(i))return i.map(K0);if(typeof i=="object"){const e=new Map;for(const[t,r]of Object.entries(i))e.set(t,K0(r));return e}throw new Error(`Invalid JSON encoding data: ${i}`)}var ri;(function(i){i[i.MAP_VALUE=0]="MAP_VALUE",i[i.ARRAY_ELEMENT=1]="ARRAY_ELEMENT"})(ri||(ri={}));class bf{constructor({parent:e,segment:t,baseObjectBytes:r}){this.resolvedCache=null,this.resolvedCachePresent=!1,this.parent=e,this.segment=t,this.baseObjectBytes=r}withMapValue(e){return new bf({parent:this,segment:{kind:ri.MAP_VALUE,key:e}})}withArrayElement(e){return new bf({parent:this,segment:{kind:ri.ARRAY_ELEMENT,key:e}})}getRawStringAtCurrentLocation(){const e=this.resolve();if(e instanceof Tr)return e.rawBinaryValue;throw new Error(`Invalid type. Expected RawBinaryString, got ${e} (${typeof e})`)}getRawStringKeysAndValuesAtCurrentLocation(){const e=this.resolve();if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);const t=new Map;for(const[r,a]of e)if(r instanceof Tr)t.set(r.rawBinaryValue,a);else throw new Error(`Invalid type for map key. Expected RawBinaryString, got ${r} (${typeof r})`);return t}resolve(){if(this.resolvedCachePresent)return this.resolvedCache;let e;if(this.parent?e=this.parent.resolve():e=o5(this.baseObjectBytes),!this.segment)return this.resolvedCache=e,this.resolvedCachePresent=!0,e;if(this.segment.kind===ri.MAP_VALUE){if(!(e instanceof Map))throw new Error(`Invalid type. Expected Map, got ${e} (${typeof e})`);if(typeof this.segment.key=="string"||this.segment.key instanceof Uint8Array||this.segment.key instanceof Tr){const t=this.segment.key instanceof Tr?this.segment.key.rawBinaryValue:An(this.segment.key),r=typeof this.segment.key=="string"||this.segment.key instanceof Tr;for(const[a,n]of e){let s;if(r?a instanceof Tr&&(s=a.rawBinaryValue):a instanceof Uint8Array&&(s=a),s&&_n(t,s)){this.resolvedCache=n;break}}}else this.resolvedCache=e.get(this.segment.key);return this.resolvedCachePresent=!0,this.resolvedCache}if(this.segment.kind===ri.ARRAY_ELEMENT){if(!Array.isArray(e))throw new Error(`Invalid type. Expected Array, got ${e} (${typeof e})`);return this.resolvedCache=e[this.segment.key],this.resolvedCachePresent=!0,this.resolvedCache}throw new Error(`Invalid segment kind: ${this.segment.kind}`)}getPathString(){const e=this.parent?this.parent.getPathString():"root";return this.segment?this.segment.kind===ri.MAP_VALUE?`${e} -> map key "${this.segment.key}" (${typeof this.segment.key})`:this.segment.kind===ri.ARRAY_ELEMENT?`${e} -> array index ${this.segment.key} (${typeof this.segment.key})`:`${e} -> unknown segment kind ${this.segment.kind}`:e}}class Br{}function fr(i,e){const t=S3(i),r=new bf({baseObjectBytes:i});return e.fromEncodingData(e.encodingSchema.fromPreparedMsgpack(t,r))}function Zr(i){return Mc(i.getEncodingSchema().prepareMsgpack(i.toEncodingData()))}function jt(i,e){const t=Ig(i,{intDecoding:wr.BIGINT});return e.fromEncodingData(e.encodingSchema.fromPreparedJSON(t))}function s5(i,e){const{space:t,...r}=e??{},a=i.getEncodingSchema().prepareJSON(i.toEncodingData(),r);return zi(a,void 0,t)}class qt extends Br{defaultValue(){return!1}isDefaultValue(e){return e===!1}prepareMsgpack(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedMsgpack(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}prepareJSON(e,t){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}fromPreparedJSON(e){if(typeof e=="boolean")return e;throw new Error("Invalid boolean")}}class ze extends Br{defaultValue(){return""}isDefaultValue(e){return e===""}prepareMsgpack(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}prepareJSON(e,t){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return e;throw new Error(`Invalid string: (${typeof e}) ${e}`)}}class ue extends Br{defaultValue(){return BigInt(0)}isDefaultValue(e){return typeof e=="bigint"?e===BigInt(0):typeof e=="number"?e===0:!1}prepareMsgpack(e){return tr(e)}fromPreparedMsgpack(e,t){return tr(e)}prepareJSON(e,t){return tr(e)}fromPreparedJSON(e){return tr(e)}}class Qt extends Br{defaultValue(){return Ct.zeroAddress()}isDefaultValue(e){return Ct.zeroAddress().equals(e)}prepareMsgpack(e){if(e instanceof Ct)return e.publicKey;throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return new Ct(e)}prepareJSON(e,t){if(e instanceof Ct)return e.toString();throw new Error(`Invalid address: (${typeof e}) ${e}`)}fromPreparedJSON(e){return Ct.fromString(e)}}class ot extends Br{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array)return e;throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array)return Mr(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(e==null)return this.defaultValue();if(typeof e=="string")return pt(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class ir extends Br{constructor(e){super(),this.length=e}defaultValue(){return new Uint8Array(this.length)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===this.length&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array){if(e.byteLength===this.length)return e;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}prepareJSON(e){if(e instanceof Uint8Array){if(e.byteLength===this.length)return Mr(e);throw new Error(`Invalid byte array length: wanted ${this.length}, got ${e.byteLength}`)}throw new Error("Invalid byte array")}fromPreparedJSON(e){if(typeof e=="string"){const t=pt(e);if(t.byteLength===this.length)return t;throw new Error(`Invalid byte array length: wanted ${this.length}, got ${t.byteLength}`)}throw new Error("Invalid base64 byte array")}}const ms=32,vw=52;class c5 extends Br{defaultValue(){return new Uint8Array(ms)}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===ms&&e.every(t=>t===0)}prepareMsgpack(e){if(e instanceof Uint8Array&&e.byteLength===ms)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){if(e instanceof Uint8Array&&e.byteLength===ms)return e;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}prepareJSON(e,t){if(e instanceof Uint8Array&&e.byteLength===ms)return`blk-${Bs.encode(e).slice(0,vw)}`;throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string"&&e.length===vw+4&&e.startsWith("blk-"))return Uint8Array.from(Bs.decode.asBytes(e.slice(4)));throw new Error(`Invalid block hash: (${typeof e}) ${e}`)}}class Va extends Br{defaultValue(){return new Uint8Array}isDefaultValue(e){return e instanceof Uint8Array&&e.byteLength===0}prepareMsgpack(e){if(e instanceof Uint8Array)return new Tr(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedMsgpack(e,t){return t.getRawStringAtCurrentLocation()}prepareJSON(e,t){if(e instanceof Uint8Array){const r=Kf(e);if(!t.lossyBinaryStringConversion&&!_n(An(r),e))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${Mr(e)}`);return r}throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}fromPreparedJSON(e){if(typeof e=="string")return An(e);throw new Error(`Invalid byte array: (${typeof e}) ${e}`)}}class tt extends Br{constructor(e){super(),this.itemSchema=e}defaultValue(){return[]}isDefaultValue(e){return Array.isArray(e)&&e.length===0}prepareMsgpack(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.prepareMsgpack(t));throw new Error("ArraySchema data must be an array")}fromPreparedMsgpack(e,t){if(Array.isArray(e))return e.map((r,a)=>this.itemSchema.fromPreparedMsgpack(r,t.withArrayElement(a)));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}prepareJSON(e,t){if(Array.isArray(e))return e.map(r=>this.itemSchema.prepareJSON(r,t));throw new Error("ArraySchema data must be an array")}fromPreparedJSON(e){if(Array.isArray(e))return e.map(t=>this.itemSchema.fromPreparedJSON(t));throw new Error(`ArraySchema encoded data must be an array: ${e} (${typeof e})`)}}function It(i){return i.map(e=>({...e,omitEmpty:!0}))}class Fe extends Br{constructor(e){super(),this.entries=e,this.checkEntries()}pushEntries(...e){this.entries.push(...e),this.checkEntries()}checkEntries(){for(const t of this.entries)if(t.embedded){if(t.key!=="")throw new Error("Embedded entries must have an empty key");if(!(t.valueSchema instanceof Fe))throw new Error("Embedded entry valueSchema must be a NamedMapSchema")}const e=new Set;for(const t of this.getEntries()){if(e.has(t.key))throw new Error(`Duplicate key: ${t.key}`);e.add(t.key)}}getEntries(){const e=[];for(const t of this.entries)if(t.embedded){const r=t.valueSchema;e.push(...r.getEntries())}else e.push(t);return e}defaultValue(){const e=new Map;for(const t of this.getEntries())e.set(t.key,t.valueSchema.defaultValue());return e}isDefaultValue(e){if(!(e instanceof Map))return!1;for(const t of this.getEntries())if(!t.valueSchema.isDefaultValue(e.get(t.key)))return!1;return!0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`NamedMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const r of this.getEntries()){const a=e.get(r.key);r.omitEmpty&&r.valueSchema.isDefaultValue(a)||t.set(r.key,r.valueSchema.prepareMsgpack(a))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r=new Map;for(const a of this.getEntries())if(e.has(a.key))r.set(a.key,a.valueSchema.fromPreparedMsgpack(e.get(a.key),t.withMapValue(a.key)));else if(a.omitEmpty)r.set(a.key,a.valueSchema.defaultValue());else throw new Error(`Missing key: ${a.key}`);return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error("NamedMapSchema data must be a Map");const r={};for(const a of this.getEntries()){const n=e.get(a.key);a.omitEmpty&&a.valueSchema.isDefaultValue(n)||(r[a.key]=a.valueSchema.prepareJSON(n,t))}return r}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("NamedMapSchema data must be an object");const t=new Map;for(const r of this.getEntries())if(Object.prototype.hasOwnProperty.call(e,r.key))t.set(r.key,r.valueSchema.fromPreparedJSON(e[r.key]));else if(r.omitEmpty)t.set(r.key,r.valueSchema.defaultValue());else throw new Error(`Missing key: ${r.key}`);return t}}function os(...i){const e=new Map;for(const t of i)for(const[r,a]of t){if(e.has(r))throw new Error(`Duplicate key: ${r}`);e.set(r,a)}return e}function lr(i,e){const t=new Map;for(const[r,a]of i){const[n,s]=e(r,a);t.set(n,s)}return t}class Yf extends Br{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,a]of e){const n=tr(r);if(t.has(n))throw new Error(`Duplicate key: ${n}`);t.set(n,this.valueSchema.prepareMsgpack(a))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("Uint64MapSchema data must be a Map");const r=new Map;for(const[a,n]of e){const s=tr(a);if(r.has(s))throw new Error(`Duplicate key: ${s}`);r.set(s,this.valueSchema.fromPreparedMsgpack(n,t.withMapValue(a)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`Uint64MapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[n,s]of e){const c=tr(n);if(r.has(c))throw new Error(`Duplicate key: ${c}`);r.set(c,this.valueSchema.prepareJSON(s,t))}const a={};for(const[n,s]of r)a[n.toString()]=s;return a}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("Uint64MapSchema data must be an object");const t=new Map;for(const[r,a]of Object.entries(e)){const n=BigInt(r);if(t.has(n))throw new Error(`Duplicate key: ${n}`);t.set(n,this.valueSchema.fromPreparedJSON(a))}return t}}class f5 extends Br{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,a]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(r,this.valueSchema.prepareMsgpack(a))}return t}fromPreparedMsgpack(e,t){if(!(e instanceof Map))throw new Error("ByteArrayMapSchema data must be a Map");const r=new Map;for(const[a,n]of e){if(!(a instanceof Uint8Array))throw new Error(`Invalid key: ${a} (${typeof a})`);r.set(a,this.valueSchema.fromPreparedMsgpack(n,t.withMapValue(a)))}return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`ByteArrayMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[n,s]of e){if(!(n instanceof Uint8Array))throw new Error(`Invalid key: ${n} (${typeof n})`);const c=Mr(n);if(r.has(c))throw new Error(`Duplicate key (base64): ${c}`);r.set(c,this.valueSchema.prepareJSON(s,t))}const a={};for(const[n,s]of r)a[n]=s;return a}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("ByteArrayMapSchema data must be an object");const t=new Map;for(const[r,a]of Object.entries(e))t.set(pt(r),this.valueSchema.fromPreparedJSON(a));return t}}function df(i){if(i instanceof Tr)return Kf(i.rawBinaryValue);if(i instanceof Map){const e=new Map;for(const[t,r]of i)e.set(df(t),df(r));return e}return Array.isArray(i)?i.map(df):i}class Fs extends Br{constructor(e){super(),this.valueSchema=e}defaultValue(){return new Map}isDefaultValue(e){return e instanceof Map&&e.size===0}prepareMsgpack(e){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const t=new Map;for(const[r,a]of e){if(!(r instanceof Uint8Array))throw new Error(`Invalid key: ${r} (${typeof r})`);t.set(new Tr(r),this.valueSchema.prepareMsgpack(a))}return t}fromPreparedMsgpack(e,t){const r=new Map,a=t.getRawStringKeysAndValuesAtCurrentLocation();for(const[n,s]of a)r.set(n,this.valueSchema.fromPreparedMsgpack(df(s),t.withMapValue(new Tr(n))));return r}prepareJSON(e,t){if(!(e instanceof Map))throw new Error(`SpecialCaseBinaryStringMapSchema data must be a Map. Got (${typeof e}) ${e}`);const r=new Map;for(const[n,s]of e){if(!(n instanceof Uint8Array))throw new Error(`Invalid key: ${n}`);const c=Kf(n);if(!t.lossyBinaryStringConversion&&!_n(An(c),n))throw new Error(`Invalid UTF-8 byte array encountered. Encode with lossyBinaryStringConversion enabled to bypass this check. Base64 value: ${Mr(n)}`);r.set(c,this.valueSchema.prepareJSON(s,t))}const a={};for(const[n,s]of r)a[n]=s;return a}fromPreparedJSON(e){if(e==null||typeof e!="object"||Array.isArray(e))throw new Error("SpecialCaseBinaryStringMapSchema data must be an object");const t=new Map;for(const[r,a]of Object.entries(e))t.set(An(r),this.valueSchema.fromPreparedJSON(a));return t}}class Z extends Br{constructor(e){super(),this.valueSchema=e}defaultValue(){}isDefaultValue(e){return e===void 0||this.valueSchema.isDefaultValue(e)}prepareMsgpack(e){if(e!==void 0)return this.valueSchema.prepareMsgpack(e)}fromPreparedMsgpack(e,t){if(e!=null)return this.valueSchema.fromPreparedMsgpack(e,t)}prepareJSON(e,t){return e===void 0?null:this.valueSchema.prepareJSON(e,t)}fromPreparedJSON(e){if(e!=null)return this.valueSchema.fromPreparedJSON(e)}}class E3 extends Br{defaultValue(){}isDefaultValue(e){return e===void 0}prepareMsgpack(e){return e}fromPreparedMsgpack(e,t){return e}prepareJSON(e,t){return G0(e)}fromPreparedJSON(e){return K0(e)}}function h5(i,e,t){const r=BigInt(i.appIndex),a=i.name,n=r===BigInt(0)||r===t,s=e.indexOf(r)+1;if(s===0&&!n)throw new Error(`Box ref with appId ${r} not in foreign-apps`);return new Map([["i",s],["n",a]])}function u5(i,e,t){const r=BigInt(t),a=e.map(BigInt);return i.map(n=>h5(n,a,r))}function l5(i,e){const t=[];function r(n){for(let s=0;s<t.length;s++){const c=t[s],u=c.get("d");if((!n.address&&!u||n.address&&u&&n.address.equals(u))&&c.get("s")===n.assetIndex&&c.get("p")===n.appIndex)return s+1}return n.address&&t.push(new Map([["d",n.address]])),n.assetIndex&&t.push(new Map([["s",n.assetIndex]])),n.appIndex&&t.push(new Map([["p",n.appIndex]])),t.length}const a=Ct.zeroAddress();for(const n of e){if(n.address||n.assetIndex||n.appIndex){r(n);continue}if(n.holding){const s=n.holding;let c=0;s.address&&!s.address.equals(a)&&(c=r({address:s.address}));const u=r({assetIndex:s.assetIndex});t.push(new Map([["h",new Map([["d",c],["s",u]])]]));continue}if(n.locals){const s=n.locals;let c=0;s.address&&!s.address.equals(a)&&(c=r({address:s.address}));let u=0;s.appIndex&&BigInt(s.appIndex)!==i&&(u=r({appIndex:s.appIndex})),t.push(new Map([["l",new Map([["d",c],["p",u]])]]));continue}if(n.box){const s=n.box;let c=0;s.appIndex&&BigInt(s.appIndex)!==i&&(c=r({appIndex:s.appIndex})),t.push(new Map([["b",new Map([["i",c],["n",s.name]])]]))}}return t}function d5(i){const e=[];for(const t of i){const r=t.get("d"),a=t.get("s"),n=t.get("p");if(r){e.push({address:r});continue}if(a){e.push({assetIndex:a});continue}if(n){e.push({appIndex:n});continue}const s=t.get("h");if(s){const h=Er(s.get("d")??0),f=Er(s.get("s"));if(!f)throw new Error(`Holding missing asset index: ${s}`);const g=h===0?Ct.zeroAddress():e[h-1].address,b=e[f-1].assetIndex;e.push({holding:{address:g,assetIndex:b}});continue}const c=t.get("l");if(c){const h=Er(c.get("d")??0),f=Er(c.get("p")??0),g=h===0?Ct.zeroAddress():e[h-1].address,b=f===0?BigInt(0):e[f-1].appIndex;e.push({locals:{address:g,appIndex:b}});continue}const u=t.get("b");if(u){const h=Er(u.get("i")??0),f=u.get("n");if(!f)throw new Error(`Box missing name: ${u}`);const g=h===0?BigInt(0):e[h-1].appIndex;e.push({box:{appIndex:g,name:f}})}}return e}function p5({appIndex:i,accounts:e,foreignAssets:t,foreignApps:r,holdings:a,locals:n,boxes:s}){const c=[];function u(g){let b;if(typeof g=="string"){if(g==="")return;b=Ct.fromString(g)}else b=g;if(b.equals(Ct.zeroAddress()))return;let M=!1;for(const _ of c){if(!_.address)continue;let D=_.address;if(typeof _.address=="string"&&(D=Ct.fromString(_.address)),D.equals(b)){M=!0;break}}M||c.push({address:g})}function h(g){let b=!1;for(const M of c)if(M.assetIndex===g){b=!0;break}b||c.push({assetIndex:g})}function f(g){let b=!1;for(const M of c)if(M.appIndex===g){b=!0;break}b||c.push({appIndex:g})}for(const g of e??[])u(g);for(const g of t??[])h(g);for(const g of r??[])f(g);for(const g of a??[])g.address&&u(g.address),h(g.assetIndex),c.push({holding:g});for(const g of n??[])g.address&&u(g.address),g.appIndex&&BigInt(g.appIndex)!==i&&f(g.appIndex),c.push({locals:g});for(const g of s??[])g.appIndex&&BigInt(g.appIndex)!==i&&f(g.appIndex),c.push({box:g});return c}var Yt;(function(i){i.pay="pay",i.keyreg="keyreg",i.acfg="acfg",i.axfer="axfer",i.afrz="afrz",i.appl="appl",i.stpf="stpf",i.hb="hb"})(Yt||(Yt={}));function J0(i){return i===Yt.pay||i===Yt.keyreg||i===Yt.acfg||i===Yt.axfer||i===Yt.afrz||i===Yt.appl||i===Yt.stpf||i===Yt.hb}var _r;(function(i){i[i.NoOpOC=0]="NoOpOC",i[i.OptInOC=1]="OptInOC",i[i.CloseOutOC=2]="CloseOutOC",i[i.ClearStateOC=3]="ClearStateOC",i[i.UpdateApplicationOC=4]="UpdateApplicationOC",i[i.DeleteApplicationOC=5]="DeleteApplicationOC"})(_r||(_r={}));function M3(i){return i===_r.NoOpOC||i===_r.OptInOC||i===_r.CloseOutOC||i===_r.ClearStateOC||i===_r.UpdateApplicationOC||i===_r.DeleteApplicationOC}let Xf=class Y0{constructor(e){this.hashType=e.hashType}getEncodingSchema(){return Y0.encodingSchema}toEncodingData(){return new Map([["t",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Y0({hashType:Number(e.get("t"))})}};Xf.encodingSchema=new Fe(It([{key:"t",valueSchema:new ue}]));let ci=class X0{constructor(e){this.path=e.path,this.hashFactory=e.hashFactory,this.treeDepth=e.treeDepth}getEncodingSchema(){return X0.encodingSchema}toEncodingData(){return new Map([["pth",this.path],["hsh",this.hashFactory.toEncodingData()],["td",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new X0({path:e.get("pth"),hashFactory:Xf.fromEncodingData(e.get("hsh")),treeDepth:Number(e.get("td"))})}};ci.encodingSchema=new Fe(It([{key:"pth",valueSchema:new tt(new ot)},{key:"hsh",valueSchema:Xf.encodingSchema},{key:"td",valueSchema:new ue}]));class ji{constructor(e){this.commitment=e.commitment,this.keyLifetime=e.keyLifetime}getEncodingSchema(){return ji.encodingSchema}toEncodingData(){return new Map([["cmt",this.commitment],["lf",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleSignatureVerifier: ${e}`);return new ji({commitment:e.get("cmt"),keyLifetime:e.get("lf")})}}ji.encodingSchema=new Fe(It([{key:"cmt",valueSchema:new ir(64)},{key:"lf",valueSchema:new ue}]));class Wi{constructor(e){this.pk=e.pk,this.weight=e.weight}getEncodingSchema(){return Wi.encodingSchema}toEncodingData(){return new Map([["p",this.pk.toEncodingData()],["w",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Participant: ${e}`);return new Wi({pk:ji.fromEncodingData(e.get("p")),weight:e.get("w")})}}Wi.encodingSchema=new Fe(It([{key:"p",valueSchema:ji.encodingSchema},{key:"w",valueSchema:new ue}]));class Hi{constructor(e){this.publicKey=e.publicKey}getEncodingSchema(){return Hi.encodingSchema}toEncodingData(){return new Map([["k",this.publicKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconVerifier: ${e}`);return new Hi({publicKey:e.get("k")})}}Hi.encodingSchema=new Fe(It([{key:"k",valueSchema:new ir(1793)}]));class Gi{constructor(e){this.signature=e.signature,this.vectorCommitmentIndex=e.index,this.proof=e.proof,this.verifyingKey=e.verifyingKey}getEncodingSchema(){return Gi.encodingSchema}toEncodingData(){return new Map([["sig",this.signature],["idx",this.vectorCommitmentIndex],["prf",this.proof.toEncodingData()],["vkey",this.verifyingKey.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded FalconSignatureStruct: ${e}`);return new Gi({signature:e.get("sig"),index:e.get("idx"),proof:ci.fromEncodingData(e.get("prf")),verifyingKey:Hi.fromEncodingData(e.get("vkey"))})}}Gi.encodingSchema=new Fe(It([{key:"sig",valueSchema:new ot},{key:"idx",valueSchema:new ue},{key:"prf",valueSchema:ci.encodingSchema},{key:"vkey",valueSchema:Hi.encodingSchema}]));class Ki{constructor(e){this.sig=e.sig,this.l=e.l}getEncodingSchema(){return Ki.encodingSchema}toEncodingData(){return new Map([["s",this.sig.toEncodingData()],["l",this.l]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SigslotCommit: ${e}`);return new Ki({sig:Gi.fromEncodingData(e.get("s")),l:e.get("l")})}}Ki.encodingSchema=new Fe(It([{key:"s",valueSchema:Gi.encodingSchema},{key:"l",valueSchema:new ue}]));class Ji{constructor(e){this.sigslot=e.sigslot,this.participant=e.participant}getEncodingSchema(){return Ji.encodingSchema}toEncodingData(){return new Map([["s",this.sigslot.toEncodingData()],["p",this.participant.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Reveal: ${e}`);return new Ji({sigslot:Ki.fromEncodingData(e.get("s")),participant:Wi.fromEncodingData(e.get("p"))})}}Ji.encodingSchema=new Fe(It([{key:"s",valueSchema:Ki.encodingSchema},{key:"p",valueSchema:Wi.encodingSchema}]));let Zf=class Z0{constructor(e){this.sigCommit=e.sigCommit,this.signedWeight=e.signedWeight,this.sigProofs=e.sigProofs,this.partProofs=e.partProofs,this.merkleSignatureSaltVersion=e.merkleSignatureSaltVersion,this.reveals=e.reveals,this.positionsToReveal=e.positionsToReveal}getEncodingSchema(){return Z0.encodingSchema}toEncodingData(){return new Map([["c",this.sigCommit],["w",this.signedWeight],["S",this.sigProofs.toEncodingData()],["P",this.partProofs.toEncodingData()],["v",this.merkleSignatureSaltVersion],["r",lr(this.reveals,(e,t)=>[e,t.toEncodingData()])],["pr",this.positionsToReveal]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new Z0({sigCommit:e.get("c"),signedWeight:e.get("w"),sigProofs:ci.fromEncodingData(e.get("S")),partProofs:ci.fromEncodingData(e.get("P")),merkleSignatureSaltVersion:Number(e.get("v")),reveals:lr(e.get("r"),(t,r)=>[t,Ji.fromEncodingData(r)]),positionsToReveal:e.get("pr")})}};Zf.encodingSchema=new Fe(It([{key:"c",valueSchema:new ot},{key:"w",valueSchema:new ue},{key:"S",valueSchema:ci.encodingSchema},{key:"P",valueSchema:ci.encodingSchema},{key:"v",valueSchema:new ue},{key:"r",valueSchema:new Yf(Ji.encodingSchema)},{key:"pr",valueSchema:new tt(new ue)}]));let Qf=class pf{constructor(e){this.blockHeadersCommitment=e.blockHeadersCommitment,this.votersCommitment=e.votersCommitment,this.lnProvenWeight=e.lnProvenWeight,this.firstAttestedRound=e.firstAttestedRound,this.lastAttestedRound=e.lastAttestedRound}getEncodingSchema(){return pf.encodingSchema}toEncodingData(){return new Map([["b",this.blockHeadersCommitment],["v",this.votersCommitment],["P",this.lnProvenWeight],["f",this.firstAttestedRound],["l",this.lastAttestedRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new pf({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}static fromMap(e){return new pf({blockHeadersCommitment:e.get("b"),votersCommitment:e.get("v"),lnProvenWeight:e.get("P"),firstAttestedRound:e.get("f"),lastAttestedRound:e.get("l")})}};Qf.encodingSchema=new Fe(It([{key:"b",valueSchema:new ot},{key:"v",valueSchema:new ot},{key:"P",valueSchema:new ue},{key:"f",valueSchema:new ue},{key:"l",valueSchema:new ue}]));class Ga{constructor(e){this.sig=e.sig,this.pk=e.pk,this.pk2=e.pk2,this.pk1Sig=e.pk1Sig,this.pk2Sig=e.pk2Sig}getEncodingSchema(){return Ga.encodingSchema}toEncodingData(){return new Map([["s",this.sig],["p",this.pk],["p2",this.pk2],["p1s",this.pk1Sig],["p2s",this.pk2Sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HeartbeatProof: ${e}`);return new Ga({sig:e.get("s"),pk:e.get("p"),pk2:e.get("p2"),pk1Sig:e.get("p1s"),pk2Sig:e.get("p2s")})}}Ga.encodingSchema=new Fe(It([{key:"s",valueSchema:new ir(64)},{key:"p",valueSchema:new ir(32)},{key:"p2",valueSchema:new ir(32)},{key:"p1s",valueSchema:new ir(64)},{key:"p2s",valueSchema:new ir(64)}]));class si{constructor(e){this.address=e.address,this.proof=e.proof,this.seed=e.seed,this.voteID=e.voteID,this.keyDilution=e.keyDilution}getEncodingSchema(){return si.encodingSchema}toEncodingData(){return new Map([["a",this.address],["prf",this.proof.toEncodingData()],["sd",this.seed],["vid",this.voteID],["kd",this.keyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Heartbeat: ${e}`);return new si({address:e.get("a"),proof:Ga.fromEncodingData(e.get("prf")),seed:e.get("sd"),voteID:e.get("vid"),keyDilution:e.get("kd")})}}si.encodingSchema=new Fe(It([{key:"a",valueSchema:new Qt},{key:"prf",valueSchema:Ga.encodingSchema},{key:"sd",valueSchema:new ot},{key:"vid",valueSchema:new ir(32)},{key:"kd",valueSchema:new ue}]));const g5=52,m5=32,v5=75,y5=32,w5=32,b5=32,x5=64,S5=32;function _3(i){return i.every(e=>e===0)}function Zd(i,e,t){if(i==null)return;let r;if(i instanceof Uint8Array&&(r=i),r==null||r.byteLength!==t)throw Error(`${e} must be a ${t} byte Uint8Array`);return r}function On(i){if(i==null)throw new Error("Address must not be null or undefined");if(typeof i=="string")return Ct.fromString(i);if(i instanceof Ct)return i;throw new Error(`Not an address: ${i}`)}function ei(i){if(i==null)return;let e;if(i instanceof Ct)e=i;else if(typeof i=="string")e=Ct.fromString(i);else throw new Error(`Not an address: ${i}`);if(_3(e.publicKey))throw new Error("Invalid use of the zero address. To omit this value, pass in undefined");return e}function A3(i){if(!(typeof i>"u")){if(i instanceof Uint8Array)return i;throw new Error(`Not a Uint8Array: ${i}`)}}function Ti(i){if(i instanceof Uint8Array)return i;throw new Error(`Not a Uint8Array: ${i}`)}function Qd(i){if(!(typeof i>"u"))return tr(i)}function Jc(i){if(i===!0||i===!1)return i;throw new Error(`Not a boolean: ${i}`)}function Ba(i){if(Array.isArray(i))return i.slice();throw new Error(`Not an array: ${i}`)}function yw(i,e,t){const r=A3(i);if(!(typeof r>"u")){if(r.byteLength!==e)throw new Error(`${t} must be ${e} bytes long, was ${r.byteLength}`);if(!_3(r))return r}}function k3(i){if(i!=null&&typeof i=="object"){const{appIndex:e,name:t}=i;return{appIndex:tr(e),name:Ti(t)}}throw new Error(`Not a box reference: ${i}`)}function E5(i){if(i!=null&&typeof i=="object"){const{assetIndex:e,address:t}=i;return{assetIndex:tr(e),address:On(t)}}throw new Error(`Not a holding reference: ${i}`)}function M5(i){if(i!=null&&typeof i=="object"){const{appIndex:e,address:t}=i;return{appIndex:tr(e),address:On(t)}}throw new Error(`Not a locals reference: ${i}`)}function _5(i){if(i!=null&&typeof i=="object"){const{address:e,appIndex:t,assetIndex:r,holding:a,locals:n,box:s}=i;if(e!==void 0)return{address:On(e)};if(t!==void 0)return{appIndex:tr(t)};if(r!==void 0)return{assetIndex:tr(r)};if(a!==void 0)return{holding:E5(a)};if(n!==void 0)return{locals:M5(n)};if(s!==void 0)return{box:k3(s)}}throw new Error(`Not a resource reference: ${i}`)}const ww=new TextEncoder().encode("TX");let Qr=class gf{constructor(e){if(!J0(e.type))throw new Error(`Invalid transaction type: ${e.type}`);if(this.type=e.type,this.sender=On(e.sender),this.note=Ti(e.note??new Uint8Array),this.lease=yw(e.lease,m5,"lease"),this.rekeyTo=ei(e.rekeyTo),this.group=void 0,this.firstValid=tr(e.suggestedParams.firstValid),this.lastValid=tr(e.suggestedParams.lastValid),e.suggestedParams.genesisID){if(typeof e.suggestedParams.genesisID!="string")throw new Error("Genesis ID must be a string if present");this.genesisID=e.suggestedParams.genesisID}this.genesisHash=A3(e.suggestedParams.genesisHash);const t=[];if(e.paymentParams&&t.push(Yt.pay),e.keyregParams&&t.push(Yt.keyreg),e.assetConfigParams&&t.push(Yt.acfg),e.assetTransferParams&&t.push(Yt.axfer),e.assetFreezeParams&&t.push(Yt.afrz),e.appCallParams&&t.push(Yt.appl),e.stateProofParams&&t.push(Yt.stpf),e.heartbeatParams&&t.push(Yt.hb),t.length!==1)throw new Error(`Transaction has wrong number of type fields present (${t.length}): ${t}`);if(this.type!==t[0])throw new Error(`Transaction has type ${this.type} but fields present for ${t[0]}`);if(e.paymentParams&&(this.payment={receiver:On(e.paymentParams.receiver),amount:tr(e.paymentParams.amount),closeRemainderTo:ei(e.paymentParams.closeRemainderTo)}),e.keyregParams){if(this.keyreg={voteKey:Zd(e.keyregParams.voteKey,"voteKey",w5),selectionKey:Zd(e.keyregParams.selectionKey,"selectionKey",b5),stateProofKey:Zd(e.keyregParams.stateProofKey,"stateProofKey",x5),voteFirst:Qd(e.keyregParams.voteFirst),voteLast:Qd(e.keyregParams.voteLast),voteKeyDilution:Qd(e.keyregParams.voteKeyDilution),nonParticipation:Jc(e.keyregParams.nonParticipation??!1)},this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u"))throw new Error("nonParticipation is true but participation params are present.");if(!this.keyreg.nonParticipation&&(this.keyreg.voteKey||this.keyreg.selectionKey||this.keyreg.stateProofKey||typeof this.keyreg.voteFirst<"u"||typeof this.keyreg.voteLast<"u"||typeof this.keyreg.voteKeyDilution<"u")&&!(this.keyreg.voteKey&&this.keyreg.selectionKey&&typeof this.keyreg.voteFirst<"u"&&typeof this.keyreg.voteLast<"u"&&typeof this.keyreg.voteKeyDilution<"u"))throw new Error("Online key registration missing at least one of the following fields: voteKey, selectionKey, voteFirst, voteLast, voteKeyDilution")}if(e.assetConfigParams&&(this.assetConfig={assetIndex:tr(e.assetConfigParams.assetIndex??0),total:tr(e.assetConfigParams.total??0),decimals:Er(e.assetConfigParams.decimals??0),defaultFrozen:Jc(e.assetConfigParams.defaultFrozen??!1),manager:ei(e.assetConfigParams.manager),reserve:ei(e.assetConfigParams.reserve),freeze:ei(e.assetConfigParams.freeze),clawback:ei(e.assetConfigParams.clawback),unitName:e.assetConfigParams.unitName,assetName:e.assetConfigParams.assetName,assetURL:e.assetConfigParams.assetURL,assetMetadataHash:yw(e.assetConfigParams.assetMetadataHash,y5,"assetMetadataHash")}),e.assetTransferParams&&(this.assetTransfer={assetIndex:tr(e.assetTransferParams.assetIndex),amount:tr(e.assetTransferParams.amount),assetSender:ei(e.assetTransferParams.assetSender),receiver:On(e.assetTransferParams.receiver),closeRemainderTo:ei(e.assetTransferParams.closeRemainderTo)}),e.assetFreezeParams&&(this.assetFreeze={assetIndex:tr(e.assetFreezeParams.assetIndex),freezeAccount:On(e.assetFreezeParams.freezeTarget),frozen:Jc(e.assetFreezeParams.frozen)}),e.appCallParams){const{onComplete:a}=e.appCallParams;if(!M3(a))throw new Error(`Invalid onCompletion value: ${a}`);this.applicationCall={appIndex:tr(e.appCallParams.appIndex),onComplete:a,numLocalInts:Er(e.appCallParams.numLocalInts??0),numLocalByteSlices:Er(e.appCallParams.numLocalByteSlices??0),numGlobalInts:Er(e.appCallParams.numGlobalInts??0),numGlobalByteSlices:Er(e.appCallParams.numGlobalByteSlices??0),extraPages:Er(e.appCallParams.extraPages??0),approvalProgram:Ti(e.appCallParams.approvalProgram??new Uint8Array),clearProgram:Ti(e.appCallParams.clearProgram??new Uint8Array),appArgs:Ba(e.appCallParams.appArgs??[]).map(Ti),accounts:Ba(e.appCallParams.accounts??[]).map(On),foreignApps:Ba(e.appCallParams.foreignApps??[]).map(tr),foreignAssets:Ba(e.appCallParams.foreignAssets??[]).map(tr),boxes:Ba(e.appCallParams.boxes??[]).map(k3),access:Ba(e.appCallParams.access??[]).map(_5),rejectVersion:Er(e.appCallParams.rejectVersion??0)}}if(e.stateProofParams&&(this.stateProof={stateProofType:Er(e.stateProofParams.stateProofType??0),stateProof:e.stateProofParams.stateProof,message:e.stateProofParams.message}),e.heartbeatParams&&(this.heartbeat=new si({address:e.heartbeatParams.address,proof:e.heartbeatParams.proof,seed:e.heartbeatParams.seed,voteID:e.heartbeatParams.voteID,keyDilution:e.heartbeatParams.keyDilution})),this.fee=tr(e.suggestedParams.fee),!Jc(e.suggestedParams.flatFee??!1)){const a=tr(e.suggestedParams.minFee);this.fee*=BigInt(this.estimateSize()),this.fee<a&&(this.fee=a)}}getEncodingSchema(){return gf.encodingSchema}toEncodingData(){const e=new Map([["type",this.type],["fv",this.firstValid],["lv",this.lastValid],["snd",this.sender],["gen",this.genesisID],["gh",this.genesisHash],["fee",this.fee],["note",this.note],["lx",this.lease],["rekey",this.rekeyTo],["grp",this.group]]);if(this.payment)return e.set("amt",this.payment.amount),e.set("rcv",this.payment.receiver),e.set("close",this.payment.closeRemainderTo),e;if(this.keyreg)return e.set("votekey",this.keyreg.voteKey),e.set("selkey",this.keyreg.selectionKey),e.set("sprfkey",this.keyreg.stateProofKey),e.set("votefst",this.keyreg.voteFirst),e.set("votelst",this.keyreg.voteLast),e.set("votekd",this.keyreg.voteKeyDilution),e.set("nonpart",this.keyreg.nonParticipation),e;if(this.assetConfig){e.set("caid",this.assetConfig.assetIndex);const t=new Map([["t",this.assetConfig.total],["dc",this.assetConfig.decimals],["df",this.assetConfig.defaultFrozen],["m",this.assetConfig.manager],["r",this.assetConfig.reserve],["f",this.assetConfig.freeze],["c",this.assetConfig.clawback],["un",this.assetConfig.unitName],["an",this.assetConfig.assetName],["au",this.assetConfig.assetURL],["am",this.assetConfig.assetMetadataHash]]);return e.set("apar",t),e}if(this.assetTransfer)return e.set("xaid",this.assetTransfer.assetIndex),e.set("aamt",this.assetTransfer.amount),e.set("arcv",this.assetTransfer.receiver),e.set("aclose",this.assetTransfer.closeRemainderTo),e.set("asnd",this.assetTransfer.assetSender),e;if(this.assetFreeze)return e.set("faid",this.assetFreeze.assetIndex),e.set("afrz",this.assetFreeze.frozen),e.set("fadd",this.assetFreeze.freezeAccount),e;if(this.applicationCall)return e.set("apid",this.applicationCall.appIndex),e.set("apan",this.applicationCall.onComplete),e.set("apaa",this.applicationCall.appArgs),e.set("apat",this.applicationCall.accounts),e.set("apas",this.applicationCall.foreignAssets),e.set("apfa",this.applicationCall.foreignApps),e.set("apbx",u5(this.applicationCall.boxes,this.applicationCall.foreignApps,this.applicationCall.appIndex)),e.set("al",l5(this.applicationCall.appIndex,this.applicationCall.access)),e.set("apap",this.applicationCall.approvalProgram),e.set("apsu",this.applicationCall.clearProgram),e.set("apls",new Map([["nui",this.applicationCall.numLocalInts],["nbs",this.applicationCall.numLocalByteSlices]])),e.set("apgs",new Map([["nui",this.applicationCall.numGlobalInts],["nbs",this.applicationCall.numGlobalByteSlices]])),e.set("apep",this.applicationCall.extraPages),e.set("aprv",this.applicationCall.rejectVersion),e;if(this.stateProof)return e.set("sptype",this.stateProof.stateProofType),e.set("sp",this.stateProof.stateProof?this.stateProof.stateProof.toEncodingData():void 0),e.set("spmsg",this.stateProof.message?this.stateProof.message.toEncodingData():void 0),e;if(this.heartbeat){const t=new si({address:this.heartbeat.address,proof:this.heartbeat.proof,seed:this.heartbeat.seed,voteID:this.heartbeat.voteID,keyDilution:this.heartbeat.keyDilution});return e.set("hb",t.toEncodingData()),e}throw new Error(`Unexpected transaction type: ${this.type}`)}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t={minFee:BigInt(0),flatFee:!0,fee:e.get("fee")??0,firstValid:e.get("fv")??0,lastValid:e.get("lv")??0,genesisHash:e.get("gh"),genesisID:e.get("gen")},r=e.get("type");if(!J0(r))throw new Error(`Unrecognized transaction type: ${r}`);const a={type:r,sender:e.get("snd")??Ct.zeroAddress(),note:e.get("note"),lease:e.get("lx"),suggestedParams:t};if(e.get("rekey")&&(a.rekeyTo=e.get("rekey")),a.type===Yt.pay){const s={amount:e.get("amt")??0,receiver:e.get("rcv")??Ct.zeroAddress()};e.get("close")&&(s.closeRemainderTo=e.get("close")),a.paymentParams=s}else if(a.type===Yt.keyreg){const s={voteKey:e.get("votekey"),selectionKey:e.get("selkey"),stateProofKey:e.get("sprfkey"),voteFirst:e.get("votefst"),voteLast:e.get("votelst"),voteKeyDilution:e.get("votekd"),nonParticipation:e.get("nonpart")};a.keyregParams=s}else if(a.type===Yt.acfg){const s={assetIndex:e.get("caid")};if(e.get("apar")){const c=e.get("apar");s.total=c.get("t"),s.decimals=c.get("dc"),s.defaultFrozen=c.get("df"),s.unitName=c.get("un"),s.assetName=c.get("an"),s.assetURL=c.get("au"),s.assetMetadataHash=c.get("am"),c.get("m")&&(s.manager=c.get("m")),c.get("r")&&(s.reserve=c.get("r")),c.get("f")&&(s.freeze=c.get("f")),c.get("c")&&(s.clawback=c.get("c"))}a.assetConfigParams=s}else if(a.type===Yt.axfer){const s={assetIndex:e.get("xaid")??0,amount:e.get("aamt")??0,receiver:e.get("arcv")??Ct.zeroAddress()};e.get("aclose")&&(s.closeRemainderTo=e.get("aclose")),e.get("asnd")&&(s.assetSender=e.get("asnd")),a.assetTransferParams=s}else if(a.type===Yt.afrz){const s={assetIndex:e.get("faid")??0,freezeTarget:e.get("fadd")??Ct.zeroAddress(),frozen:e.get("afrz")??!1};a.assetFreezeParams=s}else if(a.type===Yt.appl){const s={appIndex:e.get("apid")??0,onComplete:Er(e.get("apan")??0),appArgs:e.get("apaa"),accounts:e.get("apat"),foreignAssets:e.get("apas"),foreignApps:e.get("apfa"),approvalProgram:e.get("apap"),clearProgram:e.get("apsu"),extraPages:e.get("apep"),rejectVersion:e.get("aprv")??0},c=e.get("apls");c&&(s.numLocalInts=c.get("nui"),s.numLocalByteSlices=c.get("nbs"));const u=e.get("apgs");u&&(s.numGlobalInts=u.get("nui"),s.numGlobalByteSlices=u.get("nbs"));const h=e.get("apbx");h&&(s.boxes=h.map(g=>{const b=Er(g.get("i")??0),M=Ti(g.get("n")??new Uint8Array);if(b===0)return{appIndex:0,name:M};if(!s.foreignApps||b>s.foreignApps.length)throw new Error(`Cannot find foreign app index ${b} in ${s.foreignApps}`);return{appIndex:s.foreignApps[b-1],name:M}}));const f=e.get("al");f&&(s.access=d5(f)),a.appCallParams=s}else if(a.type===Yt.stpf){const s={stateProofType:e.get("sptype"),stateProof:e.get("sp")?Zf.fromEncodingData(e.get("sp")):void 0,message:e.get("spmsg")?Qf.fromEncodingData(e.get("spmsg")):void 0};a.stateProofParams=s}else if(a.type===Yt.hb){const s=si.fromEncodingData(e.get("hb")),c={address:s.address,proof:s.proof,seed:s.seed,voteID:s.voteID,keyDilution:s.keyDilution};a.heartbeatParams=c}else{const s=a.type;throw new Error(`Unexpected transaction type: ${s}`)}const n=new gf(a);if(e.get("grp")){const s=Ti(e.get("grp"));if(s.byteLength!==S5)throw new Error(`Invalid group length: ${s.byteLength}`);n.group=s}return n}estimateSize(){return this.toByte().length+v5}bytesToSign(){const e=this.toByte();return dr(ww,e)}toByte(){return Zr(this)}rawSignTxn(e){const t=this.bytesToSign();return Ts(t,e)}signTxn(e){const t=Hf(e),r=new Ct(t.publicKey),a=this.rawSignTxn(e);return this.attachSignature(r,a)}attachSignature(e,t){if(!c3(t.length))throw new Error("Invalid signature length");const r=new Map([["sig",t],["txn",this.toEncodingData()]]),a=On(e);this.sender.equals(a)||r.set("sgnr",a);const n=new Fe(It([{key:"txn",valueSchema:gf.encodingSchema},{key:"sig",valueSchema:new ir(64)},{key:"sgnr",valueSchema:new Z(new Qt)}]));return Mc(n.prepareMsgpack(r))}rawTxID(){const e=this.toByte(),t=dr(ww,e);return Uint8Array.from(Wn(t))}txID(){const e=this.rawTxID();return Bs.encode(e).slice(0,g5)}};Qr.encodingSchema=new Fe(It([{key:"type",valueSchema:new ze},{key:"snd",valueSchema:new Qt},{key:"lv",valueSchema:new ue},{key:"gen",valueSchema:new Z(new ze)},{key:"gh",valueSchema:new Z(new ir(32))},{key:"fee",valueSchema:new ue},{key:"fv",valueSchema:new ue},{key:"note",valueSchema:new ot},{key:"lx",valueSchema:new Z(new ir(32))},{key:"rekey",valueSchema:new Z(new Qt)},{key:"grp",valueSchema:new Z(new ir(32))},{key:"amt",valueSchema:new Z(new ue)},{key:"rcv",valueSchema:new Z(new Qt)},{key:"close",valueSchema:new Z(new Qt)},{key:"votekey",valueSchema:new Z(new ir(32))},{key:"selkey",valueSchema:new Z(new ir(32))},{key:"sprfkey",valueSchema:new Z(new ir(64))},{key:"votefst",valueSchema:new Z(new ue)},{key:"votelst",valueSchema:new Z(new ue)},{key:"votekd",valueSchema:new Z(new ue)},{key:"nonpart",valueSchema:new Z(new qt)},{key:"caid",valueSchema:new Z(new ue)},{key:"apar",valueSchema:new Z(new Fe(It([{key:"t",valueSchema:new ue},{key:"dc",valueSchema:new ue},{key:"df",valueSchema:new qt},{key:"m",valueSchema:new Z(new Qt)},{key:"r",valueSchema:new Z(new Qt)},{key:"f",valueSchema:new Z(new Qt)},{key:"c",valueSchema:new Z(new Qt)},{key:"un",valueSchema:new Z(new ze)},{key:"an",valueSchema:new Z(new ze)},{key:"au",valueSchema:new Z(new ze)},{key:"am",valueSchema:new Z(new ir(32))}])))},{key:"xaid",valueSchema:new Z(new ue)},{key:"aamt",valueSchema:new Z(new ue)},{key:"arcv",valueSchema:new Z(new Qt)},{key:"aclose",valueSchema:new Z(new Qt)},{key:"asnd",valueSchema:new Z(new Qt)},{key:"faid",valueSchema:new Z(new ue)},{key:"afrz",valueSchema:new Z(new qt)},{key:"fadd",valueSchema:new Z(new Qt)},{key:"apid",valueSchema:new Z(new ue)},{key:"apan",valueSchema:new Z(new ue)},{key:"apaa",valueSchema:new Z(new tt(new ot))},{key:"apat",valueSchema:new Z(new tt(new Qt))},{key:"apas",valueSchema:new Z(new tt(new ue))},{key:"apfa",valueSchema:new Z(new tt(new ue))},{key:"apbx",valueSchema:new Z(new tt(new Fe(It([{key:"i",valueSchema:new ue},{key:"n",valueSchema:new ot}]))))},{key:"al",valueSchema:new Z(new tt(new Fe(It([{key:"d",valueSchema:new Z(new Qt)},{key:"s",valueSchema:new Z(new ue)},{key:"p",valueSchema:new Z(new ue)},{key:"h",valueSchema:new Z(new Fe(It([{key:"d",valueSchema:new ue},{key:"s",valueSchema:new ue}])))},{key:"l",valueSchema:new Z(new Fe(It([{key:"d",valueSchema:new ue},{key:"p",valueSchema:new ue}])))},{key:"b",valueSchema:new Z(new Fe(It([{key:"i",valueSchema:new ue},{key:"n",valueSchema:new ot}])))}]))))},{key:"apap",valueSchema:new Z(new ot)},{key:"apsu",valueSchema:new Z(new ot)},{key:"apls",valueSchema:new Z(new Fe(It([{key:"nui",valueSchema:new ue},{key:"nbs",valueSchema:new ue}])))},{key:"apgs",valueSchema:new Z(new Fe(It([{key:"nui",valueSchema:new ue},{key:"nbs",valueSchema:new ue}])))},{key:"apep",valueSchema:new Z(new ue)},{key:"aprv",valueSchema:new Z(new ue)},{key:"sptype",valueSchema:new Z(new ue)},{key:"sp",valueSchema:new Z(Zf.encodingSchema)},{key:"spmsg",valueSchema:new Z(Qf.encodingSchema)},{key:"hb",valueSchema:new Z(si.encodingSchema)}]));function I3(i){return Zr(i)}function A5(i){return fr(i,Qr)}const vs=new Uint8Array([77,117,108,116,105,115,105,103,65,100,100,114]),k5="invalid multisig version",I5="bad multisig threshold",D5="bad multisig public key - wrong length",R5="nacl public key length is not 32 bytes";function ss(i){return i.map(e=>typeof e=="string"?Ct.fromString(e).publicKey:e.publicKey)}function Hn({version:i,threshold:e,pks:t}){if(i!==1||i>255||i<0)throw new Error(k5);if(e===0||t.length===0||e>t.length||e>255)throw new Error(I5);const r=Ri-Is;if(r!==h3)throw new Error(R5);const a=new Uint8Array(vs.length+2+r*t.length);a.set(vs,0),a.set([i],vs.length),a.set([e],vs.length+1);for(let n=0;n<t.length;n++){if(t[n].length!==r)throw new Error(D5);a.set(t[n],vs.length+2+n*r)}return new Ct(Uint8Array.from(Wn(a)))}function T5({version:i,threshold:e,addrs:t}){const r=ss(t);return Hn({version:i,threshold:e,pks:r})}function Q0(i,e,t){const r=e.v,a=e.thr,n=e.subsig,s=n.map(f=>f.pk);if(e.subsig.length<a)return!1;let c;try{c=Hn({version:r,threshold:a,pks:s}).publicKey}catch{return!1}if(!_n(c,t))return!1;let u=0;for(const f of n)f.s!==void 0&&(u+=1);if(u<a)return!1;let h=0;for(const f of n)f.s!==void 0&&Gf(i,f.s,f.pk)&&(h+=1);return!(h<a)}function B5({version:i,threshold:e,addrs:t}){return T5({version:i,threshold:e,addrs:t})}const D3=new Fe(It([{key:"pk",valueSchema:new ir(32)},{key:"s",valueSchema:new Z(new ir(64))}]));function R3(i){if(!(i instanceof Map))throw new Error(`Invalid decoded EncodedSubsig: ${i}`);const e={pk:i.get("pk")};return i.get("s")&&(e.s=i.get("s")),e}function T3(i){const e=new Map([["pk",i.pk]]);return i.s&&e.set("s",i.s),e}const xf=new Fe(It([{key:"v",valueSchema:new ue},{key:"thr",valueSchema:new ue},{key:"subsig",valueSchema:new tt(D3)}]));function Sf(i){if(!(i instanceof Map))throw new Error(`Invalid decoded EncodedMultiSig: ${i}`);return{v:Er(i.get("v")),thr:Er(i.get("thr")),subsig:i.get("subsig").map(R3)}}function Ef(i){return new Map([["v",i.v],["thr",i.thr],["subsig",i.subsig.map(T3)]])}const F5=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/;function bw(i){if(!i||i.length===0)throw new Error("empty program");const e=10,t=32,r=126,a=s=>t<=s&&s<=r;if(i.every(s=>s===e||a(s))){const s=new TextDecoder().decode(i);throw Dg(s)?new Error("requesting program bytes, get Algorand address"):F5.test(s)?new Error("program should not be b64 encoded"):new Error("program bytes are all ASCII printable characters, not looking like Teal byte code")}}const e0=new TextEncoder().encode("Program"),xw=new TextEncoder().encode("MsigProgram");class Ur{constructor(e,t){if(t&&(!Array.isArray(t)||!t.every(a=>a.constructor===Uint8Array)))throw new TypeError("Invalid arguments");let r=[];t!=null&&(r=t.map(a=>new Uint8Array(a))),bw(e),this.logic=e,this.args=r,this.sig=void 0,this.msig=void 0,this.lmsig=void 0}getEncodingSchema(){return Ur.encodingSchema}toEncodingData(){const e=new Map([["l",this.logic],["arg",this.args],["sig",this.sig]]);return this.msig&&e.set("msig",Ef(this.msig)),this.lmsig&&e.set("lmsig",Ef(this.lmsig)),e}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig: ${e}`);const t=new Ur(e.get("l"),e.get("arg"));return t.sig=e.get("sig"),e.get("msig")&&(t.msig=Sf(e.get("msig"))),e.get("lmsig")&&(t.lmsig=Sf(e.get("lmsig"))),t}verify(e){if([this.sig,this.msig,this.lmsig].filter(Boolean).length>1)return!1;try{bw(this.logic)}catch{return!1}const r=dr(e0,this.logic);if(!this.sig&&!this.msig&&!this.lmsig){const a=Wn(r);return _n(a,e)}if(this.sig)return Gf(r,this.sig,e);if(this.lmsig){const a=Hn({version:this.lmsig.v,threshold:this.lmsig.thr,pks:this.lmsig.subsig.map(s=>s.pk)}),n=dr(xw,a.publicKey,this.logic);return Q0(n,this.lmsig,e)}return this.msig?Q0(r,this.msig,e):!1}address(){const e=dr(e0,this.logic),t=Wn(e);return new Ct(Uint8Array.from(t))}sign(e,t){if(t==null)this.sig=this.signProgram(e);else{const r=ss(t.addrs).map(s=>({pk:s}));this.lmsig={v:t.version,thr:t.threshold,subsig:r};const[a,n]=this.singleSignMultisig(e,this.lmsig);this.lmsig.subsig[n].s=a}}appendToMultisig(e){if(this.lmsig===void 0)throw new Error("no multisig present");const[t,r]=this.singleSignMultisig(e,this.lmsig);this.lmsig.subsig[r].s=t}signProgram(e){const t=dr(e0,this.logic);return Ts(t,e)}signProgramMultisig(e,t){const r=Hn({version:t.v,threshold:t.thr,pks:t.subsig.map(s=>s.pk)}),a=dr(xw,r.publicKey,this.logic);return Ts(a,e)}singleSignMultisig(e,t){let r=-1;const a=Hf(e).publicKey;for(let s=0;s<t.subsig.length;s++){const{pk:c}=t.subsig[s];if(_n(c,a)){r=s;break}}if(r===-1)throw new Error("invalid secret key");return[this.signProgramMultisig(e,t),r]}toByte(){return Zr(this)}static fromByte(e){return fr(e,Ur)}}Ur.encodingSchema=new Fe(It([{key:"l",valueSchema:new ot},{key:"arg",valueSchema:new tt(new ot)},{key:"sig",valueSchema:new Z(new ir(64))},{key:"msig",valueSchema:new Z(xf)},{key:"lmsig",valueSchema:new Z(xf)}]));class $i{constructor(e,t){this.lsig=new Ur(e,t),this.sigkey=void 0}getEncodingSchema(){return $i.encodingSchema}toEncodingData(){return new Map([["lsig",this.lsig.toEncodingData()],["sigkey",this.sigkey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded logic sig account: ${e}`);const t=e,r=Ur.fromEncodingData(t.get("lsig")),a=new $i(r.logic,r.args);return a.lsig=r,a.sigkey=t.get("sigkey"),a}toByte(){return Zr(this)}static fromByte(e){return fr(e,$i)}isDelegated(){return!!(this.lsig.sig||this.lsig.msig||this.lsig.lmsig)}verify(){const e=this.address();return this.lsig.verify(e.publicKey)}address(){if([this.lsig.sig,this.lsig.msig,this.lsig.lmsig].filter(Boolean).length>1)throw new Error("LogicSig has too many signatures. At most one of sig, msig, or lmsig may be present");if(this.lsig.sig){if(!this.sigkey)throw new Error("Signing key for delegated account is missing");return new Ct(this.sigkey)}const t=this.lsig.lmsig||this.lsig.msig;if(t){const r={version:t.v,threshold:t.thr,pks:t.subsig.map(a=>a.pk)};return Hn(r)}return this.lsig.address()}signMultisig(e,t){this.lsig.sign(t,e)}appendToMultisig(e){this.lsig.appendToMultisig(e)}sign(e){this.lsig.sign(e),this.sigkey=Hf(e).publicKey}}$i.encodingSchema=new Fe(It([{key:"lsig",valueSchema:Ur.encodingSchema},{key:"sigkey",valueSchema:new Z(new ir(32))}]));function C5(i){return fr(i,Ur)}const B3=new TextEncoder().encode("ProgData");function F3(i,e,t){const r=typeof t=="string"?Ct.fromString(t):t,a=dr(r.publicKey,e),n=dr(B3,a);return Ts(n,i)}function P5(i,e,t,r){const a=typeof e=="string"?Ct.fromString(e):e,n=dr(a.publicKey,i),s=dr(B3,n);return Gf(s,t,r)}function N5(i,e,t){const a=new Ur(t).address();return F3(i,e,a)}class rr{constructor({txn:e,sig:t,msig:r,lsig:a,sgnr:n}){this.txn=e,this.sig=t,this.msig=r,this.lsig=a,this.sgnr=n;let s=0;if(t&&(s+=1),r&&(s+=1),a&&(s+=1),s>1)throw new Error(`SignedTransaction must not have more than 1 signature. Got ${s}`)}getEncodingSchema(){return rr.encodingSchema}toEncodingData(){return new Map([["txn",this.txn.toEncodingData()],["sig",this.sig],["msig",this.msig?Ef(this.msig):void 0],["lsig",this.lsig?this.lsig.toEncodingData():void 0],["sgnr",this.sgnr]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTransaction: ${e}`);return new rr({txn:Qr.fromEncodingData(e.get("txn")),sig:e.get("sig"),msig:e.get("msig")?Sf(e.get("msig")):void 0,lsig:e.get("lsig")?Ur.fromEncodingData(e.get("lsig")):void 0,sgnr:e.get("sgnr")})}}rr.encodingSchema=new Fe(It([{key:"txn",valueSchema:Qr.encodingSchema},{key:"sig",valueSchema:new Z(new ir(64))},{key:"msig",valueSchema:new Z(xf)},{key:"lsig",valueSchema:new Z(Ur.encodingSchema)},{key:"sgnr",valueSchema:new Z(new Qt)}]));function O5(i){return fr(i,rr)}function C3(i){const e=new rr({txn:i});return Zr(e)}class Yi{constructor(e){this.stateProofVotersCommitment=e.stateProofVotersCommitment,this.stateProofOnlineTotalWeight=e.stateProofOnlineTotalWeight,this.stateProofNextRound=e.stateProofNextRound}getEncodingSchema(){return Yi.encodingSchema}toEncodingData(){return new Map([["v",this.stateProofVotersCommitment],["t",this.stateProofOnlineTotalWeight],["n",this.stateProofNextRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTrackingData: ${e}`);return new Yi({stateProofVotersCommitment:e.get("v"),stateProofOnlineTotalWeight:e.get("t"),stateProofNextRound:e.get("n")})}}Yi.encodingSchema=new Fe(It([{key:"v",valueSchema:new ot},{key:"t",valueSchema:new ue},{key:"n",valueSchema:new ue}]));class Xi{constructor(e){this.nativeSha512_256Commitment=e.nativeSha512_256Commitment,this.sha256Commitment=e.sha256Commitment}getEncodingSchema(){return Xi.encodingSchema}toEncodingData(){return new Map([["txn",this.nativeSha512_256Commitment],["txn256",this.sha256Commitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TxnCommitments: ${e}`);return new Xi({nativeSha512_256Commitment:e.get("txn"),sha256Commitment:e.get("txn256")})}}Xi.encodingSchema=new Fe(It([{key:"txn",valueSchema:new ir(32)},{key:"txn256",valueSchema:new ir(32)}]));class Zi{constructor(e){this.feeSink=e.feeSink,this.rewardsPool=e.rewardsPool,this.rewardsLevel=e.rewardsLevel,this.rewardsRate=e.rewardsRate,this.rewardsResidue=e.rewardsResidue,this.rewardsRecalculationRound=e.rewardsRecalculationRound}getEncodingSchema(){return Zi.encodingSchema}toEncodingData(){return new Map([["fees",this.feeSink],["rwd",this.rewardsPool],["earn",this.rewardsLevel],["rate",this.rewardsRate],["frac",this.rewardsResidue],["rwcalr",this.rewardsRecalculationRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded RewardState: ${e}`);return new Zi({feeSink:e.get("fees"),rewardsPool:e.get("rwd"),rewardsLevel:e.get("earn"),rewardsRate:e.get("rate"),rewardsResidue:e.get("frac"),rewardsRecalculationRound:e.get("rwcalr")})}}Zi.encodingSchema=new Fe(It([{key:"fees",valueSchema:new Qt},{key:"rwd",valueSchema:new Qt},{key:"earn",valueSchema:new ue},{key:"rate",valueSchema:new ue},{key:"frac",valueSchema:new ue},{key:"rwcalr",valueSchema:new ue}]));class Qi{constructor(e){this.currentProtocol=e.currentProtocol,this.nextProtocol=e.nextProtocol,this.nextProtocolApprovals=e.nextProtocolApprovals,this.nextProtocolVoteBefore=e.nextProtocolVoteBefore,this.nextProtocolSwitchOn=e.nextProtocolSwitchOn}getEncodingSchema(){return Qi.encodingSchema}toEncodingData(){return new Map([["proto",this.currentProtocol],["nextproto",this.nextProtocol],["nextyes",this.nextProtocolApprovals],["nextbefore",this.nextProtocolVoteBefore],["nextswitch",this.nextProtocolSwitchOn]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeState: ${e}`);return new Qi({currentProtocol:e.get("proto"),nextProtocol:e.get("nextproto"),nextProtocolApprovals:e.get("nextyes"),nextProtocolVoteBefore:e.get("nextbefore"),nextProtocolSwitchOn:e.get("nextswitch")})}}Qi.encodingSchema=new Fe(It([{key:"proto",valueSchema:new ze},{key:"nextproto",valueSchema:new ze},{key:"nextyes",valueSchema:new ue},{key:"nextbefore",valueSchema:new ue},{key:"nextswitch",valueSchema:new ue}]));class ea{constructor(e){this.upgradePropose=e.upgradePropose,this.upgradeDelay=e.upgradeDelay,this.upgradeApprove=e.upgradeApprove}getEncodingSchema(){return ea.encodingSchema}toEncodingData(){return new Map([["upgradeprop",this.upgradePropose],["upgradedelay",this.upgradeDelay],["upgradeyes",this.upgradeApprove]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded UpgradeVote: ${e}`);return new ea({upgradePropose:e.get("upgradeprop"),upgradeDelay:e.get("upgradedelay"),upgradeApprove:e.get("upgradeyes")})}}ea.encodingSchema=new Fe(It([{key:"upgradeprop",valueSchema:new ze},{key:"upgradedelay",valueSchema:new ue},{key:"upgradeyes",valueSchema:new qt}]));let eh=class ep{constructor(e){this.expiredParticipationAccounts=e.expiredParticipationAccounts,this.absentParticipationAccounts=e.absentParticipationAccounts}getEncodingSchema(){return ep.encodingSchema}toEncodingData(){return new Map([["partupdrmv",this.expiredParticipationAccounts],["partupdabs",this.absentParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new ep({expiredParticipationAccounts:e.get("partupdrmv"),absentParticipationAccounts:e.get("partupdabs")})}};eh.encodingSchema=new Fe(It([{key:"partupdrmv",valueSchema:new tt(new Qt)},{key:"partupdabs",valueSchema:new tt(new Qt)}]));class Gn{constructor(e){this.round=e.round,this.branch=e.branch,this.seed=e.seed,this.txnCommitments=e.txnCommitments,this.timestamp=e.timestamp,this.genesisID=e.genesisID,this.genesisHash=e.genesisHash,this.proposer=e.proposer,this.feesCollected=e.feesCollected,this.bonus=e.bonus,this.proposerPayout=e.proposerPayout,this.rewardState=e.rewardState,this.upgradeState=e.upgradeState,this.upgradeVote=e.upgradeVote,this.txnCounter=e.txnCounter,this.stateproofTracking=e.stateproofTracking,this.participationUpdates=e.participationUpdates}getEncodingSchema(){return Gn.encodingSchema}toEncodingData(){const e=new Map([["rnd",this.round],["prev",this.branch],["seed",this.seed],["ts",this.timestamp],["gen",this.genesisID],["gh",this.genesisHash],["prp",this.proposer],["fc",this.feesCollected],["bi",this.bonus],["pp",this.proposerPayout],["tc",this.txnCounter],["spt",lr(this.stateproofTracking,(t,r)=>[t,r.toEncodingData()])]]);return os(e,this.txnCommitments.toEncodingData(),this.rewardState.toEncodingData(),this.upgradeState.toEncodingData(),this.upgradeVote.toEncodingData(),this.participationUpdates.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new Gn({round:e.get("rnd"),branch:e.get("prev"),seed:e.get("seed"),txnCommitments:Xi.fromEncodingData(e),timestamp:e.get("ts"),genesisID:e.get("gen"),genesisHash:e.get("gh"),proposer:e.get("prp"),feesCollected:e.get("fc"),bonus:e.get("bi"),proposerPayout:e.get("pp"),rewardState:Zi.fromEncodingData(e),upgradeState:Qi.fromEncodingData(e),upgradeVote:ea.fromEncodingData(e),txnCounter:e.get("tc"),stateproofTracking:lr(e.get("spt"),(t,r)=>[Number(t),Yi.fromEncodingData(r)]),participationUpdates:eh.fromEncodingData(e)})}}Gn.encodingSchema=new Fe(It([{key:"rnd",valueSchema:new ue},{key:"prev",valueSchema:new c5},{key:"seed",valueSchema:new ot},{key:"",valueSchema:Xi.encodingSchema,embedded:!0},{key:"ts",valueSchema:new ue},{key:"gen",valueSchema:new ze},{key:"gh",valueSchema:new ir(32)},{key:"prp",valueSchema:new Qt},{key:"fc",valueSchema:new ue},{key:"bi",valueSchema:new ue},{key:"pp",valueSchema:new ue},{key:"",valueSchema:Zi.encodingSchema,embedded:!0},{key:"",valueSchema:Qi.encodingSchema,embedded:!0},{key:"",valueSchema:ea.encodingSchema,embedded:!0},{key:"tc",valueSchema:new ue},{key:"spt",valueSchema:new Yf(Yi.encodingSchema)},{key:"",valueSchema:eh.encodingSchema,embedded:!0}]));class $n{constructor(e){this.action=e.action,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return $n.encodingSchema}toEncodingData(){return new Map([["at",this.action],["bs",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ValueDelta: ${e}`);return new $n({action:Number(e.get("at")),bytes:e.get("bs"),uint:e.get("ui")})}}$n.encodingSchema=new Fe(It([{key:"at",valueSchema:new ue},{key:"bs",valueSchema:new Va},{key:"ui",valueSchema:new ue}]));let tp=class rp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries(...It([{key:"gd",valueSchema:new Z(new Fs($n.encodingSchema))},{key:"ld",valueSchema:new Z(new Yf(new Fs($n.encodingSchema)))},{key:"sa",valueSchema:new Z(new tt(new Qt))},{key:"lg",valueSchema:new Z(new tt(new Va))},{key:"itx",valueSchema:new Z(new tt(fi.encodingSchema))}]))),this.encodingSchemaValue}constructor(e){this.globalDelta=e.globalDelta??new Map,this.localDeltas=e.localDeltas??new Map,this.sharedAccts=e.sharedAccts??[],this.logs=e.logs??[],this.innerTxns=e.innerTxns??[]}getEncodingSchema(){return rp.encodingSchema}toEncodingData(){return new Map([["gd",lr(this.globalDelta,(e,t)=>[e,t.toEncodingData()])],["ld",lr(this.localDeltas,(e,t)=>[e,lr(t,(r,a)=>[r,a.toEncodingData()])])],["sa",this.sharedAccts],["lg",this.logs],["itx",this.innerTxns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new rp({globalDelta:e.get("gd")?lr(e.get("gd"),(t,r)=>[t,$n.fromEncodingData(r)]):void 0,localDeltas:e.get("ld")?lr(e.get("ld"),(t,r)=>[Number(t),lr(r,(a,n)=>[a,$n.fromEncodingData(n)])]):void 0,sharedAccts:e.get("sa"),logs:e.get("lg"),innerTxns:(e.get("itx")??[]).map(fi.fromEncodingData)})}};class Ka{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries(...It([{key:"ca",valueSchema:new Z(new ue)},{key:"aca",valueSchema:new Z(new ue)},{key:"rs",valueSchema:new Z(new ue)},{key:"rr",valueSchema:new Z(new ue)},{key:"rc",valueSchema:new Z(new ue)},{key:"dt",valueSchema:new Z(tp.encodingSchema)},{key:"caid",valueSchema:new Z(new ue)},{key:"apid",valueSchema:new Z(new ue)}]))),this.encodingSchemaValue}constructor(e){this.closingAmount=e.closingAmount,this.assetClosingAmount=e.assetClosingAmount,this.senderRewards=e.senderRewards,this.receiverRewards=e.receiverRewards,this.closeRewards=e.closeRewards,this.evalDelta=e.evalDelta,this.configAsset=e.configAsset,this.applicationID=e.applicationID}getEncodingSchema(){return Ka.encodingSchema}toEncodingData(){return new Map([["ca",this.closingAmount],["aca",this.assetClosingAmount],["rs",this.senderRewards],["rr",this.receiverRewards],["rc",this.closeRewards],["dt",this.evalDelta?this.evalDelta.toEncodingData():void 0],["caid",this.configAsset],["apid",this.applicationID]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplyData: ${e}`);return new Ka({closingAmount:e.get("ca"),assetClosingAmount:e.get("aca"),senderRewards:e.get("rs"),receiverRewards:e.get("rr"),closeRewards:e.get("rc"),evalDelta:e.get("dt")?tp.fromEncodingData(e.get("dt")):void 0,configAsset:e.get("caid"),applicationID:e.get("apid")})}}class fi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries(...It([{key:"",valueSchema:rr.encodingSchema,embedded:!0},{key:"",valueSchema:Ka.encodingSchema,embedded:!0}]))),this.encodingSchemaValue}constructor(e){this.signedTxn=e.signedTxn,this.applyData=e.applyData}getEncodingSchema(){return fi.encodingSchema}toEncodingData(){return os(this.signedTxn.toEncodingData(),this.applyData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnWithAD: ${e}`);return new fi({signedTxn:rr.fromEncodingData(e),applyData:Ka.fromEncodingData(e)})}}class ta{constructor(e){this.signedTxn=e.signedTxn,this.hasGenesisID=e.hasGenesisID,this.hasGenesisHash=e.hasGenesisHash}getEncodingSchema(){return ta.encodingSchema}toEncodingData(){const e=new Map([["hgi",this.hasGenesisID],["hgh",this.hasGenesisHash]]);return os(e,this.signedTxn.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SignedTxnInBlock: ${e}`);return new ta({signedTxn:fi.fromEncodingData(e),hasGenesisID:e.get("hgi"),hasGenesisHash:e.get("hgh")})}}ta.encodingSchema=new Fe(It([{key:"",valueSchema:fi.encodingSchema,embedded:!0},{key:"hgi",valueSchema:new qt},{key:"hgh",valueSchema:new qt}]));let Mf=class np{constructor(e){this.header=e.header,this.payset=e.payset}getEncodingSchema(){return np.encodingSchema}toEncodingData(){const e=new Map([["txns",this.payset.map(t=>t.toEncodingData())]]);return os(e,this.header.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeader: ${e}`);return new np({header:Gn.fromEncodingData(e),payset:e.get("txns").map(ta.fromEncodingData)})}};Mf.encodingSchema=new Fe(It([{key:"",valueSchema:Gn.encodingSchema,embedded:!0},{key:"txns",valueSchema:new tt(ta.encodingSchema)}]));class br{constructor(e){this.data=e}getEncodingSchema(){return br.encodingSchema}toEncodingData(){return this.data}static fromEncodingData(e){return new br(e)}}br.encodingSchema=new E3;let cs=class ip{constructor(e){this.type=e.type,this.bytes=e.bytes,this.uint=e.uint}getEncodingSchema(){return ip.encodingSchema}toEncodingData(){return new Map([["tt",this.type],["tb",this.bytes],["ui",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new ip({type:Number(e.get("tt")),bytes:e.get("tb"),uint:e.get("ui")})}};cs.encodingSchema=new Fe(It([{key:"tt",valueSchema:new ue},{key:"tb",valueSchema:new Z(new Va)},{key:"ui",valueSchema:new Z(new ue)}]));let kn=class ap{constructor(e){this.numUints=e.numUints,this.numByteSlices=e.numByteSlices}getEncodingSchema(){return ap.encodingSchema}toEncodingData(){return new Map([["nui",this.numUints],["nbs",this.numByteSlices]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new ap({numUints:Number(e.get("nui")),numByteSlices:Number(e.get("nbs"))})}};kn.encodingSchema=new Fe(It([{key:"nui",valueSchema:new ue},{key:"nbs",valueSchema:new ue}]));class ra{constructor(e){this.approvalProgram=e.approvalProgram,this.clearStateProgram=e.clearStateProgram,this.globalState=e.globalState,this.localStateSchema=e.localStateSchema,this.globalStateSchema=e.globalStateSchema,this.extraProgramPages=e.extraProgramPages}getEncodingSchema(){return ra.encodingSchema}toEncodingData(){return new Map([["approv",this.approvalProgram],["clearp",this.clearStateProgram],["gs",lr(this.globalState,(e,t)=>[e,t.toEncodingData()])],["lsch",this.localStateSchema.toEncodingData()],["gsch",this.globalStateSchema.toEncodingData()],["epp",this.extraProgramPages]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParams: ${e}`);return new ra({approvalProgram:e.get("approv"),clearStateProgram:e.get("clearp"),globalState:lr(e.get("gs"),(t,r)=>[t,cs.fromEncodingData(r)]),localStateSchema:kn.fromEncodingData(e.get("lsch")),globalStateSchema:kn.fromEncodingData(e.get("gsch")),extraProgramPages:Number(e.get("epp"))})}}ra.encodingSchema=new Fe(It([{key:"approv",valueSchema:new ot},{key:"clearp",valueSchema:new ot},{key:"gs",valueSchema:new Fs(cs.encodingSchema)},{key:"lsch",valueSchema:kn.encodingSchema},{key:"gsch",valueSchema:kn.encodingSchema},{key:"epp",valueSchema:new ue}]));class na{constructor(e){this.schema=e.schema,this.keyValue=e.keyValue}getEncodingSchema(){return na.encodingSchema}toEncodingData(){return new Map([["hsch",this.schema.toEncodingData()],["tkv",lr(this.keyValue,(e,t)=>[e,t.toEncodingData()])]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalState: ${e}`);return new na({schema:kn.fromEncodingData(e.get("hsch")),keyValue:lr(e.get("tkv"),(t,r)=>[t,cs.fromEncodingData(r)])})}}na.encodingSchema=new Fe(It([{key:"hsch",valueSchema:kn.encodingSchema},{key:"tkv",valueSchema:new Fs(cs.encodingSchema)}]));class ia{constructor(e){this.localState=e.localState,this.deleted=e.deleted}getEncodingSchema(){return ia.encodingSchema}toEncodingData(){return new Map([["LocalState",this.localState?this.localState.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppLocalStateDelta: ${e}`);return new ia({localState:e.get("LocalState")?na.fromEncodingData(e.get("LocalState")):void 0,deleted:e.get("Deleted")})}}ia.encodingSchema=new Fe(It([{key:"LocalState",valueSchema:new Z(na.encodingSchema)},{key:"Deleted",valueSchema:new qt}]));class aa{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return aa.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppParamsDelta: ${e}`);return new aa({params:e.get("Params")?ra.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}aa.encodingSchema=new Fe(It([{key:"Params",valueSchema:new Z(ra.encodingSchema)},{key:"Deleted",valueSchema:new qt}]));class oa{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.state=e.state}getEncodingSchema(){return oa.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["State",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppResourceRecord: ${e}`);return new oa({id:e.get("Aidx"),address:e.get("Addr"),params:aa.fromEncodingData(e.get("Params")),state:ia.fromEncodingData(e.get("State"))})}}oa.encodingSchema=new Fe(It([{key:"Aidx",valueSchema:new ue},{key:"Addr",valueSchema:new Qt},{key:"Params",valueSchema:aa.encodingSchema},{key:"State",valueSchema:ia.encodingSchema}]));let th=class op{constructor(e){this.amount=e.amount,this.frozen=e.frozen}getEncodingSchema(){return op.encodingSchema}toEncodingData(){return new Map([["a",this.amount],["f",this.frozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new op({amount:e.get("a"),frozen:e.get("f")})}};th.encodingSchema=new Fe(It([{key:"a",valueSchema:new ue},{key:"f",valueSchema:new qt}]));class sa{constructor(e){this.holding=e.holding,this.deleted=e.deleted}getEncodingSchema(){return sa.encodingSchema}toEncodingData(){return new Map([["Holding",this.holding?this.holding.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingDelta: ${e}`);return new sa({holding:e.get("Holding")?th.fromEncodingData(e.get("Holding")):void 0,deleted:e.get("Deleted")})}}sa.encodingSchema=new Fe(It([{key:"Holding",valueSchema:new Z(th.encodingSchema)},{key:"Deleted",valueSchema:new qt}]));let rh=class sp{constructor(e){this.total=e.total,this.decimals=e.decimals,this.defaultFrozen=e.defaultFrozen,this.unitName=e.unitName,this.assetName=e.assetName,this.url=e.url,this.metadataHash=e.metadataHash,this.manager=e.manager,this.reserve=e.reserve,this.freeze=e.freeze,this.clawback=e.clawback}getEncodingSchema(){return sp.encodingSchema}toEncodingData(){return new Map([["t",this.total],["dc",this.decimals],["df",this.defaultFrozen],["un",this.unitName],["an",this.assetName],["au",this.url],["am",this.metadataHash],["m",this.manager],["r",this.reserve],["f",this.freeze],["c",this.clawback]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new sp({total:e.get("t"),decimals:e.get("dc"),defaultFrozen:e.get("df"),unitName:e.get("un"),assetName:e.get("an"),url:e.get("au"),metadataHash:e.get("am"),manager:e.get("m"),reserve:e.get("r"),freeze:e.get("f"),clawback:e.get("c")})}};rh.encodingSchema=new Fe(It([{key:"t",valueSchema:new ue},{key:"dc",valueSchema:new ue},{key:"df",valueSchema:new qt},{key:"un",valueSchema:new Z(new Va)},{key:"an",valueSchema:new Z(new Va)},{key:"au",valueSchema:new Z(new Va)},{key:"am",valueSchema:new ir(32)},{key:"m",valueSchema:new Z(new Qt)},{key:"r",valueSchema:new Z(new Qt)},{key:"f",valueSchema:new Z(new Qt)},{key:"c",valueSchema:new Z(new Qt)}]));class ca{constructor(e){this.params=e.params,this.deleted=e.deleted}getEncodingSchema(){return ca.encodingSchema}toEncodingData(){return new Map([["Params",this.params?this.params.toEncodingData():void 0],["Deleted",this.deleted]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParamsDelta: ${e}`);return new ca({params:e.get("Params")?rh.fromEncodingData(e.get("Params")):void 0,deleted:e.get("Deleted")})}}ca.encodingSchema=new Fe(It([{key:"Params",valueSchema:new Z(rh.encodingSchema)},{key:"Deleted",valueSchema:new qt}]));class fa{constructor(e){this.id=e.id,this.address=e.address,this.params=e.params,this.holding=e.holding}getEncodingSchema(){return fa.encodingSchema}toEncodingData(){return new Map([["Aidx",this.id],["Addr",this.address],["Params",this.params.toEncodingData()],["Holding",this.holding.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResourceRecord: ${e}`);return new fa({id:e.get("Aidx"),address:e.get("Addr"),params:ca.fromEncodingData(e.get("Params")),holding:sa.fromEncodingData(e.get("Holding"))})}}fa.encodingSchema=new Fe(It([{key:"Aidx",valueSchema:new ue},{key:"Addr",valueSchema:new Qt},{key:"Params",valueSchema:ca.encodingSchema},{key:"Holding",valueSchema:sa.encodingSchema}]));class ha{constructor(e){this.voteID=e.voteID,this.selectionID=e.selectionID,this.stateProofID=e.stateProofID,this.voteFirstValid=e.voteFirstValid,this.voteLastValid=e.voteLastValid,this.voteKeyDilution=e.voteKeyDilution}getEncodingSchema(){return ha.encodingSchema}toEncodingData(){return new Map([["VoteID",this.voteID],["SelectionID",this.selectionID],["StateProofID",this.stateProofID],["VoteFirstValid",this.voteFirstValid],["VoteLastValid",this.voteLastValid],["VoteKeyDilution",this.voteKeyDilution]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded VotingData: ${e}`);return new ha({voteID:e.get("VoteID"),selectionID:e.get("SelectionID"),stateProofID:e.get("StateProofID"),voteFirstValid:e.get("VoteFirstValid"),voteLastValid:e.get("VoteLastValid"),voteKeyDilution:e.get("VoteKeyDilution")})}}ha.encodingSchema=new Fe(It([{key:"VoteID",valueSchema:new ir(32)},{key:"SelectionID",valueSchema:new ir(32)},{key:"StateProofID",valueSchema:new ir(64)},{key:"VoteFirstValid",valueSchema:new ue},{key:"VoteLastValid",valueSchema:new ue},{key:"VoteKeyDilution",valueSchema:new ue}]));class ua{constructor(e){this.status=e.status,this.microAlgos=e.microAlgos,this.rewardsBase=e.rewardsBase,this.rewardedMicroAlgos=e.rewardedMicroAlgos,this.authAddr=e.authAddr,this.incentiveEligible=e.incentiveEligible,this.totalAppSchema=e.totalAppSchema,this.totalExtraAppPages=e.totalExtraAppPages,this.totalAppParams=e.totalAppParams,this.totalAppLocalStates=e.totalAppLocalStates,this.totalAssetParams=e.totalAssetParams,this.totalAssets=e.totalAssets,this.totalBoxes=e.totalBoxes,this.totalBoxBytes=e.totalBoxBytes,this.lastProposed=e.lastProposed,this.lastHeartbeat=e.lastHeartbeat}getEncodingSchema(){return ua.encodingSchema}toEncodingData(){return new Map([["Status",this.status],["MicroAlgos",this.microAlgos],["RewardsBase",this.rewardsBase],["RewardedMicroAlgos",this.rewardedMicroAlgos],["AuthAddr",this.authAddr],["IncentiveEligible",this.incentiveEligible],["TotalAppSchema",this.totalAppSchema.toEncodingData()],["TotalExtraAppPages",this.totalExtraAppPages],["TotalAppParams",this.totalAppParams],["TotalAppLocalStates",this.totalAppLocalStates],["TotalAssetParams",this.totalAssetParams],["TotalAssets",this.totalAssets],["TotalBoxes",this.totalBoxes],["TotalBoxBytes",this.totalBoxBytes],["LastProposed",this.lastProposed],["LastHeartbeat",this.lastHeartbeat]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountBaseData: ${e}`);return new ua({status:Number(e.get("Status")),microAlgos:e.get("MicroAlgos"),rewardsBase:e.get("RewardsBase"),rewardedMicroAlgos:e.get("RewardedMicroAlgos"),authAddr:e.get("AuthAddr"),incentiveEligible:e.get("IncentiveEligible"),totalAppSchema:kn.fromEncodingData(e.get("TotalAppSchema")),totalExtraAppPages:Number(e.get("TotalExtraAppPages")),totalAppParams:e.get("TotalAppParams"),totalAppLocalStates:e.get("TotalAppLocalStates"),totalAssetParams:e.get("TotalAssetParams"),totalAssets:e.get("TotalAssets"),totalBoxes:e.get("TotalBoxes"),totalBoxBytes:e.get("TotalBoxBytes"),lastProposed:e.get("LastProposed"),lastHeartbeat:e.get("LastHeartbeat")})}}ua.encodingSchema=new Fe(It([{key:"Status",valueSchema:new ue},{key:"MicroAlgos",valueSchema:new ue},{key:"RewardsBase",valueSchema:new ue},{key:"RewardedMicroAlgos",valueSchema:new ue},{key:"AuthAddr",valueSchema:new Qt},{key:"IncentiveEligible",valueSchema:new qt},{key:"TotalAppSchema",valueSchema:kn.encodingSchema},{key:"TotalExtraAppPages",valueSchema:new ue},{key:"TotalAppParams",valueSchema:new ue},{key:"TotalAppLocalStates",valueSchema:new ue},{key:"TotalAssetParams",valueSchema:new ue},{key:"TotalAssets",valueSchema:new ue},{key:"TotalBoxes",valueSchema:new ue},{key:"TotalBoxBytes",valueSchema:new ue},{key:"LastProposed",valueSchema:new ue},{key:"LastHeartbeat",valueSchema:new ue}]));class la{constructor(e){this.accountBaseData=e.accountBaseData,this.votingData=e.votingData}getEncodingSchema(){return la.encodingSchema}toEncodingData(){return os(this.accountBaseData.toEncodingData(),this.votingData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountData: ${e}`);return new la({accountBaseData:ua.fromEncodingData(e),votingData:ha.fromEncodingData(e)})}}la.encodingSchema=new Fe(It([{key:"",valueSchema:ua.encodingSchema,embedded:!0},{key:"",valueSchema:ha.encodingSchema,embedded:!0}]));class da{constructor(e){this.addr=e.addr,this.accountData=e.accountData}getEncodingSchema(){return da.encodingSchema}toEncodingData(){return os(new Map([["Addr",this.addr]]),this.accountData.toEncodingData())}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BalanceRecord: ${e}`);return new da({addr:e.get("Addr"),accountData:la.fromEncodingData(e)})}}da.encodingSchema=new Fe(It([{key:"Addr",valueSchema:new Qt},{key:"",valueSchema:la.encodingSchema,embedded:!0}]));class pa{constructor(e){this.accounts=e.accounts,this.appResources=e.appResources,this.assetResources=e.assetResources}getEncodingSchema(){return pa.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.map(e=>e.toEncodingData())],["AppResources",this.appResources.length===0?void 0:this.appResources.map(e=>e.toEncodingData())],["AssetResources",this.assetResources.length===0?void 0:this.assetResources.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountDeltas: ${e}`);return new pa({accounts:(e.get("Accts")??[]).map(da.fromEncodingData),appResources:(e.get("AppResources")??[]).map(oa.fromEncodingData),assetResources:(e.get("AssetResources")??[]).map(fa.fromEncodingData)})}}pa.encodingSchema=new Fe(It([{key:"Accts",valueSchema:new tt(da.encodingSchema)},{key:"AppResources",valueSchema:new Z(new tt(oa.encodingSchema))},{key:"AssetResources",valueSchema:new Z(new tt(fa.encodingSchema))}]));class ga{constructor(e){this.data=e.data,this.oldData=e.oldData}getEncodingSchema(){return ga.encodingSchema}toEncodingData(){return new Map([["Data",this.data],["OldData",this.oldData]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded KvValueDelta: ${e}`);return new ga({data:e.get("Data"),oldData:e.get("OldData")})}}ga.encodingSchema=new Fe(It([{key:"Data",valueSchema:new Z(new ot)},{key:"OldData",valueSchema:new Z(new ot)}]));class ma{constructor(e){this.lastValid=e.lastValid,this.intra=e.intra}getEncodingSchema(){return ma.encodingSchema}toEncodingData(){return new Map([["LastValid",this.lastValid],["Intra",this.intra]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IncludedTransactions: ${e}`);return new ma({lastValid:e.get("LastValid"),intra:Number(e.get("Intra"))})}}ma.encodingSchema=new Fe(It([{key:"LastValid",valueSchema:new ue},{key:"Intra",valueSchema:new ue}]));class va{constructor(e){this.creatableType=e.creatableType,this.created=e.created,this.creator=e.creator,this.ndeltas=e.ndeltas}getEncodingSchema(){return va.encodingSchema}toEncodingData(){return new Map([["Ctype",this.creatableType],["Created",this.created],["Creator",this.creator],["Ndeltas",this.ndeltas]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ModifiedCreatable: ${e}`);return new va({creatableType:Number(e.get("Ctype")),created:e.get("Created"),creator:e.get("Creator"),ndeltas:Number(e.get("Ndeltas"))})}}va.encodingSchema=new Fe(It([{key:"Ctype",valueSchema:new ue},{key:"Created",valueSchema:new qt},{key:"Creator",valueSchema:new Qt},{key:"Ndeltas",valueSchema:new ue}]));class sn{constructor(e){this.money=e.money,this.rewardUnits=e.rewardUnits}getEncodingSchema(){return sn.encodingSchema}toEncodingData(){return new Map([["mon",this.money],["rwd",this.rewardUnits]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AlgoCount: ${e}`);return new sn({money:e.get("mon"),rewardUnits:e.get("rwd")})}}sn.encodingSchema=new Fe(It([{key:"mon",valueSchema:new ue},{key:"rwd",valueSchema:new ue}]));class ya{constructor(e){this.online=e.online,this.offline=e.offline,this.notParticipating=e.notParticipating,this.rewardsLevel=e.rewardsLevel}getEncodingSchema(){return ya.encodingSchema}toEncodingData(){return new Map([["online",this.online.toEncodingData()],["offline",this.offline.toEncodingData()],["notpart",this.notParticipating.toEncodingData()],["rwdlvl",this.rewardsLevel]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountTotals: ${e}`);return new ya({online:sn.fromEncodingData(e.get("online")),offline:sn.fromEncodingData(e.get("offline")),notParticipating:sn.fromEncodingData(e.get("notpart")),rewardsLevel:e.get("rwdlvl")})}}ya.encodingSchema=new Fe(It([{key:"online",valueSchema:sn.encodingSchema},{key:"offline",valueSchema:sn.encodingSchema},{key:"notpart",valueSchema:sn.encodingSchema},{key:"rwdlvl",valueSchema:new ue}]));class Kn{constructor(e){this.accounts=e.accounts,this.kvMods=e.kvMods,this.txids=e.txids,this.txleases=e.txleases,this.creatables=e.creatables,this.blockHeader=e.blockHeader,this.stateProofNext=e.stateProofNext,this.prevTimestamp=e.prevTimestamp,this.totals=e.totals}getEncodingSchema(){return Kn.encodingSchema}toEncodingData(){return new Map([["Accts",this.accounts.toEncodingData()],["KvMods",this.kvMods.size===0?void 0:lr(this.kvMods,(e,t)=>[e,t.toEncodingData()])],["Txids",lr(this.txids,(e,t)=>[e,t.toEncodingData()])],["Txleases",this.txleases.toEncodingData()],["Creatables",this.creatables.size===0?void 0:lr(this.creatables,(e,t)=>[e,t.toEncodingData()])],["Hdr",this.blockHeader.toEncodingData()],["StateProofNext",this.stateProofNext],["PrevTimestamp",this.prevTimestamp],["Totals",this.totals.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDelta: ${e}`);return new Kn({accounts:pa.fromEncodingData(e.get("Accts")),kvMods:lr(e.get("KvMods")??new Map,(t,r)=>[t,ga.fromEncodingData(r)]),txids:lr(e.get("Txids"),(t,r)=>[t,ma.fromEncodingData(r)]),txleases:br.fromEncodingData(e.get("Txleases")),creatables:lr(e.get("Creatables")??new Map,(t,r)=>[t,va.fromEncodingData(r)]),blockHeader:Gn.fromEncodingData(e.get("Hdr")),stateProofNext:e.get("StateProofNext"),prevTimestamp:e.get("PrevTimestamp"),totals:ya.fromEncodingData(e.get("Totals"))})}}Kn.encodingSchema=new Fe(It([{key:"Accts",valueSchema:pa.encodingSchema},{key:"KvMods",valueSchema:new Z(new Fs(ga.encodingSchema))},{key:"Txids",valueSchema:new f5(ma.encodingSchema)},{key:"Txleases",valueSchema:new Z(new E3)},{key:"Creatables",valueSchema:new Z(new Yf(va.encodingSchema))},{key:"Hdr",valueSchema:Gn.encodingSchema},{key:"StateProofNext",valueSchema:new ue},{key:"PrevTimestamp",valueSchema:new ue},{key:"Totals",valueSchema:ya.encodingSchema}]));let _f=class cp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new ue,omitEmpty:!0},{key:"min-balance",valueSchema:new ue,omitEmpty:!0},{key:"pending-rewards",valueSchema:new ue,omitEmpty:!0},{key:"rewards",valueSchema:new ue,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"status",valueSchema:new ze,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new ue,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new ue,omitEmpty:!0},{key:"total-created-apps",valueSchema:new ue,omitEmpty:!0},{key:"total-created-assets",valueSchema:new ue,omitEmpty:!0},{key:"apps-local-state",valueSchema:new Z(new tt(Os.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new Z(new ue),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new Z(on.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new Z(new tt(ba.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new Z(new ze),omitEmpty:!0},{key:"created-apps",valueSchema:new Z(new tt(wa.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new Z(new tt(kf.encodingSchema)),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new Z(new qt),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new Z(new ue),omitEmpty:!0},{key:"last-proposed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"participation",valueSchema:new Z(fp.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sig-type",valueSchema:new Z(new ze),omitEmpty:!0},{key:"total-box-bytes",valueSchema:new Z(new ue),omitEmpty:!0},{key:"total-boxes",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:a,pendingRewards:n,rewards:s,round:c,status:u,totalAppsOptedIn:h,totalAssetsOptedIn:f,totalCreatedApps:g,totalCreatedAssets:b,appsLocalState:M,appsTotalExtraPages:_,appsTotalSchema:D,assets:R,authAddr:A,createdApps:I,createdAssets:N,incentiveEligible:$,lastHeartbeat:V,lastProposed:U,participation:J,rewardBase:Y,sigType:oe,totalBoxBytes:G,totalBoxes:E}){this.address=e,this.amount=Ve(t),this.amountWithoutPendingRewards=Ve(r),this.minBalance=Ve(a),this.pendingRewards=Ve(n),this.rewards=Ve(s),this.round=Ve(c),this.status=u,this.totalAppsOptedIn=st(h),this.totalAssetsOptedIn=st(f),this.totalCreatedApps=st(g),this.totalCreatedAssets=st(b),this.appsLocalState=M,this.appsTotalExtraPages=typeof _>"u"?void 0:st(_),this.appsTotalSchema=D,this.assets=R,this.authAddr=typeof A=="string"?Ct.fromString(A):A,this.createdApps=I,this.createdAssets=N,this.incentiveEligible=$,this.lastHeartbeat=typeof V>"u"?void 0:st(V),this.lastProposed=typeof U>"u"?void 0:st(U),this.participation=J,this.rewardBase=typeof Y>"u"?void 0:Ve(Y),this.sigType=oe,this.totalBoxBytes=typeof G>"u"?void 0:st(G),this.totalBoxes=typeof E>"u"?void 0:st(E)}getEncodingSchema(){return cp.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new cp({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>Os.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?on.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>ba.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>wa.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>kf.fromEncodingData(t)):void 0,incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?fp.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes")})}};class Cs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new ue,omitEmpty:!0},{key:"app-local-state",valueSchema:new Z(Os.encodingSchema),omitEmpty:!0},{key:"created-app",valueSchema:new Z(Qa.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,appLocalState:t,createdApp:r}){this.round=Ve(e),this.appLocalState=t,this.createdApp=r}getEncodingSchema(){return Cs.encodingSchema}toEncodingData(){return new Map([["round",this.round],["app-local-state",typeof this.appLocalState<"u"?this.appLocalState.toEncodingData():void 0],["created-app",typeof this.createdApp<"u"?this.createdApp.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountApplicationResponse: ${e}`);return new Cs({round:e.get("round"),appLocalState:typeof e.get("app-local-state")<"u"?Os.fromEncodingData(e.get("app-local-state")):void 0,createdApp:typeof e.get("created-app")<"u"?Qa.fromEncodingData(e.get("created-app")):void 0})}}class Ja{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"asset-holding",valueSchema:ba.encodingSchema,omitEmpty:!0},{key:"asset-params",valueSchema:new Z(xa.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetHolding:e,assetParams:t}){this.assetHolding=e,this.assetParams=t}getEncodingSchema(){return Ja.encodingSchema}toEncodingData(){return new Map([["asset-holding",this.assetHolding.toEncodingData()],["asset-params",typeof this.assetParams<"u"?this.assetParams.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetHolding: ${e}`);return new Ja({assetHolding:ba.fromEncodingData(e.get("asset-holding")??new Map),assetParams:typeof e.get("asset-params")<"u"?xa.fromEncodingData(e.get("asset-params")):void 0})}}class Ps{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new ue,omitEmpty:!0},{key:"asset-holding",valueSchema:new Z(ba.encodingSchema),omitEmpty:!0},{key:"created-asset",valueSchema:new Z(xa.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHolding:t,createdAsset:r}){this.round=Ve(e),this.assetHolding=t,this.createdAsset=r}getEncodingSchema(){return Ps.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holding",typeof this.assetHolding<"u"?this.assetHolding.toEncodingData():void 0],["created-asset",typeof this.createdAsset<"u"?this.createdAsset.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetResponse: ${e}`);return new Ps({round:e.get("round"),assetHolding:typeof e.get("asset-holding")<"u"?ba.fromEncodingData(e.get("asset-holding")):void 0,createdAsset:typeof e.get("created-asset")<"u"?xa.fromEncodingData(e.get("created-asset")):void 0})}}class Af{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new ue,omitEmpty:!0},{key:"asset-holdings",valueSchema:new Z(new tt(Ja.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e,assetHoldings:t,nextToken:r}){this.round=st(e),this.assetHoldings=t,this.nextToken=r}getEncodingSchema(){return Af.encodingSchema}toEncodingData(){return new Map([["round",this.round],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountAssetsInformationResponse: ${e}`);return new Af({round:e.get("round"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>Ja.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}let fp=class hp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ot,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new ue,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new ue,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new ue,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ot,omitEmpty:!0},{key:"state-proof-key",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:a,voteParticipationKey:n,stateProofKey:s}){this.selectionParticipationKey=typeof e=="string"?pt(e):e,this.voteFirstValid=Ve(t),this.voteKeyDilution=Ve(r),this.voteLastValid=Ve(a),this.voteParticipationKey=typeof n=="string"?pt(n):n,this.stateProofKey=typeof s=="string"?pt(s):s}getEncodingSchema(){return hp.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new hp({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}},Ns=class up{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"delta",valueSchema:new tt(Sa.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return up.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new up({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>Sa.fromEncodingData(t))})}};class Ya{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"application-index",valueSchema:new ue,omitEmpty:!0},{key:"logs",valueSchema:new tt(new ot),omitEmpty:!0},{key:"txId",valueSchema:new ze,omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationIndex:e,logs:t,txid:r}){this.applicationIndex=st(e),this.logs=t,this.txid=r}getEncodingSchema(){return Ya.encodingSchema}toEncodingData(){return new Map([["application-index",this.applicationIndex],["logs",this.logs],["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AppCallLogs: ${e}`);return new Ya({applicationIndex:e.get("application-index"),logs:e.get("logs"),txid:e.get("txId")})}}let wa=class lp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new ue,omitEmpty:!0},{key:"params",valueSchema:Qa.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t}){this.id=Ve(e),this.params=t}getEncodingSchema(){return lp.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new lp({id:e.get("id"),params:Qa.fromEncodingData(e.get("params")??new Map)})}};class Xa{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new ue,omitEmpty:!0},{key:"app-boxes",valueSchema:new Z(wn.encodingSchema),omitEmpty:!0},{key:"app-globals",valueSchema:new Z(wn.encodingSchema),omitEmpty:!0},{key:"app-locals",valueSchema:new Z(new tt(wn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,appBoxes:t,appGlobals:r,appLocals:a}){this.id=Ve(e),this.appBoxes=t,this.appGlobals=r,this.appLocals=a}getEncodingSchema(){return Xa.encodingSchema}toEncodingData(){return new Map([["id",this.id],["app-boxes",typeof this.appBoxes<"u"?this.appBoxes.toEncodingData():void 0],["app-globals",typeof this.appGlobals<"u"?this.appGlobals.toEncodingData():void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationInitialStates: ${e}`);return new Xa({id:e.get("id"),appBoxes:typeof e.get("app-boxes")<"u"?wn.fromEncodingData(e.get("app-boxes")):void 0,appGlobals:typeof e.get("app-globals")<"u"?wn.fromEncodingData(e.get("app-globals")):void 0,appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>wn.fromEncodingData(t)):void 0})}}class wn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"kvs",valueSchema:new tt(ro.encodingSchema),omitEmpty:!0},{key:"account",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({kvs:e,account:t}){this.kvs=e,this.account=typeof t=="string"?Ct.fromString(t):t}getEncodingSchema(){return wn.encodingSchema}toEncodingData(){return new Map([["kvs",this.kvs.map(e=>e.toEncodingData())],["account",typeof this.account<"u"?this.account.toString():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationKVStorage: ${e}`);return new wn({kvs:(e.get("kvs")??[]).map(t=>ro.fromEncodingData(t)),account:e.get("account")})}}class Za{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new ze,omitEmpty:!0},{key:"app",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,app:t}){this.account=typeof e=="string"?Ct.fromString(e):e,this.app=Ve(t)}getEncodingSchema(){return Za.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalReference: ${e}`);return new Za({account:e.get("account"),app:e.get("app")})}}let Os=class dp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new ue,omitEmpty:!0},{key:"schema",valueSchema:on.encodingSchema,omitEmpty:!0},{key:"key-value",valueSchema:new Z(new tt(Ys.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,keyValue:r}){this.id=Ve(e),this.schema=t,this.keyValue=r}getEncodingSchema(){return dp.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new dp({id:e.get("id"),schema:on.fromEncodingData(e.get("schema")??new Map),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>Ys.fromEncodingData(t)):void 0})}},Qa=class pp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ot,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ot,omitEmpty:!0},{key:"creator",valueSchema:new ze,omitEmpty:!0},{key:"extra-program-pages",valueSchema:new Z(new ue),omitEmpty:!0},{key:"global-state",valueSchema:new Z(new tt(Ys.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new Z(on.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new Z(on.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:a,globalState:n,globalStateSchema:s,localStateSchema:c,version:u}){this.approvalProgram=typeof e=="string"?pt(e):e,this.clearStateProgram=typeof t=="string"?pt(t):t,this.creator=typeof r=="string"?Ct.fromString(r):r,this.extraProgramPages=typeof a>"u"?void 0:st(a),this.globalState=n,this.globalStateSchema=s,this.localStateSchema=c,this.version=typeof u>"u"?void 0:st(u)}getEncodingSchema(){return pp.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",this.creator.toString()],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new pp({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>Ys.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?on.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?on.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}};class eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"app-state-type",valueSchema:new ze,omitEmpty:!0},{key:"key",valueSchema:new ot,omitEmpty:!0},{key:"operation",valueSchema:new ze,omitEmpty:!0},{key:"account",valueSchema:new Z(new ze),omitEmpty:!0},{key:"new-value",valueSchema:new Z(Kr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({appStateType:e,key:t,operation:r,account:a,newValue:n}){this.appStateType=e,this.key=typeof t=="string"?pt(t):t,this.operation=r,this.account=typeof a=="string"?Ct.fromString(a):a,this.newValue=n}getEncodingSchema(){return eo.encodingSchema}toEncodingData(){return new Map([["app-state-type",this.appStateType],["key",this.key],["operation",this.operation],["account",typeof this.account<"u"?this.account.toString():void 0],["new-value",typeof this.newValue<"u"?this.newValue.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateOperation: ${e}`);return new eo({appStateType:e.get("app-state-type"),key:e.get("key"),operation:e.get("operation"),account:e.get("account"),newValue:typeof e.get("new-value")<"u"?Kr.fromEncodingData(e.get("new-value")):void 0})}}let on=class gp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new ue,omitEmpty:!0},{key:"num-uint",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=st(e),this.numUint=st(t)}getEncodingSchema(){return gp.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new gp({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}},kf=class mp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new ue,omitEmpty:!0},{key:"params",valueSchema:xa.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t}){this.index=Ve(e),this.params=t}getEncodingSchema(){return mp.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new mp({index:e.get("index"),params:xa.fromEncodingData(e.get("params")??new Map)})}},ba=class vp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"asset-id",valueSchema:new ue,omitEmpty:!0},{key:"is-frozen",valueSchema:new qt,omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r}){this.amount=Ve(e),this.assetId=Ve(t),this.isFrozen=r}getEncodingSchema(){return vp.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new vp({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen")})}};class to{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:new ze,omitEmpty:!0},{key:"asset",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,asset:t}){this.account=typeof e=="string"?Ct.fromString(e):e,this.asset=Ve(t)}getEncodingSchema(){return to.encodingSchema}toEncodingData(){return new Map([["account",this.account.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingReference: ${e}`);return new to({account:e.get("account"),asset:e.get("asset")})}}let xa=class yp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new ze,omitEmpty:!0},{key:"decimals",valueSchema:new ue,omitEmpty:!0},{key:"total",valueSchema:new ue,omitEmpty:!0},{key:"clawback",valueSchema:new Z(new ze),omitEmpty:!0},{key:"default-frozen",valueSchema:new Z(new qt),omitEmpty:!0},{key:"freeze",valueSchema:new Z(new ze),omitEmpty:!0},{key:"manager",valueSchema:new Z(new ze),omitEmpty:!0},{key:"metadata-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"name",valueSchema:new Z(new ze),omitEmpty:!0},{key:"name-b64",valueSchema:new Z(new ot),omitEmpty:!0},{key:"reserve",valueSchema:new Z(new ze),omitEmpty:!0},{key:"unit-name",valueSchema:new Z(new ze),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new Z(new ot),omitEmpty:!0},{key:"url",valueSchema:new Z(new ze),omitEmpty:!0},{key:"url-b64",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:a,defaultFrozen:n,freeze:s,manager:c,metadataHash:u,name:h,nameB64:f,reserve:g,unitName:b,unitNameB64:M,url:_,urlB64:D}){this.creator=e,this.decimals=st(t),this.total=Ve(r),this.clawback=a,this.defaultFrozen=n,this.freeze=s,this.manager=c,this.metadataHash=typeof u=="string"?pt(u):u,this.name=h,this.nameB64=typeof f=="string"?pt(f):f,this.reserve=g,this.unitName=b,this.unitNameB64=typeof M=="string"?pt(M):M,this.url=_,this.urlB64=typeof D=="string"?pt(D):D}getEncodingSchema(){return yp.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new yp({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}};class ro{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ot,omitEmpty:!0},{key:"value",valueSchema:Kr.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?pt(e):e,this.value=t}getEncodingSchema(){return ro.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmKeyValue: ${e}`);return new ro({key:e.get("key"),value:Kr.fromEncodingData(e.get("value")??new Map)})}}class Kr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"type",valueSchema:new ue,omitEmpty:!0},{key:"bytes",valueSchema:new Z(new ot),omitEmpty:!0},{key:"uint",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({type:e,bytes:t,uint:r}){this.type=st(e),this.bytes=typeof t=="string"?pt(t):t,this.uint=typeof r>"u"?void 0:Ve(r)}getEncodingSchema(){return Kr.encodingSchema}toEncodingData(){return new Map([["type",this.type],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AvmValue: ${e}`);return new Kr({type:e.get("type"),bytes:e.get("bytes"),uint:e.get("uint")})}}class Ls{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"blockHash",valueSchema:new ze,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockhash:e}){this.blockhash=e}getEncodingSchema(){return Ls.encodingSchema}toEncodingData(){return new Map([["blockHash",this.blockhash]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHashResponse: ${e}`);return new Ls({blockhash:e.get("blockHash")})}}class If{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new tt(Ya.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e}){this.logs=e}getEncodingSchema(){return If.encodingSchema}toEncodingData(){return new Map([["logs",this.logs.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockLogsResponse: ${e}`);return new If({logs:(e.get("logs")??[]).map(t=>Ya.fromEncodingData(t))})}}class Us{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"block",valueSchema:Mf.encodingSchema,omitEmpty:!0},{key:"cert",valueSchema:new Z(br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({block:e,cert:t}){this.block=e,this.cert=t}getEncodingSchema(){return Us.encodingSchema}toEncodingData(){return new Map([["block",this.block.toEncodingData()],["cert",typeof this.cert<"u"?this.cert.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockResponse: ${e}`);return new Us({block:Mf.fromEncodingData(e.get("block")??new Map),cert:typeof e.get("cert")<"u"?br.fromEncodingData(e.get("cert")):void 0})}}class $s{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"blockTxids",valueSchema:new tt(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocktxids:e}){this.blocktxids=e}getEncodingSchema(){return $s.encodingSchema}toEncodingData(){return new Map([["blockTxids",this.blocktxids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockTxidsResponse: ${e}`);return new $s({blocktxids:e.get("blockTxids")})}}let P3=class wp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ot,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"value",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?pt(e):e,this.round=Ve(t),this.value=typeof r=="string"?pt(r):r}getEncodingSchema(){return wp.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new wp({name:e.get("name"),round:e.get("round"),value:e.get("value")})}},bp=class xp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?pt(e):e}getEncodingSchema(){return xp.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new xp({name:e.get("name")})}},Sp=class Ep{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new ue,omitEmpty:!0},{key:"name",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=Ve(e),this.name=typeof t=="string"?pt(t):t}getEncodingSchema(){return Ep.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new Ep({app:e.get("app"),name:e.get("name")})}},N3=class Mp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"boxes",valueSchema:new tt(bp.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({boxes:e}){this.boxes=e}getEncodingSchema(){return Mp.encodingSchema}toEncodingData(){return new Map([["boxes",this.boxes.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new Mp({boxes:(e.get("boxes")??[]).map(t=>bp.fromEncodingData(t))})}};class no{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"branch",valueSchema:new ze,omitEmpty:!0},{key:"build_number",valueSchema:new ue,omitEmpty:!0},{key:"channel",valueSchema:new ze,omitEmpty:!0},{key:"commit_hash",valueSchema:new ze,omitEmpty:!0},{key:"major",valueSchema:new ue,omitEmpty:!0},{key:"minor",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({branch:e,buildNumber:t,channel:r,commitHash:a,major:n,minor:s}){this.branch=e,this.buildNumber=st(t),this.channel=r,this.commitHash=a,this.major=st(n),this.minor=st(s)}getEncodingSchema(){return no.encodingSchema}toEncodingData(){return new Map([["branch",this.branch],["build_number",this.buildNumber],["channel",this.channel],["commit_hash",this.commitHash],["major",this.major],["minor",this.minor]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BuildVersion: ${e}`);return new no({branch:e.get("branch"),buildNumber:e.get("build_number"),channel:e.get("channel"),commitHash:e.get("commit_hash"),major:e.get("major"),minor:e.get("minor")})}}class qs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"hash",valueSchema:new ze,omitEmpty:!0},{key:"result",valueSchema:new ze,omitEmpty:!0},{key:"sourcemap",valueSchema:new Z(br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({hash:e,result:t,sourcemap:r}){this.hash=e,this.result=t,this.sourcemap=r}getEncodingSchema(){return qs.encodingSchema}toEncodingData(){return new Map([["hash",this.hash],["result",this.result],["sourcemap",typeof this.sourcemap<"u"?this.sourcemap.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded CompileResponse: ${e}`);return new qs({hash:e.get("hash"),result:e.get("result"),sourcemap:typeof e.get("sourcemap")<"u"?br.fromEncodingData(e.get("sourcemap")):void 0})}}class Vs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"result",valueSchema:new ze,omitEmpty:!0})),this.encodingSchemaValue}constructor({result:e}){this.result=e}getEncodingSchema(){return Vs.encodingSchema}toEncodingData(){return new Map([["result",this.result]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DisassembleResponse: ${e}`);return new Vs({result:e.get("result")})}}class zs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new tt(_f.encodingSchema),omitEmpty:!0},{key:"apps",valueSchema:new tt(wa.encodingSchema),omitEmpty:!0},{key:"latest-timestamp",valueSchema:new ue,omitEmpty:!0},{key:"protocol-version",valueSchema:new ze,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"sources",valueSchema:new tt(io.encodingSchema),omitEmpty:!0},{key:"txns",valueSchema:new tt(rr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,apps:t,latestTimestamp:r,protocolVersion:a,round:n,sources:s,txns:c}){this.accounts=e,this.apps=t,this.latestTimestamp=st(r),this.protocolVersion=a,this.round=Ve(n),this.sources=s,this.txns=c}getEncodingSchema(){return zs.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["apps",this.apps.map(e=>e.toEncodingData())],["latest-timestamp",this.latestTimestamp],["protocol-version",this.protocolVersion],["round",this.round],["sources",this.sources.map(e=>e.toEncodingData())],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunRequest: ${e}`);return new zs({accounts:(e.get("accounts")??[]).map(t=>_f.fromEncodingData(t)),apps:(e.get("apps")??[]).map(t=>wa.fromEncodingData(t)),latestTimestamp:e.get("latest-timestamp"),protocolVersion:e.get("protocol-version"),round:e.get("round"),sources:(e.get("sources")??[]).map(t=>io.fromEncodingData(t)),txns:(e.get("txns")??[]).map(t=>rr.fromEncodingData(t))})}}class js{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"error",valueSchema:new ze,omitEmpty:!0},{key:"protocol-version",valueSchema:new ze,omitEmpty:!0},{key:"txns",valueSchema:new tt(ao.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({error:e,protocolVersion:t,txns:r}){this.error=e,this.protocolVersion=t,this.txns=r}getEncodingSchema(){return js.encodingSchema}toEncodingData(){return new Map([["error",this.error],["protocol-version",this.protocolVersion],["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunResponse: ${e}`);return new js({error:e.get("error"),protocolVersion:e.get("protocol-version"),txns:(e.get("txns")??[]).map(t=>ao.fromEncodingData(t))})}}class io{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"app-index",valueSchema:new ue,omitEmpty:!0},{key:"field-name",valueSchema:new ze,omitEmpty:!0},{key:"source",valueSchema:new ze,omitEmpty:!0},{key:"txn-index",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({appIndex:e,fieldName:t,source:r,txnIndex:a}){this.appIndex=Ve(e),this.fieldName=t,this.source=r,this.txnIndex=st(a)}getEncodingSchema(){return io.encodingSchema}toEncodingData(){return new Map([["app-index",this.appIndex],["field-name",this.fieldName],["source",this.source],["txn-index",this.txnIndex]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunSource: ${e}`);return new io({appIndex:e.get("app-index"),fieldName:e.get("field-name"),source:e.get("source"),txnIndex:e.get("txn-index")})}}class ii{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"line",valueSchema:new ue,omitEmpty:!0},{key:"pc",valueSchema:new ue,omitEmpty:!0},{key:"stack",valueSchema:new tt(Ci.encodingSchema),omitEmpty:!0},{key:"error",valueSchema:new Z(new ze),omitEmpty:!0},{key:"scratch",valueSchema:new Z(new tt(Ci.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({line:e,pc:t,stack:r,error:a,scratch:n}){this.line=st(e),this.pc=st(t),this.stack=r,this.error=a,this.scratch=n}getEncodingSchema(){return ii.encodingSchema}toEncodingData(){return new Map([["line",this.line],["pc",this.pc],["stack",this.stack.map(e=>e.toEncodingData())],["error",this.error],["scratch",typeof this.scratch<"u"?this.scratch.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunState: ${e}`);return new ii({line:e.get("line"),pc:e.get("pc"),stack:(e.get("stack")??[]).map(t=>Ci.fromEncodingData(t)),error:e.get("error"),scratch:typeof e.get("scratch")<"u"?e.get("scratch").map(t=>Ci.fromEncodingData(t)):void 0})}}class ao{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"disassembly",valueSchema:new tt(new ze),omitEmpty:!0},{key:"app-call-messages",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"app-call-trace",valueSchema:new Z(new tt(ii.encodingSchema)),omitEmpty:!0},{key:"budget-added",valueSchema:new Z(new ue),omitEmpty:!0},{key:"budget-consumed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"global-delta",valueSchema:new Z(new tt(Sa.encodingSchema)),omitEmpty:!0},{key:"local-deltas",valueSchema:new Z(new tt(Ns.encodingSchema)),omitEmpty:!0},{key:"logic-sig-disassembly",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"logic-sig-messages",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new Z(new tt(ii.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new Z(new tt(new ot)),omitEmpty:!0})),this.encodingSchemaValue}constructor({disassembly:e,appCallMessages:t,appCallTrace:r,budgetAdded:a,budgetConsumed:n,globalDelta:s,localDeltas:c,logicSigDisassembly:u,logicSigMessages:h,logicSigTrace:f,logs:g}){this.disassembly=e,this.appCallMessages=t,this.appCallTrace=r,this.budgetAdded=typeof a>"u"?void 0:st(a),this.budgetConsumed=typeof n>"u"?void 0:st(n),this.globalDelta=s,this.localDeltas=c,this.logicSigDisassembly=u,this.logicSigMessages=h,this.logicSigTrace=f,this.logs=g}getEncodingSchema(){return ao.encodingSchema}toEncodingData(){return new Map([["disassembly",this.disassembly],["app-call-messages",this.appCallMessages],["app-call-trace",typeof this.appCallTrace<"u"?this.appCallTrace.map(e=>e.toEncodingData()):void 0],["budget-added",this.budgetAdded],["budget-consumed",this.budgetConsumed],["global-delta",typeof this.globalDelta<"u"?this.globalDelta.map(e=>e.toEncodingData()):void 0],["local-deltas",typeof this.localDeltas<"u"?this.localDeltas.map(e=>e.toEncodingData()):void 0],["logic-sig-disassembly",this.logicSigDisassembly],["logic-sig-messages",this.logicSigMessages],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0],["logs",this.logs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded DryrunTxnResult: ${e}`);return new ao({disassembly:e.get("disassembly"),appCallMessages:e.get("app-call-messages"),appCallTrace:typeof e.get("app-call-trace")<"u"?e.get("app-call-trace").map(t=>ii.fromEncodingData(t)):void 0,budgetAdded:e.get("budget-added"),budgetConsumed:e.get("budget-consumed"),globalDelta:typeof e.get("global-delta")<"u"?e.get("global-delta").map(t=>Sa.fromEncodingData(t)):void 0,localDeltas:typeof e.get("local-deltas")<"u"?e.get("local-deltas").map(t=>Ns.fromEncodingData(t)):void 0,logicSigDisassembly:e.get("logic-sig-disassembly"),logicSigMessages:e.get("logic-sig-messages"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>ii.fromEncodingData(t)):void 0,logs:e.get("logs")})}}let L5=class _p{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new ze,omitEmpty:!0},{key:"data",valueSchema:new Z(br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return _p.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new _p({message:e.get("message"),data:typeof e.get("data")<"u"?br.fromEncodingData(e.get("data")):void 0})}},Ap=class kp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new ue,omitEmpty:!0},{key:"bytes",valueSchema:new Z(new ze),omitEmpty:!0},{key:"uint",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=st(e),this.bytes=t,this.uint=typeof r>"u"?void 0:Ve(r)}getEncodingSchema(){return kp.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new kp({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}},Sa=class Ip{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ze,omitEmpty:!0},{key:"value",valueSchema:Ap.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return Ip.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new Ip({key:e.get("key"),value:Ap.fromEncodingData(e.get("value")??new Map)})}},U5=class Dp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"alloc",valueSchema:new tt(oo.encodingSchema),omitEmpty:!0},{key:"fees",valueSchema:new ze,omitEmpty:!0},{key:"id",valueSchema:new ze,omitEmpty:!0},{key:"network",valueSchema:new ze,omitEmpty:!0},{key:"proto",valueSchema:new ze,omitEmpty:!0},{key:"rwd",valueSchema:new ze,omitEmpty:!0},{key:"timestamp",valueSchema:new ue,omitEmpty:!0},{key:"comment",valueSchema:new Z(new ze),omitEmpty:!0},{key:"devmode",valueSchema:new Z(new qt),omitEmpty:!0})),this.encodingSchemaValue}constructor({alloc:e,fees:t,id:r,network:a,proto:n,rwd:s,timestamp:c,comment:u,devmode:h}){this.alloc=e,this.fees=t,this.id=r,this.network=a,this.proto=n,this.rwd=s,this.timestamp=st(c),this.comment=u,this.devmode=h}getEncodingSchema(){return Dp.encodingSchema}toEncodingData(){return new Map([["alloc",this.alloc.map(e=>e.toEncodingData())],["fees",this.fees],["id",this.id],["network",this.network],["proto",this.proto],["rwd",this.rwd],["timestamp",this.timestamp],["comment",this.comment],["devmode",this.devmode]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Genesis: ${e}`);return new Dp({alloc:(e.get("alloc")??[]).map(t=>oo.fromEncodingData(t)),fees:e.get("fees"),id:e.get("id"),network:e.get("network"),proto:e.get("proto"),rwd:e.get("rwd"),timestamp:e.get("timestamp"),comment:e.get("comment"),devmode:e.get("devmode")})}};class oo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"addr",valueSchema:new ze,omitEmpty:!0},{key:"comment",valueSchema:new ze,omitEmpty:!0},{key:"state",valueSchema:br.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({addr:e,comment:t,state:r}){this.addr=e,this.comment=t,this.state=r}getEncodingSchema(){return oo.encodingSchema}toEncodingData(){return new Map([["addr",this.addr],["comment",this.comment],["state",this.state.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GenesisAllocation: ${e}`);return new oo({addr:e.get("addr"),comment:e.get("comment"),state:br.fromEncodingData(e.get("state")??new Map)})}}class Ws{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"offset",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({offset:e}){this.offset=st(e)}getEncodingSchema(){return Ws.encodingSchema}toEncodingData(){return new Map([["offset",this.offset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetBlockTimeStampOffsetResponse: ${e}`);return new Ws({offset:e.get("offset")})}}class Hs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"round",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({round:e}){this.round=Ve(e)}getEncodingSchema(){return Hs.encodingSchema}toEncodingData(){return new Map([["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded GetSyncRoundResponse: ${e}`);return new Hs({round:e.get("round")})}}class so{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"Delta",valueSchema:Kn.encodingSchema,omitEmpty:!0},{key:"Ids",valueSchema:new tt(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({delta:e,ids:t}){this.delta=e,this.ids=t}getEncodingSchema(){return so.encodingSchema}toEncodingData(){return new Map([["Delta",this.delta.toEncodingData()],["Ids",this.ids]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LedgerStateDeltaForTransactionGroup: ${e}`);return new so({delta:Kn.fromEncodingData(e.get("Delta")??new Map),ids:e.get("Ids")})}}let O3=class Rp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new ue,omitEmpty:!0},{key:"proof",valueSchema:new ot,omitEmpty:!0},{key:"treedepth",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,proof:t,treedepth:r}){this.index=st(e),this.proof=typeof t=="string"?pt(t):t,this.treedepth=st(r)}getEncodingSchema(){return Rp.encodingSchema}toEncodingData(){return new Map([["index",this.index],["proof",this.proof],["treedepth",this.treedepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LightBlockHeaderProof: ${e}`);return new Rp({index:e.get("index"),proof:e.get("proof"),treedepth:e.get("treedepth")})}};class co{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"catchup-time",valueSchema:new ue,omitEmpty:!0},{key:"last-round",valueSchema:new ue,omitEmpty:!0},{key:"last-version",valueSchema:new ze,omitEmpty:!0},{key:"next-version",valueSchema:new ze,omitEmpty:!0},{key:"next-version-round",valueSchema:new ue,omitEmpty:!0},{key:"next-version-supported",valueSchema:new qt,omitEmpty:!0},{key:"stopped-at-unsupported-round",valueSchema:new qt,omitEmpty:!0},{key:"time-since-last-round",valueSchema:new ue,omitEmpty:!0},{key:"catchpoint",valueSchema:new Z(new ze),omitEmpty:!0},{key:"catchpoint-acquired-blocks",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-processed-accounts",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-processed-kvs",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-total-accounts",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-total-blocks",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-total-kvs",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-verified-accounts",valueSchema:new Z(new ue),omitEmpty:!0},{key:"catchpoint-verified-kvs",valueSchema:new Z(new ue),omitEmpty:!0},{key:"last-catchpoint",valueSchema:new Z(new ze),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-next-protocol-vote-before",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-no-votes",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-node-vote",valueSchema:new Z(new qt),omitEmpty:!0},{key:"upgrade-vote-rounds",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-votes",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-votes-required",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-yes-votes",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({catchupTime:e,lastRound:t,lastVersion:r,nextVersion:a,nextVersionRound:n,nextVersionSupported:s,stoppedAtUnsupportedRound:c,timeSinceLastRound:u,catchpoint:h,catchpointAcquiredBlocks:f,catchpointProcessedAccounts:g,catchpointProcessedKvs:b,catchpointTotalAccounts:M,catchpointTotalBlocks:_,catchpointTotalKvs:D,catchpointVerifiedAccounts:R,catchpointVerifiedKvs:A,lastCatchpoint:I,upgradeDelay:N,upgradeNextProtocolVoteBefore:$,upgradeNoVotes:V,upgradeNodeVote:U,upgradeVoteRounds:J,upgradeVotes:Y,upgradeVotesRequired:oe,upgradeYesVotes:G}){this.catchupTime=Ve(e),this.lastRound=Ve(t),this.lastVersion=r,this.nextVersion=a,this.nextVersionRound=Ve(n),this.nextVersionSupported=s,this.stoppedAtUnsupportedRound=c,this.timeSinceLastRound=Ve(u),this.catchpoint=h,this.catchpointAcquiredBlocks=typeof f>"u"?void 0:st(f),this.catchpointProcessedAccounts=typeof g>"u"?void 0:st(g),this.catchpointProcessedKvs=typeof b>"u"?void 0:st(b),this.catchpointTotalAccounts=typeof M>"u"?void 0:st(M),this.catchpointTotalBlocks=typeof _>"u"?void 0:st(_),this.catchpointTotalKvs=typeof D>"u"?void 0:st(D),this.catchpointVerifiedAccounts=typeof R>"u"?void 0:st(R),this.catchpointVerifiedKvs=typeof A>"u"?void 0:st(A),this.lastCatchpoint=I,this.upgradeDelay=typeof N>"u"?void 0:Ve(N),this.upgradeNextProtocolVoteBefore=typeof $>"u"?void 0:Ve($),this.upgradeNoVotes=typeof V>"u"?void 0:st(V),this.upgradeNodeVote=U,this.upgradeVoteRounds=typeof J>"u"?void 0:st(J),this.upgradeVotes=typeof Y>"u"?void 0:st(Y),this.upgradeVotesRequired=typeof oe>"u"?void 0:st(oe),this.upgradeYesVotes=typeof G>"u"?void 0:st(G)}getEncodingSchema(){return co.encodingSchema}toEncodingData(){return new Map([["catchup-time",this.catchupTime],["last-round",this.lastRound],["last-version",this.lastVersion],["next-version",this.nextVersion],["next-version-round",this.nextVersionRound],["next-version-supported",this.nextVersionSupported],["stopped-at-unsupported-round",this.stoppedAtUnsupportedRound],["time-since-last-round",this.timeSinceLastRound],["catchpoint",this.catchpoint],["catchpoint-acquired-blocks",this.catchpointAcquiredBlocks],["catchpoint-processed-accounts",this.catchpointProcessedAccounts],["catchpoint-processed-kvs",this.catchpointProcessedKvs],["catchpoint-total-accounts",this.catchpointTotalAccounts],["catchpoint-total-blocks",this.catchpointTotalBlocks],["catchpoint-total-kvs",this.catchpointTotalKvs],["catchpoint-verified-accounts",this.catchpointVerifiedAccounts],["catchpoint-verified-kvs",this.catchpointVerifiedKvs],["last-catchpoint",this.lastCatchpoint],["upgrade-delay",this.upgradeDelay],["upgrade-next-protocol-vote-before",this.upgradeNextProtocolVoteBefore],["upgrade-no-votes",this.upgradeNoVotes],["upgrade-node-vote",this.upgradeNodeVote],["upgrade-vote-rounds",this.upgradeVoteRounds],["upgrade-votes",this.upgradeVotes],["upgrade-votes-required",this.upgradeVotesRequired],["upgrade-yes-votes",this.upgradeYesVotes]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded NodeStatusResponse: ${e}`);return new co({catchupTime:e.get("catchup-time"),lastRound:e.get("last-round"),lastVersion:e.get("last-version"),nextVersion:e.get("next-version"),nextVersionRound:e.get("next-version-round"),nextVersionSupported:e.get("next-version-supported"),stoppedAtUnsupportedRound:e.get("stopped-at-unsupported-round"),timeSinceLastRound:e.get("time-since-last-round"),catchpoint:e.get("catchpoint"),catchpointAcquiredBlocks:e.get("catchpoint-acquired-blocks"),catchpointProcessedAccounts:e.get("catchpoint-processed-accounts"),catchpointProcessedKvs:e.get("catchpoint-processed-kvs"),catchpointTotalAccounts:e.get("catchpoint-total-accounts"),catchpointTotalBlocks:e.get("catchpoint-total-blocks"),catchpointTotalKvs:e.get("catchpoint-total-kvs"),catchpointVerifiedAccounts:e.get("catchpoint-verified-accounts"),catchpointVerifiedKvs:e.get("catchpoint-verified-kvs"),lastCatchpoint:e.get("last-catchpoint"),upgradeDelay:e.get("upgrade-delay"),upgradeNextProtocolVoteBefore:e.get("upgrade-next-protocol-vote-before"),upgradeNoVotes:e.get("upgrade-no-votes"),upgradeNodeVote:e.get("upgrade-node-vote"),upgradeVoteRounds:e.get("upgrade-vote-rounds"),upgradeVotes:e.get("upgrade-votes"),upgradeVotesRequired:e.get("upgrade-votes-required"),upgradeYesVotes:e.get("upgrade-yes-votes")})}}class qn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"pool-error",valueSchema:new ze,omitEmpty:!0},{key:"txn",valueSchema:rr.encodingSchema,omitEmpty:!0},{key:"application-index",valueSchema:new Z(new ue),omitEmpty:!0},{key:"asset-closing-amount",valueSchema:new Z(new ue),omitEmpty:!0},{key:"asset-index",valueSchema:new Z(new ue),omitEmpty:!0},{key:"close-rewards",valueSchema:new Z(new ue),omitEmpty:!0},{key:"closing-amount",valueSchema:new Z(new ue),omitEmpty:!0},{key:"confirmed-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"global-state-delta",valueSchema:new Z(new tt(Sa.encodingSchema)),omitEmpty:!0},{key:"inner-txns",valueSchema:new Z(new tt(qn.encodingSchema)),omitEmpty:!0},{key:"local-state-delta",valueSchema:new Z(new tt(Ns.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new Z(new tt(new ot)),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sender-rewards",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({poolError:e,txn:t,applicationIndex:r,assetClosingAmount:a,assetIndex:n,closeRewards:s,closingAmount:c,confirmedRound:u,globalStateDelta:h,innerTxns:f,localStateDelta:g,logs:b,receiverRewards:M,senderRewards:_}){this.poolError=e,this.txn=t,this.applicationIndex=typeof r>"u"?void 0:Ve(r),this.assetClosingAmount=typeof a>"u"?void 0:Ve(a),this.assetIndex=typeof n>"u"?void 0:Ve(n),this.closeRewards=typeof s>"u"?void 0:Ve(s),this.closingAmount=typeof c>"u"?void 0:Ve(c),this.confirmedRound=typeof u>"u"?void 0:Ve(u),this.globalStateDelta=h,this.innerTxns=f,this.localStateDelta=g,this.logs=b,this.receiverRewards=typeof M>"u"?void 0:Ve(M),this.senderRewards=typeof _>"u"?void 0:Ve(_)}getEncodingSchema(){return qn.encodingSchema}toEncodingData(){return new Map([["pool-error",this.poolError],["txn",this.txn.toEncodingData()],["application-index",this.applicationIndex],["asset-closing-amount",this.assetClosingAmount],["asset-index",this.assetIndex],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["receiver-rewards",this.receiverRewards],["sender-rewards",this.senderRewards]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionResponse: ${e}`);return new qn({poolError:e.get("pool-error"),txn:rr.fromEncodingData(e.get("txn")??new Map),applicationIndex:e.get("application-index"),assetClosingAmount:e.get("asset-closing-amount"),assetIndex:e.get("asset-index"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>Sa.fromEncodingData(t)):void 0,innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>qn.fromEncodingData(t)):void 0,localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>Ns.fromEncodingData(t)):void 0,logs:e.get("logs"),receiverRewards:e.get("receiver-rewards"),senderRewards:e.get("sender-rewards")})}}class fo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"top-transactions",valueSchema:new tt(rr.encodingSchema),omitEmpty:!0},{key:"total-transactions",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({topTransactions:e,totalTransactions:t}){this.topTransactions=e,this.totalTransactions=st(t)}getEncodingSchema(){return fo.encodingSchema}toEncodingData(){return new Map([["top-transactions",this.topTransactions.map(e=>e.toEncodingData())],["total-transactions",this.totalTransactions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PendingTransactionsResponse: ${e}`);return new fo({topTransactions:(e.get("top-transactions")??[]).map(t=>rr.fromEncodingData(t)),totalTransactions:e.get("total-transactions")})}}class Gs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"txId",valueSchema:new ze,omitEmpty:!0})),this.encodingSchemaValue}constructor({txid:e}){this.txid=e}getEncodingSchema(){return Gs.encodingSchema}toEncodingData(){return new Map([["txId",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded PostTransactionsResponse: ${e}`);return new Gs({txid:e.get("txId")})}}class ho{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"new-value",valueSchema:Kr.encodingSchema,omitEmpty:!0},{key:"slot",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({newValue:e,slot:t}){this.newValue=e,this.slot=st(t)}getEncodingSchema(){return ho.encodingSchema}toEncodingData(){return new Map([["new-value",this.newValue.toEncodingData()],["slot",this.slot]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ScratchChange: ${e}`);return new ho({newValue:Kr.fromEncodingData(e.get("new-value")??new Map),slot:e.get("slot")})}}class uo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"app-initial-states",valueSchema:new Z(new tt(Xa.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({appInitialStates:e}){this.appInitialStates=e}getEncodingSchema(){return uo.encodingSchema}toEncodingData(){return new Map([["app-initial-states",typeof this.appInitialStates<"u"?this.appInitialStates.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateInitialStates: ${e}`);return new uo({appInitialStates:typeof e.get("app-initial-states")<"u"?e.get("app-initial-states").map(t=>Xa.fromEncodingData(t)):void 0})}}class lo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"txn-groups",valueSchema:new tt(hi.encodingSchema),omitEmpty:!0},{key:"allow-empty-signatures",valueSchema:new Z(new qt),omitEmpty:!0},{key:"allow-more-logging",valueSchema:new Z(new qt),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new Z(new qt),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new Z(ui.encodingSchema),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new Z(new ue),omitEmpty:!0},{key:"fix-signers",valueSchema:new Z(new qt),omitEmpty:!0},{key:"round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnGroups:e,allowEmptySignatures:t,allowMoreLogging:r,allowUnnamedResources:a,execTraceConfig:n,extraOpcodeBudget:s,fixSigners:c,round:u}){this.txnGroups=e,this.allowEmptySignatures=t,this.allowMoreLogging=r,this.allowUnnamedResources=a,this.execTraceConfig=n,this.extraOpcodeBudget=typeof s>"u"?void 0:st(s),this.fixSigners=c,this.round=typeof u>"u"?void 0:Ve(u)}getEncodingSchema(){return lo.encodingSchema}toEncodingData(){return new Map([["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["allow-empty-signatures",this.allowEmptySignatures],["allow-more-logging",this.allowMoreLogging],["allow-unnamed-resources",this.allowUnnamedResources],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["round",this.round]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequest: ${e}`);return new lo({txnGroups:(e.get("txn-groups")??[]).map(t=>hi.fromEncodingData(t)),allowEmptySignatures:e.get("allow-empty-signatures"),allowMoreLogging:e.get("allow-more-logging"),allowUnnamedResources:e.get("allow-unnamed-resources"),execTraceConfig:typeof e.get("exec-trace-config")<"u"?ui.fromEncodingData(e.get("exec-trace-config")):void 0,extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),round:e.get("round")})}}class hi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"txns",valueSchema:new tt(rr.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txns:e}){this.txns=e}getEncodingSchema(){return hi.encodingSchema}toEncodingData(){return new Map([["txns",this.txns.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateRequestTransactionGroup: ${e}`);return new hi({txns:(e.get("txns")??[]).map(t=>rr.fromEncodingData(t))})}}class Ks{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"last-round",valueSchema:new ue,omitEmpty:!0},{key:"txn-groups",valueSchema:new tt(po.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new ue,omitEmpty:!0},{key:"eval-overrides",valueSchema:new Z(mo.encodingSchema),omitEmpty:!0},{key:"exec-trace-config",valueSchema:new Z(ui.encodingSchema),omitEmpty:!0},{key:"initial-states",valueSchema:new Z(uo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lastRound:e,txnGroups:t,version:r,evalOverrides:a,execTraceConfig:n,initialStates:s}){this.lastRound=Ve(e),this.txnGroups=t,this.version=st(r),this.evalOverrides=a,this.execTraceConfig=n,this.initialStates=s}getEncodingSchema(){return Ks.encodingSchema}toEncodingData(){return new Map([["last-round",this.lastRound],["txn-groups",this.txnGroups.map(e=>e.toEncodingData())],["version",this.version],["eval-overrides",typeof this.evalOverrides<"u"?this.evalOverrides.toEncodingData():void 0],["exec-trace-config",typeof this.execTraceConfig<"u"?this.execTraceConfig.toEncodingData():void 0],["initial-states",typeof this.initialStates<"u"?this.initialStates.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateResponse: ${e}`);return new Ks({lastRound:e.get("last-round"),txnGroups:(e.get("txn-groups")??[]).map(t=>po.fromEncodingData(t)),version:e.get("version"),evalOverrides:typeof e.get("eval-overrides")<"u"?mo.fromEncodingData(e.get("eval-overrides")):void 0,execTraceConfig:typeof e.get("exec-trace-config")<"u"?ui.fromEncodingData(e.get("exec-trace-config")):void 0,initialStates:typeof e.get("initial-states")<"u"?uo.fromEncodingData(e.get("initial-states")):void 0})}}class ui{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"enable",valueSchema:new Z(new qt),omitEmpty:!0},{key:"scratch-change",valueSchema:new Z(new qt),omitEmpty:!0},{key:"stack-change",valueSchema:new Z(new qt),omitEmpty:!0},{key:"state-change",valueSchema:new Z(new qt),omitEmpty:!0})),this.encodingSchemaValue}constructor({enable:e,scratchChange:t,stackChange:r,stateChange:a}){this.enable=e,this.scratchChange=t,this.stackChange=r,this.stateChange=a}getEncodingSchema(){return ui.encodingSchema}toEncodingData(){return new Map([["enable",this.enable],["scratch-change",this.scratchChange],["stack-change",this.stackChange],["state-change",this.stateChange]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTraceConfig: ${e}`);return new ui({enable:e.get("enable"),scratchChange:e.get("scratch-change"),stackChange:e.get("stack-change"),stateChange:e.get("state-change")})}}class po{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"txn-results",valueSchema:new tt(go.encodingSchema),omitEmpty:!0},{key:"app-budget-added",valueSchema:new Z(new ue),omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"failed-at",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"failure-message",valueSchema:new Z(new ze),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new Z(li.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResults:e,appBudgetAdded:t,appBudgetConsumed:r,failedAt:a,failureMessage:n,unnamedResourcesAccessed:s}){this.txnResults=e,this.appBudgetAdded=typeof t>"u"?void 0:st(t),this.appBudgetConsumed=typeof r>"u"?void 0:st(r),this.failedAt=typeof a>"u"?void 0:a.map(st),this.failureMessage=n,this.unnamedResourcesAccessed=s}getEncodingSchema(){return po.encodingSchema}toEncodingData(){return new Map([["txn-results",this.txnResults.map(e=>e.toEncodingData())],["app-budget-added",this.appBudgetAdded],["app-budget-consumed",this.appBudgetConsumed],["failed-at",this.failedAt],["failure-message",this.failureMessage],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionGroupResult: ${e}`);return new po({txnResults:(e.get("txn-results")??[]).map(t=>go.fromEncodingData(t)),appBudgetAdded:e.get("app-budget-added"),appBudgetConsumed:e.get("app-budget-consumed"),failedAt:e.get("failed-at"),failureMessage:e.get("failure-message"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?li.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class go{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"txn-result",valueSchema:qn.encodingSchema,omitEmpty:!0},{key:"app-budget-consumed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"exec-trace",valueSchema:new Z(ai.encodingSchema),omitEmpty:!0},{key:"fixed-signer",valueSchema:new Z(new ze),omitEmpty:!0},{key:"logic-sig-budget-consumed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"unnamed-resources-accessed",valueSchema:new Z(li.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({txnResult:e,appBudgetConsumed:t,execTrace:r,fixedSigner:a,logicSigBudgetConsumed:n,unnamedResourcesAccessed:s}){this.txnResult=e,this.appBudgetConsumed=typeof t>"u"?void 0:st(t),this.execTrace=r,this.fixedSigner=typeof a=="string"?Ct.fromString(a):a,this.logicSigBudgetConsumed=typeof n>"u"?void 0:st(n),this.unnamedResourcesAccessed=s}getEncodingSchema(){return go.encodingSchema}toEncodingData(){return new Map([["txn-result",this.txnResult.toEncodingData()],["app-budget-consumed",this.appBudgetConsumed],["exec-trace",typeof this.execTrace<"u"?this.execTrace.toEncodingData():void 0],["fixed-signer",typeof this.fixedSigner<"u"?this.fixedSigner.toString():void 0],["logic-sig-budget-consumed",this.logicSigBudgetConsumed],["unnamed-resources-accessed",typeof this.unnamedResourcesAccessed<"u"?this.unnamedResourcesAccessed.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateTransactionResult: ${e}`);return new go({txnResult:qn.fromEncodingData(e.get("txn-result")??new Map),appBudgetConsumed:e.get("app-budget-consumed"),execTrace:typeof e.get("exec-trace")<"u"?ai.fromEncodingData(e.get("exec-trace")):void 0,fixedSigner:e.get("fixed-signer"),logicSigBudgetConsumed:e.get("logic-sig-budget-consumed"),unnamedResourcesAccessed:typeof e.get("unnamed-resources-accessed")<"u"?li.fromEncodingData(e.get("unnamed-resources-accessed")):void 0})}}class li{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"app-locals",valueSchema:new Z(new tt(Za.encodingSchema)),omitEmpty:!0},{key:"apps",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"asset-holdings",valueSchema:new Z(new tt(to.encodingSchema)),omitEmpty:!0},{key:"assets",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"boxes",valueSchema:new Z(new tt(Sp.encodingSchema)),omitEmpty:!0},{key:"extra-box-refs",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,appLocals:t,apps:r,assetHoldings:a,assets:n,boxes:s,extraBoxRefs:c}){this.accounts=typeof e<"u"?e.map(u=>typeof u=="string"?Ct.fromString(u):u):void 0,this.appLocals=t,this.apps=typeof r>"u"?void 0:r.map(Ve),this.assetHoldings=a,this.assets=typeof n>"u"?void 0:n.map(Ve),this.boxes=s,this.extraBoxRefs=typeof c>"u"?void 0:st(c)}getEncodingSchema(){return li.encodingSchema}toEncodingData(){return new Map([["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["app-locals",typeof this.appLocals<"u"?this.appLocals.map(e=>e.toEncodingData()):void 0],["apps",this.apps],["asset-holdings",typeof this.assetHoldings<"u"?this.assetHoldings.map(e=>e.toEncodingData()):void 0],["assets",this.assets],["boxes",typeof this.boxes<"u"?this.boxes.map(e=>e.toEncodingData()):void 0],["extra-box-refs",this.extraBoxRefs]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulateUnnamedResourcesAccessed: ${e}`);return new li({accounts:e.get("accounts"),appLocals:typeof e.get("app-locals")<"u"?e.get("app-locals").map(t=>Za.fromEncodingData(t)):void 0,apps:e.get("apps"),assetHoldings:typeof e.get("asset-holdings")<"u"?e.get("asset-holdings").map(t=>to.fromEncodingData(t)):void 0,assets:e.get("assets"),boxes:typeof e.get("boxes")<"u"?e.get("boxes").map(t=>Sp.fromEncodingData(t)):void 0,extraBoxRefs:e.get("extra-box-refs")})}}class mo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"allow-empty-signatures",valueSchema:new Z(new qt),omitEmpty:!0},{key:"allow-unnamed-resources",valueSchema:new Z(new qt),omitEmpty:!0},{key:"extra-opcode-budget",valueSchema:new Z(new ue),omitEmpty:!0},{key:"fix-signers",valueSchema:new Z(new qt),omitEmpty:!0},{key:"max-log-calls",valueSchema:new Z(new ue),omitEmpty:!0},{key:"max-log-size",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({allowEmptySignatures:e,allowUnnamedResources:t,extraOpcodeBudget:r,fixSigners:a,maxLogCalls:n,maxLogSize:s}){this.allowEmptySignatures=e,this.allowUnnamedResources=t,this.extraOpcodeBudget=typeof r>"u"?void 0:st(r),this.fixSigners=a,this.maxLogCalls=typeof n>"u"?void 0:st(n),this.maxLogSize=typeof s>"u"?void 0:st(s)}getEncodingSchema(){return mo.encodingSchema}toEncodingData(){return new Map([["allow-empty-signatures",this.allowEmptySignatures],["allow-unnamed-resources",this.allowUnnamedResources],["extra-opcode-budget",this.extraOpcodeBudget],["fix-signers",this.fixSigners],["max-log-calls",this.maxLogCalls],["max-log-size",this.maxLogSize]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationEvalOverrides: ${e}`);return new mo({allowEmptySignatures:e.get("allow-empty-signatures"),allowUnnamedResources:e.get("allow-unnamed-resources"),extraOpcodeBudget:e.get("extra-opcode-budget"),fixSigners:e.get("fix-signers"),maxLogCalls:e.get("max-log-calls"),maxLogSize:e.get("max-log-size")})}}class bn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"pc",valueSchema:new ue,omitEmpty:!0},{key:"scratch-changes",valueSchema:new Z(new tt(ho.encodingSchema)),omitEmpty:!0},{key:"spawned-inners",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"stack-additions",valueSchema:new Z(new tt(Kr.encodingSchema)),omitEmpty:!0},{key:"stack-pop-count",valueSchema:new Z(new ue),omitEmpty:!0},{key:"state-changes",valueSchema:new Z(new tt(eo.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({pc:e,scratchChanges:t,spawnedInners:r,stackAdditions:a,stackPopCount:n,stateChanges:s}){this.pc=st(e),this.scratchChanges=t,this.spawnedInners=typeof r>"u"?void 0:r.map(st),this.stackAdditions=a,this.stackPopCount=typeof n>"u"?void 0:st(n),this.stateChanges=s}getEncodingSchema(){return bn.encodingSchema}toEncodingData(){return new Map([["pc",this.pc],["scratch-changes",typeof this.scratchChanges<"u"?this.scratchChanges.map(e=>e.toEncodingData()):void 0],["spawned-inners",this.spawnedInners],["stack-additions",typeof this.stackAdditions<"u"?this.stackAdditions.map(e=>e.toEncodingData()):void 0],["stack-pop-count",this.stackPopCount],["state-changes",typeof this.stateChanges<"u"?this.stateChanges.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationOpcodeTraceUnit: ${e}`);return new bn({pc:e.get("pc"),scratchChanges:typeof e.get("scratch-changes")<"u"?e.get("scratch-changes").map(t=>ho.fromEncodingData(t)):void 0,spawnedInners:e.get("spawned-inners"),stackAdditions:typeof e.get("stack-additions")<"u"?e.get("stack-additions").map(t=>Kr.fromEncodingData(t)):void 0,stackPopCount:e.get("stack-pop-count"),stateChanges:typeof e.get("state-changes")<"u"?e.get("state-changes").map(t=>eo.fromEncodingData(t)):void 0})}}class ai{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"approval-program-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"approval-program-trace",valueSchema:new Z(new tt(bn.encodingSchema)),omitEmpty:!0},{key:"clear-state-program-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"clear-state-program-trace",valueSchema:new Z(new tt(bn.encodingSchema)),omitEmpty:!0},{key:"clear-state-rollback",valueSchema:new Z(new qt),omitEmpty:!0},{key:"clear-state-rollback-error",valueSchema:new Z(new ze),omitEmpty:!0},{key:"inner-trace",valueSchema:new Z(new tt(ai.encodingSchema)),omitEmpty:!0},{key:"logic-sig-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"logic-sig-trace",valueSchema:new Z(new tt(bn.encodingSchema)),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgramHash:e,approvalProgramTrace:t,clearStateProgramHash:r,clearStateProgramTrace:a,clearStateRollback:n,clearStateRollbackError:s,innerTrace:c,logicSigHash:u,logicSigTrace:h}){this.approvalProgramHash=typeof e=="string"?pt(e):e,this.approvalProgramTrace=t,this.clearStateProgramHash=typeof r=="string"?pt(r):r,this.clearStateProgramTrace=a,this.clearStateRollback=n,this.clearStateRollbackError=s,this.innerTrace=c,this.logicSigHash=typeof u=="string"?pt(u):u,this.logicSigTrace=h}getEncodingSchema(){return ai.encodingSchema}toEncodingData(){return new Map([["approval-program-hash",this.approvalProgramHash],["approval-program-trace",typeof this.approvalProgramTrace<"u"?this.approvalProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-program-hash",this.clearStateProgramHash],["clear-state-program-trace",typeof this.clearStateProgramTrace<"u"?this.clearStateProgramTrace.map(e=>e.toEncodingData()):void 0],["clear-state-rollback",this.clearStateRollback],["clear-state-rollback-error",this.clearStateRollbackError],["inner-trace",typeof this.innerTrace<"u"?this.innerTrace.map(e=>e.toEncodingData()):void 0],["logic-sig-hash",this.logicSigHash],["logic-sig-trace",typeof this.logicSigTrace<"u"?this.logicSigTrace.map(e=>e.toEncodingData()):void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SimulationTransactionExecTrace: ${e}`);return new ai({approvalProgramHash:e.get("approval-program-hash"),approvalProgramTrace:typeof e.get("approval-program-trace")<"u"?e.get("approval-program-trace").map(t=>bn.fromEncodingData(t)):void 0,clearStateProgramHash:e.get("clear-state-program-hash"),clearStateProgramTrace:typeof e.get("clear-state-program-trace")<"u"?e.get("clear-state-program-trace").map(t=>bn.fromEncodingData(t)):void 0,clearStateRollback:e.get("clear-state-rollback"),clearStateRollbackError:e.get("clear-state-rollback-error"),innerTrace:typeof e.get("inner-trace")<"u"?e.get("inner-trace").map(t=>ai.fromEncodingData(t)):void 0,logicSigHash:e.get("logic-sig-hash"),logicSigTrace:typeof e.get("logic-sig-trace")<"u"?e.get("logic-sig-trace").map(t=>bn.fromEncodingData(t)):void 0})}}let L3=class Tp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"Message",valueSchema:vo.encodingSchema,omitEmpty:!0},{key:"StateProof",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateproof:t}){this.message=e,this.stateproof=typeof t=="string"?pt(t):t}getEncodingSchema(){return Tp.encodingSchema}toEncodingData(){return new Map([["Message",this.message.toEncodingData()],["StateProof",this.stateproof]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProof: ${e}`);return new Tp({message:vo.fromEncodingData(e.get("Message")??new Map),stateproof:e.get("StateProof")})}};class vo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"BlockHeadersCommitment",valueSchema:new ot,omitEmpty:!0},{key:"FirstAttestedRound",valueSchema:new ue,omitEmpty:!0},{key:"LastAttestedRound",valueSchema:new ue,omitEmpty:!0},{key:"LnProvenWeight",valueSchema:new ue,omitEmpty:!0},{key:"VotersCommitment",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({blockheaderscommitment:e,firstattestedround:t,lastattestedround:r,lnprovenweight:a,voterscommitment:n}){this.blockheaderscommitment=typeof e=="string"?pt(e):e,this.firstattestedround=Ve(t),this.lastattestedround=Ve(r),this.lnprovenweight=Ve(a),this.voterscommitment=typeof n=="string"?pt(n):n}getEncodingSchema(){return vo.encodingSchema}toEncodingData(){return new Map([["BlockHeadersCommitment",this.blockheaderscommitment],["FirstAttestedRound",this.firstattestedround],["LastAttestedRound",this.lastattestedround],["LnProvenWeight",this.lnprovenweight],["VotersCommitment",this.voterscommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofMessage: ${e}`);return new vo({blockheaderscommitment:e.get("BlockHeadersCommitment"),firstattestedround:e.get("FirstAttestedRound"),lastattestedround:e.get("LastAttestedRound"),lnprovenweight:e.get("LnProvenWeight"),voterscommitment:e.get("VotersCommitment")})}}class Js{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"current_round",valueSchema:new ue,omitEmpty:!0},{key:"online-money",valueSchema:new ue,omitEmpty:!0},{key:"total-money",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,onlineMoney:t,totalMoney:r}){this.currentRound=Ve(e),this.onlineMoney=Ve(t),this.totalMoney=Ve(r)}getEncodingSchema(){return Js.encodingSchema}toEncodingData(){return new Map([["current_round",this.currentRound],["online-money",this.onlineMoney],["total-money",this.totalMoney]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded SupplyResponse: ${e}`);return new Js({currentRound:e.get("current_round"),onlineMoney:e.get("online-money"),totalMoney:e.get("total-money")})}}let Ys=class Bp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ot,omitEmpty:!0},{key:"value",valueSchema:Ci.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?pt(e):e,this.value=t}getEncodingSchema(){return Bp.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new Bp({key:e.get("key"),value:Ci.fromEncodingData(e.get("value")??new Map)})}},Ci=class Fp{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ot,omitEmpty:!0},{key:"type",valueSchema:new ue,omitEmpty:!0},{key:"uint",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?pt(e):e,this.type=st(t),this.uint=Ve(r)}getEncodingSchema(){return Fp.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new Fp({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}};class Xs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"Deltas",valueSchema:new tt(so.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({deltas:e}){this.deltas=e}getEncodingSchema(){return Xs.encodingSchema}toEncodingData(){return new Map([["Deltas",this.deltas.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionGroupLedgerStateDeltasForRoundResponse: ${e}`);return new Xs({deltas:(e.get("Deltas")??[]).map(t=>so.fromEncodingData(t))})}}class Zs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"consensus-version",valueSchema:new ze,omitEmpty:!0},{key:"fee",valueSchema:new ue,omitEmpty:!0},{key:"genesis-hash",valueSchema:new ot,omitEmpty:!0},{key:"genesis-id",valueSchema:new ze,omitEmpty:!0},{key:"last-round",valueSchema:new ue,omitEmpty:!0},{key:"min-fee",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({consensusVersion:e,fee:t,genesisHash:r,genesisId:a,lastRound:n,minFee:s}){this.consensusVersion=e,this.fee=Ve(t),this.genesisHash=typeof r=="string"?pt(r):r,this.genesisId=a,this.lastRound=Ve(n),this.minFee=Ve(s)}getEncodingSchema(){return Zs.encodingSchema}toEncodingData(){return new Map([["consensus-version",this.consensusVersion],["fee",this.fee],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["last-round",this.lastRound],["min-fee",this.minFee]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionParametersResponse: ${e}`);return new Zs({consensusVersion:e.get("consensus-version"),fee:e.get("fee"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),lastRound:e.get("last-round"),minFee:e.get("min-fee")})}}class Qs{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"idx",valueSchema:new ue,omitEmpty:!0},{key:"proof",valueSchema:new ot,omitEmpty:!0},{key:"stibhash",valueSchema:new ot,omitEmpty:!0},{key:"treedepth",valueSchema:new ue,omitEmpty:!0},{key:"hashtype",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({idx:e,proof:t,stibhash:r,treedepth:a,hashtype:n}){this.idx=st(e),this.proof=typeof t=="string"?pt(t):t,this.stibhash=typeof r=="string"?pt(r):r,this.treedepth=st(a),this.hashtype=n}getEncodingSchema(){return Qs.encodingSchema}toEncodingData(){return new Map([["idx",this.idx],["proof",this.proof],["stibhash",this.stibhash],["treedepth",this.treedepth],["hashtype",this.hashtype]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionProof: ${e}`);return new Qs({idx:e.get("idx"),proof:e.get("proof"),stibhash:e.get("stibhash"),treedepth:e.get("treedepth"),hashtype:e.get("hashtype")})}}class ec{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"build",valueSchema:no.encodingSchema,omitEmpty:!0},{key:"genesis_hash_b64",valueSchema:new ot,omitEmpty:!0},{key:"genesis_id",valueSchema:new ze,omitEmpty:!0},{key:"versions",valueSchema:new tt(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({build:e,genesisHashB64:t,genesisId:r,versions:a}){this.build=e,this.genesisHashB64=typeof t=="string"?pt(t):t,this.genesisId=r,this.versions=a}getEncodingSchema(){return ec.encodingSchema}toEncodingData(){return new Map([["build",this.build.toEncodingData()],["genesis_hash_b64",this.genesisHashB64],["genesis_id",this.genesisId],["versions",this.versions]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Version: ${e}`);return new ec({build:no.fromEncodingData(e.get("build")??new Map),genesisHashB64:e.get("genesis_hash_b64"),genesisId:e.get("genesis_id"),versions:e.get("versions")})}}const $5=Object.freeze(Object.defineProperty({__proto__:null,Account:_f,AccountApplicationResponse:Cs,AccountAssetHolding:Ja,AccountAssetResponse:Ps,AccountAssetsInformationResponse:Af,AccountParticipation:fp,AccountStateDelta:Ns,AppCallLogs:Ya,Application:wa,ApplicationInitialStates:Xa,ApplicationKVStorage:wn,ApplicationLocalReference:Za,ApplicationLocalState:Os,ApplicationParams:Qa,ApplicationStateOperation:eo,ApplicationStateSchema:on,Asset:kf,AssetHolding:ba,AssetHoldingReference:to,AssetParams:xa,AvmKeyValue:ro,AvmValue:Kr,BlockHashResponse:Ls,BlockLogsResponse:If,BlockResponse:Us,BlockTxidsResponse:$s,Box:P3,BoxDescriptor:bp,BoxReference:Sp,BoxesResponse:N3,BuildVersion:no,CompileResponse:qs,DisassembleResponse:Vs,DryrunRequest:zs,DryrunResponse:js,DryrunSource:io,DryrunState:ii,DryrunTxnResult:ao,ErrorResponse:L5,EvalDelta:Ap,EvalDeltaKeyValue:Sa,Genesis:U5,GenesisAllocation:oo,GetBlockTimeStampOffsetResponse:Ws,GetSyncRoundResponse:Hs,LedgerStateDeltaForTransactionGroup:so,LightBlockHeaderProof:O3,NodeStatusResponse:co,PendingTransactionResponse:qn,PendingTransactionsResponse:fo,PostTransactionsResponse:Gs,ScratchChange:ho,SimulateInitialStates:uo,SimulateRequest:lo,SimulateRequestTransactionGroup:hi,SimulateResponse:Ks,SimulateTraceConfig:ui,SimulateTransactionGroupResult:po,SimulateTransactionResult:go,SimulateUnnamedResourcesAccessed:li,SimulationEvalOverrides:mo,SimulationOpcodeTraceUnit:bn,SimulationTransactionExecTrace:ai,StateProof:L3,StateProofMessage:vo,SupplyResponse:Js,TealKeyValue:Ys,TealValue:Ci,TransactionGroupLedgerStateDeltasForRoundResponse:Xs,TransactionParametersResponse:Zs,TransactionProof:Qs,Version:ec},Symbol.toStringTag,{value:"Module"}));class Pt{constructor(e){this.c=e,this.query={}}executeRequest(e,t){return this.c.get({relativePath:this.path(),query:this.query,requestHeaders:e,customOptions:t})}async do(e,t){const r=await this.executeRequest(e,t);return this.prepare(r)}async doRaw(e,t){return(await this.executeRequest(e,t)).body}}class q5 extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}exclude(e){return this.query.exclude=e,this}prepare(e){return jt(e.getJSONText(),_f)}}class V5 extends Pt{constructor(e,t,r){super(e),this.account=t.toString(),this.assetID=BigInt(r)}path(){return`/v2/accounts/${this.account}/assets/${this.assetID}`}prepare(e){return jt(e.getJSONText(),Ps)}}class z5 extends Pt{constructor(e,t,r){super(e),this.account=t.toString(),this.applicationID=BigInt(r)}path(){return`/v2/accounts/${this.account}/applications/${this.applicationID}`}prepare(e){return jt(e.getJSONText(),Cs)}}let j5=class extends Pt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return fr(e.body,Us)}};function U3(i={}){let e=i;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...i},e["Content-Type"]="text/plain"),e}class W5 extends Pt{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/compile"}sourcemap(e=!0){return this.query.sourcemap=e,this}executeRequest(e,t){const r=U3(e);return this.c.post({relativePath:this.path(),data:An(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return jt(e.getJSONText(),qs)}}class H5 extends Pt{constructor(e,t){super(e),this.blob=Zr(t)}path(){return"/v2/teal/dryrun"}executeRequest(e,t){const r=U3(e);return this.c.post({relativePath:this.path(),data:this.blob,requestHeaders:r,customOptions:t})}prepare(e){return jt(e.getJSONText(),js)}}class G5 extends Pt{path(){return"/genesis"}prepare(e){return e.getJSONText()}}class K5 extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}prepare(e){return jt(e.getJSONText(),kf)}}class J5 extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}prepare(e){return jt(e.getJSONText(),wa)}}class Y5 extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/hash`}prepare(e){return jt(e.getJSONText(),Ls)}}class X5 extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/txids`}prepare(e){return jt(e.getJSONText(),$s)}}class Z5 extends Pt{constructor(e,t,r){super(e),this.index=BigInt(t);const a=Mr(r);this.query.name=encodeURI(`b64:${a}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return jt(e.getJSONText(),P3)}}class Q5 extends Pt{constructor(e,t){super(e),this.index=BigInt(t),this.query.max=0}path(){return`/v2/applications/${this.index}/boxes`}max(e){return this.query.max=e,this}prepare(e){return jt(e.getJSONText(),N3)}}let eE=class extends Pt{path(){return"/health"}prepare(e){}};class tE extends Pt{constructor(e,t){super(e),this.txid=t,this.query.format="msgpack"}prepare(e){return fr(e.body,qn)}path(){return`/v2/transactions/pending/${this.txid}`}max(e){return this.query.max=e,this}}class rE extends Pt{constructor(e){super(e),this.query.format="msgpack"}path(){return"/v2/transactions/pending"}prepare(e){return fr(e.body,fo)}max(e){return this.query.max=e,this}}class nE extends Pt{constructor(e,t){super(e),this.address=t.toString(),this.query.format="msgpack"}prepare(e){return fr(e.body,fo)}path(){return`/v2/accounts/${this.address}/transactions/pending`}max(e){return this.query.max=e,this}}class iE extends Pt{constructor(e,t,r){super(e),this.txID=r,this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/transactions/${this.txID}/proof`}hashType(e){return this.query.hashtype=e,this}prepare(e){return jt(e.getJSONText(),Qs)}}function aE(i={}){let e=i;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...i},e["Content-Type"]="application/x-binary"),e}function Sw(i){return i&&i.byteLength!==void 0}class oE extends Pt{constructor(e,t){super(e);let r=t;if(Array.isArray(t)){if(!t.every(Sw))throw new TypeError("Array elements must be byte arrays");r=dr(...t)}else if(!Sw(r))throw new TypeError("Argument must be byte array");this.txnBytesToPost=r}path(){return"/v2/transactions"}executeRequest(e,t){const r=aE(e);return this.c.post({relativePath:this.path(),data:this.txnBytesToPost,requestHeaders:r,customOptions:t})}prepare(e){return jt(e.getJSONText(),Gs)}}class sE extends Pt{path(){return"/v2/status"}prepare(e){return jt(e.getJSONText(),co)}}class cE extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/status/wait-for-block-after/${this.round}`}prepare(e){return jt(e.getJSONText(),co)}}class fE extends Pt{path(){return"/v2/transactions/params"}prepare(e){const t=jt(e.getJSONText(),Zs);return{flatFee:!1,fee:t.fee,firstValid:t.lastRound,lastValid:t.lastRound+BigInt(1e3),genesisID:t.genesisId,genesisHash:t.genesisHash,minFee:t.minFee,consensusVersion:t.consensusVersion}}}class hE extends Pt{path(){return"/v2/ledger/supply"}prepare(e){return jt(e.getJSONText(),Js)}}class uE extends Pt{path(){return"/versions"}prepare(e){return jt(e.getJSONText(),ec)}}class lE extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}/lightheader/proof`}prepare(e){return jt(e.getJSONText(),O3)}}class dE extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/stateproofs/${this.round}`}prepare(e){return jt(e.getJSONText(),L3)}}class pE extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/ledger/sync/${this.round}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class gE extends Pt{path(){return"/v2/ledger/sync"}prepare(e){return jt(e.getJSONText(),Hs)}}class mE extends Pt{constructor(e,t){super(e),this.offset=BigInt(t)}path(){return`/v2/devmode/blocks/offset/${this.offset}`}executeRequest(e,t){return this.c.post({relativePath:this.path(),data:null,requestHeaders:e,customOptions:t})}prepare(e){}}class vE extends Pt{path(){return"/v2/devmode/blocks/offset"}prepare(e){return jt(e.getJSONText(),Ws)}}function yE(i={}){let e=i;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...i},e["Content-Type"]="text/plain"),e}class wE extends Pt{constructor(e,t){super(e),this.source=t}path(){return"/v2/teal/disassemble"}executeRequest(e,t){const r=yE(e);return this.c.post({relativePath:this.path(),data:An(this.source),query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return jt(e.getJSONText(),Vs)}}function bE(i={}){let e=i;return Object.keys(e).every(t=>t.toLowerCase()!=="content-type")&&(e={...i},e["Content-Type"]="application/msgpack"),e}class xE extends Pt{constructor(e,t){super(e),this.query.format="msgpack",this.requestBytes=Zr(t)}path(){return"/v2/transactions/simulate"}executeRequest(e,t){const r=bE(e);return this.c.post({relativePath:this.path(),data:this.requestBytes,query:this.query,requestHeaders:r,customOptions:t})}prepare(e){return fr(e.body,Ks)}}class SE extends Pt{path(){return"/ready"}prepare(e){}}class EE extends Pt{path(){return"/v2/ledger/sync"}executeRequest(e,t){return this.c.delete({relativePath:this.path(),data:void 0,requestHeaders:e,customOptions:t})}prepare(e){}}class ME extends Pt{constructor(e,t){super(e),this.id=t,this.query={format:"msgpack"}}path(){return`/v2/deltas/txn/group/${this.id}`}prepare(e){return fr(e.body,Kn)}}class _E extends Pt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}`}prepare(e){return fr(e.body,Kn)}}class AE extends Pt{constructor(e,t){super(e),this.round=BigInt(t),this.query={format:"msgpack"}}path(){return`/v2/deltas/${this.round}/txn/group`}prepare(e){return fr(e.body,Xs)}}class kE extends Tg{constructor(e,t,r,a={}){super("X-Algo-API-Token",e,t,r,a)}healthCheck(){return new eE(this.c)}versionsCheck(){return new uE(this.c)}sendRawTransaction(e){return new oE(this.c,e)}accountInformation(e){return new q5(this.c,e)}accountAssetInformation(e,t){return new V5(this.c,e,t)}accountApplicationInformation(e,t){return new z5(this.c,e,t)}block(e){return new j5(this.c,e)}getBlockHash(e){return new Y5(this.c,e)}getBlockTxids(e){return new X5(this.c,e)}pendingTransactionInformation(e){return new tE(this.c,e)}pendingTransactionsInformation(){return new rE(this.c)}pendingTransactionByAddress(e){return new nE(this.c,e)}status(){return new sE(this.c)}statusAfterBlock(e){return new cE(this.c,e)}getTransactionParams(){return new fE(this.c)}supply(){return new hE(this.c)}compile(e){return new W5(this.c,e)}disassemble(e){return new wE(this.c,e)}dryrun(e){return new H5(this.c,e)}getAssetByID(e){return new K5(this.c,e)}getApplicationByID(e){return new J5(this.c,e)}getApplicationBoxByName(e,t){return new Z5(this.c,e,t)}getApplicationBoxes(e){return new Q5(this.c,e)}genesis(){return new G5(this.c)}getTransactionProof(e,t){return new iE(this.c,e,t)}getLightBlockHeaderProof(e){return new lE(this.c,e)}getStateProof(e){return new dE(this.c,e)}simulateRawTransactions(e){const t=[];if(Array.isArray(e))for(const a of e)t.push(fr(a,rr));else t.push(fr(e,rr));const r=new lo({txnGroups:[new hi({txns:t})]});return this.simulateTransactions(r)}simulateTransactions(e){return new xE(this.c,e)}setBlockOffsetTimestamp(e){return new mE(this.c,e)}getBlockOffsetTimestamp(){return new vE(this.c)}setSyncRound(e){return new pE(this.c,e)}unsetSyncRound(){return new EE(this.c)}getSyncRound(){return new gE(this.c)}ready(){return new SE(this.c)}getLedgerStateDeltaForTransactionGroup(e){return new ME(this.c,e)}getLedgerStateDelta(e){return new _E(this.c,e)}getTransactionGroupLedgerStateDeltasForRound(e){return new AE(this.c,e)}}class IE extends Tg{constructor(e,t="http://127.0.0.1",r=7833,a={}){super("X-KMD-API-Token",e,t,r,a)}async get(e){return(await this.c.get({relativePath:e})).parseBodyAsJSON({intDecoding:wr.SAFE})}async delete(e,t){return(await this.c.delete({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:wr.SAFE})}async post(e,t){return(await this.c.post({relativePath:e,data:t})).parseBodyAsJSON({intDecoding:wr.SAFE})}async versions(){return this.get("/versions")}async listWallets(){return this.get("/v1/wallets")}async createWallet(e,t,r=new Uint8Array,a="sqlite"){const n={wallet_name:e,wallet_driver_name:a,wallet_password:t,master_derivation_key:Mr(r)};return this.post("/v1/wallet",n)}async initWalletHandle(e,t){const r={wallet_id:e,wallet_password:t};return this.post("/v1/wallet/init",r)}async releaseWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/release",t)}async renewWalletHandle(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/renew",t)}async renameWallet(e,t,r){const a={wallet_id:e,wallet_password:t,wallet_name:r};return this.post("/v1/wallet/rename",a)}async getWallet(e){const t={wallet_handle_token:e};return this.post("/v1/wallet/info",t)}async exportMasterDerivationKey(e,t){const r={wallet_handle_token:e,wallet_password:t},a=await this.post("/v1/master-key/export",r);return{master_derivation_key:pt(a.master_derivation_key)}}async importKey(e,t){const r={wallet_handle_token:e,private_key:Mr(t)};return this.post("/v1/key/import",r)}async exportKey(e,t,r){const a={wallet_handle_token:e,address:r,wallet_password:t},n=await this.post("/v1/key/export",a);return{private_key:pt(n.private_key)}}async generateKey(e){const t={wallet_handle_token:e,display_mnemonic:!1};return this.post("/v1/key",t)}async deleteKey(e,t,r){const a={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/key",a)}async listKeys(e){const t={wallet_handle_token:e};return this.post("/v1/key/list",t)}async signTransaction(e,t,r){const a={wallet_handle_token:e,wallet_password:t,transaction:Mr(r.toByte())},n=await this.post("/v1/transaction/sign",a);return pt(n.signed_transaction)}async signTransactionWithSpecificPublicKey(e,t,r,a){const n=An(a),s={wallet_handle_token:e,wallet_password:t,transaction:Mr(r.toByte()),public_key:Mr(n)},c=await this.post("/v1/transaction/sign",s);return pt(c.signed_transaction)}async listMultisig(e){const t={wallet_handle_token:e};return this.post("/v1/multisig/list",t)}async importMultisig(e,t,r,a){const n={wallet_handle_token:e,multisig_version:t,threshold:r,pks:a};return this.post("/v1/multisig/import",n)}async exportMultisig(e,t){const r={wallet_handle_token:e,address:t};return this.post("/v1/multisig/export",r)}async signMultisigTransaction(e,t,r,a,n){const s=An(a),c={wallet_handle_token:e,transaction:Mr(r.toByte()),public_key:Mr(s),partial_multisig:n,wallet_password:t};return this.post("/v1/multisig/sign",c)}async deleteMultisig(e,t,r){const a={wallet_handle_token:e,address:r,wallet_password:t};return this.delete("/v1/multisig",a)}}class di{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"amount-without-pending-rewards",valueSchema:new ue,omitEmpty:!0},{key:"min-balance",valueSchema:new ue,omitEmpty:!0},{key:"pending-rewards",valueSchema:new ue,omitEmpty:!0},{key:"rewards",valueSchema:new ue,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"status",valueSchema:new ze,omitEmpty:!0},{key:"total-apps-opted-in",valueSchema:new ue,omitEmpty:!0},{key:"total-assets-opted-in",valueSchema:new ue,omitEmpty:!0},{key:"total-box-bytes",valueSchema:new ue,omitEmpty:!0},{key:"total-boxes",valueSchema:new ue,omitEmpty:!0},{key:"total-created-apps",valueSchema:new ue,omitEmpty:!0},{key:"total-created-assets",valueSchema:new ue,omitEmpty:!0},{key:"apps-local-state",valueSchema:new Z(new tt(pi.encodingSchema)),omitEmpty:!0},{key:"apps-total-extra-pages",valueSchema:new Z(new ue),omitEmpty:!0},{key:"apps-total-schema",valueSchema:new Z(Hr.encodingSchema),omitEmpty:!0},{key:"assets",valueSchema:new Z(new tt(gi.encodingSchema)),omitEmpty:!0},{key:"auth-addr",valueSchema:new Z(new ze),omitEmpty:!0},{key:"closed-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"created-apps",valueSchema:new Z(new tt(In.encodingSchema)),omitEmpty:!0},{key:"created-assets",valueSchema:new Z(new tt(Dn.encodingSchema)),omitEmpty:!0},{key:"created-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"incentive-eligible",valueSchema:new Z(new qt),omitEmpty:!0},{key:"last-heartbeat",valueSchema:new Z(new ue),omitEmpty:!0},{key:"last-proposed",valueSchema:new Z(new ue),omitEmpty:!0},{key:"participation",valueSchema:new Z(yo.encodingSchema),omitEmpty:!0},{key:"reward-base",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sig-type",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,amountWithoutPendingRewards:r,minBalance:a,pendingRewards:n,rewards:s,round:c,status:u,totalAppsOptedIn:h,totalAssetsOptedIn:f,totalBoxBytes:g,totalBoxes:b,totalCreatedApps:M,totalCreatedAssets:_,appsLocalState:D,appsTotalExtraPages:R,appsTotalSchema:A,assets:I,authAddr:N,closedAtRound:$,createdApps:V,createdAssets:U,createdAtRound:J,deleted:Y,incentiveEligible:oe,lastHeartbeat:G,lastProposed:E,participation:d,rewardBase:p,sigType:o}){this.address=e,this.amount=Ve(t),this.amountWithoutPendingRewards=Ve(r),this.minBalance=st(a),this.pendingRewards=Ve(n),this.rewards=Ve(s),this.round=Ve(c),this.status=u,this.totalAppsOptedIn=st(h),this.totalAssetsOptedIn=st(f),this.totalBoxBytes=st(g),this.totalBoxes=st(b),this.totalCreatedApps=st(M),this.totalCreatedAssets=st(_),this.appsLocalState=D,this.appsTotalExtraPages=typeof R>"u"?void 0:st(R),this.appsTotalSchema=A,this.assets=I,this.authAddr=typeof N=="string"?Ct.fromString(N):N,this.closedAtRound=typeof $>"u"?void 0:Ve($),this.createdApps=V,this.createdAssets=U,this.createdAtRound=typeof J>"u"?void 0:Ve(J),this.deleted=Y,this.incentiveEligible=oe,this.lastHeartbeat=typeof G>"u"?void 0:st(G),this.lastProposed=typeof E>"u"?void 0:st(E),this.participation=d,this.rewardBase=typeof p>"u"?void 0:Ve(p),this.sigType=o}getEncodingSchema(){return di.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["amount-without-pending-rewards",this.amountWithoutPendingRewards],["min-balance",this.minBalance],["pending-rewards",this.pendingRewards],["rewards",this.rewards],["round",this.round],["status",this.status],["total-apps-opted-in",this.totalAppsOptedIn],["total-assets-opted-in",this.totalAssetsOptedIn],["total-box-bytes",this.totalBoxBytes],["total-boxes",this.totalBoxes],["total-created-apps",this.totalCreatedApps],["total-created-assets",this.totalCreatedAssets],["apps-local-state",typeof this.appsLocalState<"u"?this.appsLocalState.map(e=>e.toEncodingData()):void 0],["apps-total-extra-pages",this.appsTotalExtraPages],["apps-total-schema",typeof this.appsTotalSchema<"u"?this.appsTotalSchema.toEncodingData():void 0],["assets",typeof this.assets<"u"?this.assets.map(e=>e.toEncodingData()):void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["closed-at-round",this.closedAtRound],["created-apps",typeof this.createdApps<"u"?this.createdApps.map(e=>e.toEncodingData()):void 0],["created-assets",typeof this.createdAssets<"u"?this.createdAssets.map(e=>e.toEncodingData()):void 0],["created-at-round",this.createdAtRound],["deleted",this.deleted],["incentive-eligible",this.incentiveEligible],["last-heartbeat",this.lastHeartbeat],["last-proposed",this.lastProposed],["participation",typeof this.participation<"u"?this.participation.toEncodingData():void 0],["reward-base",this.rewardBase],["sig-type",this.sigType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Account: ${e}`);return new di({address:e.get("address"),amount:e.get("amount"),amountWithoutPendingRewards:e.get("amount-without-pending-rewards"),minBalance:e.get("min-balance"),pendingRewards:e.get("pending-rewards"),rewards:e.get("rewards"),round:e.get("round"),status:e.get("status"),totalAppsOptedIn:e.get("total-apps-opted-in"),totalAssetsOptedIn:e.get("total-assets-opted-in"),totalBoxBytes:e.get("total-box-bytes"),totalBoxes:e.get("total-boxes"),totalCreatedApps:e.get("total-created-apps"),totalCreatedAssets:e.get("total-created-assets"),appsLocalState:typeof e.get("apps-local-state")<"u"?e.get("apps-local-state").map(t=>pi.fromEncodingData(t)):void 0,appsTotalExtraPages:e.get("apps-total-extra-pages"),appsTotalSchema:typeof e.get("apps-total-schema")<"u"?Hr.fromEncodingData(e.get("apps-total-schema")):void 0,assets:typeof e.get("assets")<"u"?e.get("assets").map(t=>gi.fromEncodingData(t)):void 0,authAddr:e.get("auth-addr"),closedAtRound:e.get("closed-at-round"),createdApps:typeof e.get("created-apps")<"u"?e.get("created-apps").map(t=>In.fromEncodingData(t)):void 0,createdAssets:typeof e.get("created-assets")<"u"?e.get("created-assets").map(t=>Dn.fromEncodingData(t)):void 0,createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),incentiveEligible:e.get("incentive-eligible"),lastHeartbeat:e.get("last-heartbeat"),lastProposed:e.get("last-proposed"),participation:typeof e.get("participation")<"u"?yo.fromEncodingData(e.get("participation")):void 0,rewardBase:e.get("reward-base"),sigType:e.get("sig-type")})}}class yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"selection-participation-key",valueSchema:new ot,omitEmpty:!0},{key:"vote-first-valid",valueSchema:new ue,omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new ue,omitEmpty:!0},{key:"vote-last-valid",valueSchema:new ue,omitEmpty:!0},{key:"vote-participation-key",valueSchema:new ot,omitEmpty:!0},{key:"state-proof-key",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({selectionParticipationKey:e,voteFirstValid:t,voteKeyDilution:r,voteLastValid:a,voteParticipationKey:n,stateProofKey:s}){this.selectionParticipationKey=typeof e=="string"?pt(e):e,this.voteFirstValid=Ve(t),this.voteKeyDilution=Ve(r),this.voteLastValid=Ve(a),this.voteParticipationKey=typeof n=="string"?pt(n):n,this.stateProofKey=typeof s=="string"?pt(s):s}getEncodingSchema(){return yo.encodingSchema}toEncodingData(){return new Map([["selection-participation-key",this.selectionParticipationKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey],["state-proof-key",this.stateProofKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountParticipation: ${e}`);return new yo({selectionParticipationKey:e.get("selection-participation-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key"),stateProofKey:e.get("state-proof-key")})}}class tc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"account",valueSchema:di.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({account:e,currentRound:t}){this.account=e,this.currentRound=Ve(t)}getEncodingSchema(){return tc.encodingSchema}toEncodingData(){return new Map([["account",this.account.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountResponse: ${e}`);return new tc({account:di.fromEncodingData(e.get("account")??new Map),currentRound:e.get("current-round")})}}class wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"delta",valueSchema:new tt(yi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,delta:t}){this.address=e,this.delta=t}getEncodingSchema(){return wo.encodingSchema}toEncodingData(){return new Map([["address",this.address],["delta",this.delta.map(e=>e.toEncodingData())]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountStateDelta: ${e}`);return new wo({address:e.get("address"),delta:(e.get("delta")??[]).map(t=>yi.fromEncodingData(t))})}}class rc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"accounts",valueSchema:new tt(di.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({accounts:e,currentRound:t,nextToken:r}){this.accounts=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return rc.encodingSchema}toEncodingData(){return new Map([["accounts",this.accounts.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AccountsResponse: ${e}`);return new rc({accounts:(e.get("accounts")??[]).map(t=>di.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class In{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new ue,omitEmpty:!0},{key:"params",valueSchema:xo.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"deleted-at-round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,params:t,createdAtRound:r,deleted:a,deletedAtRound:n}){this.id=Ve(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:Ve(r),this.deleted=a,this.deletedAtRound=typeof n>"u"?void 0:Ve(n)}getEncodingSchema(){return In.encodingSchema}toEncodingData(){return new Map([["id",this.id],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["deleted-at-round",this.deletedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Application: ${e}`);return new In({id:e.get("id"),params:xo.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),deletedAtRound:e.get("deleted-at-round")})}}class pi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"id",valueSchema:new ue,omitEmpty:!0},{key:"schema",valueSchema:Hr.encodingSchema,omitEmpty:!0},{key:"closed-out-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"key-value",valueSchema:new Z(new tt(wi.encodingSchema)),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({id:e,schema:t,closedOutAtRound:r,deleted:a,keyValue:n,optedInAtRound:s}){this.id=Ve(e),this.schema=t,this.closedOutAtRound=typeof r>"u"?void 0:Ve(r),this.deleted=a,this.keyValue=n,this.optedInAtRound=typeof s>"u"?void 0:Ve(s)}getEncodingSchema(){return pi.encodingSchema}toEncodingData(){return new Map([["id",this.id],["schema",this.schema.toEncodingData()],["closed-out-at-round",this.closedOutAtRound],["deleted",this.deleted],["key-value",typeof this.keyValue<"u"?this.keyValue.map(e=>e.toEncodingData()):void 0],["opted-in-at-round",this.optedInAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalState: ${e}`);return new pi({id:e.get("id"),schema:Hr.fromEncodingData(e.get("schema")??new Map),closedOutAtRound:e.get("closed-out-at-round"),deleted:e.get("deleted"),keyValue:typeof e.get("key-value")<"u"?e.get("key-value").map(t=>wi.fromEncodingData(t)):void 0,optedInAtRound:e.get("opted-in-at-round")})}}class nc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"apps-local-states",valueSchema:new tt(pi.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({appsLocalStates:e,currentRound:t,nextToken:r}){this.appsLocalStates=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return nc.encodingSchema}toEncodingData(){return new Map([["apps-local-states",this.appsLocalStates.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLocalStatesResponse: ${e}`);return new nc({appsLocalStates:(e.get("apps-local-states")??[]).map(t=>pi.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class bo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"logs",valueSchema:new tt(new ot),omitEmpty:!0},{key:"txid",valueSchema:new ze,omitEmpty:!0})),this.encodingSchemaValue}constructor({logs:e,txid:t}){this.logs=e,this.txid=t}getEncodingSchema(){return bo.encodingSchema}toEncodingData(){return new Map([["logs",this.logs],["txid",this.txid]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogData: ${e}`);return new bo({logs:e.get("logs"),txid:e.get("txid")})}}class ic{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new ue,omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"log-data",valueSchema:new Z(new tt(bo.encodingSchema)),omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,currentRound:t,logData:r,nextToken:a}){this.applicationId=Ve(e),this.currentRound=Ve(t),this.logData=r,this.nextToken=a}getEncodingSchema(){return ic.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["current-round",this.currentRound],["log-data",typeof this.logData<"u"?this.logData.map(e=>e.toEncodingData()):void 0],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationLogsResponse: ${e}`);return new ic({applicationId:e.get("application-id"),currentRound:e.get("current-round"),logData:typeof e.get("log-data")<"u"?e.get("log-data").map(t=>bo.fromEncodingData(t)):void 0,nextToken:e.get("next-token")})}}class xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"approval-program",valueSchema:new ot,omitEmpty:!0},{key:"clear-state-program",valueSchema:new ot,omitEmpty:!0},{key:"creator",valueSchema:new Z(new ze),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new Z(new ue),omitEmpty:!0},{key:"global-state",valueSchema:new Z(new tt(wi.encodingSchema)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new Z(Hr.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new Z(Hr.encodingSchema),omitEmpty:!0},{key:"version",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({approvalProgram:e,clearStateProgram:t,creator:r,extraProgramPages:a,globalState:n,globalStateSchema:s,localStateSchema:c,version:u}){this.approvalProgram=typeof e=="string"?pt(e):e,this.clearStateProgram=typeof t=="string"?pt(t):t,this.creator=typeof r=="string"?Ct.fromString(r):r,this.extraProgramPages=typeof a>"u"?void 0:st(a),this.globalState=n,this.globalStateSchema=s,this.localStateSchema=c,this.version=typeof u>"u"?void 0:st(u)}getEncodingSchema(){return xo.encodingSchema}toEncodingData(){return new Map([["approval-program",this.approvalProgram],["clear-state-program",this.clearStateProgram],["creator",typeof this.creator<"u"?this.creator.toString():void 0],["extra-program-pages",this.extraProgramPages],["global-state",typeof this.globalState<"u"?this.globalState.map(e=>e.toEncodingData()):void 0],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationParams: ${e}`);return new xo({approvalProgram:e.get("approval-program"),clearStateProgram:e.get("clear-state-program"),creator:e.get("creator"),extraProgramPages:e.get("extra-program-pages"),globalState:typeof e.get("global-state")<"u"?e.get("global-state").map(t=>wi.fromEncodingData(t)):void 0,globalStateSchema:typeof e.get("global-state-schema")<"u"?Hr.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?Hr.fromEncodingData(e.get("local-state-schema")):void 0,version:e.get("version")})}}class ac{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"application",valueSchema:new Z(In.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,application:t}){this.currentRound=Ve(e),this.application=t}getEncodingSchema(){return ac.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["application",typeof this.application<"u"?this.application.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationResponse: ${e}`);return new ac({currentRound:e.get("current-round"),application:typeof e.get("application")<"u"?In.fromEncodingData(e.get("application")):void 0})}}class Hr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new ue,omitEmpty:!0},{key:"num-uint",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=st(e),this.numUint=st(t)}getEncodingSchema(){return Hr.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationStateSchema: ${e}`);return new Hr({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class So{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"applications",valueSchema:new tt(In.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({applications:e,currentRound:t,nextToken:r}){this.applications=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return So.encodingSchema}toEncodingData(){return new Map([["applications",this.applications.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ApplicationsResponse: ${e}`);return new So({applications:(e.get("applications")??[]).map(t=>In.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Dn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"index",valueSchema:new ue,omitEmpty:!0},{key:"params",valueSchema:mi.encodingSchema,omitEmpty:!0},{key:"created-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"destroyed-at-round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({index:e,params:t,createdAtRound:r,deleted:a,destroyedAtRound:n}){this.index=Ve(e),this.params=t,this.createdAtRound=typeof r>"u"?void 0:Ve(r),this.deleted=a,this.destroyedAtRound=typeof n>"u"?void 0:Ve(n)}getEncodingSchema(){return Dn.encodingSchema}toEncodingData(){return new Map([["index",this.index],["params",this.params.toEncodingData()],["created-at-round",this.createdAtRound],["deleted",this.deleted],["destroyed-at-round",this.destroyedAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Asset: ${e}`);return new Dn({index:e.get("index"),params:mi.fromEncodingData(e.get("params")??new Map),createdAtRound:e.get("created-at-round"),deleted:e.get("deleted"),destroyedAtRound:e.get("destroyed-at-round")})}}class oc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"balances",valueSchema:new tt(Co.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({balances:e,currentRound:t,nextToken:r}){this.balances=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return oc.encodingSchema}toEncodingData(){return new Map([["balances",this.balances.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetBalancesResponse: ${e}`);return new oc({balances:(e.get("balances")??[]).map(t=>Co.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class gi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"asset-id",valueSchema:new ue,omitEmpty:!0},{key:"is-frozen",valueSchema:new qt,omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,isFrozen:r,deleted:a,optedInAtRound:n,optedOutAtRound:s}){this.amount=Ve(e),this.assetId=Ve(t),this.isFrozen=r,this.deleted=a,this.optedInAtRound=typeof n>"u"?void 0:Ve(n),this.optedOutAtRound=typeof s>"u"?void 0:Ve(s)}getEncodingSchema(){return gi.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHolding: ${e}`);return new gi({amount:e.get("amount"),assetId:e.get("asset-id"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class sc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new tt(gi.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return sc.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetHoldingsResponse: ${e}`);return new sc({assets:(e.get("assets")??[]).map(t=>gi.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class mi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"creator",valueSchema:new ze,omitEmpty:!0},{key:"decimals",valueSchema:new ue,omitEmpty:!0},{key:"total",valueSchema:new ue,omitEmpty:!0},{key:"clawback",valueSchema:new Z(new ze),omitEmpty:!0},{key:"default-frozen",valueSchema:new Z(new qt),omitEmpty:!0},{key:"freeze",valueSchema:new Z(new ze),omitEmpty:!0},{key:"manager",valueSchema:new Z(new ze),omitEmpty:!0},{key:"metadata-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"name",valueSchema:new Z(new ze),omitEmpty:!0},{key:"name-b64",valueSchema:new Z(new ot),omitEmpty:!0},{key:"reserve",valueSchema:new Z(new ze),omitEmpty:!0},{key:"unit-name",valueSchema:new Z(new ze),omitEmpty:!0},{key:"unit-name-b64",valueSchema:new Z(new ot),omitEmpty:!0},{key:"url",valueSchema:new Z(new ze),omitEmpty:!0},{key:"url-b64",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({creator:e,decimals:t,total:r,clawback:a,defaultFrozen:n,freeze:s,manager:c,metadataHash:u,name:h,nameB64:f,reserve:g,unitName:b,unitNameB64:M,url:_,urlB64:D}){this.creator=e,this.decimals=st(t),this.total=Ve(r),this.clawback=a,this.defaultFrozen=n,this.freeze=s,this.manager=c,this.metadataHash=typeof u=="string"?pt(u):u,this.name=h,this.nameB64=typeof f=="string"?pt(f):f,this.reserve=g,this.unitName=b,this.unitNameB64=typeof M=="string"?pt(M):M,this.url=_,this.urlB64=typeof D=="string"?pt(D):D}getEncodingSchema(){return mi.encodingSchema}toEncodingData(){return new Map([["creator",this.creator],["decimals",this.decimals],["total",this.total],["clawback",this.clawback],["default-frozen",this.defaultFrozen],["freeze",this.freeze],["manager",this.manager],["metadata-hash",this.metadataHash],["name",this.name],["name-b64",this.nameB64],["reserve",this.reserve],["unit-name",this.unitName],["unit-name-b64",this.unitNameB64],["url",this.url],["url-b64",this.urlB64]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetParams: ${e}`);return new mi({creator:e.get("creator"),decimals:e.get("decimals"),total:e.get("total"),clawback:e.get("clawback"),defaultFrozen:e.get("default-frozen"),freeze:e.get("freeze"),manager:e.get("manager"),metadataHash:e.get("metadata-hash"),name:e.get("name"),nameB64:e.get("name-b64"),reserve:e.get("reserve"),unitName:e.get("unit-name"),unitNameB64:e.get("unit-name-b64"),url:e.get("url"),urlB64:e.get("url-b64")})}}class cc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"asset",valueSchema:Dn.encodingSchema,omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({asset:e,currentRound:t}){this.asset=e,this.currentRound=Ve(t)}getEncodingSchema(){return cc.encodingSchema}toEncodingData(){return new Map([["asset",this.asset.toEncodingData()],["current-round",this.currentRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetResponse: ${e}`);return new cc({asset:Dn.fromEncodingData(e.get("asset")??new Map),currentRound:e.get("current-round")})}}class Eo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"assets",valueSchema:new tt(Dn.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({assets:e,currentRound:t,nextToken:r}){this.assets=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return Eo.encodingSchema}toEncodingData(){return new Map([["assets",this.assets.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded AssetsResponse: ${e}`);return new Eo({assets:(e.get("assets")??[]).map(t=>Dn.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Ea{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"genesis-hash",valueSchema:new ot,omitEmpty:!0},{key:"genesis-id",valueSchema:new ze,omitEmpty:!0},{key:"previous-block-hash",valueSchema:new ot,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"seed",valueSchema:new ot,omitEmpty:!0},{key:"timestamp",valueSchema:new ue,omitEmpty:!0},{key:"transactions-root",valueSchema:new ot,omitEmpty:!0},{key:"transactions-root-sha256",valueSchema:new ot,omitEmpty:!0},{key:"bonus",valueSchema:new Z(new ue),omitEmpty:!0},{key:"fees-collected",valueSchema:new Z(new ue),omitEmpty:!0},{key:"participation-updates",valueSchema:new Z(Po.encodingSchema),omitEmpty:!0},{key:"previous-block-hash-512",valueSchema:new Z(new ot),omitEmpty:!0},{key:"proposer",valueSchema:new Z(new ze),omitEmpty:!0},{key:"proposer-payout",valueSchema:new Z(new ue),omitEmpty:!0},{key:"rewards",valueSchema:new Z(Mo.encodingSchema),omitEmpty:!0},{key:"state-proof-tracking",valueSchema:new Z(new tt(Vo.encodingSchema)),omitEmpty:!0},{key:"transactions",valueSchema:new Z(new tt(Gr.encodingSchema)),omitEmpty:!0},{key:"transactions-root-sha512",valueSchema:new Z(new ot),omitEmpty:!0},{key:"txn-counter",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-state",valueSchema:new Z(_o.encodingSchema),omitEmpty:!0},{key:"upgrade-vote",valueSchema:new Z(Ao.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({genesisHash:e,genesisId:t,previousBlockHash:r,round:a,seed:n,timestamp:s,transactionsRoot:c,transactionsRootSha256:u,bonus:h,feesCollected:f,participationUpdates:g,previousBlockHash512:b,proposer:M,proposerPayout:_,rewards:D,stateProofTracking:R,transactions:A,transactionsRootSha512:I,txnCounter:N,upgradeState:$,upgradeVote:V}){this.genesisHash=typeof e=="string"?pt(e):e,this.genesisId=t,this.previousBlockHash=typeof r=="string"?pt(r):r,this.round=Ve(a),this.seed=typeof n=="string"?pt(n):n,this.timestamp=st(s),this.transactionsRoot=typeof c=="string"?pt(c):c,this.transactionsRootSha256=typeof u=="string"?pt(u):u,this.bonus=typeof h>"u"?void 0:st(h),this.feesCollected=typeof f>"u"?void 0:st(f),this.participationUpdates=g,this.previousBlockHash512=typeof b=="string"?pt(b):b,this.proposer=typeof M=="string"?Ct.fromString(M):M,this.proposerPayout=typeof _>"u"?void 0:st(_),this.rewards=D,this.stateProofTracking=R,this.transactions=A,this.transactionsRootSha512=typeof I=="string"?pt(I):I,this.txnCounter=typeof N>"u"?void 0:st(N),this.upgradeState=$,this.upgradeVote=V}getEncodingSchema(){return Ea.encodingSchema}toEncodingData(){return new Map([["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["previous-block-hash",this.previousBlockHash],["round",this.round],["seed",this.seed],["timestamp",this.timestamp],["transactions-root",this.transactionsRoot],["transactions-root-sha256",this.transactionsRootSha256],["bonus",this.bonus],["fees-collected",this.feesCollected],["participation-updates",typeof this.participationUpdates<"u"?this.participationUpdates.toEncodingData():void 0],["previous-block-hash-512",this.previousBlockHash512],["proposer",typeof this.proposer<"u"?this.proposer.toString():void 0],["proposer-payout",this.proposerPayout],["rewards",typeof this.rewards<"u"?this.rewards.toEncodingData():void 0],["state-proof-tracking",typeof this.stateProofTracking<"u"?this.stateProofTracking.map(e=>e.toEncodingData()):void 0],["transactions",typeof this.transactions<"u"?this.transactions.map(e=>e.toEncodingData()):void 0],["transactions-root-sha512",this.transactionsRootSha512],["txn-counter",this.txnCounter],["upgrade-state",typeof this.upgradeState<"u"?this.upgradeState.toEncodingData():void 0],["upgrade-vote",typeof this.upgradeVote<"u"?this.upgradeVote.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Block: ${e}`);return new Ea({genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),previousBlockHash:e.get("previous-block-hash"),round:e.get("round"),seed:e.get("seed"),timestamp:e.get("timestamp"),transactionsRoot:e.get("transactions-root"),transactionsRootSha256:e.get("transactions-root-sha256"),bonus:e.get("bonus"),feesCollected:e.get("fees-collected"),participationUpdates:typeof e.get("participation-updates")<"u"?Po.fromEncodingData(e.get("participation-updates")):void 0,previousBlockHash512:e.get("previous-block-hash-512"),proposer:e.get("proposer"),proposerPayout:e.get("proposer-payout"),rewards:typeof e.get("rewards")<"u"?Mo.fromEncodingData(e.get("rewards")):void 0,stateProofTracking:typeof e.get("state-proof-tracking")<"u"?e.get("state-proof-tracking").map(t=>Vo.fromEncodingData(t)):void 0,transactions:typeof e.get("transactions")<"u"?e.get("transactions").map(t=>Gr.fromEncodingData(t)):void 0,transactionsRootSha512:e.get("transactions-root-sha512"),txnCounter:e.get("txn-counter"),upgradeState:typeof e.get("upgrade-state")<"u"?_o.fromEncodingData(e.get("upgrade-state")):void 0,upgradeVote:typeof e.get("upgrade-vote")<"u"?Ao.fromEncodingData(e.get("upgrade-vote")):void 0})}}class fc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"blocks",valueSchema:new tt(Ea.encodingSchema),omitEmpty:!0},{key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({blocks:e,currentRound:t,nextToken:r}){this.blocks=e,this.currentRound=Ve(t),this.nextToken=r}getEncodingSchema(){return fc.encodingSchema}toEncodingData(){return new Map([["blocks",this.blocks.map(e=>e.toEncodingData())],["current-round",this.currentRound],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockHeadersResponse: ${e}`);return new fc({blocks:(e.get("blocks")??[]).map(t=>Ea.fromEncodingData(t)),currentRound:e.get("current-round"),nextToken:e.get("next-token")})}}class Mo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"fee-sink",valueSchema:new ze,omitEmpty:!0},{key:"rewards-calculation-round",valueSchema:new ue,omitEmpty:!0},{key:"rewards-level",valueSchema:new ue,omitEmpty:!0},{key:"rewards-pool",valueSchema:new ze,omitEmpty:!0},{key:"rewards-rate",valueSchema:new ue,omitEmpty:!0},{key:"rewards-residue",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({feeSink:e,rewardsCalculationRound:t,rewardsLevel:r,rewardsPool:a,rewardsRate:n,rewardsResidue:s}){this.feeSink=e,this.rewardsCalculationRound=Ve(t),this.rewardsLevel=Ve(r),this.rewardsPool=a,this.rewardsRate=Ve(n),this.rewardsResidue=Ve(s)}getEncodingSchema(){return Mo.encodingSchema}toEncodingData(){return new Map([["fee-sink",this.feeSink],["rewards-calculation-round",this.rewardsCalculationRound],["rewards-level",this.rewardsLevel],["rewards-pool",this.rewardsPool],["rewards-rate",this.rewardsRate],["rewards-residue",this.rewardsResidue]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockRewards: ${e}`);return new Mo({feeSink:e.get("fee-sink"),rewardsCalculationRound:e.get("rewards-calculation-round"),rewardsLevel:e.get("rewards-level"),rewardsPool:e.get("rewards-pool"),rewardsRate:e.get("rewards-rate"),rewardsResidue:e.get("rewards-residue")})}}class _o{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"current-protocol",valueSchema:new ze,omitEmpty:!0},{key:"next-protocol",valueSchema:new Z(new ze),omitEmpty:!0},{key:"next-protocol-approvals",valueSchema:new Z(new ue),omitEmpty:!0},{key:"next-protocol-switch-on",valueSchema:new Z(new ue),omitEmpty:!0},{key:"next-protocol-vote-before",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentProtocol:e,nextProtocol:t,nextProtocolApprovals:r,nextProtocolSwitchOn:a,nextProtocolVoteBefore:n}){this.currentProtocol=e,this.nextProtocol=t,this.nextProtocolApprovals=typeof r>"u"?void 0:st(r),this.nextProtocolSwitchOn=typeof a>"u"?void 0:Ve(a),this.nextProtocolVoteBefore=typeof n>"u"?void 0:Ve(n)}getEncodingSchema(){return _o.encodingSchema}toEncodingData(){return new Map([["current-protocol",this.currentProtocol],["next-protocol",this.nextProtocol],["next-protocol-approvals",this.nextProtocolApprovals],["next-protocol-switch-on",this.nextProtocolSwitchOn],["next-protocol-vote-before",this.nextProtocolVoteBefore]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeState: ${e}`);return new _o({currentProtocol:e.get("current-protocol"),nextProtocol:e.get("next-protocol"),nextProtocolApprovals:e.get("next-protocol-approvals"),nextProtocolSwitchOn:e.get("next-protocol-switch-on"),nextProtocolVoteBefore:e.get("next-protocol-vote-before")})}}class Ao{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"upgrade-approve",valueSchema:new Z(new qt),omitEmpty:!0},{key:"upgrade-delay",valueSchema:new Z(new ue),omitEmpty:!0},{key:"upgrade-propose",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({upgradeApprove:e,upgradeDelay:t,upgradePropose:r}){this.upgradeApprove=e,this.upgradeDelay=typeof t>"u"?void 0:Ve(t),this.upgradePropose=r}getEncodingSchema(){return Ao.encodingSchema}toEncodingData(){return new Map([["upgrade-approve",this.upgradeApprove],["upgrade-delay",this.upgradeDelay],["upgrade-propose",this.upgradePropose]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BlockUpgradeVote: ${e}`);return new Ao({upgradeApprove:e.get("upgrade-approve"),upgradeDelay:e.get("upgrade-delay"),upgradePropose:e.get("upgrade-propose")})}}class hc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ot,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"value",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e,round:t,value:r}){this.name=typeof e=="string"?pt(e):e,this.round=Ve(t),this.value=typeof r=="string"?pt(r):r}getEncodingSchema(){return hc.encodingSchema}toEncodingData(){return new Map([["name",this.name],["round",this.round],["value",this.value]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Box: ${e}`);return new hc({name:e.get("name"),round:e.get("round"),value:e.get("value")})}}class ko{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"name",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({name:e}){this.name=typeof e=="string"?pt(e):e}getEncodingSchema(){return ko.encodingSchema}toEncodingData(){return new Map([["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxDescriptor: ${e}`);return new ko({name:e.get("name")})}}class vi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"app",valueSchema:new ue,omitEmpty:!0},{key:"name",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({app:e,name:t}){this.app=st(e),this.name=typeof t=="string"?pt(t):t}getEncodingSchema(){return vi.encodingSchema}toEncodingData(){return new Map([["app",this.app],["name",this.name]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxReference: ${e}`);return new vi({app:e.get("app"),name:e.get("name")})}}class uc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new ue,omitEmpty:!0},{key:"boxes",valueSchema:new tt(ko.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,boxes:t,nextToken:r}){this.applicationId=Ve(e),this.boxes=t,this.nextToken=r}getEncodingSchema(){return uc.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["boxes",this.boxes.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded BoxesResponse: ${e}`);return new uc({applicationId:e.get("application-id"),boxes:(e.get("boxes")??[]).map(t=>ko.fromEncodingData(t)),nextToken:e.get("next-token")})}}class Df{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new ze,omitEmpty:!0},{key:"data",valueSchema:new Z(br.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,data:t}){this.message=e,this.data=t}getEncodingSchema(){return Df.encodingSchema}toEncodingData(){return new Map([["message",this.message],["data",typeof this.data<"u"?this.data.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ErrorResponse: ${e}`);return new Df({message:e.get("message"),data:typeof e.get("data")<"u"?br.fromEncodingData(e.get("data")):void 0})}}class Io{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"action",valueSchema:new ue,omitEmpty:!0},{key:"bytes",valueSchema:new Z(new ze),omitEmpty:!0},{key:"uint",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({action:e,bytes:t,uint:r}){this.action=st(e),this.bytes=t,this.uint=typeof r>"u"?void 0:Ve(r)}getEncodingSchema(){return Io.encodingSchema}toEncodingData(){return new Map([["action",this.action],["bytes",this.bytes],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDelta: ${e}`);return new Io({action:e.get("action"),bytes:e.get("bytes"),uint:e.get("uint")})}}class yi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ze,omitEmpty:!0},{key:"value",valueSchema:Io.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=e,this.value=t}getEncodingSchema(){return yi.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded EvalDeltaKeyValue: ${e}`);return new yi({key:e.get("key"),value:Io.fromEncodingData(e.get("value")??new Map)})}}class Do{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"hash-type",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashType:e}){this.hashType=typeof e>"u"?void 0:st(e)}getEncodingSchema(){return Do.encodingSchema}toEncodingData(){return new Map([["hash-type",this.hashType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HashFactory: ${e}`);return new Do({hashType:e.get("hash-type")})}}class Ro{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"hb-pk",valueSchema:new Z(new ot),omitEmpty:!0},{key:"hb-pk1sig",valueSchema:new Z(new ot),omitEmpty:!0},{key:"hb-pk2",valueSchema:new Z(new ot),omitEmpty:!0},{key:"hb-pk2sig",valueSchema:new Z(new ot),omitEmpty:!0},{key:"hb-sig",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({hbPk:e,hbPk1sig:t,hbPk2:r,hbPk2sig:a,hbSig:n}){this.hbPk=typeof e=="string"?pt(e):e,this.hbPk1sig=typeof t=="string"?pt(t):t,this.hbPk2=typeof r=="string"?pt(r):r,this.hbPk2sig=typeof a=="string"?pt(a):a,this.hbSig=typeof n=="string"?pt(n):n}getEncodingSchema(){return Ro.encodingSchema}toEncodingData(){return new Map([["hb-pk",this.hbPk],["hb-pk1sig",this.hbPk1sig],["hb-pk2",this.hbPk2],["hb-pk2sig",this.hbPk2sig],["hb-sig",this.hbSig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HbProofFields: ${e}`);return new Ro({hbPk:e.get("hb-pk"),hbPk1sig:e.get("hb-pk1sig"),hbPk2:e.get("hb-pk2"),hbPk2sig:e.get("hb-pk2sig"),hbSig:e.get("hb-sig")})}}class lc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"db-available",valueSchema:new qt,omitEmpty:!0},{key:"is-migrating",valueSchema:new qt,omitEmpty:!0},{key:"message",valueSchema:new ze,omitEmpty:!0},{key:"round",valueSchema:new ue,omitEmpty:!0},{key:"version",valueSchema:new ze,omitEmpty:!0},{key:"data",valueSchema:new Z(br.encodingSchema),omitEmpty:!0},{key:"errors",valueSchema:new Z(new tt(new ze)),omitEmpty:!0})),this.encodingSchemaValue}constructor({dbAvailable:e,isMigrating:t,message:r,round:a,version:n,data:s,errors:c}){this.dbAvailable=e,this.isMigrating=t,this.message=r,this.round=Ve(a),this.version=n,this.data=s,this.errors=c}getEncodingSchema(){return lc.encodingSchema}toEncodingData(){return new Map([["db-available",this.dbAvailable],["is-migrating",this.isMigrating],["message",this.message],["round",this.round],["version",this.version],["data",typeof this.data<"u"?this.data.toEncodingData():void 0],["errors",this.errors]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HealthCheck: ${e}`);return new lc({dbAvailable:e.get("db-available"),isMigrating:e.get("is-migrating"),message:e.get("message"),round:e.get("round"),version:e.get("version"),data:typeof e.get("data")<"u"?br.fromEncodingData(e.get("data")):void 0,errors:e.get("errors")})}}class To{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"asset",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,asset:t}){this.address=typeof e=="string"?Ct.fromString(e):e,this.asset=st(t)}getEncodingSchema(){return To.encodingSchema}toEncodingData(){return new Map([["address",this.address.toString()],["asset",this.asset]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded HoldingRef: ${e}`);return new To({address:e.get("address"),asset:e.get("asset")})}}class Bo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"block-headers-commitment",valueSchema:new Z(new ot),omitEmpty:!0},{key:"first-attested-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"latest-attested-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"ln-proven-weight",valueSchema:new Z(new ue),omitEmpty:!0},{key:"voters-commitment",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({blockHeadersCommitment:e,firstAttestedRound:t,latestAttestedRound:r,lnProvenWeight:a,votersCommitment:n}){this.blockHeadersCommitment=typeof e=="string"?pt(e):e,this.firstAttestedRound=typeof t>"u"?void 0:Ve(t),this.latestAttestedRound=typeof r>"u"?void 0:Ve(r),this.lnProvenWeight=typeof a>"u"?void 0:Ve(a),this.votersCommitment=typeof n=="string"?pt(n):n}getEncodingSchema(){return Bo.encodingSchema}toEncodingData(){return new Map([["block-headers-commitment",this.blockHeadersCommitment],["first-attested-round",this.firstAttestedRound],["latest-attested-round",this.latestAttestedRound],["ln-proven-weight",this.lnProvenWeight],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded IndexerStateProofMessage: ${e}`);return new Bo({blockHeadersCommitment:e.get("block-headers-commitment"),firstAttestedRound:e.get("first-attested-round"),latestAttestedRound:e.get("latest-attested-round"),lnProvenWeight:e.get("ln-proven-weight"),votersCommitment:e.get("voters-commitment")})}}class Fo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"app",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,app:t}){this.address=typeof e=="string"?Ct.fromString(e):e,this.app=st(t)}getEncodingSchema(){return Fo.encodingSchema}toEncodingData(){return new Map([["address",this.address.toString()],["app",this.app]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded LocalsRef: ${e}`);return new Fo({address:e.get("address"),app:e.get("app")})}}class En{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"hash-factory",valueSchema:new Z(Do.encodingSchema),omitEmpty:!0},{key:"path",valueSchema:new Z(new tt(new ot)),omitEmpty:!0},{key:"tree-depth",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({hashFactory:e,path:t,treeDepth:r}){this.hashFactory=e,this.path=t,this.treeDepth=typeof r>"u"?void 0:st(r)}getEncodingSchema(){return En.encodingSchema}toEncodingData(){return new Map([["hash-factory",typeof this.hashFactory<"u"?this.hashFactory.toEncodingData():void 0],["path",this.path],["tree-depth",this.treeDepth]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MerkleArrayProof: ${e}`);return new En({hashFactory:typeof e.get("hash-factory")<"u"?Do.fromEncodingData(e.get("hash-factory")):void 0,path:e.get("path"),treeDepth:e.get("tree-depth")})}}class Co{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"is-frozen",valueSchema:new qt,omitEmpty:!0},{key:"deleted",valueSchema:new Z(new qt),omitEmpty:!0},{key:"opted-in-at-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"opted-out-at-round",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,amount:t,isFrozen:r,deleted:a,optedInAtRound:n,optedOutAtRound:s}){this.address=e,this.amount=Ve(t),this.isFrozen=r,this.deleted=a,this.optedInAtRound=typeof n>"u"?void 0:Ve(n),this.optedOutAtRound=typeof s>"u"?void 0:Ve(s)}getEncodingSchema(){return Co.encodingSchema}toEncodingData(){return new Map([["address",this.address],["amount",this.amount],["is-frozen",this.isFrozen],["deleted",this.deleted],["opted-in-at-round",this.optedInAtRound],["opted-out-at-round",this.optedOutAtRound]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded MiniAssetHolding: ${e}`);return new Co({address:e.get("address"),amount:e.get("amount"),isFrozen:e.get("is-frozen"),deleted:e.get("deleted"),optedInAtRound:e.get("opted-in-at-round"),optedOutAtRound:e.get("opted-out-at-round")})}}class Po{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"absent-participation-accounts",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"expired-participation-accounts",valueSchema:new Z(new tt(new ze)),omitEmpty:!0})),this.encodingSchemaValue}constructor({absentParticipationAccounts:e,expiredParticipationAccounts:t}){this.absentParticipationAccounts=e,this.expiredParticipationAccounts=t}getEncodingSchema(){return Po.encodingSchema}toEncodingData(){return new Map([["absent-participation-accounts",this.absentParticipationAccounts],["expired-participation-accounts",this.expiredParticipationAccounts]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ParticipationUpdates: ${e}`);return new Po({absentParticipationAccounts:e.get("absent-participation-accounts"),expiredParticipationAccounts:e.get("expired-participation-accounts")})}}class No{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new Z(new ze),omitEmpty:!0},{key:"application-id",valueSchema:new Z(new ue),omitEmpty:!0},{key:"asset-id",valueSchema:new Z(new ue),omitEmpty:!0},{key:"box",valueSchema:new Z(vi.encodingSchema),omitEmpty:!0},{key:"holding",valueSchema:new Z(To.encodingSchema),omitEmpty:!0},{key:"local",valueSchema:new Z(Fo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,applicationId:t,assetId:r,box:a,holding:n,local:s}){this.address=typeof e=="string"?Ct.fromString(e):e,this.applicationId=typeof t>"u"?void 0:st(t),this.assetId=typeof r>"u"?void 0:st(r),this.box=a,this.holding=n,this.local=s}getEncodingSchema(){return No.encodingSchema}toEncodingData(){return new Map([["address",typeof this.address<"u"?this.address.toString():void 0],["application-id",this.applicationId],["asset-id",this.assetId],["box",typeof this.box<"u"?this.box.toEncodingData():void 0],["holding",typeof this.holding<"u"?this.holding.toEncodingData():void 0],["local",typeof this.local<"u"?this.local.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded ResourceRef: ${e}`);return new No({address:e.get("address"),applicationId:e.get("application-id"),assetId:e.get("asset-id"),box:typeof e.get("box")<"u"?vi.fromEncodingData(e.get("box")):void 0,holding:typeof e.get("holding")<"u"?To.fromEncodingData(e.get("holding")):void 0,local:typeof e.get("local")<"u"?Fo.fromEncodingData(e.get("local")):void 0})}}class Oo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"part-proofs",valueSchema:new Z(En.encodingSchema),omitEmpty:!0},{key:"positions-to-reveal",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"reveals",valueSchema:new Z(new tt(Uo.encodingSchema)),omitEmpty:!0},{key:"salt-version",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sig-commit",valueSchema:new Z(new ot),omitEmpty:!0},{key:"sig-proofs",valueSchema:new Z(En.encodingSchema),omitEmpty:!0},{key:"signed-weight",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({partProofs:e,positionsToReveal:t,reveals:r,saltVersion:a,sigCommit:n,sigProofs:s,signedWeight:c}){this.partProofs=e,this.positionsToReveal=typeof t>"u"?void 0:t.map(Ve),this.reveals=r,this.saltVersion=typeof a>"u"?void 0:st(a),this.sigCommit=typeof n=="string"?pt(n):n,this.sigProofs=s,this.signedWeight=typeof c>"u"?void 0:Ve(c)}getEncodingSchema(){return Oo.encodingSchema}toEncodingData(){return new Map([["part-proofs",typeof this.partProofs<"u"?this.partProofs.toEncodingData():void 0],["positions-to-reveal",this.positionsToReveal],["reveals",typeof this.reveals<"u"?this.reveals.map(e=>e.toEncodingData()):void 0],["salt-version",this.saltVersion],["sig-commit",this.sigCommit],["sig-proofs",typeof this.sigProofs<"u"?this.sigProofs.toEncodingData():void 0],["signed-weight",this.signedWeight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofFields: ${e}`);return new Oo({partProofs:typeof e.get("part-proofs")<"u"?En.fromEncodingData(e.get("part-proofs")):void 0,positionsToReveal:e.get("positions-to-reveal"),reveals:typeof e.get("reveals")<"u"?e.get("reveals").map(t=>Uo.fromEncodingData(t)):void 0,saltVersion:e.get("salt-version"),sigCommit:e.get("sig-commit"),sigProofs:typeof e.get("sig-proofs")<"u"?En.fromEncodingData(e.get("sig-proofs")):void 0,signedWeight:e.get("signed-weight")})}}class Lo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"verifier",valueSchema:new Z(zo.encodingSchema),omitEmpty:!0},{key:"weight",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({verifier:e,weight:t}){this.verifier=e,this.weight=typeof t>"u"?void 0:Ve(t)}getEncodingSchema(){return Lo.encodingSchema}toEncodingData(){return new Map([["verifier",typeof this.verifier<"u"?this.verifier.toEncodingData():void 0],["weight",this.weight]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofParticipant: ${e}`);return new Lo({verifier:typeof e.get("verifier")<"u"?zo.fromEncodingData(e.get("verifier")):void 0,weight:e.get("weight")})}}class Uo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"participant",valueSchema:new Z(Lo.encodingSchema),omitEmpty:!0},{key:"position",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sig-slot",valueSchema:new Z($o.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({participant:e,position:t,sigSlot:r}){this.participant=e,this.position=typeof t>"u"?void 0:Ve(t),this.sigSlot=r}getEncodingSchema(){return Uo.encodingSchema}toEncodingData(){return new Map([["participant",typeof this.participant<"u"?this.participant.toEncodingData():void 0],["position",this.position],["sig-slot",typeof this.sigSlot<"u"?this.sigSlot.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofReveal: ${e}`);return new Uo({participant:typeof e.get("participant")<"u"?Lo.fromEncodingData(e.get("participant")):void 0,position:e.get("position"),sigSlot:typeof e.get("sig-slot")<"u"?$o.fromEncodingData(e.get("sig-slot")):void 0})}}class $o{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"lower-sig-weight",valueSchema:new Z(new ue),omitEmpty:!0},{key:"signature",valueSchema:new Z(qo.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({lowerSigWeight:e,signature:t}){this.lowerSigWeight=typeof e>"u"?void 0:Ve(e),this.signature=t}getEncodingSchema(){return $o.encodingSchema}toEncodingData(){return new Map([["lower-sig-weight",this.lowerSigWeight],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSigSlot: ${e}`);return new $o({lowerSigWeight:e.get("lower-sig-weight"),signature:typeof e.get("signature")<"u"?qo.fromEncodingData(e.get("signature")):void 0})}}class qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"falcon-signature",valueSchema:new Z(new ot),omitEmpty:!0},{key:"merkle-array-index",valueSchema:new Z(new ue),omitEmpty:!0},{key:"proof",valueSchema:new Z(En.encodingSchema),omitEmpty:!0},{key:"verifying-key",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({falconSignature:e,merkleArrayIndex:t,proof:r,verifyingKey:a}){this.falconSignature=typeof e=="string"?pt(e):e,this.merkleArrayIndex=typeof t>"u"?void 0:st(t),this.proof=r,this.verifyingKey=typeof a=="string"?pt(a):a}getEncodingSchema(){return qo.encodingSchema}toEncodingData(){return new Map([["falcon-signature",this.falconSignature],["merkle-array-index",this.merkleArrayIndex],["proof",typeof this.proof<"u"?this.proof.toEncodingData():void 0],["verifying-key",this.verifyingKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofSignature: ${e}`);return new qo({falconSignature:e.get("falcon-signature"),merkleArrayIndex:e.get("merkle-array-index"),proof:typeof e.get("proof")<"u"?En.fromEncodingData(e.get("proof")):void 0,verifyingKey:e.get("verifying-key")})}}class Vo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"next-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"online-total-weight",valueSchema:new Z(new ue),omitEmpty:!0},{key:"type",valueSchema:new Z(new ue),omitEmpty:!0},{key:"voters-commitment",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({nextRound:e,onlineTotalWeight:t,type:r,votersCommitment:a}){this.nextRound=typeof e>"u"?void 0:Ve(e),this.onlineTotalWeight=typeof t>"u"?void 0:Ve(t),this.type=typeof r>"u"?void 0:st(r),this.votersCommitment=typeof a=="string"?pt(a):a}getEncodingSchema(){return Vo.encodingSchema}toEncodingData(){return new Map([["next-round",this.nextRound],["online-total-weight",this.onlineTotalWeight],["type",this.type],["voters-commitment",this.votersCommitment]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofTracking: ${e}`);return new Vo({nextRound:e.get("next-round"),onlineTotalWeight:e.get("online-total-weight"),type:e.get("type"),votersCommitment:e.get("voters-commitment")})}}class zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"commitment",valueSchema:new Z(new ot),omitEmpty:!0},{key:"key-lifetime",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({commitment:e,keyLifetime:t}){this.commitment=typeof e=="string"?pt(e):e,this.keyLifetime=typeof t>"u"?void 0:Ve(t)}getEncodingSchema(){return zo.encodingSchema}toEncodingData(){return new Map([["commitment",this.commitment],["key-lifetime",this.keyLifetime]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateProofVerifier: ${e}`);return new zo({commitment:e.get("commitment"),keyLifetime:e.get("key-lifetime")})}}class oi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"num-byte-slice",valueSchema:new ue,omitEmpty:!0},{key:"num-uint",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({numByteSlice:e,numUint:t}){this.numByteSlice=st(e),this.numUint=st(t)}getEncodingSchema(){return oi.encodingSchema}toEncodingData(){return new Map([["num-byte-slice",this.numByteSlice],["num-uint",this.numUint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded StateSchema: ${e}`);return new oi({numByteSlice:e.get("num-byte-slice"),numUint:e.get("num-uint")})}}class wi{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"key",valueSchema:new ot,omitEmpty:!0},{key:"value",valueSchema:jo.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({key:e,value:t}){this.key=typeof e=="string"?pt(e):e,this.value=t}getEncodingSchema(){return wi.encodingSchema}toEncodingData(){return new Map([["key",this.key],["value",this.value.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealKeyValue: ${e}`);return new wi({key:e.get("key"),value:jo.fromEncodingData(e.get("value")??new Map)})}}class jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"bytes",valueSchema:new ot,omitEmpty:!0},{key:"type",valueSchema:new ue,omitEmpty:!0},{key:"uint",valueSchema:new ue,omitEmpty:!0})),this.encodingSchemaValue}constructor({bytes:e,type:t,uint:r}){this.bytes=typeof e=="string"?pt(e):e,this.type=st(t),this.uint=Ve(r)}getEncodingSchema(){return jo.encodingSchema}toEncodingData(){return new Map([["bytes",this.bytes],["type",this.type],["uint",this.uint]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TealValue: ${e}`);return new jo({bytes:e.get("bytes"),type:e.get("type"),uint:e.get("uint")})}}class Gr{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"fee",valueSchema:new ue,omitEmpty:!0},{key:"first-valid",valueSchema:new ue,omitEmpty:!0},{key:"last-valid",valueSchema:new ue,omitEmpty:!0},{key:"sender",valueSchema:new ze,omitEmpty:!0},{key:"application-transaction",valueSchema:new Z(Wo.encodingSchema),omitEmpty:!0},{key:"asset-config-transaction",valueSchema:new Z(Ho.encodingSchema),omitEmpty:!0},{key:"asset-freeze-transaction",valueSchema:new Z(Go.encodingSchema),omitEmpty:!0},{key:"asset-transfer-transaction",valueSchema:new Z(Ko.encodingSchema),omitEmpty:!0},{key:"auth-addr",valueSchema:new Z(new ze),omitEmpty:!0},{key:"close-rewards",valueSchema:new Z(new ue),omitEmpty:!0},{key:"closing-amount",valueSchema:new Z(new ue),omitEmpty:!0},{key:"confirmed-round",valueSchema:new Z(new ue),omitEmpty:!0},{key:"created-application-index",valueSchema:new Z(new ue),omitEmpty:!0},{key:"created-asset-index",valueSchema:new Z(new ue),omitEmpty:!0},{key:"genesis-hash",valueSchema:new Z(new ot),omitEmpty:!0},{key:"genesis-id",valueSchema:new Z(new ze),omitEmpty:!0},{key:"global-state-delta",valueSchema:new Z(new tt(yi.encodingSchema)),omitEmpty:!0},{key:"group",valueSchema:new Z(new ot),omitEmpty:!0},{key:"heartbeat-transaction",valueSchema:new Z(Jo.encodingSchema),omitEmpty:!0},{key:"id",valueSchema:new Z(new ze),omitEmpty:!0},{key:"inner-txns",valueSchema:new Z(new tt(Gr.encodingSchema)),omitEmpty:!0},{key:"intra-round-offset",valueSchema:new Z(new ue),omitEmpty:!0},{key:"keyreg-transaction",valueSchema:new Z(Yo.encodingSchema),omitEmpty:!0},{key:"lease",valueSchema:new Z(new ot),omitEmpty:!0},{key:"local-state-delta",valueSchema:new Z(new tt(wo.encodingSchema)),omitEmpty:!0},{key:"logs",valueSchema:new Z(new tt(new ot)),omitEmpty:!0},{key:"note",valueSchema:new Z(new ot),omitEmpty:!0},{key:"payment-transaction",valueSchema:new Z(Xo.encodingSchema),omitEmpty:!0},{key:"receiver-rewards",valueSchema:new Z(new ue),omitEmpty:!0},{key:"rekey-to",valueSchema:new Z(new ze),omitEmpty:!0},{key:"round-time",valueSchema:new Z(new ue),omitEmpty:!0},{key:"sender-rewards",valueSchema:new Z(new ue),omitEmpty:!0},{key:"signature",valueSchema:new Z(Zo.encodingSchema),omitEmpty:!0},{key:"state-proof-transaction",valueSchema:new Z(ts.encodingSchema),omitEmpty:!0},{key:"tx-type",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({fee:e,firstValid:t,lastValid:r,sender:a,applicationTransaction:n,assetConfigTransaction:s,assetFreezeTransaction:c,assetTransferTransaction:u,authAddr:h,closeRewards:f,closingAmount:g,confirmedRound:b,createdApplicationIndex:M,createdAssetIndex:_,genesisHash:D,genesisId:R,globalStateDelta:A,group:I,heartbeatTransaction:N,id:$,innerTxns:V,intraRoundOffset:U,keyregTransaction:J,lease:Y,localStateDelta:oe,logs:G,note:E,paymentTransaction:d,receiverRewards:p,rekeyTo:o,roundTime:l,senderRewards:S,signature:x,stateProofTransaction:v,txType:m}){this.fee=Ve(e),this.firstValid=Ve(t),this.lastValid=Ve(r),this.sender=a,this.applicationTransaction=n,this.assetConfigTransaction=s,this.assetFreezeTransaction=c,this.assetTransferTransaction=u,this.authAddr=typeof h=="string"?Ct.fromString(h):h,this.closeRewards=typeof f>"u"?void 0:Ve(f),this.closingAmount=typeof g>"u"?void 0:Ve(g),this.confirmedRound=typeof b>"u"?void 0:Ve(b),this.createdApplicationIndex=typeof M>"u"?void 0:Ve(M),this.createdAssetIndex=typeof _>"u"?void 0:Ve(_),this.genesisHash=typeof D=="string"?pt(D):D,this.genesisId=R,this.globalStateDelta=A,this.group=typeof I=="string"?pt(I):I,this.heartbeatTransaction=N,this.id=$,this.innerTxns=V,this.intraRoundOffset=typeof U>"u"?void 0:st(U),this.keyregTransaction=J,this.lease=typeof Y=="string"?pt(Y):Y,this.localStateDelta=oe,this.logs=G,this.note=typeof E=="string"?pt(E):E,this.paymentTransaction=d,this.receiverRewards=typeof p>"u"?void 0:Ve(p),this.rekeyTo=typeof o=="string"?Ct.fromString(o):o,this.roundTime=typeof l>"u"?void 0:st(l),this.senderRewards=typeof S>"u"?void 0:Ve(S),this.signature=x,this.stateProofTransaction=v,this.txType=m}getEncodingSchema(){return Gr.encodingSchema}toEncodingData(){return new Map([["fee",this.fee],["first-valid",this.firstValid],["last-valid",this.lastValid],["sender",this.sender],["application-transaction",typeof this.applicationTransaction<"u"?this.applicationTransaction.toEncodingData():void 0],["asset-config-transaction",typeof this.assetConfigTransaction<"u"?this.assetConfigTransaction.toEncodingData():void 0],["asset-freeze-transaction",typeof this.assetFreezeTransaction<"u"?this.assetFreezeTransaction.toEncodingData():void 0],["asset-transfer-transaction",typeof this.assetTransferTransaction<"u"?this.assetTransferTransaction.toEncodingData():void 0],["auth-addr",typeof this.authAddr<"u"?this.authAddr.toString():void 0],["close-rewards",this.closeRewards],["closing-amount",this.closingAmount],["confirmed-round",this.confirmedRound],["created-application-index",this.createdApplicationIndex],["created-asset-index",this.createdAssetIndex],["genesis-hash",this.genesisHash],["genesis-id",this.genesisId],["global-state-delta",typeof this.globalStateDelta<"u"?this.globalStateDelta.map(e=>e.toEncodingData()):void 0],["group",this.group],["heartbeat-transaction",typeof this.heartbeatTransaction<"u"?this.heartbeatTransaction.toEncodingData():void 0],["id",this.id],["inner-txns",typeof this.innerTxns<"u"?this.innerTxns.map(e=>e.toEncodingData()):void 0],["intra-round-offset",this.intraRoundOffset],["keyreg-transaction",typeof this.keyregTransaction<"u"?this.keyregTransaction.toEncodingData():void 0],["lease",this.lease],["local-state-delta",typeof this.localStateDelta<"u"?this.localStateDelta.map(e=>e.toEncodingData()):void 0],["logs",this.logs],["note",this.note],["payment-transaction",typeof this.paymentTransaction<"u"?this.paymentTransaction.toEncodingData():void 0],["receiver-rewards",this.receiverRewards],["rekey-to",typeof this.rekeyTo<"u"?this.rekeyTo.toString():void 0],["round-time",this.roundTime],["sender-rewards",this.senderRewards],["signature",typeof this.signature<"u"?this.signature.toEncodingData():void 0],["state-proof-transaction",typeof this.stateProofTransaction<"u"?this.stateProofTransaction.toEncodingData():void 0],["tx-type",this.txType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded Transaction: ${e}`);return new Gr({fee:e.get("fee"),firstValid:e.get("first-valid"),lastValid:e.get("last-valid"),sender:e.get("sender"),applicationTransaction:typeof e.get("application-transaction")<"u"?Wo.fromEncodingData(e.get("application-transaction")):void 0,assetConfigTransaction:typeof e.get("asset-config-transaction")<"u"?Ho.fromEncodingData(e.get("asset-config-transaction")):void 0,assetFreezeTransaction:typeof e.get("asset-freeze-transaction")<"u"?Go.fromEncodingData(e.get("asset-freeze-transaction")):void 0,assetTransferTransaction:typeof e.get("asset-transfer-transaction")<"u"?Ko.fromEncodingData(e.get("asset-transfer-transaction")):void 0,authAddr:e.get("auth-addr"),closeRewards:e.get("close-rewards"),closingAmount:e.get("closing-amount"),confirmedRound:e.get("confirmed-round"),createdApplicationIndex:e.get("created-application-index"),createdAssetIndex:e.get("created-asset-index"),genesisHash:e.get("genesis-hash"),genesisId:e.get("genesis-id"),globalStateDelta:typeof e.get("global-state-delta")<"u"?e.get("global-state-delta").map(t=>yi.fromEncodingData(t)):void 0,group:e.get("group"),heartbeatTransaction:typeof e.get("heartbeat-transaction")<"u"?Jo.fromEncodingData(e.get("heartbeat-transaction")):void 0,id:e.get("id"),innerTxns:typeof e.get("inner-txns")<"u"?e.get("inner-txns").map(t=>Gr.fromEncodingData(t)):void 0,intraRoundOffset:e.get("intra-round-offset"),keyregTransaction:typeof e.get("keyreg-transaction")<"u"?Yo.fromEncodingData(e.get("keyreg-transaction")):void 0,lease:e.get("lease"),localStateDelta:typeof e.get("local-state-delta")<"u"?e.get("local-state-delta").map(t=>wo.fromEncodingData(t)):void 0,logs:e.get("logs"),note:e.get("note"),paymentTransaction:typeof e.get("payment-transaction")<"u"?Xo.fromEncodingData(e.get("payment-transaction")):void 0,receiverRewards:e.get("receiver-rewards"),rekeyTo:e.get("rekey-to"),roundTime:e.get("round-time"),senderRewards:e.get("sender-rewards"),signature:typeof e.get("signature")<"u"?Zo.fromEncodingData(e.get("signature")):void 0,stateProofTransaction:typeof e.get("state-proof-transaction")<"u"?ts.fromEncodingData(e.get("state-proof-transaction")):void 0,txType:e.get("tx-type")})}}class Wo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"application-id",valueSchema:new ue,omitEmpty:!0},{key:"access",valueSchema:new Z(new tt(No.encodingSchema)),omitEmpty:!0},{key:"accounts",valueSchema:new Z(new tt(new ze)),omitEmpty:!0},{key:"application-args",valueSchema:new Z(new tt(new ot)),omitEmpty:!0},{key:"approval-program",valueSchema:new Z(new ot),omitEmpty:!0},{key:"box-references",valueSchema:new Z(new tt(vi.encodingSchema)),omitEmpty:!0},{key:"clear-state-program",valueSchema:new Z(new ot),omitEmpty:!0},{key:"extra-program-pages",valueSchema:new Z(new ue),omitEmpty:!0},{key:"foreign-apps",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"foreign-assets",valueSchema:new Z(new tt(new ue)),omitEmpty:!0},{key:"global-state-schema",valueSchema:new Z(oi.encodingSchema),omitEmpty:!0},{key:"local-state-schema",valueSchema:new Z(oi.encodingSchema),omitEmpty:!0},{key:"on-completion",valueSchema:new Z(new ze),omitEmpty:!0},{key:"reject-version",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({applicationId:e,access:t,accounts:r,applicationArgs:a,approvalProgram:n,boxReferences:s,clearStateProgram:c,extraProgramPages:u,foreignApps:h,foreignAssets:f,globalStateSchema:g,localStateSchema:b,onCompletion:M,rejectVersion:_}){this.applicationId=Ve(e),this.access=t,this.accounts=typeof r<"u"?r.map(D=>typeof D=="string"?Ct.fromString(D):D):void 0,this.applicationArgs=a,this.approvalProgram=typeof n=="string"?pt(n):n,this.boxReferences=s,this.clearStateProgram=typeof c=="string"?pt(c):c,this.extraProgramPages=typeof u>"u"?void 0:st(u),this.foreignApps=typeof h>"u"?void 0:h.map(Ve),this.foreignAssets=typeof f>"u"?void 0:f.map(Ve),this.globalStateSchema=g,this.localStateSchema=b,this.onCompletion=M,this.rejectVersion=typeof _>"u"?void 0:st(_)}getEncodingSchema(){return Wo.encodingSchema}toEncodingData(){return new Map([["application-id",this.applicationId],["access",typeof this.access<"u"?this.access.map(e=>e.toEncodingData()):void 0],["accounts",typeof this.accounts<"u"?this.accounts.map(e=>e.toString()):void 0],["application-args",this.applicationArgs],["approval-program",this.approvalProgram],["box-references",typeof this.boxReferences<"u"?this.boxReferences.map(e=>e.toEncodingData()):void 0],["clear-state-program",this.clearStateProgram],["extra-program-pages",this.extraProgramPages],["foreign-apps",this.foreignApps],["foreign-assets",this.foreignAssets],["global-state-schema",typeof this.globalStateSchema<"u"?this.globalStateSchema.toEncodingData():void 0],["local-state-schema",typeof this.localStateSchema<"u"?this.localStateSchema.toEncodingData():void 0],["on-completion",this.onCompletion],["reject-version",this.rejectVersion]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionApplication: ${e}`);return new Wo({applicationId:e.get("application-id"),access:typeof e.get("access")<"u"?e.get("access").map(t=>No.fromEncodingData(t)):void 0,accounts:e.get("accounts"),applicationArgs:e.get("application-args"),approvalProgram:e.get("approval-program"),boxReferences:typeof e.get("box-references")<"u"?e.get("box-references").map(t=>vi.fromEncodingData(t)):void 0,clearStateProgram:e.get("clear-state-program"),extraProgramPages:e.get("extra-program-pages"),foreignApps:e.get("foreign-apps"),foreignAssets:e.get("foreign-assets"),globalStateSchema:typeof e.get("global-state-schema")<"u"?oi.fromEncodingData(e.get("global-state-schema")):void 0,localStateSchema:typeof e.get("local-state-schema")<"u"?oi.fromEncodingData(e.get("local-state-schema")):void 0,onCompletion:e.get("on-completion"),rejectVersion:e.get("reject-version")})}}class Ho{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"asset-id",valueSchema:new Z(new ue),omitEmpty:!0},{key:"params",valueSchema:new Z(mi.encodingSchema),omitEmpty:!0})),this.encodingSchemaValue}constructor({assetId:e,params:t}){this.assetId=typeof e>"u"?void 0:Ve(e),this.params=t}getEncodingSchema(){return Ho.encodingSchema}toEncodingData(){return new Map([["asset-id",this.assetId],["params",typeof this.params<"u"?this.params.toEncodingData():void 0]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetConfig: ${e}`);return new Ho({assetId:e.get("asset-id"),params:typeof e.get("params")<"u"?mi.fromEncodingData(e.get("params")):void 0})}}class Go{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"address",valueSchema:new ze,omitEmpty:!0},{key:"asset-id",valueSchema:new ue,omitEmpty:!0},{key:"new-freeze-status",valueSchema:new qt,omitEmpty:!0})),this.encodingSchemaValue}constructor({address:e,assetId:t,newFreezeStatus:r}){this.address=e,this.assetId=Ve(t),this.newFreezeStatus=r}getEncodingSchema(){return Go.encodingSchema}toEncodingData(){return new Map([["address",this.address],["asset-id",this.assetId],["new-freeze-status",this.newFreezeStatus]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetFreeze: ${e}`);return new Go({address:e.get("address"),assetId:e.get("asset-id"),newFreezeStatus:e.get("new-freeze-status")})}}class Ko{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"asset-id",valueSchema:new ue,omitEmpty:!0},{key:"receiver",valueSchema:new ze,omitEmpty:!0},{key:"close-amount",valueSchema:new Z(new ue),omitEmpty:!0},{key:"close-to",valueSchema:new Z(new ze),omitEmpty:!0},{key:"sender",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,assetId:t,receiver:r,closeAmount:a,closeTo:n,sender:s}){this.amount=Ve(e),this.assetId=Ve(t),this.receiver=r,this.closeAmount=typeof a>"u"?void 0:Ve(a),this.closeTo=n,this.sender=s}getEncodingSchema(){return Ko.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["asset-id",this.assetId],["receiver",this.receiver],["close-amount",this.closeAmount],["close-to",this.closeTo],["sender",this.sender]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionAssetTransfer: ${e}`);return new Ko({amount:e.get("amount"),assetId:e.get("asset-id"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeTo:e.get("close-to"),sender:e.get("sender")})}}class Jo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"hb-address",valueSchema:new ze,omitEmpty:!0},{key:"hb-key-dilution",valueSchema:new ue,omitEmpty:!0},{key:"hb-proof",valueSchema:Ro.encodingSchema,omitEmpty:!0},{key:"hb-seed",valueSchema:new ot,omitEmpty:!0},{key:"hb-vote-id",valueSchema:new ot,omitEmpty:!0})),this.encodingSchemaValue}constructor({hbAddress:e,hbKeyDilution:t,hbProof:r,hbSeed:a,hbVoteId:n}){this.hbAddress=e,this.hbKeyDilution=Ve(t),this.hbProof=r,this.hbSeed=typeof a=="string"?pt(a):a,this.hbVoteId=typeof n=="string"?pt(n):n}getEncodingSchema(){return Jo.encodingSchema}toEncodingData(){return new Map([["hb-address",this.hbAddress],["hb-key-dilution",this.hbKeyDilution],["hb-proof",this.hbProof.toEncodingData()],["hb-seed",this.hbSeed],["hb-vote-id",this.hbVoteId]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionHeartbeat: ${e}`);return new Jo({hbAddress:e.get("hb-address"),hbKeyDilution:e.get("hb-key-dilution"),hbProof:Ro.fromEncodingData(e.get("hb-proof")??new Map),hbSeed:e.get("hb-seed"),hbVoteId:e.get("hb-vote-id")})}}class Yo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"non-participation",valueSchema:new Z(new qt),omitEmpty:!0},{key:"selection-participation-key",valueSchema:new Z(new ot),omitEmpty:!0},{key:"state-proof-key",valueSchema:new Z(new ot),omitEmpty:!0},{key:"vote-first-valid",valueSchema:new Z(new ue),omitEmpty:!0},{key:"vote-key-dilution",valueSchema:new Z(new ue),omitEmpty:!0},{key:"vote-last-valid",valueSchema:new Z(new ue),omitEmpty:!0},{key:"vote-participation-key",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({nonParticipation:e,selectionParticipationKey:t,stateProofKey:r,voteFirstValid:a,voteKeyDilution:n,voteLastValid:s,voteParticipationKey:c}){this.nonParticipation=e,this.selectionParticipationKey=typeof t=="string"?pt(t):t,this.stateProofKey=typeof r=="string"?pt(r):r,this.voteFirstValid=typeof a>"u"?void 0:Ve(a),this.voteKeyDilution=typeof n>"u"?void 0:Ve(n),this.voteLastValid=typeof s>"u"?void 0:Ve(s),this.voteParticipationKey=typeof c=="string"?pt(c):c}getEncodingSchema(){return Yo.encodingSchema}toEncodingData(){return new Map([["non-participation",this.nonParticipation],["selection-participation-key",this.selectionParticipationKey],["state-proof-key",this.stateProofKey],["vote-first-valid",this.voteFirstValid],["vote-key-dilution",this.voteKeyDilution],["vote-last-valid",this.voteLastValid],["vote-participation-key",this.voteParticipationKey]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionKeyreg: ${e}`);return new Yo({nonParticipation:e.get("non-participation"),selectionParticipationKey:e.get("selection-participation-key"),stateProofKey:e.get("state-proof-key"),voteFirstValid:e.get("vote-first-valid"),voteKeyDilution:e.get("vote-key-dilution"),voteLastValid:e.get("vote-last-valid"),voteParticipationKey:e.get("vote-participation-key")})}}class Xo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"amount",valueSchema:new ue,omitEmpty:!0},{key:"receiver",valueSchema:new ze,omitEmpty:!0},{key:"close-amount",valueSchema:new Z(new ue),omitEmpty:!0},{key:"close-remainder-to",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({amount:e,receiver:t,closeAmount:r,closeRemainderTo:a}){this.amount=Ve(e),this.receiver=t,this.closeAmount=typeof r>"u"?void 0:Ve(r),this.closeRemainderTo=a}getEncodingSchema(){return Xo.encodingSchema}toEncodingData(){return new Map([["amount",this.amount],["receiver",this.receiver],["close-amount",this.closeAmount],["close-remainder-to",this.closeRemainderTo]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionPayment: ${e}`);return new Xo({amount:e.get("amount"),receiver:e.get("receiver"),closeAmount:e.get("close-amount"),closeRemainderTo:e.get("close-remainder-to")})}}class dc{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"transaction",valueSchema:Gr.encodingSchema,omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transaction:t}){this.currentRound=Ve(e),this.transaction=t}getEncodingSchema(){return dc.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transaction",this.transaction.toEncodingData()]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionResponse: ${e}`);return new dc({currentRound:e.get("current-round"),transaction:Gr.fromEncodingData(e.get("transaction")??new Map)})}}class Zo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"logicsig",valueSchema:new Z(Qo.encodingSchema),omitEmpty:!0},{key:"multisig",valueSchema:new Z(Mn.encodingSchema),omitEmpty:!0},{key:"sig",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({logicsig:e,multisig:t,sig:r}){this.logicsig=e,this.multisig=t,this.sig=typeof r=="string"?pt(r):r}getEncodingSchema(){return Zo.encodingSchema}toEncodingData(){return new Map([["logicsig",typeof this.logicsig<"u"?this.logicsig.toEncodingData():void 0],["multisig",typeof this.multisig<"u"?this.multisig.toEncodingData():void 0],["sig",this.sig]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignature: ${e}`);return new Zo({logicsig:typeof e.get("logicsig")<"u"?Qo.fromEncodingData(e.get("logicsig")):void 0,multisig:typeof e.get("multisig")<"u"?Mn.fromEncodingData(e.get("multisig")):void 0,sig:e.get("sig")})}}class Qo{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"logic",valueSchema:new ot,omitEmpty:!0},{key:"args",valueSchema:new Z(new tt(new ot)),omitEmpty:!0},{key:"logic-multisig-signature",valueSchema:new Z(Mn.encodingSchema),omitEmpty:!0},{key:"multisig-signature",valueSchema:new Z(Mn.encodingSchema),omitEmpty:!0},{key:"signature",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({logic:e,args:t,logicMultisigSignature:r,multisigSignature:a,signature:n}){this.logic=typeof e=="string"?pt(e):e,this.args=t,this.logicMultisigSignature=r,this.multisigSignature=a,this.signature=typeof n=="string"?pt(n):n}getEncodingSchema(){return Qo.encodingSchema}toEncodingData(){return new Map([["logic",this.logic],["args",this.args],["logic-multisig-signature",typeof this.logicMultisigSignature<"u"?this.logicMultisigSignature.toEncodingData():void 0],["multisig-signature",typeof this.multisigSignature<"u"?this.multisigSignature.toEncodingData():void 0],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureLogicsig: ${e}`);return new Qo({logic:e.get("logic"),args:e.get("args"),logicMultisigSignature:typeof e.get("logic-multisig-signature")<"u"?Mn.fromEncodingData(e.get("logic-multisig-signature")):void 0,multisigSignature:typeof e.get("multisig-signature")<"u"?Mn.fromEncodingData(e.get("multisig-signature")):void 0,signature:e.get("signature")})}}class Mn{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"subsignature",valueSchema:new Z(new tt(es.encodingSchema)),omitEmpty:!0},{key:"threshold",valueSchema:new Z(new ue),omitEmpty:!0},{key:"version",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({subsignature:e,threshold:t,version:r}){this.subsignature=e,this.threshold=typeof t>"u"?void 0:st(t),this.version=typeof r>"u"?void 0:st(r)}getEncodingSchema(){return Mn.encodingSchema}toEncodingData(){return new Map([["subsignature",typeof this.subsignature<"u"?this.subsignature.map(e=>e.toEncodingData()):void 0],["threshold",this.threshold],["version",this.version]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisig: ${e}`);return new Mn({subsignature:typeof e.get("subsignature")<"u"?e.get("subsignature").map(t=>es.fromEncodingData(t)):void 0,threshold:e.get("threshold"),version:e.get("version")})}}class es{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"public-key",valueSchema:new Z(new ot),omitEmpty:!0},{key:"signature",valueSchema:new Z(new ot),omitEmpty:!0})),this.encodingSchemaValue}constructor({publicKey:e,signature:t}){this.publicKey=typeof e=="string"?pt(e):e,this.signature=typeof t=="string"?pt(t):t}getEncodingSchema(){return es.encodingSchema}toEncodingData(){return new Map([["public-key",this.publicKey],["signature",this.signature]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionSignatureMultisigSubsignature: ${e}`);return new es({publicKey:e.get("public-key"),signature:e.get("signature")})}}class ts{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"message",valueSchema:new Z(Bo.encodingSchema),omitEmpty:!0},{key:"state-proof",valueSchema:new Z(Oo.encodingSchema),omitEmpty:!0},{key:"state-proof-type",valueSchema:new Z(new ue),omitEmpty:!0})),this.encodingSchemaValue}constructor({message:e,stateProof:t,stateProofType:r}){this.message=e,this.stateProof=t,this.stateProofType=typeof r>"u"?void 0:st(r)}getEncodingSchema(){return ts.encodingSchema}toEncodingData(){return new Map([["message",typeof this.message<"u"?this.message.toEncodingData():void 0],["state-proof",typeof this.stateProof<"u"?this.stateProof.toEncodingData():void 0],["state-proof-type",this.stateProofType]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionStateProof: ${e}`);return new ts({message:typeof e.get("message")<"u"?Bo.fromEncodingData(e.get("message")):void 0,stateProof:typeof e.get("state-proof")<"u"?Oo.fromEncodingData(e.get("state-proof")):void 0,stateProofType:e.get("state-proof-type")})}}class Ma{static get encodingSchema(){return this.encodingSchemaValue||(this.encodingSchemaValue=new Fe([]),this.encodingSchemaValue.pushEntries({key:"current-round",valueSchema:new ue,omitEmpty:!0},{key:"transactions",valueSchema:new tt(Gr.encodingSchema),omitEmpty:!0},{key:"next-token",valueSchema:new Z(new ze),omitEmpty:!0})),this.encodingSchemaValue}constructor({currentRound:e,transactions:t,nextToken:r}){this.currentRound=Ve(e),this.transactions=t,this.nextToken=r}getEncodingSchema(){return Ma.encodingSchema}toEncodingData(){return new Map([["current-round",this.currentRound],["transactions",this.transactions.map(e=>e.toEncodingData())],["next-token",this.nextToken]])}static fromEncodingData(e){if(!(e instanceof Map))throw new Error(`Invalid decoded TransactionsResponse: ${e}`);return new Ma({currentRound:e.get("current-round"),transactions:(e.get("transactions")??[]).map(t=>Gr.fromEncodingData(t)),nextToken:e.get("next-token")})}}const DE=Object.freeze(Object.defineProperty({__proto__:null,Account:di,AccountParticipation:yo,AccountResponse:tc,AccountStateDelta:wo,AccountsResponse:rc,Application:In,ApplicationLocalState:pi,ApplicationLocalStatesResponse:nc,ApplicationLogData:bo,ApplicationLogsResponse:ic,ApplicationParams:xo,ApplicationResponse:ac,ApplicationStateSchema:Hr,ApplicationsResponse:So,Asset:Dn,AssetBalancesResponse:oc,AssetHolding:gi,AssetHoldingsResponse:sc,AssetParams:mi,AssetResponse:cc,AssetsResponse:Eo,Block:Ea,BlockHeadersResponse:fc,BlockRewards:Mo,BlockUpgradeState:_o,BlockUpgradeVote:Ao,Box:hc,BoxDescriptor:ko,BoxReference:vi,BoxesResponse:uc,ErrorResponse:Df,EvalDelta:Io,EvalDeltaKeyValue:yi,HashFactory:Do,HbProofFields:Ro,HealthCheck:lc,HoldingRef:To,IndexerStateProofMessage:Bo,LocalsRef:Fo,MerkleArrayProof:En,MiniAssetHolding:Co,ParticipationUpdates:Po,ResourceRef:No,StateProofFields:Oo,StateProofParticipant:Lo,StateProofReveal:Uo,StateProofSigSlot:$o,StateProofSignature:qo,StateProofTracking:Vo,StateProofVerifier:zo,StateSchema:oi,TealKeyValue:wi,TealValue:jo,Transaction:Gr,TransactionApplication:Wo,TransactionAssetConfig:Ho,TransactionAssetFreeze:Go,TransactionAssetTransfer:Ko,TransactionHeartbeat:Jo,TransactionKeyreg:Yo,TransactionPayment:Xo,TransactionResponse:dc,TransactionSignature:Zo,TransactionSignatureLogicsig:Qo,TransactionSignatureMultisig:Mn,TransactionSignatureMultisigSubsignature:es,TransactionStateProof:ts,TransactionsResponse:Ma},Symbol.toStringTag,{value:"Module"}));class RE extends Pt{path(){return"/health"}prepare(e){return jt(e.getJSONText(),lc)}}class TE extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/balances`}limit(e){return this.query.limit=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return jt(e.getJSONText(),oc)}}function Rf(i){return typeof i=="string"?i:Mr(i)}class BE extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/transactions`}notePrefix(e){return this.query["note-prefix"]=Rf(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return jt(e.getJSONText(),Ma)}}class FE extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}/transactions`}notePrefix(e){return this.query["note-prefix"]=Rf(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}prepare(e){return jt(e.getJSONText(),Ma)}}class CE extends Pt{constructor(e,t){super(e),this.round=BigInt(t)}path(){return`/v2/blocks/${this.round}`}headerOnly(e){return this.query["header-only"]=e,this}prepare(e){return jt(e.getJSONText(),Ea)}}class PE extends Pt{constructor(e,t){super(e),this.txID=t}path(){return`/v2/transactions/${this.txID}`}prepare(e){return jt(e.getJSONText(),dc)}}class NE extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}`}round(e){return this.query.round=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}prepare(e){return jt(e.getJSONText(),tc)}}class OE extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetId(e){return this.query["asset-id"]=e,this}prepare(e){return jt(e.getJSONText(),sc)}}class LE extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-assets`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}assetID(e){return this.query["asset-id"]=e,this}prepare(e){return jt(e.getJSONText(),Eo)}}class UE extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/apps-local-state`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return jt(e.getJSONText(),nc)}}class $E extends Pt{constructor(e,t){super(e),this.account=t.toString()}path(){return`/v2/accounts/${this.account}/created-applications`}limit(e){return this.query.limit=e,this}round(e){return this.query.round=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}applicationID(e){return this.query["application-id"]=e,this}prepare(e){return jt(e.getJSONText(),So)}}class qE extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/assets/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return jt(e.getJSONText(),cc)}}class VE extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}`}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return jt(e.getJSONText(),ac)}}class zE extends Pt{constructor(e,t){super(e),this.appID=BigInt(t)}path(){return`/v2/applications/${this.appID}/logs`}limit(e){return this.query.limit=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}nextToken(e){return this.query.next=e,this}sender(e){return this.query["sender-address"]=e,this}txid(e){return this.query.txid=e,this}prepare(e){return jt(e.getJSONText(),ic)}}class jE extends Pt{constructor(e,t,r){super(e),this.index=BigInt(t);const a=Mr(r);this.query.name=encodeURI(`b64:${a}`)}path(){return`/v2/applications/${this.index}/box`}prepare(e){return jt(e.getJSONText(),hc)}}class WE extends Pt{path(){return"/v2/accounts"}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}limit(e){return this.query.limit=e,this}assetID(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}round(e){return this.query.round=e,this}authAddr(e){return this.query["auth-addr"]=e.toString(),this}applicationID(e){return this.query["application-id"]=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}exclude(e){return this.query.exclude=e,this}onlineOnly(e){return this.query["online-only"]=e,this}prepare(e){return jt(e.getJSONText(),rc)}}class HE extends Pt{path(){return"/v2/block-headers"}absent(e){return this.query.absent=e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}expired(e){return this.query.expired=e,this}limit(e){return this.query.limit=e,this}maxRound(e){return this.query["max-round"]=e,this}minRound(e){return this.query["min-round"]=e,this}nextToken(e){return this.query.next=e,this}proposers(e){return this.query.proposers=e,this}prepare(e){return jt(e.getJSONText(),fc)}}class GE extends Pt{path(){return"/v2/transactions"}notePrefix(e){return this.query["note-prefix"]=Rf(e),this}txType(e){return this.query["tx-type"]=e,this}sigType(e){return this.query["sig-type"]=e,this}txid(e){return this.query.txid=e,this}groupid(e){return this.query["group-id"]=Rf(e),this}round(e){return this.query.round=e,this}minRound(e){return this.query["min-round"]=e,this}maxRound(e){return this.query["max-round"]=e,this}assetID(e){return this.query["asset-id"]=e,this}limit(e){return this.query.limit=e,this}beforeTime(e){return this.query["before-time"]=e instanceof Date?e.toISOString():e,this}afterTime(e){return this.query["after-time"]=e instanceof Date?e.toISOString():e,this}addressRole(e){return this.query["address-role"]=e,this}address(e){return this.query.address=e.toString(),this}excludeCloseTo(e){return this.query["exclude-close-to"]=e,this}nextToken(e){return this.query.next=e,this}rekeyTo(e){return this.query["rekey-to"]=e,this}applicationID(e){return this.query["application-id"]=e,this}currencyGreaterThan(e){return this.query["currency-greater-than"]=e.toString(),this}currencyLessThan(e){return this.query["currency-less-than"]=e,this}prepare(e){return jt(e.getJSONText(),Ma)}}class KE extends Pt{path(){return"/v2/assets"}limit(e){return this.query.limit=e,this}creator(e){return this.query.creator=e.toString(),this}name(e){return this.query.name=e,this}unit(e){return this.query.unit=e,this}index(e){return this.query["asset-id"]=e,this}nextToken(e){return this.query.next=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return jt(e.getJSONText(),Eo)}}class JE extends Pt{path(){return"/v2/applications"}index(e){return this.query["application-id"]=e,this}creator(e){return this.query.creator=e.toString(),this}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}includeAll(e=!0){return this.query["include-all"]=e,this}prepare(e){return jt(e.getJSONText(),So)}}class YE extends Pt{constructor(e,t){super(e),this.index=BigInt(t)}path(){return`/v2/applications/${this.index}/boxes`}nextToken(e){return this.query.next=e,this}limit(e){return this.query.limit=e,this}prepare(e){return jt(e.getJSONText(),uc)}}class XE extends Tg{constructor(e,t="http://127.0.0.1",r=8080,a={}){super("X-Indexer-API-Token",e,t,r,a)}makeHealthCheck(){return new RE(this.c)}lookupAssetBalances(e){return new TE(this.c,e)}lookupAssetTransactions(e){return new FE(this.c,e)}lookupAccountTransactions(e){return new BE(this.c,e)}lookupBlock(e){return new CE(this.c,e)}lookupTransactionByID(e){return new PE(this.c,e)}lookupAccountByID(e){return new NE(this.c,e)}lookupAccountAssets(e){return new OE(this.c,e)}lookupAccountCreatedAssets(e){return new LE(this.c,e)}lookupAccountAppLocalStates(e){return new UE(this.c,e)}lookupAccountCreatedApplications(e){return new $E(this.c,e)}lookupAssetByID(e){return new qE(this.c,e)}lookupApplications(e){return new VE(this.c,e)}lookupApplicationLogs(e){return new zE(this.c,e)}searchAccounts(){return new WE(this.c)}searchForBlockHeaders(){return new HE(this.c)}searchForTransactions(){return new GE(this.c)}searchForAssets(){return new KE(this.c)}searchForApplications(){return new JE(this.c)}searchForApplicationBoxes(e){return new YE(this.c,e)}lookupApplicationBoxByIDandName(e,t){return new jE(this.c,e,t)}}async function $3(i,e,t){const r=await i.status().do();if(typeof r>"u")throw new Error("Unable to get node status");const a=r.lastRound+BigInt(1),n=a+BigInt(t);let s=a;for(;s<n;){let c=!1;try{const u=await i.pendingTransactionInformation(e).do();if(u.confirmedRound)return u;if(u.poolError)throw c=!0,new Error(`Transaction Rejected: ${u.poolError}`)}catch(u){if(c)throw u}await i.statusAfterBlock(s).do(),s+=BigInt(1)}throw new Error(`Transaction not confirmed after ${t} rounds`)}function _a(i,e){let t=i.toString(16);t.length!==e*2&&(t=t.padStart(e*2,"0"));const r=new Uint8Array(t.length/2);for(let a=0,n=0;a<t.length/2;a++,n+=2)r[a]=parseInt(t.slice(n,n+2),16);return r}function Cg(i){let e=BigInt(0);const t=new DataView(i.buffer,i.byteOffset);for(let r=0;r<i.length;r++)e=BigInt(Number(t.getUint8(r)))+e*BigInt(256);return e}function ZE(){const i=t8();return{addr:new Ct(i.publicKey),sk:i.secretKey}}const Cp=["abandon","ability","able","about","above","absent","absorb","abstract","absurd","abuse","access","accident","account","accuse","achieve","acid","acoustic","acquire","across","act","action","actor","actress","actual","adapt","add","addict","address","adjust","admit","adult","advance","advice","aerobic","affair","afford","afraid","again","age","agent","agree","ahead","aim","air","airport","aisle","alarm","album","alcohol","alert","alien","all","alley","allow","almost","alone","alpha","already","also","alter","always","amateur","amazing","among","amount","amused","analyst","anchor","ancient","anger","angle","angry","animal","ankle","announce","annual","another","answer","antenna","antique","anxiety","any","apart","apology","appear","apple","approve","april","arch","arctic","area","arena","argue","arm","armed","armor","army","around","arrange","arrest","arrive","arrow","art","artefact","artist","artwork","ask","aspect","assault","asset","assist","assume","asthma","athlete","atom","attack","attend","attitude","attract","auction","audit","august","aunt","author","auto","autumn","average","avocado","avoid","awake","aware","away","awesome","awful","awkward","axis","baby","bachelor","bacon","badge","bag","balance","balcony","ball","bamboo","banana","banner","bar","barely","bargain","barrel","base","basic","basket","battle","beach","bean","beauty","because","become","beef","before","begin","behave","behind","believe","below","belt","bench","benefit","best","betray","better","between","beyond","bicycle","bid","bike","bind","biology","bird","birth","bitter","black","blade","blame","blanket","blast","bleak","bless","blind","blood","blossom","blouse","blue","blur","blush","board","boat","body","boil","bomb","bone","bonus","book","boost","border","boring","borrow","boss","bottom","bounce","box","boy","bracket","brain","brand","brass","brave","bread","breeze","brick","bridge","brief","bright","bring","brisk","broccoli","broken","bronze","broom","brother","brown","brush","bubble","buddy","budget","buffalo","build","bulb","bulk","bullet","bundle","bunker","burden","burger","burst","bus","business","busy","butter","buyer","buzz","cabbage","cabin","cable","cactus","cage","cake","call","calm","camera","camp","can","canal","cancel","candy","cannon","canoe","canvas","canyon","capable","capital","captain","car","carbon","card","cargo","carpet","carry","cart","case","cash","casino","castle","casual","cat","catalog","catch","category","cattle","caught","cause","caution","cave","ceiling","celery","cement","census","century","cereal","certain","chair","chalk","champion","change","chaos","chapter","charge","chase","chat","cheap","check","cheese","chef","cherry","chest","chicken","chief","child","chimney","choice","choose","chronic","chuckle","chunk","churn","cigar","cinnamon","circle","citizen","city","civil","claim","clap","clarify","claw","clay","clean","clerk","clever","click","client","cliff","climb","clinic","clip","clock","clog","close","cloth","cloud","clown","club","clump","cluster","clutch","coach","coast","coconut","code","coffee","coil","coin","collect","color","column","combine","come","comfort","comic","common","company","concert","conduct","confirm","congress","connect","consider","control","convince","cook","cool","copper","copy","coral","core","corn","correct","cost","cotton","couch","country","couple","course","cousin","cover","coyote","crack","cradle","craft","cram","crane","crash","crater","crawl","crazy","cream","credit","creek","crew","cricket","crime","crisp","critic","crop","cross","crouch","crowd","crucial","cruel","cruise","crumble","crunch","crush","cry","crystal","cube","culture","cup","cupboard","curious","current","curtain","curve","cushion","custom","cute","cycle","dad","damage","damp","dance","danger","daring","dash","daughter","dawn","day","deal","debate","debris","decade","december","decide","decline","decorate","decrease","deer","defense","define","defy","degree","delay","deliver","demand","demise","denial","dentist","deny","depart","depend","deposit","depth","deputy","derive","describe","desert","design","desk","despair","destroy","detail","detect","develop","device","devote","diagram","dial","diamond","diary","dice","diesel","diet","differ","digital","dignity","dilemma","dinner","dinosaur","direct","dirt","disagree","discover","disease","dish","dismiss","disorder","display","distance","divert","divide","divorce","dizzy","doctor","document","dog","doll","dolphin","domain","donate","donkey","donor","door","dose","double","dove","draft","dragon","drama","drastic","draw","dream","dress","drift","drill","drink","drip","drive","drop","drum","dry","duck","dumb","dune","during","dust","dutch","duty","dwarf","dynamic","eager","eagle","early","earn","earth","easily","east","easy","echo","ecology","economy","edge","edit","educate","effort","egg","eight","either","elbow","elder","electric","elegant","element","elephant","elevator","elite","else","embark","embody","embrace","emerge","emotion","employ","empower","empty","enable","enact","end","endless","endorse","enemy","energy","enforce","engage","engine","enhance","enjoy","enlist","enough","enrich","enroll","ensure","enter","entire","entry","envelope","episode","equal","equip","era","erase","erode","erosion","error","erupt","escape","essay","essence","estate","eternal","ethics","evidence","evil","evoke","evolve","exact","example","excess","exchange","excite","exclude","excuse","execute","exercise","exhaust","exhibit","exile","exist","exit","exotic","expand","expect","expire","explain","expose","express","extend","extra","eye","eyebrow","fabric","face","faculty","fade","faint","faith","fall","false","fame","family","famous","fan","fancy","fantasy","farm","fashion","fat","fatal","father","fatigue","fault","favorite","feature","february","federal","fee","feed","feel","female","fence","festival","fetch","fever","few","fiber","fiction","field","figure","file","film","filter","final","find","fine","finger","finish","fire","firm","first","fiscal","fish","fit","fitness","fix","flag","flame","flash","flat","flavor","flee","flight","flip","float","flock","floor","flower","fluid","flush","fly","foam","focus","fog","foil","fold","follow","food","foot","force","forest","forget","fork","fortune","forum","forward","fossil","foster","found","fox","fragile","frame","frequent","fresh","friend","fringe","frog","front","frost","frown","frozen","fruit","fuel","fun","funny","furnace","fury","future","gadget","gain","galaxy","gallery","game","gap","garage","garbage","garden","garlic","garment","gas","gasp","gate","gather","gauge","gaze","general","genius","genre","gentle","genuine","gesture","ghost","giant","gift","giggle","ginger","giraffe","girl","give","glad","glance","glare","glass","glide","glimpse","globe","gloom","glory","glove","glow","glue","goat","goddess","gold","good","goose","gorilla","gospel","gossip","govern","gown","grab","grace","grain","grant","grape","grass","gravity","great","green","grid","grief","grit","grocery","group","grow","grunt","guard","guess","guide","guilt","guitar","gun","gym","habit","hair","half","hammer","hamster","hand","happy","harbor","hard","harsh","harvest","hat","have","hawk","hazard","head","health","heart","heavy","hedgehog","height","hello","helmet","help","hen","hero","hidden","high","hill","hint","hip","hire","history","hobby","hockey","hold","hole","holiday","hollow","home","honey","hood","hope","horn","horror","horse","hospital","host","hotel","hour","hover","hub","huge","human","humble","humor","hundred","hungry","hunt","hurdle","hurry","hurt","husband","hybrid","ice","icon","idea","identify","idle","ignore","ill","illegal","illness","image","imitate","immense","immune","impact","impose","improve","impulse","inch","include","income","increase","index","indicate","indoor","industry","infant","inflict","inform","inhale","inherit","initial","inject","injury","inmate","inner","innocent","input","inquiry","insane","insect","inside","inspire","install","intact","interest","into","invest","invite","involve","iron","island","isolate","issue","item","ivory","jacket","jaguar","jar","jazz","jealous","jeans","jelly","jewel","job","join","joke","journey","joy","judge","juice","jump","jungle","junior","junk","just","kangaroo","keen","keep","ketchup","key","kick","kid","kidney","kind","kingdom","kiss","kit","kitchen","kite","kitten","kiwi","knee","knife","knock","know","lab","label","labor","ladder","lady","lake","lamp","language","laptop","large","later","latin","laugh","laundry","lava","law","lawn","lawsuit","layer","lazy","leader","leaf","learn","leave","lecture","left","leg","legal","legend","leisure","lemon","lend","length","lens","leopard","lesson","letter","level","liar","liberty","library","license","life","lift","light","like","limb","limit","link","lion","liquid","list","little","live","lizard","load","loan","lobster","local","lock","logic","lonely","long","loop","lottery","loud","lounge","love","loyal","lucky","luggage","lumber","lunar","lunch","luxury","lyrics","machine","mad","magic","magnet","maid","mail","main","major","make","mammal","man","manage","mandate","mango","mansion","manual","maple","marble","march","margin","marine","market","marriage","mask","mass","master","match","material","math","matrix","matter","maximum","maze","meadow","mean","measure","meat","mechanic","medal","media","melody","melt","member","memory","mention","menu","mercy","merge","merit","merry","mesh","message","metal","method","middle","midnight","milk","million","mimic","mind","minimum","minor","minute","miracle","mirror","misery","miss","mistake","mix","mixed","mixture","mobile","model","modify","mom","moment","monitor","monkey","monster","month","moon","moral","more","morning","mosquito","mother","motion","motor","mountain","mouse","move","movie","much","muffin","mule","multiply","muscle","museum","mushroom","music","must","mutual","myself","mystery","myth","naive","name","napkin","narrow","nasty","nation","nature","near","neck","need","negative","neglect","neither","nephew","nerve","nest","net","network","neutral","never","news","next","nice","night","noble","noise","nominee","noodle","normal","north","nose","notable","note","nothing","notice","novel","now","nuclear","number","nurse","nut","oak","obey","object","oblige","obscure","observe","obtain","obvious","occur","ocean","october","odor","off","offer","office","often","oil","okay","old","olive","olympic","omit","once","one","onion","online","only","open","opera","opinion","oppose","option","orange","orbit","orchard","order","ordinary","organ","orient","original","orphan","ostrich","other","outdoor","outer","output","outside","oval","oven","over","own","owner","oxygen","oyster","ozone","pact","paddle","page","pair","palace","palm","panda","panel","panic","panther","paper","parade","parent","park","parrot","party","pass","patch","path","patient","patrol","pattern","pause","pave","payment","peace","peanut","pear","peasant","pelican","pen","penalty","pencil","people","pepper","perfect","permit","person","pet","phone","photo","phrase","physical","piano","picnic","picture","piece","pig","pigeon","pill","pilot","pink","pioneer","pipe","pistol","pitch","pizza","place","planet","plastic","plate","play","please","pledge","pluck","plug","plunge","poem","poet","point","polar","pole","police","pond","pony","pool","popular","portion","position","possible","post","potato","pottery","poverty","powder","power","practice","praise","predict","prefer","prepare","present","pretty","prevent","price","pride","primary","print","priority","prison","private","prize","problem","process","produce","profit","program","project","promote","proof","property","prosper","protect","proud","provide","public","pudding","pull","pulp","pulse","pumpkin","punch","pupil","puppy","purchase","purity","purpose","purse","push","put","puzzle","pyramid","quality","quantum","quarter","question","quick","quit","quiz","quote","rabbit","raccoon","race","rack","radar","radio","rail","rain","raise","rally","ramp","ranch","random","range","rapid","rare","rate","rather","raven","raw","razor","ready","real","reason","rebel","rebuild","recall","receive","recipe","record","recycle","reduce","reflect","reform","refuse","region","regret","regular","reject","relax","release","relief","rely","remain","remember","remind","remove","render","renew","rent","reopen","repair","repeat","replace","report","require","rescue","resemble","resist","resource","response","result","retire","retreat","return","reunion","reveal","review","reward","rhythm","rib","ribbon","rice","rich","ride","ridge","rifle","right","rigid","ring","riot","ripple","risk","ritual","rival","river","road","roast","robot","robust","rocket","romance","roof","rookie","room","rose","rotate","rough","round","route","royal","rubber","rude","rug","rule","run","runway","rural","sad","saddle","sadness","safe","sail","salad","salmon","salon","salt","salute","same","sample","sand","satisfy","satoshi","sauce","sausage","save","say","scale","scan","scare","scatter","scene","scheme","school","science","scissors","scorpion","scout","scrap","screen","script","scrub","sea","search","season","seat","second","secret","section","security","seed","seek","segment","select","sell","seminar","senior","sense","sentence","series","service","session","settle","setup","seven","shadow","shaft","shallow","share","shed","shell","sheriff","shield","shift","shine","ship","shiver","shock","shoe","shoot","shop","short","shoulder","shove","shrimp","shrug","shuffle","shy","sibling","sick","side","siege","sight","sign","silent","silk","silly","silver","similar","simple","since","sing","siren","sister","situate","six","size","skate","sketch","ski","skill","skin","skirt","skull","slab","slam","sleep","slender","slice","slide","slight","slim","slogan","slot","slow","slush","small","smart","smile","smoke","smooth","snack","snake","snap","sniff","snow","soap","soccer","social","sock","soda","soft","solar","soldier","solid","solution","solve","someone","song","soon","sorry","sort","soul","sound","soup","source","south","space","spare","spatial","spawn","speak","special","speed","spell","spend","sphere","spice","spider","spike","spin","spirit","split","spoil","sponsor","spoon","sport","spot","spray","spread","spring","spy","square","squeeze","squirrel","stable","stadium","staff","stage","stairs","stamp","stand","start","state","stay","steak","steel","stem","step","stereo","stick","still","sting","stock","stomach","stone","stool","story","stove","strategy","street","strike","strong","struggle","student","stuff","stumble","style","subject","submit","subway","success","such","sudden","suffer","sugar","suggest","suit","summer","sun","sunny","sunset","super","supply","supreme","sure","surface","surge","surprise","surround","survey","suspect","sustain","swallow","swamp","swap","swarm","swear","sweet","swift","swim","swing","switch","sword","symbol","symptom","syrup","system","table","tackle","tag","tail","talent","talk","tank","tape","target","task","taste","tattoo","taxi","teach","team","tell","ten","tenant","tennis","tent","term","test","text","thank","that","theme","then","theory","there","they","thing","this","thought","three","thrive","throw","thumb","thunder","ticket","tide","tiger","tilt","timber","time","tiny","tip","tired","tissue","title","toast","tobacco","today","toddler","toe","together","toilet","token","tomato","tomorrow","tone","tongue","tonight","tool","tooth","top","topic","topple","torch","tornado","tortoise","toss","total","tourist","toward","tower","town","toy","track","trade","traffic","tragic","train","transfer","trap","trash","travel","tray","treat","tree","trend","trial","tribe","trick","trigger","trim","trip","trophy","trouble","truck","true","truly","trumpet","trust","truth","try","tube","tuition","tumble","tuna","tunnel","turkey","turn","turtle","twelve","twenty","twice","twin","twist","two","type","typical","ugly","umbrella","unable","unaware","uncle","uncover","under","undo","unfair","unfold","unhappy","uniform","unique","unit","universe","unknown","unlock","until","unusual","unveil","update","upgrade","uphold","upon","upper","upset","urban","urge","usage","use","used","useful","useless","usual","utility","vacant","vacuum","vague","valid","valley","valve","van","vanish","vapor","various","vast","vault","vehicle","velvet","vendor","venture","venue","verb","verify","version","very","vessel","veteran","viable","vibrant","vicious","victory","video","view","village","vintage","violin","virtual","virus","visa","visit","visual","vital","vivid","vocal","voice","void","volcano","volume","vote","voyage","wage","wagon","wait","walk","wall","walnut","want","warfare","warm","warrior","wash","wasp","waste","water","wave","way","wealth","weapon","wear","weasel","weather","web","wedding","weekend","weird","welcome","west","wet","whale","what","wheat","wheel","when","where","whip","whisper","wide","width","wife","wild","will","win","window","wine","wing","wink","winner","winter","wire","wisdom","wise","wish","witness","wolf","woman","wonder","wood","wool","word","work","world","worry","worth","wrap","wreck","wrestle","wrist","write","wrong","yard","year","yellow","you","young","youth","zebra","zero","zone","zoo"],t0="failed to decode mnemonic",QE="the mnemonic contains a word that is not in the wordlist";function q3(i){const e=[];let t=0,r=0;function a(s){t|=s<<r,r+=8,r>=11&&(e.push(t&2047),t>>=11,r-=11)}function n(){r&&e.push(t)}return i.forEach(a),n(),e}function V3(i){return i.map(e=>Cp[e])}function z3(i){const e=Wn(i),t=q3(e);return V3(t)[0]}function Pg(i){if(i.length!==z0)throw new RangeError(`Seed length must be ${z0}`);const e=q3(i),t=V3(e),r=z3(i);return`${t.join(" ")} ${r}`}function e7(i){const e=[];let t=0,r=0;function a(s){for(t|=s<<r,r+=11;r>=8;)e.push(t&255),t>>=8,r-=8}function n(){r&&e.push(t)}return i.forEach(a),n(),new Uint8Array(e)}function Ng(i){const e=i.split(" "),t=e.slice(0,24);for(const c of t)if(Cp.indexOf(c)===-1)throw new Error(QE);const r=e[e.length-1],a=t.map(c=>Cp.indexOf(c));let n=e7(a);if(n.length!==33)throw new Error(t0);if(n[n.length-1]!==0)throw new Error(t0);if(n=n.slice(0,n.length-1),z3(n)===r)return n;throw new Error(t0)}function t7(i){const e=Ng(i),t=s3(e);return{addr:new Ct(t.publicKey),sk:t.secretKey}}function r7(i){const e=i.slice(0,z0);return Pg(e)}function n7(i){return Ng(i)}function i7(i){return Pg(i)}const Ew=16,a7=new TextEncoder().encode("TG");function o7(i){if(i.length>Ew)throw new Error(`${i.length} transactions grouped together but max group size is ${Ew}`);if(i.length===0)throw new Error("Cannot compute group ID of zero transactions");const e=Mc({txlist:i});return dr(a7,e)}function j3(i){const e=[];for(const a of i)e.push(a.rawTxID());const t=o7(e),r=Wn(t);return Uint8Array.from(r)}function W3(i){const e=j3(i);for(const t of i)t.group=e;return i}function s7(i,e,t){if(!e.verify(t.publicKey))throw new Error("Logic signature verification failed. Ensure the program and signature are valid.");let r;f3(t.publicKey,i.sender.publicKey)||(r=t);const a=new rr({lsig:e,txn:i,sgnr:r});return{txID:i.txID(),blob:Zr(a)}}function Og(i,e){let t,r;if(e instanceof $i)t=e.lsig,r=e.address();else if(t=e,t.sig)r=new Ct(i.sender.publicKey);else if(t.lmsig){const a={version:t.lmsig.v,threshold:t.lmsig.thr,pks:t.lmsig.subsig.map(n=>n.pk)};r=Hn(a)}else r=t.address();return s7(i,t,r)}function c7(i,e){return Og(i,e)}const f7="Not enough multisig transactions to merge. Need at least two",h7="Cannot merge txs. txIDs differ",u7="Cannot merge txs. Auth addrs differ",Mw="Cannot merge txs. Multisig preimages differ",l7="Cannot merge txs. subsigs are mismatched.",d7="Cannot add multisig signature. Signature is not of the correct length.",p7="Key does not exist";function H3(i,{version:e,threshold:t,addrs:r}){const a=ss(r),n=a.map(f=>({pk:f})),s={v:e,thr:t,subsig:n},c=Hn({version:e,threshold:t,pks:a});let u;i.sender.equals(c)||(u=c);const h=new rr({txn:i,msig:s,sgnr:u});return Zr(h)}function G3(i,{rawSig:e,myPk:t},{version:r,threshold:a,pks:n}){const s=H3(i,{version:r,threshold:a,addrs:n.map(h=>new Ct(h))}),c=fr(s,rr);let u=!1;if(c.msig.subsig.forEach((h,f)=>{f3(h.pk,t)&&(u=!0,c.msig.subsig[f].s=e)}),!u)throw new Error(p7);return Zr(c)}function K3(i,{version:e,threshold:t,pks:r},a){const n=Hf(a).publicKey;return G3(i,{rawSig:i.rawSignTxn(a),myPk:n},{version:e,threshold:t,pks:r})}function g7(i,e,t,r){if(!c3(r.length))throw new Error(d7);const a=typeof t=="string"?Ct.fromString(t):t;return G3(i,{rawSig:r,myPk:a.publicKey},e)}function nh(i){if(i.length<2)throw new Error(f7);const e=fr(i[0],rr);if(!e.msig)throw new Error("Invalid multisig transaction, multisig structure missing at index 0");const t=e.txn.txID(),r=e.sgnr?e.sgnr.toString():void 0,a={version:e.msig.v,threshold:e.msig.thr,pks:e.msig.subsig.map(f=>f.pk)},n=Hn(a),s=e.msig.subsig.map(f=>({...f}));for(let f=1;f<i.length;f++){const g=fr(i[f],rr);if(!g.msig)throw new Error(`Invalid multisig transaction, multisig structure missing at index ${f}`);if(g.txn.txID()!==t)throw new Error(h7);const b=g.sgnr?g.sgnr.toString():void 0;if(r!==b)throw new Error(u7);if(g.msig.subsig.length!==e.msig.subsig.length)throw new Error(Mw);const M={version:g.msig.v,threshold:g.msig.thr,pks:g.msig.subsig.map(D=>D.pk)},_=Hn(M);if(!n.equals(_))throw new Error(Mw);g.msig.subsig.forEach((D,R)=>{if(!D.s)return;const A=s[R];if(A.s&&!_n(D.s,A.s))throw new Error(l7);A.s=D.s})}const c={v:e.msig.v,thr:e.msig.thr,subsig:s},u=typeof r<"u"?e.sgnr:void 0,h=new rr({msig:c,txn:e.txn,sgnr:u});return Zr(h)}function J3(i,{version:e,threshold:t,addrs:r},a){const n=ss(r),s=K3(i,{version:e,threshold:t,pks:n},a);return{txID:i.txID(),blob:s}}function m7(i,{version:e,threshold:t,addrs:r},a){const n=ss(r),s=fr(i,rr),c=K3(s.txn,{version:e,threshold:t,pks:n},a);return{txID:s.txn.txID(),blob:nh([i,c])}}function v7(i,{version:e,threshold:t,addrs:r},a,n){const s=ss(r),c=fr(i,rr),u=g7(c.txn,{version:e,threshold:t,pks:s},a,n);return{txID:c.txn.txID(),blob:nh([i,u])}}let Y3={};"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split("").forEach(function(i,e){Y3[i]=e});function y7(i){let e=[],t=0,r=0;for(let a=0;a<i.length;a+=1){let n=Y3[i[a]];if(n===void 0)throw new Error("Invalid character ("+i[a]+")");const s=n&32;if(n&=31,r+=n<<t,s)t+=5;else{const c=r&1;r>>>=1,c?e.push(r===0?-2147483648:-r):e.push(r),r=t=0}}return e}class w7{constructor({version:e,sources:t,names:r,mappings:a}){if(this.version=e,this.sources=t,this.names=r,this.mappings=a,this.version!==3)throw new Error(`Only version 3 is supported, got ${this.version}`);if(this.mappings===void 0)throw new Error("mapping undefined, cannot build source map without `mapping`");const n=this.mappings.split(";").map(y7);this.pcToLocation=new Map,this.sourceAndLineToPc=new Map;const s={line:0,column:0,sourceIndex:0,nameIndex:0};for(const[c,u]of n.entries()){if(u.length<4)continue;const h=u.length>4?u[4]:void 0,[,f,g,b]=u;s.sourceIndex+=f,s.line+=g,s.column+=b,typeof h<"u"&&(s.nameIndex+=h);const M=`${s.sourceIndex}:${s.line}`;let _=this.sourceAndLineToPc.get(M);_===void 0&&(_=[],this.sourceAndLineToPc.set(M,_));const D={pc:c,column:s.column},R={line:s.line,column:s.column,sourceIndex:s.sourceIndex};typeof h<"u"&&(D.nameIndex=s.nameIndex,R.nameIndex=s.nameIndex),_.push(D),this.pcToLocation.set(c,R)}}getPcs(){return Array.from(this.pcToLocation.keys())}getLocationForPc(e){return this.pcToLocation.get(e)}getPcsOnSourceLine(e,t){const r=this.sourceAndLineToPc.get(`${e}:${t}`);return r===void 0?[]:r}}const b7=1380011588,Lg=30;async function x7({client:i,txns:e,protocolVersion:t,latestTimestamp:r,round:a,sources:n}){const s=[],c=[],u=[],h=[],f=[];for(const _ of e)if(_.txn.type===Yt.appl)if(f.push(_.txn.sender.toString()),f.push(..._.txn.applicationCall.accounts.map(D=>D.toString())),u.push(..._.txn.applicationCall.foreignApps),f.push(..._.txn.applicationCall.foreignApps.map(j0).map(D=>D.toString())),h.push(..._.txn.applicationCall.foreignAssets),_.txn.applicationCall.appIndex===BigInt(0))s.push(new wa({id:b7,params:new Qa({creator:_.txn.sender.toString(),approvalProgram:_.txn.applicationCall.approvalProgram,clearStateProgram:_.txn.applicationCall.clearProgram,localStateSchema:new on({numUint:_.txn.applicationCall.numLocalInts,numByteSlice:_.txn.applicationCall.numLocalByteSlices}),globalStateSchema:new on({numUint:_.txn.applicationCall.numGlobalInts,numByteSlice:_.txn.applicationCall.numGlobalByteSlices})})}));else{const{appIndex:D}=_.txn.applicationCall;u.push(D),f.push(j0(D).toString())}const g=[];for(const _ of new Set(h))g.push(i.getAssetByID(_).do().then(D=>{f.push(D.params.creator)}));await Promise.all(g);const b=[];for(const _ of new Set(u))b.push(i.getApplicationByID(_).do().then(D=>{s.push(D),f.push(D.params.creator.toString())}));await Promise.all(b);const M=[];for(const _ of new Set(f))M.push(i.accountInformation(_).do().then(D=>{c.push(D)}));return await Promise.all(M),new zs({txns:e.slice(),accounts:c,apps:s,latestTimestamp:r??0,round:a??0,protocolVersion:t??"",sources:n??[]})}function r0(i,e){return i.length>e&&e>0?`${i.slice(0,e)}...`:i}function S7(i,e){if(e.length===0)return"";let t=null;for(let a=0;a<e.length;a++){if(a>i.length){t=a;continue}zi(i[a])!==zi(e[a])&&(t=a)}if(t==null)return"";const r=e[t];return r.bytes.length>0?`${t} = 0x${Jf(r.bytes)}`:`${t} = ${r.uint.toString()}`}function E7(i,e){return`[${(e?i.reverse():i).map(r=>{switch(r.type){case 1:return`0x${Jf(r.bytes)}`;case 2:return r.uint.toString();default:return""}}).join(", ")}]`}function X3(i,e,t){const r=t.maxValueWidth||Lg,a=[["pc#","ln#","source","scratch","stack"]];for(let s=0;s<i.length;s++){const{line:c,error:u,pc:h,scratch:f,stack:g}=i[s],b=f!==void 0?f:[],M=s>0&&i[s-1].scratch!==void 0?i[s-1].scratch:[],_=u?`!! ${u} !!`:e[c];a.push([h.toString().padEnd(3," "),c.toString().padEnd(3," "),r0(_,r),r0(S7(M,b),r),r0(E7(g,t.topOfStackFirst),r)])}const n=a.reduce((s,c)=>{const u=new Array(a[0].length).fill(0);for(let h=0;h<s.length;h++)u[h]=c[h].length>s[h]?c[h].length:s[h];return u},new Array(a[0].length).fill(0));return`${a.map(s=>s.map((c,u)=>c.padEnd(n[u]+1," ")).join("|").trim()).join(`
`)}
`}function M7(i,e){if(!i.appCallTrace||!i.disassembly)return"";let t=e;return e!==void 0?t=e:t={maxValueWidth:Lg,topOfStackFirst:!1},X3(i.appCallTrace,i.disassembly,t)}function _7(i,e){if(!i.logicSigTrace||!i.logicSigDisassembly)return"";let t;return e!==void 0?t=e:t={maxValueWidth:Lg,topOfStackFirst:!0},X3(i.logicSigTrace,i.logicSigDisassembly,t)}function Pp({sender:i,receiver:e,amount:t,closeRemainderTo:r,suggestedParams:a,note:n,lease:s,rekeyTo:c}){return new Qr({type:Yt.pay,sender:i,note:n,lease:s,rekeyTo:c,suggestedParams:a,paymentParams:{receiver:e,amount:t,closeRemainderTo:r}})}function A7({sender:i,voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:a,voteLast:n,voteKeyDilution:s,nonParticipation:c,suggestedParams:u,note:h,lease:f,rekeyTo:g}){return new Qr({type:Yt.keyreg,sender:i,note:h,lease:f,rekeyTo:g,suggestedParams:u,keyregParams:{voteKey:e,selectionKey:t,stateProofKey:r,voteFirst:a,voteLast:n,voteKeyDilution:s,nonParticipation:c}})}function ih({sender:i,assetIndex:e,total:t,decimals:r,defaultFrozen:a,manager:n,reserve:s,freeze:c,clawback:u,unitName:h,assetName:f,assetURL:g,assetMetadataHash:b,note:M,lease:_,rekeyTo:D,suggestedParams:R}){return new Qr({type:Yt.acfg,sender:i,note:M,lease:_,rekeyTo:D,suggestedParams:R,assetConfigParams:{assetIndex:e,total:t,decimals:r,defaultFrozen:a,manager:n,reserve:s,freeze:c,clawback:u,unitName:h,assetName:f,assetURL:g,assetMetadataHash:b}})}function k7({sender:i,total:e,decimals:t,defaultFrozen:r,manager:a,reserve:n,freeze:s,clawback:c,unitName:u,assetName:h,assetURL:f,assetMetadataHash:g,note:b,lease:M,rekeyTo:_,suggestedParams:D}){return ih({sender:i,total:e,decimals:t,defaultFrozen:r,manager:a,reserve:n,freeze:s,clawback:c,unitName:u,assetName:h,assetURL:f,assetMetadataHash:g,note:b,lease:M,rekeyTo:_,suggestedParams:D})}function I7({sender:i,assetIndex:e,manager:t,reserve:r,freeze:a,clawback:n,strictEmptyAddressChecking:s,note:c,lease:u,rekeyTo:h,suggestedParams:f}){if(!e)throw Error("assetIndex must be provided");if((s??!0)&&(t==null||r==null||a==null||n==null))throw Error("strictEmptyAddressChecking is enabled, but an address is empty. If this is intentional, set strictEmptyAddressChecking to false.");return ih({sender:i,assetIndex:e,manager:t,reserve:r,freeze:a,clawback:n,note:c,lease:u,rekeyTo:h,suggestedParams:f})}function D7({sender:i,assetIndex:e,note:t,lease:r,rekeyTo:a,suggestedParams:n}){if(!e)throw Error("assetIndex must be provided");return ih({sender:i,assetIndex:e,note:t,lease:r,rekeyTo:a,suggestedParams:n})}function R7({sender:i,assetIndex:e,freezeTarget:t,frozen:r,suggestedParams:a,note:n,lease:s,rekeyTo:c}){return new Qr({type:Yt.afrz,sender:i,note:n,lease:s,rekeyTo:c,suggestedParams:a,assetFreezeParams:{assetIndex:e,freezeTarget:t,frozen:r}})}function T7({sender:i,receiver:e,amount:t,closeRemainderTo:r,assetSender:a,note:n,assetIndex:s,suggestedParams:c,rekeyTo:u,lease:h}){if(!s)throw Error("assetIndex must be provided");return new Qr({type:Yt.axfer,sender:i,note:n,lease:h,rekeyTo:u,suggestedParams:c,assetTransferParams:{assetIndex:s,receiver:e,amount:t,assetSender:a,closeRemainderTo:r}})}function Qn({sender:i,appIndex:e,onComplete:t,appArgs:r,accounts:a,foreignApps:n,foreignAssets:s,boxes:c,convertToAccess:u,holdings:h,locals:f,access:g,approvalProgram:b,clearProgram:M,numLocalInts:_,numLocalByteSlices:D,numGlobalInts:R,numGlobalByteSlices:A,extraPages:I,rejectVersion:N,note:$,lease:V,rekeyTo:U,suggestedParams:J}){if(t==null)throw Error("onComplete must be provided");if(g&&(a||n||s||c||h||f))throw Error("cannot specify both access and other access fields");let Y=g;return u&&(Y=p5({appIndex:e,accounts:a,foreignApps:n,foreignAssets:s,holdings:h,locals:f,boxes:c})),new Qr({type:Yt.appl,sender:i,note:$,lease:V,rekeyTo:U,suggestedParams:J,appCallParams:{appIndex:e,onComplete:t,appArgs:r,accounts:Y?void 0:a,foreignAssets:Y?void 0:s,foreignApps:Y?void 0:n,boxes:Y?void 0:c,access:Y,approvalProgram:b,clearProgram:M,numLocalInts:_,numLocalByteSlices:D,numGlobalInts:R,numGlobalByteSlices:A,extraPages:I,rejectVersion:N}})}function B7({sender:i,onComplete:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,approvalProgram:g,clearProgram:b,numLocalInts:M,numLocalByteSlices:_,numGlobalInts:D,numGlobalByteSlices:R,extraPages:A,note:I,lease:N,rekeyTo:$,suggestedParams:V}){if(!g||!b)throw Error("approvalProgram and clearProgram must be provided");if(e==null)throw Error("onComplete must be provided");return Qn({sender:i,appIndex:0,onComplete:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,approvalProgram:g,clearProgram:b,numLocalInts:M,numLocalByteSlices:_,numGlobalInts:D,numGlobalByteSlices:R,extraPages:A,note:I,lease:N,rekeyTo:$,suggestedParams:V})}function F7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,approvalProgram:g,clearProgram:b,note:M,lease:_,rekeyTo:D,suggestedParams:R}){if(!e)throw Error("appIndex must be provided");if(!g||!b)throw Error("approvalProgram and clearProgram must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.UpdateApplicationOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,approvalProgram:g,clearProgram:b,note:M,lease:_,rekeyTo:D,suggestedParams:R})}function C7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_}){if(!e)throw Error("appIndex must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.DeleteApplicationOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_})}function P7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_}){if(!e)throw Error("appIndex must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.OptInOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,note:g,convertToAccess:c,holdings:u,locals:h,access:f,lease:b,rekeyTo:M,suggestedParams:_})}function N7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_}){if(!e)throw Error("appIndex must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.CloseOutOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_})}function O7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_}){if(!e)throw Error("appIndex must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.ClearStateOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_})}function L7({sender:i,appIndex:e,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_}){if(!e)throw Error("appIndex must be provided");return Qn({sender:i,appIndex:e,onComplete:_r.NoOpOC,appArgs:t,accounts:r,foreignApps:a,foreignAssets:n,boxes:s,convertToAccess:c,holdings:u,locals:h,access:f,note:g,lease:b,rekeyTo:M,suggestedParams:_})}function U7(i){return(e,t)=>{const r=[];for(const a of t)r.push(e[a].signTxn(i.sk));return Promise.resolve(r)}}function $7(i){return(e,t)=>{const r=[];for(const a of t){const{blob:n}=Og(e[a],i);r.push(n)}return Promise.resolve(r)}}function q7(i,e){return(t,r)=>{const a=[];for(const n of r){const s=t[n],c=[];for(const u of e){const{blob:h}=J3(s,i,u);c.push(h)}c.length>1?a.push(nh(c)):a.push(c[0])}return Promise.resolve(a)}}function V7(){return(i,e)=>{const t=[];for(const r of e)t.push(C3(i[r]));return Promise.resolve(t)}}function Np(i){return typeof i=="object"&&Object.keys(i).length===2&&typeof i.txn=="object"&&typeof i.signer=="function"}const qi=2**16-1,Z3=32,Q3=1,e6=1,Cr=2,z7=/^([a-z\d[\](),]+)\[(0|[1-9][\d]*)]$/,j7=/^ufixed([1-9][\d]*)x([1-9][\d]*)$/;class Dr{static from(e){if(e.endsWith("[]")){const t=Dr.from(e.slice(0,e.length-2));return new fh(t)}if(e.endsWith("]")){const t=e.match(z7);if(!t||t.length!==3)throw new Error(`malformed static array string: ${e}`);const r=t[2],a=parseInt(r,10);if(a>qi)throw new Error(`array length exceeds limit ${qi}`);const n=Dr.from(t[1]);return new ch(n,a)}if(e.startsWith("uint")){const t=n=>[...n].every(s=>"0123456789".includes(s)),r=e.slice(4,e.length);if(!t(r))throw new Error(`malformed uint string: ${r}`);const a=parseInt(r,10);if(a>qi)throw new Error(`malformed uint string: ${a}`);return new Vi(a)}if(e==="byte")return new oh;if(e.startsWith("ufixed")){const t=e.match(j7);if(!t||t.length!==3)throw new Error(`malformed ufixed type: ${e}`);const r=parseInt(t[1],10),a=parseInt(t[2],10);return new ah(r,a)}if(e==="bool")return new Vn;if(e==="address")return new _c;if(e==="string")return new sh;if(e.length>=2&&e[0]==="("&&e[e.length-1]===")"){const t=Jn.parseTupleContent(e.slice(1,e.length-1)),r=[];for(let a=0;a<t.length;a++){const n=Dr.from(t[a]);r.push(n)}return new Jn(r)}throw new Error(`cannot convert a string ${e} to an ABI type`)}}class Vi extends Dr{constructor(e){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported uint type bitSize: ${e}`);this.bitSize=e}toString(){return`uint${this.bitSize}`}equals(e){return e instanceof Vi&&this.bitSize===e.bitSize}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as uint${this.bitSize}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size uint${this.bitSize}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return _a(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a uint${this.bitSize}`);return Cg(e)}}class ah extends Dr{constructor(e,t){if(super(),e%8!==0||e<8||e>512)throw new Error(`unsupported ufixed type bitSize: ${e}`);if(t>160||t<1)throw new Error(`unsupported ufixed type precision: ${t}`);this.bitSize=e,this.precision=t}toString(){return`ufixed${this.bitSize}x${this.precision}`}equals(e){return e instanceof ah&&this.bitSize===e.bitSize&&this.precision===e.precision}isDynamic(){return!1}byteLen(){return this.bitSize/8}encode(e){if(typeof e!="bigint"&&typeof e!="number")throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e>=BigInt(2**this.bitSize)||e<BigInt(0))throw new Error(`${e} is not a non-negative int or too big to fit in size ${this.toString()}`);if(typeof e=="number"&&!Number.isSafeInteger(e))throw new Error(`${e} should be converted into a BigInt before it is encoded`);return _a(e,this.bitSize/8)}decode(e){if(e.length!==this.bitSize/8)throw new Error(`byte string must correspond to a ${this.toString()}`);return Cg(e)}}class _c extends Dr{toString(){return"address"}equals(e){return e instanceof _c}isDynamic(){return!1}byteLen(){return Z3}encode(e){if(typeof e=="string")return l3(e).publicKey;if(e instanceof Ct)return e.publicKey;if(e instanceof Uint8Array){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return e}throw new Error(`Cannot encode value as ${this.toString()}: ${e}`)}decode(e){if(e.byteLength!==32)throw new Error("byte string must be 32 bytes long for an address");return d3(e)}}class Vn extends Dr{toString(){return"bool"}equals(e){return e instanceof Vn}isDynamic(){return!1}byteLen(){return e6}encode(e){if(typeof e!="boolean")throw new Error(`Cannot encode value as bool: ${e}`);return e?new Uint8Array([128]):new Uint8Array([0])}decode(e){if(e.byteLength!==1)throw new Error("bool string must be 1 byte long");const t=e[0];if(t===128)return!0;if(t===0)return!1;throw new Error("boolean could not be decoded from the byte string")}}class oh extends Dr{toString(){return"byte"}equals(e){return e instanceof oh}isDynamic(){return!1}byteLen(){return Q3}encode(e){if(typeof e!="number"&&typeof e!="bigint")throw new Error(`Cannot encode value as byte: ${e}`);if(typeof e=="bigint"&&(e=Number(e)),e<0||e>255)throw new Error(`${e} cannot be encoded into a byte`);return new Uint8Array([e])}decode(e){if(e.byteLength!==1)throw new Error("byte string must be 1 byte long");return e[0]}}class sh extends Dr{toString(){return"string"}equals(e){return e instanceof sh}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(typeof e!="string"&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as string: ${e}`);let t;typeof e=="string"?t=new TextEncoder().encode(e):t=e;const r=_a(t.length,Cr),a=new Uint8Array(t.length+Cr);return a.set(r),a.set(t,Cr),a}decode(e){if(e.length<Cr)throw new Error(`byte string is too short to be decoded. Actual length is ${e.length}, but expected at least ${Cr}`);const r=new DataView(e.buffer,e.byteOffset,Cr).getUint16(0),a=e.slice(Cr,e.length);if(r!==a.length)throw new Error(`string length bytes do not match the actual length of string. Expected ${r}, got ${a.length}`);return new TextDecoder("utf-8").decode(a)}}class ch extends Dr{constructor(e,t){if(super(),t<0)throw new Error(`static array must have a non negative length: ${t}`);this.childType=e,this.staticLength=t}toString(){return`${this.childType.toString()}[${this.staticLength}]`}equals(e){return e instanceof ch&&this.staticLength===e.staticLength&&this.childType.equals(e.childType)}isDynamic(){return this.childType.isDynamic()}byteLen(){return this.childType.constructor===Vn?Math.ceil(this.staticLength/8):this.staticLength*this.childType.byteLen()}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);if(e.length!==this.staticLength)throw new Error(`Value array does not match static array length. Expected ${this.staticLength}, got ${e.length}`);return this.toABITupleType().encode(e)}decode(e){return this.toABITupleType().decode(e)}toABITupleType(){return new Jn(Array(this.staticLength).fill(this.childType))}}class fh extends Dr{constructor(e){super(),this.childType=e}toString(){return`${this.childType.toString()}[]`}equals(e){return e instanceof fh&&this.childType.equals(e.childType)}isDynamic(){return!0}byteLen(){throw new Error(`${this.toString()} is a dynamic type`)}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=this.toABITupleType(e.length),r=t.encode(e),a=_a(t.childTypes.length,Cr);return dr(a,r)}decode(e){const r=new DataView(e.buffer,0,Cr).getUint16(0);return this.toABITupleType(r).decode(e.slice(Cr,e.length))}toABITupleType(e){return new Jn(Array(e).fill(this.childType))}}class Jn extends Dr{constructor(e){if(super(),e.length>=qi)throw new Error("tuple type child type number larger than maximum uint16 error");this.childTypes=e}toString(){const e=[];for(let t=0;t<this.childTypes.length;t++)e[t]=this.childTypes[t].toString();return`(${e.join(",")})`}equals(e){return e instanceof Jn&&this.childTypes.length===e.childTypes.length&&this.childTypes.every((t,r)=>t.equals(e.childTypes[r]))}isDynamic(){const e=t=>t.isDynamic();return this.childTypes.some(e)}byteLen(){let e=0;for(let t=0;t<this.childTypes.length;t++)if(this.childTypes[t].constructor===Vn){const r=ys(this.childTypes,t,1),a=r+1;t+=r,e+=Math.trunc((a+7)/8)}else{const r=this.childTypes[t].byteLen();e+=r}return e}encode(e){if(!Array.isArray(e)&&!(e instanceof Uint8Array))throw new Error(`Cannot encode value as ${this.toString()}: ${e}`);const t=Array.from(e);if(e.length>qi)throw new Error("length of tuple array should not exceed a uint16");const r=this.childTypes,a=[],n=[],s=new Map;let c=0;for(;c<r.length;){const f=r[c];if(f.isDynamic())s.set(a.length,!0),a.push(new Uint8Array([0,0])),n.push(f.encode(t[c]));else{if(f.constructor===Vn){const g=ys(r,c,-1);let b=ys(r,c,1);if(g%8!==0)throw new Error("expected before index should have number of bool mod 8 equal 0");b=Math.min(7,b);const M=W7(t.slice(c,c+b+1));a.push(_a(M,1)),c+=b}else{const g=f.encode(t[c]);a.push(g)}s.set(c,!1),n.push(new Uint8Array)}c+=1}let u=0;for(const f of a)u+=f.length;let h=0;for(let f=0;f<a.length;f++){if(s.get(f)){const g=u+h;if(g>qi)throw new Error(`byte length of ${g} should not exceed a uint16`);a[f]=_a(g,Cr)}h+=n[f].length}return dr(...a,...n)}decode(e){const t=this.childTypes,r=[],a=[];let n=0,s=0;const c=new DataView(e.buffer);for(;n<t.length;){const f=t[n];if(f.isDynamic()){if(e.slice(s,e.length).length<Cr)throw new Error("dynamic type in tuple is too short to be decoded");const g=c.getUint16(s);if(r.length>0&&(r[r.length-1].right=g,g<r[r.length-1].left))throw new Error("dynamic index segment miscalculation: left is greater than right index");const b={left:g,right:-1};r.push(b),a.push(null),s+=Cr}else if(f.constructor===Vn){const g=ys(this.childTypes,n,-1);let b=ys(this.childTypes,n,1);if(g%8!==0)throw new Error("expected before bool number mod 8 === 0");b=Math.min(7,b);for(let M=0;M<=b;M++){const _=128>>M;(e[s]&_)>0?a.push(new Uint8Array([128])):a.push(new Uint8Array([0]))}n+=b,s+=1}else{const g=f.byteLen();a.push(e.slice(s,s+g)),s+=g}if(n!==t.length-1&&s>=e.length)throw new Error("input byte not enough to decode");n+=1}if(r.length>0&&(r[r.length-1].right=e.length,s=e.length),s<e.length)throw new Error("input byte not fully consumed");for(let f=0;f<r.length;f++){const g=r[f];if(g.left>g.right)throw new Error("dynamic segment should display a [l, r] space with l <= r");if(f!==r.length-1&&g.right!==r[f+1].left)throw new Error("dynamic segment should be consecutive")}let u=0;for(let f=0;f<t.length;f++)t[f].isDynamic()&&(a[f]=e.slice(r[u].left,r[u].right),u+=1);const h=[];for(let f=0;f<t.length;f++){const g=t[f].decode(a[f]);h.push(g)}return h}static parseTupleContent(e){if(e.length===0)return[];if(e.endsWith(",")||e.startsWith(","))throw new Error("tuple string should not start with comma");if(e.includes(",,"))throw new Error("tuple string should not have consecutive commas");const t=[];let r=0,a="";for(const n of e)a+=n,n==="("?r+=1:n===")"?r-=1:n===","&&r===0&&(t.push(a.slice(0,a.length-1)),a="");if(a.length!==0&&t.push(a),r!==0)throw new Error("tuple string has mismatched parentheses");return t}}function W7(i){let e=0;if(i.length>8)throw new Error("value list passed in should be no greater than length 8");for(let t=0;t<i.length;t++){const r=i[t];if(typeof r!="boolean")throw new Error("non-boolean values cannot be compressed into a byte");r&&(e|=1<<7-t)}return e}function ys(i,e,t){let r=0;for(;;){const a=e+t*r;if(i[a].constructor===Vn)if(a!==i.length-1&&t===1)r+=1;else if(a>0&&t===-1)r+=1;else break;else{r-=1;break}}return r}var rn;(function(i){i.any="txn",i.pay="pay",i.keyreg="keyreg",i.acfg="acfg",i.axfer="axfer",i.afrz="afrz",i.appl="appl"})(rn||(rn={}));function Tf(i){return i===rn.any||i===rn.pay||i===rn.keyreg||i===rn.acfg||i===rn.axfer||i===rn.afrz||i===rn.appl}function t6(i,e){return i===rn.any?!0:e.type?e.type.toString()===i.toString():!1}var zn;(function(i){i.account="account",i.application="application",i.asset="asset"})(zn||(zn={}));function Ug(i){return i===zn.account||i===zn.application||i===zn.asset}function H7(i){const e=i.indexOf("(");if(e===-1)throw new Error(`Invalid method signature: ${i}`);let t=-1,r=0;for(let a=e;a<i.length;a++){const n=i[a];if(n==="(")r+=1;else if(n===")"){if(r===0)break;if(r-=1,r===0){t=a;break}}}if(t===-1)throw new Error(`Invalid method signature: ${i}`);return{name:i.slice(0,e),args:Jn.parseTupleContent(i.slice(e+1,t)),returns:i.slice(t+1)}}class fs{constructor(e){if(typeof e.name!="string"||typeof e.returns!="object"||!Array.isArray(e.args))throw new Error("Invalid ABIMethod parameters");this.name=e.name,this.description=e.desc,this.args=e.args.map(({type:t,name:r,desc:a})=>Tf(t)||Ug(t)?{type:t,name:r,description:a}:{type:Dr.from(t),name:r,description:a}),this.returns={type:e.returns.type==="void"?e.returns.type:Dr.from(e.returns.type),description:e.returns.desc},this.events=e.events,this.readonly=e.readonly}getSignature(){const e=this.args.map(r=>r.type.toString()).join(","),t=this.returns.type.toString();return`${this.name}(${e})${t}`}getSelector(){const e=Wn(this.getSignature());return new Uint8Array(e.slice(0,4))}txnCount(){let e=1;for(const t of this.args)typeof t.type=="string"&&Tf(t.type)&&(e+=1);return e}toJSON(){return{name:this.name,desc:this.description,args:this.args.map(({type:e,name:t,description:r})=>({type:e.toString(),name:t,desc:r})),returns:{type:this.returns.type.toString(),desc:this.returns.description},events:this.events,readonly:this.readonly}}static fromSignature(e){const{name:t,args:r,returns:a}=H7(e);return new fs({name:t,args:r.map(n=>({type:n})),returns:{type:a}})}}function $g(i,e){if(i===null||!Array.isArray(i)||!i.every(r=>r instanceof fs))throw new Error("Methods list provided is null or not the correct type");const t=i.filter(r=>r.name===e);if(t.length>1)throw new Error(`found ${t.length} methods with the same name ${t.map(r=>r.getSignature()).join(",")}`);if(t.length===0)throw new Error(`found 0 methods with the name ${e}`);return t[0]}class G7{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods)||e.networks&&typeof e.networks!="object")throw new Error("Invalid ABIContract parameters");this.name=e.name,this.description=e.desc,this.networks=e.networks?{...e.networks}:{},this.methods=e.methods.map(t=>new fs(t)),this.events=e.events}toJSON(){return{name:this.name,desc:this.description,networks:this.networks,methods:this.methods.map(e=>e.toJSON()),events:this.events}}getMethodByName(e){return $g(this.methods,e)}}class K7{constructor(e){if(typeof e.name!="string"||!Array.isArray(e.methods))throw new Error("Invalid ABIInterface parameters");this.name=e.name,this.description=e.desc,this.methods=e.methods.map(t=>new fs(t))}toJSON(){return{name:this.name,desc:this.description,methods:this.methods.map(e=>e.toJSON())}}getMethodByName(e){return $g(this.methods,e)}}const J7=new Uint8Array([21,31,124,117]),ws=16;var Ir;(function(i){i[i.BUILDING=0]="BUILDING",i[i.BUILT=1]="BUILT",i[i.SIGNED=2]="SIGNED",i[i.SUBMITTED=3]="SUBMITTED",i[i.COMMITTED=4]="COMMITTED"})(Ir||(Ir={}));function n0(i,e,t){if(t!=null&&i===t)return 0;const r=t==null?0:1;for(let a=0;a<e.length;a++)if(i===e[a])return a+r;return e.push(i),e.length-1+r}class nn{constructor(){this.status=Ir.BUILDING,this.transactions=[],this.methodCalls=new Map,this.signedTxns=[],this.txIDs=[]}getStatus(){return this.status}count(){return this.transactions.length}clone(){const e=new nn;return e.transactions=this.transactions.map(({txn:t,signer:r})=>{const a=t.toEncodingData();return a.delete("grp"),{txn:Qr.fromEncodingData(a),signer:r}}),e.methodCalls=new Map(this.methodCalls),e}addTransaction(e){if(this.status!==Ir.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length===nn.MAX_GROUP_SIZE)throw new Error(`Adding an additional transaction exceeds the maximum atomic group size of ${nn.MAX_GROUP_SIZE}`);if(e.txn.group&&e.txn.group.some(t=>t!==0))throw new Error("Cannot add a transaction with nonzero group ID");this.transactions.push(e)}addMethodCall({appID:e,method:t,methodArgs:r,sender:a,suggestedParams:n,onComplete:s,approvalProgram:c,clearProgram:u,numGlobalInts:h,numGlobalByteSlices:f,numLocalInts:g,numLocalByteSlices:b,extraPages:M,appAccounts:_,appForeignApps:D,appForeignAssets:R,boxes:A,access:I,note:N,lease:$,rekeyTo:V,rejectVersion:U,signer:J}){if(this.status!==Ir.BUILDING)throw new Error("Cannot add transactions when composer status is not BUILDING");if(this.transactions.length+t.txnCount()>nn.MAX_GROUP_SIZE)throw new Error(`Adding additional transactions exceeds the maximum atomic group size of ${nn.MAX_GROUP_SIZE}`);if(BigInt(e)===BigInt(0)){if(c==null||u==null||h==null||f==null||g==null||b==null)throw new Error("One of the following required parameters for application creation is missing: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices")}else if(s===_r.UpdateApplicationOC){if(c==null||u==null)throw new Error("One of the following required parameters for OnApplicationComplete.UpdateApplicationOC is missing: approvalProgram, clearProgram");if(h!=null||f!=null||g!=null||b!=null||M!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages")}else if(c!=null||u!=null||h!=null||f!=null||g!=null||b!=null||M!=null)throw new Error("One of the following application creation parameters were set on a non-creation call: approvalProgram, clearProgram, numGlobalInts, numGlobalByteSlices, numLocalInts, numLocalByteSlices, extraPages");if(I&&(_||D||R||A))throw new Error("Cannot specify both access and legacy foreign arrays (appAccounts, appForeignApps, appForeignAssets, boxes)");if(r==null&&(r=[]),r.length!==t.args.length)throw new Error(`Incorrect number of method arguments. Expected ${t.args.length}, got ${r.length}`);let Y=[],oe=[];const G=[],E=[],d=[],p=new Map,o=A||[];for(let k=0;k<r.length;k++){let w=t.args[k].type;const T=r[k];if(Tf(w)){if(!Np(T)||!t6(w,T.txn))throw new Error(`Expected ${w} TransactionWithSigner for argument at index ${k}`);if(T.txn.group&&T.txn.group.some(ie=>ie!==0))throw new Error("Cannot add a transaction with nonzero group ID");G.push(T);continue}if(Np(T))throw new Error(`Expected non-transaction value for argument at index ${k}`);if(Ug(w)&&(p.set(E.length,Y.length),E.push(w),d.push(T),w=new Vi(8)),typeof w=="string")throw new Error(`Unknown ABI type: ${w}`);Y.push(w),oe.push(T)}const l=[],S=_==null?[]:_.map(k=>k.toString()),x=D==null?[]:D.map(tr),v=R==null?[]:R.map(tr);for(let k=0;k<E.length;k++){const w=E[k],T=d[k];let ie=0;switch(w){case zn.account:{const ve=new _c,ce=ve.decode(ve.encode(T));ie=n0(ce,S,a.toString());break}case zn.application:{const ve=new Vi(64),ce=ve.decode(ve.encode(T));if(ce>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for application value, got ${ce}`);ie=n0(ce,x,tr(e));break}case zn.asset:{const ve=new Vi(64),ce=ve.decode(ve.encode(T));if(ce>Number.MAX_SAFE_INTEGER)throw new Error(`Expected safe integer for asset value, got ${ce}`);ie=n0(ce,v);break}default:throw new Error(`Unknown reference type: ${w}`)}l.push(ie)}for(let k=0;k<l.length;k++){const w=p.get(k);oe[w]=l[k]}if(Y.length>ws-1){const k=Y.slice(ws-2),w=oe.slice(ws-2);Y=Y.slice(0,ws-2),oe=oe.slice(0,ws-2),Y.push(new Jn(k)),oe.push(w)}const m=[t.getSelector()];for(let k=0;k<Y.length;k++)m.push(Y[k].encode(oe[k]));const y={txn:Qn({sender:a,appIndex:e,appArgs:m,accounts:I?void 0:S,foreignApps:I?void 0:x,foreignAssets:I?void 0:v,boxes:I?void 0:o,access:I,onComplete:s??_r.NoOpOC,approvalProgram:c,clearProgram:u,numGlobalInts:h,numGlobalByteSlices:f,numLocalInts:g,numLocalByteSlices:b,extraPages:M,rejectVersion:U,lease:$,note:N,rekeyTo:V,suggestedParams:n}),signer:J};this.transactions.push(...G,y),this.methodCalls.set(this.transactions.length-1,t)}buildGroup(){if(this.status===Ir.BUILDING){if(this.transactions.length===0)throw new Error("Cannot build a group with 0 transactions");this.transactions.length>1&&W3(this.transactions.map(e=>e.txn)),this.status=Ir.BUILT}return this.transactions}async gatherSignatures(){if(this.status>=Ir.SIGNED)return this.signedTxns;const e=this.buildGroup(),t=e.map(h=>h.txn),r=new Map;for(let h=0;h<e.length;h++){const{signer:f}=e[h];r.has(f)||r.set(f,[]),r.get(f).push(h)}const a=Array.from(r),n=await Promise.all(a.map(([h,f])=>h(t,f))),s=e.map(()=>null);for(let h=0;h<a.length;h++){const f=a[h][1],g=n[h];for(let b=0;b<f.length;b++)s[f[b]]=g[b]}function c(h){return h.every(f=>f!=null)}if(!c(s))throw new Error(`Missing signatures. Got ${s}`);const u=s.map((h,f)=>{try{return fr(h,rr).txn.txID()}catch(g){throw new Error(`Cannot decode signed transaction at index ${f}. ${g}`)}});return this.signedTxns=s,this.txIDs=u,this.status=Ir.SIGNED,s}async submit(e){if(this.status>Ir.SUBMITTED)throw new Error("Transaction group cannot be resubmitted");const t=await this.gatherSignatures();return await e.sendRawTransaction(t).do(),this.status=Ir.SUBMITTED,this.txIDs}async simulate(e,t){if(this.status>Ir.SUBMITTED)throw new Error("Simulated Transaction group has already been submitted to the network");const a=(await this.gatherSignatures()).map(u=>fr(u,rr)),n=t??new lo({txnGroups:[]});n.txnGroups=[new hi({txns:a})];const s=await e.simulateTransactions(n).do(),c=[];for(const[u,h]of this.methodCalls){const f=this.txIDs[u],g=s.txnGroups[0].txnResults[u].txnResult,b={txID:f,rawReturnValue:new Uint8Array,method:h};c.push(nn.parseMethodResponse(h,b,g))}return{methodResults:c,simulateResponse:s}}async execute(e,t){if(this.status===Ir.COMMITTED)throw new Error("Transaction group has already been executed successfully");const r=await this.submit(e);this.status=Ir.SUBMITTED;const a=this.transactions.findIndex((h,f)=>this.methodCalls.has(f)),s=await $3(e,r[a===-1?0:a],t);this.status=Ir.COMMITTED;const c=s.confirmedRound,u=[];for(const[h,f]of this.methodCalls){const g=r[h];let b={txID:g,rawReturnValue:new Uint8Array,method:f};try{const M=h===a?s:await e.pendingTransactionInformation(g).do();b=nn.parseMethodResponse(f,b,M)}catch(M){b.decodeError=M}u.push(b)}return{confirmedRound:c,txIDs:r,methodResults:u}}static parseMethodResponse(e,t,r){const a=t;try{if(a.txInfo=r,e.returns.type!=="void"){const n=r.logs||[];if(n.length===0)throw new Error(`App call transaction did not log a return value ${zi(r)}`);const s=n[n.length-1];if(s.byteLength<4||!_n(s.slice(0,4),J7))throw new Error(`App call transaction did not log a ABI return value ${zi(r)}`);a.rawReturnValue=new Uint8Array(s.slice(4)),a.returnValue=e.returns.type.decode(t.rawReturnValue)}}catch(n){a.decodeError=n}return a}}nn.MAX_GROUP_SIZE=16;const r6=Uint8Array.from([77,88]),n6="The transaction sender address and multisig preimage do not match.";function Y7(i,e){return{txID:i.txID(),blob:i.signTxn(e)}}function X7(i,e){const t=dr(r6,i);return Ts(t,e)}function Z7(i,e,t){const r=dr(r6,i),a=typeof t=="string"?Ct.fromString(t):t;return Gf(r,e,a.publicKey)}const Q7=new Error(n6),e9=new Error(Rg),Kt=Object.freeze(Object.defineProperty({__proto__:null,ABIAddressType:_c,ABIArrayDynamicType:fh,ABIArrayStaticType:ch,ABIBoolType:Vn,ABIByteType:oh,ABIContract:G7,ABIInterface:K7,ABIMethod:fs,get ABIReferenceType(){return zn},ABIStringType:sh,get ABITransactionType(){return rn},ABITupleType:Jn,ABIType:Dr,ABIUfixedType:ah,ABIUintType:Vi,ADDR_BYTE_SIZE:Z3,ALGORAND_ZERO_ADDRESS_STRING:o8,AccountBaseData:ua,AccountData:la,AccountDeltas:pa,AccountTotals:ya,Address:Ct,AlgoCount:sn,Algodv2:kE,AppLocalState:na,AppLocalStateDelta:ia,AppParams:ra,AppParamsDelta:aa,AppResourceRecord:oa,ApplyData:Ka,AssetHolding:th,AssetHoldingDelta:sa,AssetParams:rh,AssetParamsDelta:ca,AssetResourceRecord:fa,AtomicTransactionComposer:nn,get AtomicTransactionComposerStatus(){return Ir},BalanceRecord:da,Block:Mf,BlockHeader:Gn,ENCODED_MULTISIG_SCHEMA:xf,ENCODED_SUBSIG_SCHEMA:D3,ERROR_INVALID_MICROALGOS:e9,ERROR_MULTISIG_BAD_SENDER:Q7,EvalDelta:tp,FalconSignatureStruct:Gi,FalconVerifier:Hi,HashFactory:Xf,INVALID_MICROALGOS_ERROR_MSG:Rg,IncludedTransactions:ma,Indexer:XE,IntDecoding:wr,Kmd:IE,KvValueDelta:ga,LENGTH_ENCODE_BYTE_SIZE:Cr,LedgerStateDelta:Kn,LogicSig:Ur,LogicSigAccount:$i,MAX_LEN:qi,MULTISIG_BAD_SENDER_ERROR_MSG:n6,MerkleArrayProof:ci,MerkleSignatureVerifier:ji,ModifiedCreatable:va,get OnApplicationComplete(){return _r},Participant:Wi,ParticipationUpdates:eh,ProgramSourceMap:w7,Reveal:Ji,RewardState:Zi,SINGLE_BOOL_SIZE:e6,SINGLE_BYTE_SIZE:Q3,SignedTransaction:rr,SignedTxnInBlock:ta,SignedTxnWithAD:fi,SigslotCommit:Ki,StateProof:Zf,StateProofMessage:Qf,StateProofTrackingData:Yi,StateSchema:kn,TealValue:cs,Transaction:Qr,get TransactionType(){return Yt},TxnCommitments:Xi,UntypedValue:br,UpgradeState:Qi,UpgradeVote:ea,ValueDelta:$n,VotingData:ha,abiCheckTransactionType:t6,abiTypeIsReference:Ug,abiTypeIsTransaction:Tf,algosToMicroalgos:h8,appendSignMultisigTransaction:m7,appendSignRawMultisigSignature:v7,assignGroupID:W3,base64ToBytes:pt,bigIntToBytes:_a,bytesToBase64:Mr,bytesToBigInt:Cg,bytesToHex:Jf,bytesToString:Kf,coerceToBytes:An,computeGroupID:j3,createDryrun:x7,createMultisigTransaction:H3,decodeAddress:l3,decodeJSON:jt,decodeMsgpack:fr,decodeObj:a5,decodeSignedTransaction:O5,decodeUint64:i8,decodeUnsignedTransaction:A5,dryrunTxnResultAppTrace:M7,dryrunTxnResultLogicSigTrace:_7,encodeAddress:d3,encodeJSON:s5,encodeMsgpack:Zr,encodeObj:i5,encodeUint64:u3,encodeUnsignedSimulateTransaction:C3,encodeUnsignedTransaction:I3,encodedMultiSigFromEncodingData:Sf,encodedMultiSigToEncodingData:Ef,encodedSubsigFromEncodingData:R3,encodedSubsigToEncodingData:T3,generateAccount:ZE,getApplicationAddress:j0,getMethodByName:$g,hexToBytes:a8,indexerModels:DE,isOnApplicationComplete:M3,isTransactionType:J0,isTransactionWithSigner:Np,isValidAddress:Dg,logicSigFromByte:C5,makeApplicationCallTxnFromObject:Qn,makeApplicationClearStateTxnFromObject:O7,makeApplicationCloseOutTxnFromObject:N7,makeApplicationCreateTxnFromObject:B7,makeApplicationDeleteTxnFromObject:C7,makeApplicationNoOpTxnFromObject:L7,makeApplicationOptInTxnFromObject:P7,makeApplicationUpdateTxnFromObject:F7,makeAssetConfigTxnWithSuggestedParamsFromObject:I7,makeAssetCreateTxnWithSuggestedParamsFromObject:k7,makeAssetDestroyTxnWithSuggestedParamsFromObject:D7,makeAssetFreezeTxnWithSuggestedParamsFromObject:R7,makeAssetTransferTxnWithSuggestedParamsFromObject:T7,makeBaseAssetConfigTxn:ih,makeBasicAccountTransactionSigner:U7,makeEmptyTransactionSigner:V7,makeKeyRegistrationTxnWithSuggestedParamsFromObject:A7,makeLogicSigAccountTransactionSigner:$7,makeMultiSigAccountTransactionSigner:q7,makePaymentTxnWithSuggestedParamsFromObject:Pp,masterDerivationKeyToMnemonic:i7,mergeMultisigTransactions:nh,microalgosToAlgos:f8,mnemonicFromSeed:Pg,mnemonicToMasterDerivationKey:n7,mnemonicToSecretKey:t7,modelsv2:$5,msgpackRawDecode:x3,msgpackRawDecodeAsMap:S3,msgpackRawEncode:Mc,multisigAddress:B5,parseJSON:Ig,secretKeyToMnemonic:r7,seedFromMnemonic:Ng,signBytes:X7,signLogicSigTransaction:c7,signLogicSigTransactionObject:Og,signMultisigTransaction:J3,signTransaction:Y7,stringifyJSON:zi,tealSign:F3,tealSignFromProgram:N5,verifyBytes:Z7,verifyMultisig:Q0,verifyTealSign:P5,waitForConfirmation:$3},Symbol.toStringTag,{value:"Module"}));var i0={},t9=Object.defineProperty,r9=Object.getOwnPropertyNames,Fa=(i=>typeof require<"u"?require:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof require<"u"?require:e)[t]}):i)(function(i){if(typeof require<"u")return require.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),Ac=(i,e)=>function(){return i&&(e=(0,i[r9(i)[0]])(i=0)),e},i6=(i,e)=>{for(var t in e)t9(i,t,{get:e[t],enumerable:!0})},Yn,bi,rs,yn,Op,$t,qg,xn,Pi,Lp,Up,$p,Nr,Ni,qp,Vp,pc,zp,Or,jp,Rr,Wp,Hp,Gp,Kp,Oi,Jp,Ln,Yp,Bf,Ff,Xp,en,Zp,Qp,tn,Li,eg,tg,Fr=Ac({"../../node_modules/.pnpm/@magic-sdk+types@24.21.0/node_modules/@magic-sdk/types/dist/es/index.mjs"(){Yn=(i=>(i.MissingApiKey="MISSING_API_KEY",i.ModalNotReady="MODAL_NOT_READY",i.ConnectionLost="CONNECTION_WAS_LOST",i.MalformedResponse="MALFORMED_RESPONSE",i.InvalidArgument="INVALID_ARGUMENT",i.ExtensionNotInitialized="EXTENSION_NOT_INITIALIZED",i.IncompatibleExtensions="INCOMPATIBLE_EXTENSIONS",i))(Yn||{}),bi=(i=>(i.SyncWeb3Method="SYNC_WEB3_METHOD",i.DuplicateIframe="DUPLICATE_IFRAME",i.ReactNativeEndpointConfiguration="REACT_NATIVE_ENDPOINT_CONFIGURATION",i.DeprecationNotice="DEPRECATION_NOTICE",i.ProductAnnouncement="ANNOUNCEMENT",i))(bi||{}),rs=(i=>(i[i.ParseError=-32700]="ParseError",i[i.InvalidRequest=-32600]="InvalidRequest",i[i.MethodNotFound=-32601]="MethodNotFound",i[i.InvalidParams=-32602]="InvalidParams",i[i.InternalError=-32603]="InternalError",i[i.MagicLinkFailedVerification=-1e4]="MagicLinkFailedVerification",i[i.MagicLinkExpired=-10001]="MagicLinkExpired",i[i.MagicLinkRateLimited=-10002]="MagicLinkRateLimited",i[i.MagicLinkInvalidRedirectURL=-10006]="MagicLinkInvalidRedirectURL",i[i.UserAlreadyLoggedIn=-10003]="UserAlreadyLoggedIn",i[i.UpdateEmailFailed=-10004]="UpdateEmailFailed",i[i.UserRequestEditEmail=-10005]="UserRequestEditEmail",i[i.InactiveRecipient=-10010]="InactiveRecipient",i[i.AccessDeniedToUser=-10011]="AccessDeniedToUser",i[i.RedirectLoginComplete=-10015]="RedirectLoginComplete",i[i.DpopInvalidated=-10019]="DpopInvalidated",i))(rs||{}),yn=(i=>(i.PROVIDER="magic_3pw_provider",i.ADDRESS="magic_3pw_address",i.CHAIN_ID="magic_3pw_chainId",i))(yn||{}),Op=(i=>(i.WalletConnected="wallet_connected",i.WalletRejected="wallet_rejected",i.Web3ModalSelected="web3modal_selected",i))(Op||{}),$t=(i=>(i.LoginWithSms="magic_auth_login_with_sms",i.LoginWithEmailOTP="magic_auth_login_with_email_otp",i.LoginWithMagicLink="magic_auth_login_with_magic_link",i.LoginWithCredential="magic_auth_login_with_credential",i.SetAuthorizationToken="magic_auth_set_authorization_token",i.GetIdToken="magic_auth_get_id_token",i.GenerateIdToken="magic_auth_generate_id_token",i.GetMetadata="magic_auth_get_metadata",i.IsLoggedIn="magic_is_logged_in",i.Logout="magic_auth_logout",i.UpdateEmail="magic_auth_update_email",i.UserSettings="magic_auth_settings",i.UserSettingsTestMode="magic_auth_settings_testing_mode",i.LoginWithSmsTestMode="magic_auth_login_with_sms_testing_mode",i.LoginWithEmailOTPTestMode="magic_auth_login_with_email_otp_testing_mode",i.LoginWithMagicLinkTestMode="magic_login_with_magic_link_testing_mode",i.LoginWithCredentialTestMode="magic_auth_login_with_credential_testing_mode",i.GetIdTokenTestMode="magic_auth_get_id_token_testing_mode",i.GenerateIdTokenTestMode="magic_auth_generate_id_token_testing_mode",i.GetMetadataTestMode="magic_auth_get_metadata_testing_mode",i.IsLoggedInTestMode="magic_auth_is_logged_in_testing_mode",i.LogoutTestMode="magic_auth_logout_testing_mode",i.UpdateEmailTestMode="magic_auth_update_email_testing_mode",i.IntermediaryEvent="magic_intermediary_event",i.RequestAccounts="eth_requestAccounts",i.GetInfo="magic_get_info",i.ShowUI="magic_wallet",i.NFTPurchase="magic_nft_purchase",i.NFTCheckout="magic_nft_checkout",i.NFTTransfer="magic_nft_transfer",i.RequestUserInfoWithUI="mc_request_user_info",i.Disconnect="mc_disconnect",i.RecoverAccount="magic_auth_recover_account",i.RecoverAccountTestMode="magic_auth_recover_account_testing_mode",i.MagicBoxHeartBeat="magic_box_heart_beat",i.AutoConnect="mc_auto_connect",i.Login="mc_login",i.EncryptV1="magic_auth_encrypt_v1",i.DecryptV1="magic_auth_decrypt_v1",i.ShowNFTs="magic_show_nfts",i.ShowOnRamp="magic_show_fiat_onramp",i.ShowSendTokensUI="magic_show_send_tokens_ui",i.ShowAddress="magic_show_address",i.ShowBalances="magic_show_balances",i.SendGaslessTransaction="eth_sendGaslessTransaction",i.RevealPK="magic_reveal_key",i.EnableMFA="magic_auth_enable_mfa_flow",i.DisableMFA="magic_auth_disable_mfa_flow",i))($t||{}),qg=["magic_intermediary_event","magic_nft_checkout","mc_login"],xn=(i=>(i.MAGIC_HANDLE_RESPONSE="MAGIC_HANDLE_RESPONSE",i.MAGIC_OVERLAY_READY="MAGIC_OVERLAY_READY",i.MAGIC_SHOW_OVERLAY="MAGIC_SHOW_OVERLAY",i.MAGIC_HIDE_OVERLAY="MAGIC_HIDE_OVERLAY",i.MAGIC_HANDLE_EVENT="MAGIC_HANDLE_EVENT",i.MAGIC_MG_BOX_SEND_RECEIPT="MAGIC_MG_BOX_SEND_RECEIPT",i.MAGIC_SEND_PRODUCT_ANNOUNCEMENT="MAGIC_SEND_PRODUCT_ANNOUNCEMENT",i.MAGIC_PONG="MAGIC_PONG",i.MAGIC_POPUP_RESPONSE="MAGIC_POPUP_RESPONSE",i.MAGIC_POPUP_OAUTH_VERIFY_RESPONSE="MAGIC_POPUP_OAUTH_VERIFY_RESPONSE",i))(xn||{}),Pi=(i=>(i.MAGIC_HANDLE_REQUEST="MAGIC_HANDLE_REQUEST",i.MAGIC_PING="MAGIC_PING",i))(Pi||{}),Lp=(i=>(i.UpdateEmail="update-email",i.MFA="mfa",i.Recovery="recovery",i))(Lp||{}),Up=(i=>(i.Retry="retry",i))(Up||{}),$p=(i=>(i.EmailSent="email-sent",i.EmailNotDeliverable="email-not-deliverable",i))($p||{}),Nr=(i=>(i.VerifyEmailOtp="verify-email-otp",i.VerifyMFACode="verify-mfa-code",i.LostDevice="lost-device",i.VerifyRecoveryCode="verify-recovery-code",i.Cancel="cancel",i))(Nr||{}),Ni=(i=>(i.VerifySmsOtp="verify-sms-otp",i.Cancel="cancel",i.Retry="retry",i))(Ni||{}),qp=(i=>(i.SmsOTPSent="sms-otp-sent",i.InvalidSmsOtp="invalid-sms-otp",i.ExpiredSmsOtp="expired-sms-otp",i))(qp||{}),Vp=(i=>(i.EmailOTPSent="email-otp-sent",i.InvalidEmailOtp="invalid-email-otp",i.InvalidMfaOtp="invalid-mfa-otp",i.ExpiredEmailOtp="expired-email-otp",i.MfaSentHandle="mfa-sent-handle",i.RecoveryCodeSentHandle="recovery-code-sent-handle",i.InvalidRecoveryCode="invalid-recovery-code",i.RecoveryCodeSuccess="recovery-code-success",i.LoginThrottled="login-throttled",i))(Vp||{}),pc=(i=>(i.Retry="device-retry",i))(pc||{}),zp=(i=>(i.DeviceApproved="device-approved",i.DeviceNeedsApproval="device-needs-approval",i.DeviceVerificationLinkExpired="device-verification-link-expired",i.DeviceVerificationEmailSent="device-verification-email-sent",i))(zp||{}),Or=(i=>(i.Retry="Recency/auth-factor-retry",i.Cancel="Recency/auth-factor-verification-cancel",i.VerifyEmailOtp="Recency/auth-factor-verify-email-otp",i.VerifyMFACode="Recency/verify-mfa-code",i))(Or||{}),jp=(i=>(i.PrimaryAuthFactorNeedsVerification="Recency/auth-factor-needs-verification",i.PrimaryAuthFactorVerified="Recency/auth-factor-verified",i.InvalidEmailOtp="Recency/auth-factor-invalid-email-otp",i.EmailExpired="Recency/auth-factor-verification-email-expired",i.EmailSent="Recency/auth-factor-verification-email-sent",i.EmailNotDeliverable="Recency/auth-factor-verification-email-not-deliverable",i))(jp||{}),Rr=(i=>(i.RetryWithNewEmail="UpdateEmail/retry-with-new-email",i.Cancel="UpdateEmail/new-email-verification-cancel",i.VerifyEmailOtp="UpdateEmail/new-email-verify-otp",i))(Rr||{}),Wp=(i=>(i.NewAuthFactorNeedsVerification="UpdateEmail/new-email-needs-verification",i.EmailUpdated="UpdateEmail/email-updated",i.InvalidEmailOtp="UpdateEmail/new-email-invalid-email-otp",i.EmailExpired="UpdateEmail/new-email-verification-email-expired",i.EmailSent="UpdateEmail/new-email-verification-email-sent",i.EmailNotDeliverable="UpdateEmail/new-email-verification-email-not-deliverable",i.InvalidEmail="UpdateEmail/new-email-invalid",i.EmailAlreadyExists="UpdateEmail/new-email-already-exists",i))(Wp||{}),Hp=(i=>(i.IDTokenCreated="Auth/id-token-created",i))(Hp||{}),Gp=(i=>(i.Cancel="Farcaster/cancel",i))(Gp||{}),Kp=(i=>(i.MFASecretGenerated="mfa-secret-generated",i.InvalidMFAOtp="invalid-mfa-otp",i.MFARecoveryCodes="mfa-recovery-codes",i))(Kp||{}),Oi=(i=>(i.VerifyMFACode="verify-mfa-code",i.Cancel="cancel-mfa-setup",i))(Oi||{}),Jp=(i=>(i.MFACodeRequested="mfa-code-requested",i.InvalidMFAOtp="invalid-mfa-otp",i.InvalidRecoveryCode="invalid-recovery-code",i))(Jp||{}),Ln=(i=>(i.VerifyMFACode="verify-mfa-code",i.LostDevice="lost-device",i.Cancel="cancel-mfa-disable",i))(Ln||{}),Yp=(i=>(i.Harmony="HARMONY",i))(Yp||{}),Bf=(i=>(i.ClosedByUser="closed-by-user",i))(Bf||{}),Ff=(i=>(i.ClosedByUser="closed-by-user-on-received",i))(Ff||{}),Xp=(i=>(i.EnterNewPhoneNumber="enter-new-phone-number",i.EnterOtpCode="enter-otp-code",i.RecoveryFactorAlreadyExists="recovery-factor-already-exists",i.MalformedPhoneNumber="malformed-phone-number",i.InvalidOtpCode="invalid-otp-code",i.RecoveryFactorUpdated="recovery-factor-updated",i.RecoveryFactorDeleted="recovery-factor-deleted",i))(Xp||{}),en=(i=>(i.SendNewPhoneNumber="send-new-phone-number",i.SendOtpCode="send-otp-code",i.Cancel="cancel",i.StartEditPhoneNumber="start-edit-phone-number",i))(en||{}),Zp=(i=>(i.PhoneNumber="phone_number",i))(Zp||{}),Qp=(i=>(i.SmsOtpSent="sms-otp-sent",i.LoginThrottled="login-throttled",i.InvalidSmsOtp="invalid-sms-otp",i.SmsVerified="sms-verified",i.AccountRecovered="account-recovered",i.UpdateEmailRequired="update-email-required",i))(Qp||{}),tn=(i=>(i.Cancel="cancel",i.VerifyOtp="verify-otp-code",i.ResendSms="resend-sms-otp",i.UpdateEmail="update-email",i))(tn||{}),Li=(i=>(i.Success="nft-checkout-success",i.Failure="nft-checkout-failure",i.Initiated="nft-checkout-initiated",i.Disconnect="disconnect",i))(Li||{}),eg=(i=>(i.WalletInfoFetched="Wallet/wallet-info-fetched",i))(eg||{}),tg=(i=>(i.CloseMagicWindow="close-magic-window",i))(tg||{})}});function n9(i){let e={exports:{}};return i(e,e.exports),e.exports}function i9(i){return String.fromCharCode(parseInt(i.slice(1),16))}function a9(i){return`%${`00${i.charCodeAt(0).toString(16)}`.slice(-2)}`}function o9(i){return btoa(encodeURIComponent(i).replace(/%[0-9A-F]{2}/g,i9))}function s9(i){return decodeURIComponent(Array.from(atob(i),a9).join(""))}function _w(i){return o9(JSON.stringify(i))}function c9(i){return JSON.parse(s9(i))}function _s(i){return typeof i>"u"}function f9(i){return i===null}function a6(i){return f9(i)||_s(i)}function h9(i){return a6(i)?!1:!_s(i.jsonrpc)&&!_s(i.id)&&(!_s(i.result)||!_s(i.error))}function u9(i){return a6(i)?!1:typeof i=="number"&&Object.values(rs).includes(i)}function Cf(i){if(!i)return!0;for(let e in i)if(Object.hasOwnProperty.call(i,e))return!1;return!0}function l9(i,e){return Object.assign(ar,e),i}function d9(){return new Mi(Yn.MissingApiKey,"Please provide an API key that you acquired from the Magic developer dashboard.")}function o6(){return new Mi(Yn.ModalNotReady,"Modal is not ready")}function p9(){return new Mi(Yn.MalformedResponse,"Response from the Magic iframe is malformed.")}function g9(i){return new Mi(Yn.ExtensionNotInitialized,`Extensions must be initialized with a Magic SDK instance before \`Extension.${i}\` can be accessed. Do not invoke \`Extension.${i}\` inside an extension constructor.`)}function m9(i){let e=`Some extensions are incompatible with \`${ar.sdkName}@${ar.version}\`:`;return i.filter(t=>typeof t.compat<"u"&&t.compat!==null).forEach(t=>{let r=t.compat[ar.sdkName];typeof r=="string"?e+=`
  - Extension \`${t.name}\` supports version(s) \`${r}\``:r||(e+=`
  - Extension \`${t.name}\` does not support ${ar.platform} environments.`)}),new Mi(Yn.IncompatibleExtensions,e)}function v9(i){let e=t=>{let r=t+1,a=r%10,n=r%100;return a===1&&n!==11?`${r}st`:a===2&&n!==12?`${r}nd`:a===3&&n!==13?`${r}rd`:`${r}th`};return new Mi(Yn.InvalidArgument,`Invalid ${e(i.argument)} argument given to \`${i.procedure}\`.
  Expected: \`${i.expected}\`
  Received: \`${i.received}\``)}function y9(){return new Aa(bi.DuplicateIframe,"Duplicate iframes found.")}function w9(){return new Aa(bi.SyncWeb3Method,"Non-async web3 methods are deprecated in web3 > 1.0 and are not supported by the Magic web3 provider. Please use an async method instead.")}function b9(){return new Aa(bi.ReactNativeEndpointConfiguration,`CUSTOM DOMAINS ARE NOT SUPPORTED WHEN USING MAGIC SDK WITH REACT NATIVE! The \`endpoint\` parameter SHOULD NOT be provided. The Magic \`<iframe>\` is automatically wrapped by a WebView pointed at \`${ar.defaultEndpoint}\`. Changing this default behavior will lead to unexpected results and potentially security-threatening bugs.`)}function x9(i){let{method:e,removalVersions:t,useInstead:r}=i,a=t[ar.sdkName],n=r?` Use \`${r}\` instead.`:"",s=`\`${e}\` will be removed from \`${ar.sdkName}\` in version \`${a}\`.${n}`;return new Aa(bi.DeprecationNotice,s)}function*S9(){let i=0;for(;;)i<Number.MAX_SAFE_INTEGER?yield++i:i=0}function s6(){return v6.next().value}function ti(i){return async(...e)=>(rf||(rf=await ar.configureStorage()),await rf.ready(),rf[i](...e))}function E9(){let i=window.crypto.getRandomValues(new Uint8Array(16));i[6]=i[6]&15|64,i[8]=i[8]&191|128;let e="";return e+=i[0].toString(16),e+=i[1].toString(16),e+=i[2].toString(16),e+=i[3].toString(16),e+="-",e+=i[4].toString(16),e+=i[5].toString(16),e+="-",e+=i[6].toString(16),e+=i[7].toString(16),e+="-",e+=i[8].toString(16),e+=i[9].toString(16),e+="-",e+=i[10].toString(16),e+=i[11].toString(16),e+=i[12].toString(16),e+=i[13].toString(16),e+=i[14].toString(16),e+=i[15].toString(16),e}function hh(){let i=typeof window<"u"&&!!window.crypto,e=i&&!!window.crypto.subtle;return i&&e}function M9(){Ui(gc),Ui(uh)}async function _9(){let i=await A9();if(!i){console.info("unable to create public key or webcrypto is unsupported");return}let{subtle:e}=window.crypto,t=await $r(uh);if(!t||!e){console.info("unable to find private key or webcrypto unsupported");return}let r={iat:Math.floor(new Date().getTime()/1e3),jti:E9()},a={protected:Aw(JSON.stringify({typ:"dpop+jwt",alg:"ES256",jwk:i})),claims:Aw(JSON.stringify(r))},n=I9(`${a.protected}.${a.claims}`),s={name:ig,hash:{name:"SHA-256"}},c=R9(new Uint8Array(await e.sign(s,t,n)));return`${a.protected}.${a.claims}.${c}`}async function A9(){if(!hh()){console.info("webcrypto is not supported");return}return await $r(gc)||await k9(),$r(gc)}async function k9(){let{subtle:i}=window.crypto,e=await i.generateKey(y6,!1,["sign"]),t=await i.exportKey("jwk",e.publicKey);await jn(uh,e.privateKey),await jn(gc,t)}function Aw(i){return c6(D9(i))}function I9(i){return new TextEncoder().encode(i)}function c6(i){return btoa(i).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+/g,"")}function D9(i){return encodeURIComponent(i).replace(/%([0-9A-F]{2})/g,(e,t)=>String.fromCharCode(parseInt(t,16)))}function R9(i){let e="";return i.forEach(t=>{e+=String.fromCharCode(t)}),c6(e)}function f6(i){return Object.defineProperty(i,Vg,{value:!0,enumerable:!1}),i}function T9(i){return!!i[Vg]}function Yc(i){return T9(i)||(i.jsonrpc=i.jsonrpc??"2.0",i.id=s6(),i.method=i.method??"noop",i.params=i.params??[],f6(i)),i}function Zt(i,e=[]){return f6({params:e,method:i,jsonrpc:"2.0",id:s6()})}function h6(){let i=new w6;return{emitter:i,createChainingEmitterMethod:(e,t)=>(...r)=>(i[e].apply(i,r),t),createBoundEmitterMethod:e=>(...t)=>i[e].apply(i,t)}}function u6(i){return!!i[zg]}function un(i){let e=l6(i),{createBoundEmitterMethod:t,createChainingEmitterMethod:r}=h6(),a=Symbol("Promise.then"),n=Symbol("Promise.catch"),s=Symbol("Promise.finally"),c=(f,g)=>(...b)=>{let M=g[f].apply(g,b);return u(M)},u=f=>Object.assign(f,{[zg]:!0,[a]:f[a]||f.then,[n]:f[n]||f.catch,[s]:f[s]||f.finally,then:c(a,f),catch:c(n,f),finally:c(s,f),on:r("on",f),once:r("once",f),addListener:r("addListener",f),off:r("off",f),removeListener:r("removeListener",f),removeAllListeners:r("removeAllListeners",f),emit:t("emit"),eventNames:t("eventNames"),listeners:t("listeners"),listenerCount:t("listenerCount")}),h=u(e.then(f=>(h.emit("done",f),h.emit("settled"),f),f=>{throw h.emit("error",f),h.emit("settled"),f}));return h.on(Ff.ClosedByUser,()=>{h.emit(Bf.ClosedByUser)}),h}function l6(i){return new Promise((e,t)=>{let r=i(e,t);Promise.resolve(r).catch(t)})}function B9(i,e){let[t]=i.split(".").map(Number);return t>=e}async function kw(){let i=[];await ng((e,t,r)=>{t.startsWith(`${lh}_`)&&i.push(t)});for(let e of i)await Ui(e)}function d6(i){let e="",t=new Uint8Array(i),r=t.byteLength;for(let a=0;a<r;a++)e+=String.fromCharCode(t[a]);return window.btoa(e)}function p6(i){let e=window.atob(i),t=e.length,r=new Uint8Array(t);for(let a=0;a<t;a++)r[a]=e.charCodeAt(a);return r.buffer}async function F9(){if(!hh()){console.info("webcrypto is not supported");return}let{crypto:i}=window;return await $r(ph)||i.getRandomValues(new Uint8Array(12))}async function C9(){if(!hh()){console.info("webcrypto is not supported");return}let{subtle:i}=window.crypto;return await $r(dh)||await i.generateKey({name:gh,length:b6},!1,["encrypt","decrypt"])}async function P9(i,e){let t=await F9(),r=await C9();if(!t||!r||!i)return;let a=p6(i),{subtle:n}=window.crypto,s=await n.encrypt({name:gh,iv:t},r,a),c=d6(s);await jn(`${lh}_${e}`,c),await jn(dh,r),await jn(ph,t)}async function N9(i){let e=await $r(`${lh}_${i}`),t=await $r(ph),r=await $r(dh);if(!t||!e||!r||!hh())return;let{subtle:a}=window.crypto,n=await a.decrypt({name:gh,iv:t},r,p6(e));return d6(n)}function Pf(i,e){return e?new URL(i,e):new URL(i)}function Iw(i){return i.compat&&i.compat[ar.sdkName]!=null?typeof i.compat[ar.sdkName]=="string"?g6(m6(ar.version),i.compat[ar.sdkName]):!!i.compat[ar.sdkName]:!0}function O9(i,e,t){return!e&&!t?`${i}_eth_mainnet`:t?`${i}_${JSON.stringify(t)}`:e?typeof e=="string"?`${i}_eth_${e}`:`${i}_${e.rpcUrl}_${e.chainId}_${e.chainType}`:`${i}_unknown`}function L9(i){let e=(i==null?void 0:i.extensions)??[],t={},r=[];if(Array.isArray(e)?e.forEach(a=>{Iw(a)?(a.init(this),a.name&&(this[a.name]=a),Cf(a.config)||(t[a.name]=a.config)):r.push(a)}):Object.keys(e).forEach(a=>{if(Iw(e[a])){e[a].init(this);let n=e[a];this[a]=n,Cf(n.config)||(t[e[a].name]=n.config)}else r.push(e[a])}),r.length)throw m9(r);return t}function U9(i,e){return e&&Array.isArray(i)?i.find(t=>t.id===e):i}function $9(i,e){var a;let t=(a=e.data.response)==null?void 0:a.id,r=U9(i,t);if(t&&r){let n=new ag(r).applyResult(e.data.response.result).applyError(e.data.response.error);return{id:t,response:n}}return{}}async function q9(i,e,t){let r=await $r("rt"),a;if(ar.platform==="web")try{a=await $r("jwt")??await _9()}catch(c){console.error("webcrypto error",c)}let n={msgType:i,payload:e};a&&(n.jwt=a),a&&r&&(n.rt=r);let s=await N9(t);return s&&(n.deviceShare=s),n}async function V9(i){i.data.rt&&await jn("rt",i.data.rt)}function z9(i,e){let t=null;return function(...r){t&&clearTimeout(t),t=setTimeout(()=>{i(...r)},e)}}function j9(i){let e=Object.getPrototypeOf(i),t=[e];for(;e!==Nn.prototype;)e=Object.getPrototypeOf(e),t.push(e);return t}var Dw,Xc,Rw,Tw,Bw,Fw,Cw,Pw,Nw,Ow,Lw,Uw,Zc,$w,er,Ca,a0,o0,qw,Vw,s0,bs,c0,f0,Pa,Pn,zw,Ii,jw,Ww,Hw,Gw,Kw,Jw,Yw,Xw,Zw,Qw,e2,t2,r2,Qc,Na,ef,h0,u0,tf,Sr,yr,n2,i2,a2,l0,o2,kr,s2,c2,f2,h2,u2,l2,d2,p2,g2,m2,g6,v2,d0,p0,y2,w2,xs,Ss,m6,ar,b2,Mi,As,Aa,rg,mf,v6,g0,rf,$r,jn,Ui,x2,S2,E2,M2,ng,uh,gc,ig,_2,y6,Vg,ag,A2,w6,zg,Nn,k2,I2,lh,dh,ph,gh,b6,D2,R2,T2,Es,Di,B2,F2,x6,C2,m0,v0,P2,S6,y0,N2,O2,jg,og=Ac({"../../node_modules/.pnpm/@magic-sdk+provider@29.4.2_localforage@1.10.0/node_modules/@magic-sdk/provider/dist/es/index.mjs"(){var i,e;Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Fr(),Dw=Object.create,Xc=Object.defineProperty,Rw=Object.getOwnPropertyDescriptor,Tw=Object.getOwnPropertyNames,Bw=Object.getPrototypeOf,Fw=Object.prototype.hasOwnProperty,Cw=(t,r)=>()=>(r||t((r={exports:{}}).exports,r),r.exports),Pw=(t,r)=>{for(var a in r)Xc(t,a,{get:r[a],enumerable:!0})},Nw=(t,r,a,n)=>{if(r&&typeof r=="object"||typeof r=="function")for(let s of Tw(r))!Fw.call(t,s)&&s!==a&&Xc(t,s,{get:()=>r[s],enumerable:!(n=Rw(r,s))||n.enumerable});return t},Ow=(t,r,a)=>(a=t!=null?Dw(Bw(t)):{},Nw(r||!t||!t.__esModule?Xc(a,"default",{value:t,enumerable:!0}):a,t)),Lw=Cw((t,r)=>{var a=Object.prototype.hasOwnProperty,n="~";function s(){}Object.create&&(s.prototype=Object.create(null),new s().__proto__||(n=!1));function c(g,b,M){this.fn=g,this.context=b,this.once=M||!1}function u(g,b,M,_,D){if(typeof M!="function")throw new TypeError("The listener must be a function");var R=new c(M,_||g,D),A=n?n+b:b;return g._events[A]?g._events[A].fn?g._events[A]=[g._events[A],R]:g._events[A].push(R):(g._events[A]=R,g._eventsCount++),g}function h(g,b){--g._eventsCount===0?g._events=new s:delete g._events[b]}function f(){this._events=new s,this._eventsCount=0}f.prototype.eventNames=function(){var g=[],b,M;if(this._eventsCount===0)return g;for(M in b=this._events)a.call(b,M)&&g.push(n?M.slice(1):M);return Object.getOwnPropertySymbols?g.concat(Object.getOwnPropertySymbols(b)):g},f.prototype.listeners=function(g){var b=n?n+g:g,M=this._events[b];if(!M)return[];if(M.fn)return[M.fn];for(var _=0,D=M.length,R=new Array(D);_<D;_++)R[_]=M[_].fn;return R},f.prototype.listenerCount=function(g){var b=n?n+g:g,M=this._events[b];return M?M.fn?1:M.length:0},f.prototype.emit=function(g,b,M,_,D,R){var A=n?n+g:g;if(!this._events[A])return!1;var I=this._events[A],N=arguments.length,$,V;if(I.fn){switch(I.once&&this.removeListener(g,I.fn,void 0,!0),N){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,b),!0;case 3:return I.fn.call(I.context,b,M),!0;case 4:return I.fn.call(I.context,b,M,_),!0;case 5:return I.fn.call(I.context,b,M,_,D),!0;case 6:return I.fn.call(I.context,b,M,_,D,R),!0}for(V=1,$=new Array(N-1);V<N;V++)$[V-1]=arguments[V];I.fn.apply(I.context,$)}else{var U=I.length,J;for(V=0;V<U;V++)switch(I[V].once&&this.removeListener(g,I[V].fn,void 0,!0),N){case 1:I[V].fn.call(I[V].context);break;case 2:I[V].fn.call(I[V].context,b);break;case 3:I[V].fn.call(I[V].context,b,M);break;case 4:I[V].fn.call(I[V].context,b,M,_);break;default:if(!$)for(J=1,$=new Array(N-1);J<N;J++)$[J-1]=arguments[J];I[V].fn.apply(I[V].context,$)}}return!0},f.prototype.on=function(g,b,M){return u(this,g,b,M,!1)},f.prototype.once=function(g,b,M){return u(this,g,b,M,!0)},f.prototype.removeListener=function(g,b,M,_){var D=n?n+g:g;if(!this._events[D])return this;if(!b)return h(this,D),this;var R=this._events[D];if(R.fn)R.fn===b&&(!_||R.once)&&(!M||R.context===M)&&h(this,D);else{for(var A=0,I=[],N=R.length;A<N;A++)(R[A].fn!==b||_&&!R[A].once||M&&R[A].context!==M)&&I.push(R[A]);I.length?this._events[D]=I.length===1?I[0]:I:h(this,D)}return this},f.prototype.removeAllListeners=function(g){var b;return g?(b=n?n+g:g,this._events[b]&&h(this,b)):(this._events=new s,this._eventsCount=0),this},f.prototype.off=f.prototype.removeListener,f.prototype.addListener=f.prototype.on,f.prefixed=n,f.EventEmitter=f,typeof r<"u"&&(r.exports=f)}),Uw=Number.MAX_SAFE_INTEGER||9007199254740991,Zc={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:Uw,MAX_SAFE_COMPONENT_LENGTH:16},$w=typeof Bt=="object"&&i0&&i0.NODE_DEBUG&&/\bsemver\b/i.test(i0.NODE_DEBUG)?(...t)=>console.error("SEMVER",...t):()=>{},er=$w,Ca=n9(function(t,r){let{MAX_SAFE_COMPONENT_LENGTH:a}=Zc,n=(r=t.exports={}).re=[],s=r.src=[],c=r.t={},u=0,h=(f,g,b)=>{let M=u++;er(M,g),c[f]=M,s[M]=g,n[M]=new RegExp(g,b?"g":void 0)};h("NUMERICIDENTIFIER","0|[1-9]\\d*"),h("NUMERICIDENTIFIERLOOSE","[0-9]+"),h("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),h("MAINVERSION",`(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})\\.(${s[c.NUMERICIDENTIFIER]})`),h("MAINVERSIONLOOSE",`(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})\\.(${s[c.NUMERICIDENTIFIERLOOSE]})`),h("PRERELEASEIDENTIFIER",`(?:${s[c.NUMERICIDENTIFIER]}|${s[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASEIDENTIFIERLOOSE",`(?:${s[c.NUMERICIDENTIFIERLOOSE]}|${s[c.NONNUMERICIDENTIFIER]})`),h("PRERELEASE",`(?:-(${s[c.PRERELEASEIDENTIFIER]}(?:\\.${s[c.PRERELEASEIDENTIFIER]})*))`),h("PRERELEASELOOSE",`(?:-?(${s[c.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[c.PRERELEASEIDENTIFIERLOOSE]})*))`),h("BUILDIDENTIFIER","[0-9A-Za-z-]+"),h("BUILD",`(?:\\+(${s[c.BUILDIDENTIFIER]}(?:\\.${s[c.BUILDIDENTIFIER]})*))`),h("FULLPLAIN",`v?${s[c.MAINVERSION]}${s[c.PRERELEASE]}?${s[c.BUILD]}?`),h("FULL",`^${s[c.FULLPLAIN]}$`),h("LOOSEPLAIN",`[v=\\s]*${s[c.MAINVERSIONLOOSE]}${s[c.PRERELEASELOOSE]}?${s[c.BUILD]}?`),h("LOOSE",`^${s[c.LOOSEPLAIN]}$`),h("GTLT","((?:<|>)?=?)"),h("XRANGEIDENTIFIERLOOSE",`${s[c.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),h("XRANGEIDENTIFIER",`${s[c.NUMERICIDENTIFIER]}|x|X|\\*`),h("XRANGEPLAIN",`[v=\\s]*(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:\\.(${s[c.XRANGEIDENTIFIER]})(?:${s[c.PRERELEASE]})?${s[c.BUILD]}?)?)?`),h("XRANGEPLAINLOOSE",`[v=\\s]*(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[c.XRANGEIDENTIFIERLOOSE]})(?:${s[c.PRERELEASELOOSE]})?${s[c.BUILD]}?)?)?`),h("XRANGE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAIN]}$`),h("XRANGELOOSE",`^${s[c.GTLT]}\\s*${s[c.XRANGEPLAINLOOSE]}$`),h("COERCE",`(^|[^\\d])(\\d{1,${a}})(?:\\.(\\d{1,${a}}))?(?:\\.(\\d{1,${a}}))?(?:$|[^\\d])`),h("COERCERTL",s[c.COERCE],!0),h("LONETILDE","(?:~>?)"),h("TILDETRIM",`(\\s*)${s[c.LONETILDE]}\\s+`,!0),r.tildeTrimReplace="$1~",h("TILDE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAIN]}$`),h("TILDELOOSE",`^${s[c.LONETILDE]}${s[c.XRANGEPLAINLOOSE]}$`),h("LONECARET","(?:\\^)"),h("CARETTRIM",`(\\s*)${s[c.LONECARET]}\\s+`,!0),r.caretTrimReplace="$1^",h("CARET",`^${s[c.LONECARET]}${s[c.XRANGEPLAIN]}$`),h("CARETLOOSE",`^${s[c.LONECARET]}${s[c.XRANGEPLAINLOOSE]}$`),h("COMPARATORLOOSE",`^${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]})$|^$`),h("COMPARATOR",`^${s[c.GTLT]}\\s*(${s[c.FULLPLAIN]})$|^$`),h("COMPARATORTRIM",`(\\s*)${s[c.GTLT]}\\s*(${s[c.LOOSEPLAIN]}|${s[c.XRANGEPLAIN]})`,!0),r.comparatorTrimReplace="$1$2$3",h("HYPHENRANGE",`^\\s*(${s[c.XRANGEPLAIN]})\\s+-\\s+(${s[c.XRANGEPLAIN]})\\s*$`),h("HYPHENRANGELOOSE",`^\\s*(${s[c.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[c.XRANGEPLAINLOOSE]})\\s*$`),h("STAR","(<|>)?=?\\s*\\*"),h("GTE0","^\\s*>=\\s*0.0.0\\s*$"),h("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")}),a0=/^[0-9]+$/,o0=(t,r)=>{let a=a0.test(t),n=a0.test(r);return a&&n&&(t=+t,r=+r),t===r?0:a&&!n?-1:n&&!a?1:t<r?-1:1},qw=(t,r)=>o0(r,t),Vw={compareIdentifiers:o0,rcompareIdentifiers:qw},{MAX_LENGTH:s0,MAX_SAFE_INTEGER:bs}=Zc,{re:c0,t:f0}=Ca,{compareIdentifiers:Pa}=Vw,Pn=class gn{constructor(r,a){if(a&&typeof a=="object"||(a={loose:!!a,includePrerelease:!1}),r instanceof gn){if(r.loose===!!a.loose&&r.includePrerelease===!!a.includePrerelease)return r;r=r.version}else if(typeof r!="string")throw new TypeError(`Invalid Version: ${r}`);if(r.length>s0)throw new TypeError(`version is longer than ${s0} characters`);er("SemVer",r,a),this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease;let n=r.trim().match(a.loose?c0[f0.LOOSE]:c0[f0.FULL]);if(!n)throw new TypeError(`Invalid Version: ${r}`);if(this.raw=r,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>bs||this.major<0)throw new TypeError("Invalid major version");if(this.minor>bs||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>bs||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map(s=>{if(/^[0-9]+$/.test(s)){let c=+s;if(c>=0&&c<bs)return c}return s}):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(r){if(er("SemVer.compare",this.version,this.options,r),!(r instanceof gn)){if(typeof r=="string"&&r===this.version)return 0;r=new gn(r,this.options)}return r.version===this.version?0:this.compareMain(r)||this.comparePre(r)}compareMain(r){return r instanceof gn||(r=new gn(r,this.options)),Pa(this.major,r.major)||Pa(this.minor,r.minor)||Pa(this.patch,r.patch)}comparePre(r){if(r instanceof gn||(r=new gn(r,this.options)),this.prerelease.length&&!r.prerelease.length)return-1;if(!this.prerelease.length&&r.prerelease.length)return 1;if(!this.prerelease.length&&!r.prerelease.length)return 0;let a=0;do{let n=this.prerelease[a],s=r.prerelease[a];if(er("prerelease compare",a,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n!==s)return Pa(n,s)}while(++a)}compareBuild(r){r instanceof gn||(r=new gn(r,this.options));let a=0;do{let n=this.build[a],s=r.build[a];if(er("prerelease compare",a,n,s),n===void 0&&s===void 0)return 0;if(s===void 0)return 1;if(n===void 0)return-1;if(n!==s)return Pa(n,s)}while(++a)}inc(r,a){switch(r){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",a);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",a);break;case"prepatch":this.prerelease.length=0,this.inc("patch",a),this.inc("pre",a);break;case"prerelease":this.prerelease.length===0&&this.inc("patch",a),this.inc("pre",a);break;case"major":this.minor===0&&this.patch===0&&this.prerelease.length!==0||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":this.patch===0&&this.prerelease.length!==0||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":this.prerelease.length===0&&this.patch++,this.prerelease=[];break;case"pre":if(this.prerelease.length===0)this.prerelease=[0];else{let n=this.prerelease.length;for(;--n>=0;)typeof this.prerelease[n]=="number"&&(this.prerelease[n]++,n=-2);n===-1&&this.prerelease.push(0)}a&&(this.prerelease[0]===a?isNaN(this.prerelease[1])&&(this.prerelease=[a,0]):this.prerelease=[a,0]);break;default:throw new Error(`invalid increment argument: ${r}`)}return this.format(),this.raw=this.version,this}},zw=(t,r,a)=>new Pn(t,a).compare(new Pn(r,a)),Ii=zw,jw=(t,r,a)=>Ii(t,r,a)===0,Ww=jw,Hw=(t,r,a)=>Ii(t,r,a)!==0,Gw=Hw,Kw=(t,r,a)=>Ii(t,r,a)>0,Jw=Kw,Yw=(t,r,a)=>Ii(t,r,a)>=0,Xw=Yw,Zw=(t,r,a)=>Ii(t,r,a)<0,Qw=Zw,e2=(t,r,a)=>Ii(t,r,a)<=0,t2=e2,r2=(t,r,a,n)=>{switch(r){case"===":return typeof t=="object"&&(t=t.version),typeof a=="object"&&(a=a.version),t===a;case"!==":return typeof t=="object"&&(t=t.version),typeof a=="object"&&(a=a.version),t!==a;case"":case"=":case"==":return Ww(t,a,n);case"!=":return Gw(t,a,n);case">":return Jw(t,a,n);case">=":return Xw(t,a,n);case"<":return Qw(t,a,n);case"<=":return t2(t,a,n);default:throw new TypeError(`Invalid operator: ${r}`)}},Qc=r2,Na=Symbol("SemVer ANY"),ef=class sg{static get ANY(){return Na}constructor(r,a){if(a&&typeof a=="object"||(a={loose:!!a,includePrerelease:!1}),r instanceof sg){if(r.loose===!!a.loose)return r;r=r.value}er("comparator",r,a),this.options=a,this.loose=!!a.loose,this.parse(r),this.semver===Na?this.value="":this.value=this.operator+this.semver.version,er("comp",this)}parse(r){let a=this.options.loose?h0[u0.COMPARATORLOOSE]:h0[u0.COMPARATOR],n=r.match(a);if(!n)throw new TypeError(`Invalid comparator: ${r}`);this.operator=n[1]!==void 0?n[1]:"",this.operator==="="&&(this.operator=""),n[2]?this.semver=new Pn(n[2],this.options.loose):this.semver=Na}toString(){return this.value}test(r){if(er("Comparator.test",r,this.options.loose),this.semver===Na||r===Na)return!0;if(typeof r=="string")try{r=new Pn(r,this.options)}catch{return!1}return Qc(r,this.operator,this.semver,this.options)}intersects(r,a){if(!(r instanceof sg))throw new TypeError("a Comparator is required");if(a&&typeof a=="object"||(a={loose:!!a,includePrerelease:!1}),this.operator==="")return this.value===""||new tf(r.value,a).test(this.value);if(r.operator==="")return r.value===""||new tf(this.value,a).test(r.semver);let n=!(this.operator!==">="&&this.operator!==">"||r.operator!==">="&&r.operator!==">"),s=!(this.operator!=="<="&&this.operator!=="<"||r.operator!=="<="&&r.operator!=="<"),c=this.semver.version===r.semver.version,u=!(this.operator!==">="&&this.operator!=="<="||r.operator!==">="&&r.operator!=="<="),h=Qc(this.semver,"<",r.semver,a)&&(this.operator===">="||this.operator===">")&&(r.operator==="<="||r.operator==="<"),f=Qc(this.semver,">",r.semver,a)&&(this.operator==="<="||this.operator==="<")&&(r.operator===">="||r.operator===">");return n||s||c&&u||h||f}},{re:h0,t:u0}=Ca,tf=class vf{constructor(r,a){if(a&&typeof a=="object"||(a={loose:!!a,includePrerelease:!1}),r instanceof vf)return r.loose===!!a.loose&&r.includePrerelease===!!a.includePrerelease?r:new vf(r.raw,a);if(r instanceof ef)return this.raw=r.value,this.set=[[r]],this.format(),this;if(this.options=a,this.loose=!!a.loose,this.includePrerelease=!!a.includePrerelease,this.raw=r,this.set=r.split(/\s*\|\|\s*/).map(n=>this.parseRange(n.trim())).filter(n=>n.length),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${r}`);this.format()}format(){return this.range=this.set.map(r=>r.join(" ").trim()).join("||").trim(),this.range}toString(){return this.range}parseRange(r){let{loose:a}=this.options;r=r.trim();let n=a?Sr[yr.HYPHENRANGELOOSE]:Sr[yr.HYPHENRANGE];r=r.replace(n,g2(this.options.includePrerelease)),er("hyphen replace",r),r=r.replace(Sr[yr.COMPARATORTRIM],n2),er("comparator trim",r,Sr[yr.COMPARATORTRIM]),r=(r=(r=r.replace(Sr[yr.TILDETRIM],i2)).replace(Sr[yr.CARETTRIM],a2)).split(/\s+/).join(" ");let s=a?Sr[yr.COMPARATORLOOSE]:Sr[yr.COMPARATOR];return r.split(" ").map(c=>o2(c,this.options)).join(" ").split(/\s+/).map(c=>p2(c,this.options)).filter(this.options.loose?c=>!!c.match(s):()=>!0).map(c=>new ef(c,this.options))}intersects(r,a){if(!(r instanceof vf))throw new TypeError("a Range is required");return this.set.some(n=>l0(n,a)&&r.set.some(s=>l0(s,a)&&n.every(c=>s.every(u=>c.intersects(u,a)))))}test(r){if(!r)return!1;if(typeof r=="string")try{r=new Pn(r,this.options)}catch{return!1}for(let a=0;a<this.set.length;a++)if(m2(this.set[a],r,this.options))return!0;return!1}},{re:Sr,t:yr,comparatorTrimReplace:n2,tildeTrimReplace:i2,caretTrimReplace:a2}=Ca,l0=(t,r)=>{let a=!0,n=t.slice(),s=n.pop();for(;a&&n.length;)a=n.every(c=>s.intersects(c,r)),s=n.pop();return a},o2=(t,r)=>(er("comp",t,r),t=f2(t,r),er("caret",t),t=s2(t,r),er("tildes",t),t=u2(t,r),er("xrange",t),t=d2(t,r),er("stars",t),t),kr=t=>!t||t.toLowerCase()==="x"||t==="*",s2=(t,r)=>t.trim().split(/\s+/).map(a=>c2(a,r)).join(" "),c2=(t,r)=>{let a=r.loose?Sr[yr.TILDELOOSE]:Sr[yr.TILDE];return t.replace(a,(n,s,c,u,h)=>{let f;return er("tilde",t,n,s,c,u,h),kr(s)?f="":kr(c)?f=`>=${s}.0.0 <${+s+1}.0.0-0`:kr(u)?f=`>=${s}.${c}.0 <${s}.${+c+1}.0-0`:h?(er("replaceTilde pr",h),f=`>=${s}.${c}.${u}-${h} <${s}.${+c+1}.0-0`):f=`>=${s}.${c}.${u} <${s}.${+c+1}.0-0`,er("tilde return",f),f})},f2=(t,r)=>t.trim().split(/\s+/).map(a=>h2(a,r)).join(" "),h2=(t,r)=>{er("caret",t,r);let a=r.loose?Sr[yr.CARETLOOSE]:Sr[yr.CARET],n=r.includePrerelease?"-0":"";return t.replace(a,(s,c,u,h,f)=>{let g;return er("caret",t,s,c,u,h,f),kr(c)?g="":kr(u)?g=`>=${c}.0.0${n} <${+c+1}.0.0-0`:kr(h)?g=c==="0"?`>=${c}.${u}.0${n} <${c}.${+u+1}.0-0`:`>=${c}.${u}.0${n} <${+c+1}.0.0-0`:f?(er("replaceCaret pr",f),g=c==="0"?u==="0"?`>=${c}.${u}.${h}-${f} <${c}.${u}.${+h+1}-0`:`>=${c}.${u}.${h}-${f} <${c}.${+u+1}.0-0`:`>=${c}.${u}.${h}-${f} <${+c+1}.0.0-0`):(er("no pr"),g=c==="0"?u==="0"?`>=${c}.${u}.${h}${n} <${c}.${u}.${+h+1}-0`:`>=${c}.${u}.${h}${n} <${c}.${+u+1}.0-0`:`>=${c}.${u}.${h} <${+c+1}.0.0-0`),er("caret return",g),g})},u2=(t,r)=>(er("replaceXRanges",t,r),t.split(/\s+/).map(a=>l2(a,r)).join(" ")),l2=(t,r)=>{t=t.trim();let a=r.loose?Sr[yr.XRANGELOOSE]:Sr[yr.XRANGE];return t.replace(a,(n,s,c,u,h,f)=>{er("xRange",t,n,s,c,u,h,f);let g=kr(c),b=g||kr(u),M=b||kr(h),_=M;return s==="="&&_&&(s=""),f=r.includePrerelease?"-0":"",g?n=s===">"||s==="<"?"<0.0.0-0":"*":s&&_?(b&&(u=0),h=0,s===">"?(s=">=",b?(c=+c+1,u=0,h=0):(u=+u+1,h=0)):s==="<="&&(s="<",b?c=+c+1:u=+u+1),s==="<"&&(f="-0"),n=`${s+c}.${u}.${h}${f}`):b?n=`>=${c}.0.0${f} <${+c+1}.0.0-0`:M&&(n=`>=${c}.${u}.0${f} <${c}.${+u+1}.0-0`),er("xRange return",n),n})},d2=(t,r)=>(er("replaceStars",t,r),t.trim().replace(Sr[yr.STAR],"")),p2=(t,r)=>(er("replaceGTE0",t,r),t.trim().replace(Sr[r.includePrerelease?yr.GTE0PRE:yr.GTE0],"")),g2=t=>(r,a,n,s,c,u,h,f,g,b,M,_,D)=>`${a=kr(n)?"":kr(s)?`>=${n}.0.0${t?"-0":""}`:kr(c)?`>=${n}.${s}.0${t?"-0":""}`:u?`>=${a}`:`>=${a}${t?"-0":""}`} ${f=kr(g)?"":kr(b)?`<${+g+1}.0.0-0`:kr(M)?`<${g}.${+b+1}.0-0`:_?`<=${g}.${b}.${M}-${_}`:t?`<${g}.${b}.${+M+1}-0`:`<=${f}`}`.trim(),m2=(t,r,a)=>{for(let n=0;n<t.length;n++)if(!t[n].test(r))return!1;if(r.prerelease.length&&!a.includePrerelease){for(let n=0;n<t.length;n++)if(er(t[n].semver),t[n].semver!==ef.ANY&&t[n].semver.prerelease.length>0){let s=t[n].semver;if(s.major===r.major&&s.minor===r.minor&&s.patch===r.patch)return!0}return!1}return!0},g6=(t,r,a)=>{try{r=new tf(r,a)}catch{return!1}return r.test(t)},{MAX_LENGTH:v2}=Zc,{re:d0,t:p0}=Ca,y2=(t,r)=>{if(r&&typeof r=="object"||(r={loose:!!r,includePrerelease:!1}),t instanceof Pn)return t;if(typeof t!="string"||t.length>v2||!(r.loose?d0[p0.LOOSE]:d0[p0.FULL]).test(t))return null;try{return new Pn(t,r)}catch{return null}},w2=y2,{re:xs,t:Ss}=Ca,m6=(t,r)=>{if(t instanceof Pn)return t;if(typeof t=="number"&&(t=String(t)),typeof t!="string")return null;let a=null;if((r=r||{}).rtl){let n;for(;(n=xs[Ss.COERCERTL].exec(t))&&(!a||a.index+a[0].length!==t.length);)a&&n.index+n[0].length===a.index+a[0].length||(a=n),xs[Ss.COERCERTL].lastIndex=n.index+n[1].length+n[2].length;xs[Ss.COERCERTL].lastIndex=-1}else a=t.match(xs[Ss.COERCE]);return a===null?null:w2(`${a[2]}.${a[3]||"0"}.${a[4]||"0"}`,r)},ar={},b2={"magic-sdk":"magic-sdk","@magic-sdk/react-native":"magic-sdk-rn","@magic-sdk/react-native-bare":"magic-sdk-rn-bare","@magic-sdk/react-native-expo":"magic-sdk-rn-expo"},Mi=class E6 extends Error{constructor(a,n){super(`Magic SDK Error: [${a}] ${n}`);Ce(this,"__proto__",Error);this.code=a,this.rawMessage=n,Object.setPrototypeOf(this,E6.prototype)}},As=class M6 extends Error{constructor(a){super();Ce(this,"__proto__",Error);Ce(this,"code");Ce(this,"rawMessage");Ce(this,"data");let n=Number(a==null?void 0:a.code);this.rawMessage=(a==null?void 0:a.message)||"Internal error",this.code=u9(n)?n:rs.InternalError,this.message=`Magic RPC Error: [${this.code}] ${this.rawMessage}`,this.data=(a==null?void 0:a.data)||void 0,Object.setPrototypeOf(this,M6.prototype)}},Aa=class{constructor(t,r){Ce(this,"message");this.code=t,this.rawMessage=r,this.message=`Magic SDK Warning: [${t}] ${r}`}log(){console.warn(this.message)}},rg=class _6 extends Error{constructor(a,n,s,c){super(`Magic Extension Error (${a.name}): [${n}] ${s}`);Ce(this,"__proto__",Error);this.code=n,this.rawMessage=s,this.data=c,Object.setPrototypeOf(this,_6.prototype)}},mf=class{constructor(t,r,a){Ce(this,"message");this.code=r,this.rawMessage=a,this.message=`Magic Extension Warning (${t.name}): [${r}] ${a}`}log(){console.warn(this.message)}},v6=S9(),g0={},Pw(g0,{clear:()=>x2,getItem:()=>$r,iterate:()=>ng,key:()=>E2,keys:()=>M2,length:()=>S2,removeItem:()=>Ui,setItem:()=>jn}),$r=ti("getItem"),jn=ti("setItem"),Ui=ti("removeItem"),x2=ti("clear"),S2=ti("length"),E2=ti("key"),M2=ti("keys"),ng=ti("iterate"),uh="STORE_KEY_PRIVATE_KEY",gc="STORE_KEY_PUBLIC_JWK",ig="ECDSA",_2="P-256",y6={name:ig,namedCurve:_2},Vg=Symbol("Payload pre-processed by Magic SDK"),ag=class A6{constructor(r){Ce(this,"_jsonrpc");Ce(this,"_id");Ce(this,"_result");Ce(this,"_error");r instanceof A6?(this._jsonrpc=r.payload.jsonrpc,this._id=r.payload.id,this._result=r.payload.result,this._error=r.payload.error):h9(r)?(this._jsonrpc=r.jsonrpc,this._id=r.id,this._result=r.result,this._error=r.error):(this._jsonrpc=r.jsonrpc,this._id=r.id,this._result=void 0,this._error=void 0)}applyError(r){return this._error=r,this}applyResult(r){return this._result=r,this}get hasError(){var r;return((r=this._error)==null?void 0:r.code)===rs.DpopInvalidated&&M9(),typeof this._error<"u"&&this._error!==null}get hasResult(){return typeof this._result<"u"}get payload(){return{jsonrpc:this._jsonrpc,id:this._id,result:this._result,error:this._error}}},A2=Ow(Lw()),w6=class extends A2.default{},zg=Symbol("isPromiEvent"),Nn=class{constructor(t){this.sdk=t}get overlay(){return this.sdk.overlay}request(t){if(this.sdk.thirdPartyWallets.isConnected&&!qg.includes(t.method))return un((s,c)=>{this.sdk.thirdPartyWallets.requestOverride(t).then(s).catch(c)});let r=this.overlay.post(Pi.MAGIC_HANDLE_REQUEST,Yc(t)),a=un((s,c)=>{r.then(u=>{if(n(),u.hasError)c(new As(u.payload.error));else if(u.hasResult)s(u.payload.result);else throw p9()}).catch(u=>{n(),c(u)})}),n=this.overlay.on(xn.MAGIC_HANDLE_EVENT,s=>{var u;let{response:c}=s.data;if(c.id===t.id&&((u=c.result)!=null&&u.event)){let{event:h,params:f=[]}=c.result;a.emit(h,...f)}});return a}createIntermediaryEvent(t,r){return a=>{let n=Zt($t.IntermediaryEvent,[{payloadId:r,eventType:t,args:a}]);this.request(n)}}},k2={"magic-sdk":"v18.0.0","@magic-sdk/react-native":"v14.0.0","@magic-sdk/react-native-bare":"v19.0.0","@magic-sdk/react-native-expo":"v19.0.0"},I2=class extends Nn{loginWithMagicLink(t){let r=ar.sdkName==="@magic-sdk/react-native"||ar.sdkName==="@magic-sdk/react-native-bare"||ar.sdkName==="@magic-sdk/react-native-expo";if(r&&B9(ar.version,19))throw new Error("loginWithMagicLink() is deprecated for this package, please utilize a passcode method like loginWithSMS or loginWithEmailOTP instead.");r&&x9({method:"auth.loginWithMagicLink()",removalVersions:k2,useInstead:"auth.loginWithEmailOTP()"}).log();let{email:a,showUI:n=!0,redirectURI:s,overrides:c,lifespan:u}=t,h=Zt(this.sdk.testMode?$t.LoginWithMagicLinkTestMode:$t.LoginWithMagicLink,[{email:a,showUI:n,redirectURI:s,overrides:c,lifespan:u}]);return this.request(h)}loginWithSMS(t){let{phoneNumber:r,showUI:a=!0,lifespan:n}=t,s=Zt(this.sdk.testMode?$t.LoginWithSmsTestMode:$t.LoginWithSms,[{phoneNumber:r,showUI:a,lifespan:n}]),c=this.request(s);return!a&&c&&(c.on(Ni.VerifySmsOtp,u=>{this.createIntermediaryEvent(Ni.VerifySmsOtp,s.id)(u)}),c.on(Ni.Cancel,()=>{this.createIntermediaryEvent(Ni.Cancel,s.id)()})),c}loginWithEmailOTP(t){let{email:r,showUI:a,deviceCheckUI:n,overrides:s,lifespan:c}=t,u=Zt(this.sdk.testMode?$t.LoginWithEmailOTPTestMode:$t.LoginWithEmailOTP,[{email:r,showUI:a,deviceCheckUI:n,overrides:s,lifespan:c}]),h=this.request(u);return!n&&h&&h.on(pc.Retry,()=>{this.createIntermediaryEvent(pc.Retry,u.id)()}),!a&&h&&(h.on(Nr.VerifyEmailOtp,f=>{this.createIntermediaryEvent(Nr.VerifyEmailOtp,u.id)(f)}),h.on(Nr.VerifyMFACode,f=>{this.createIntermediaryEvent(Nr.VerifyMFACode,u.id)(f)}),h.on(Nr.LostDevice,()=>{this.createIntermediaryEvent(Nr.LostDevice,u.id)()}),h.on(Nr.VerifyRecoveryCode,f=>{this.createIntermediaryEvent(Nr.VerifyRecoveryCode,u.id)(f)}),h.on(Nr.Cancel,()=>{this.createIntermediaryEvent(Nr.Cancel,u.id)()})),h}loginWithCredential(t){let{credentialOrQueryString:r,lifespan:a}=t||{},n=r??"";if(!r&&ar.platform==="web"){n=window.location.search;let c=window.location.origin+window.location.pathname;window.history.replaceState(null,"",c)}let s=Zt(this.sdk.testMode?$t.LoginWithCredentialTestMode:$t.LoginWithCredential,[n,a]);return this.request(s)}setAuthorizationToken(t){let r=Zt($t.SetAuthorizationToken,[{jwt:t}]);return this.request(r)}updateEmailWithUI(t){let{email:r,showUI:a=!0}=t,n=Zt(this.sdk.testMode?$t.UpdateEmailTestMode:$t.UpdateEmail,[{email:r,showUI:a}]),s=this.request(n);return a||(s.on(Or.Retry,()=>{this.createIntermediaryEvent(Or.Retry,n.id)()}),s.on(Or.Cancel,()=>{this.createIntermediaryEvent(Or.Cancel,n.id)()}),s.on(Or.VerifyEmailOtp,c=>{this.createIntermediaryEvent(Or.VerifyEmailOtp,n.id)(c)}),s.on(Or.VerifyMFACode,c=>{this.createIntermediaryEvent(Or.VerifyMFACode,n.id)(c)}),s.on(Rr.RetryWithNewEmail,c=>{this.createIntermediaryEvent(Rr.RetryWithNewEmail,n.id)(c)}),s.on(Rr.Cancel,()=>{this.createIntermediaryEvent(Rr.Cancel,n.id)()}),s.on(Rr.VerifyEmailOtp,c=>{this.createIntermediaryEvent(Rr.VerifyEmailOtp,n.id)(c)})),s}},lh="ds",dh="ek",ph="iv",gh="AES-GCM",b6=256,D2=class extends Nn{constructor(){super(...arguments);Ce(this,"localForageIsLoggedInKey","magic_auth_is_logged_in");Ce(this,"userLoggedOutCallbacks",[])}getIdToken(r){let a=Zt(this.sdk.testMode?$t.GetIdTokenTestMode:$t.GetIdToken,[r]);return this.request(a)}generateIdToken(r){let a=Zt(this.sdk.testMode?$t.GenerateIdTokenTestMode:$t.GenerateIdToken,[r]);return this.request(a)}getInfo(){let r=Zt($t.GetInfo,[]);return this.request(r)}isLoggedIn(){return un(async(r,a)=>{try{let n=!1;this.sdk.useStorageCache&&(n=await $r(this.localForageIsLoggedInKey)==="true",n&&r(!0));let s=Zt(this.sdk.testMode?$t.IsLoggedInTestMode:$t.IsLoggedIn),c=await this.request(s);this.sdk.useStorageCache&&(c?jn(this.localForageIsLoggedInKey,!0):Ui(this.localForageIsLoggedInKey),n&&!c&&this.emitUserLoggedOut(!0)),r(c)}catch(n){a(n)}})}logout(){return Ui(this.localForageIsLoggedInKey),kw(),un(async(r,a)=>{try{let n=Zt(this.sdk.testMode?$t.LogoutTestMode:$t.Logout),s=await this.request(n);this.sdk.useStorageCache&&this.emitUserLoggedOut(s),r(s)}catch(n){a(n)}})}requestInfoWithUI(r){let a=Zt($t.RequestUserInfoWithUI,r?[r]:[]);return this.request(a)}showSettings(r){let{showUI:a=!0}=r||{},n=Zt(this.sdk.testMode?$t.UserSettingsTestMode:$t.UserSettings,[r]),s=this.request(n);return!a&&s&&(s.on(en.SendNewPhoneNumber,c=>{this.createIntermediaryEvent(en.SendNewPhoneNumber,n.id)(c)}),s.on(en.SendOtpCode,c=>{this.createIntermediaryEvent(en.SendOtpCode,n.id)(c)}),s.on(en.StartEditPhoneNumber,()=>{this.createIntermediaryEvent(en.StartEditPhoneNumber,n.id)()}),s.on(en.Cancel,()=>{this.createIntermediaryEvent(en.Cancel,n.id)()}),s.on(Or.VerifyEmailOtp,c=>{this.createIntermediaryEvent(Or.VerifyEmailOtp,n.id)(c)})),s}recoverAccount(r){let{email:a,showUI:n}=r,s=Zt(this.sdk.testMode?$t.RecoverAccountTestMode:$t.RecoverAccount,[{email:a,showUI:n}]),c=this.request(s);return!n&&c&&(c.on(tn.Cancel,()=>{this.createIntermediaryEvent(tn.Cancel,s.id)()}),c.on(tn.ResendSms,()=>{this.createIntermediaryEvent(tn.ResendSms,s.id)()}),c.on(tn.VerifyOtp,u=>{this.createIntermediaryEvent(tn.VerifyOtp,s.id)(u)}),c.on(tn.UpdateEmail,u=>{this.createIntermediaryEvent(tn.UpdateEmail,s.id)(u)}),c.on(Rr.Cancel,()=>{this.createIntermediaryEvent(Rr.Cancel,s.id)()}),c.on(Rr.RetryWithNewEmail,u=>{this.createIntermediaryEvent(Rr.RetryWithNewEmail,s.id)(u)}),c.on(Rr.VerifyEmailOtp,u=>{this.createIntermediaryEvent(Rr.VerifyEmailOtp,s.id)(u)})),c}revealPrivateKey(){let r=Zt($t.RevealPK);return this.request(r)}onUserLoggedOut(r){this.userLoggedOutCallbacks.push(r)}enableMFA(r){let{showUI:a=!0}=r,n=Zt($t.EnableMFA,[{showUI:a}]),s=this.request(n);return!a&&s&&(s.on(Oi.VerifyMFACode,c=>{this.createIntermediaryEvent(Oi.VerifyMFACode,n.id)(c)}),s.on(Oi.Cancel,()=>{this.createIntermediaryEvent(Oi.Cancel,n.id)()})),s}disableMFA(r){let{showUI:a=!0}=r,n=Zt($t.DisableMFA,[{showUI:a}]),s=this.request(n);return!a&&s&&(s.on(Ln.VerifyMFACode,c=>{this.createIntermediaryEvent(Ln.VerifyMFACode,n.id)(c)}),s.on(Ln.LostDevice,c=>{this.createIntermediaryEvent(Ln.LostDevice,n.id)(c)}),s.on(Ln.Cancel,()=>{this.createIntermediaryEvent(Ln.Cancel,n.id)()})),s}emitUserLoggedOut(r){this.userLoggedOutCallbacks.forEach(a=>{a(r)})}},R2=class extends Nn{connectWithUI(t){let r=un(async(a,n)=>{try{let s=Zt($t.Login,[{enabledWallets:this.sdk.thirdPartyWallets.enabledWallets,...t}]),c=this.request(s);this.sdk.thirdPartyWallets.eventListeners.forEach(({event:h,callback:f})=>{c.on(h,()=>f(s.id))}),c.on("id-token-created",h=>{r.emit("id-token-created",h)});let u=await c;u.error&&n(u),a(u)}catch(s){n(s)}});return r}showUI(t){return this.request(Zt($t.ShowUI,[t]))}showAddress(){return this.request(Zt($t.ShowAddress))}showSendTokensUI(){return this.request(Zt($t.ShowSendTokensUI))}showOnRamp(){return this.request(Zt($t.ShowOnRamp))}showNFTs(){return this.request(Zt($t.ShowNFTs))}showBalances(){return this.request(Zt($t.ShowBalances))}sendGaslessTransaction(t,r){return this.request(Zt($t.SendGaslessTransaction,[t,r]))}},T2=class extends Nn{constructor(){super(...arguments);Ce(this,"eventListeners",[]);Ce(this,"enabledWallets",{});Ce(this,"isConnected",!1)}resetThirdPartyWalletState(){localStorage.removeItem(yn.PROVIDER),localStorage.removeItem(yn.ADDRESS),localStorage.removeItem(yn.CHAIN_ID),this.isConnected=!1}requestOverride(r){if(r.method===$t.Login)return this.resetThirdPartyWalletState(),super.request(r);if(r.method===$t.GetInfo)return this.getInfo(r);if(r.method===$t.IsLoggedIn)return this.isLoggedIn(r);if(r.method===$t.Logout)return this.logout(r);switch(localStorage.getItem(yn.PROVIDER)){case"web3modal":return this.web3modalRequest(r);default:return this.resetThirdPartyWalletState(),super.request(r)}}isLoggedIn(r){switch(localStorage.getItem(yn.PROVIDER)){case"web3modal":return this.web3modalIsLoggedIn();default:return this.resetThirdPartyWalletState(),super.request(r)}}getInfo(r){switch(localStorage.getItem(yn.PROVIDER)){case"web3modal":return this.web3modalGetInfo();default:return this.resetThirdPartyWalletState(),super.request(r)}}logout(r){let a=localStorage.getItem(yn.PROVIDER);switch(this.resetThirdPartyWalletState(),a){case"web3modal":return this.web3modalLogout();default:return super.request(r)}}web3modalRequest(r){return un((a,n)=>{this.sdk.web3modal.modal.getWalletProvider().request(r).then(a).catch(n)})}web3modalIsLoggedIn(){return un(r=>{let a=this.sdk.web3modal.modal.getStatus();if(a==="connected"&&r(!0),a==="disconnected"&&(this.resetThirdPartyWalletState(),r(!1)),a==="reconnecting"){let n=this.sdk.web3modal.modal.subscribeProvider(({status:s})=>{s==="connected"&&(n(),r(!0)),s==="disconnected"&&(n(),this.resetThirdPartyWalletState(),r(!1))})}})}formatWeb3modalGetInfoResponse(){var n;let r=(n=this.sdk.web3modal.modal.getWalletInfo())==null?void 0:n.name,a=this.sdk.web3modal.modal.getAddress();return{publicAddress:a,email:null,issuer:`did:ethr:${a}`,phoneNumber:null,isMfaEnabled:!1,recoveryFactors:[],walletType:r||"web3modal",firstLoginAt:null}}web3modalGetInfo(){return un((r,a)=>{let n=this.sdk.web3modal.modal.getStatus();if(n==="connected"&&r(this.formatWeb3modalGetInfoResponse()),n==="disconnected"&&(this.resetThirdPartyWalletState(),a("Magic RPC Error: [-32603] Internal error: User denied account access.")),n==="reconnecting"){let s=this.sdk.web3modal.modal.subscribeProvider(({status:c})=>{c==="connected"&&(s(),r(this.formatWeb3modalGetInfoResponse())),c==="disconnected"&&(s(),this.resetThirdPartyWalletState(),a("Magic RPC Error: [-32603] Internal error: User denied account access."))})}})}web3modalLogout(){return un(async r=>{try{await this.sdk.web3modal.modal.disconnect()}catch(a){console.error(a)}r(!0)})}},{createBoundEmitterMethod:Es,createChainingEmitterMethod:Di}=h6(),B2=class extends Nn{constructor(){super(...arguments);Ce(this,"isMagic",!0);Ce(this,"on",Di("on",this));Ce(this,"once",Di("once",this));Ce(this,"addListener",Di("addListener",this));Ce(this,"off",Di("off",this));Ce(this,"removeListener",Di("removeListener",this));Ce(this,"removeAllListeners",Di("removeAllListeners",this));Ce(this,"emit",Es("emit"));Ce(this,"eventNames",Es("eventNames"));Ce(this,"listeners",Es("listeners"));Ce(this,"listenerCount",Es("listenerCount"))}sendAsync(r,a){if(!a)throw v9({procedure:"Magic.rpcProvider.sendAsync",argument:1,expected:"function",received:a===null?"null":typeof a});if(Array.isArray(r))this.overlay.post(Pi.MAGIC_HANDLE_REQUEST,r.map(n=>{let s=Yc(n);return this.prefixPayloadMethodForTestMode(s),s})).then(n=>{a(null,n.map(s=>({...s.payload,error:s.hasError?new As(s.payload.error):null})))});else{let n=Yc(r);this.prefixPayloadMethodForTestMode(n),this.overlay.post(Pi.MAGIC_HANDLE_REQUEST,n).then(s=>{a(s.hasError?new As(s.payload.error):null,s.payload)})}}send(r,a){if(typeof r=="string"){let s=Zt(r,Array.isArray(a)?a:[]);return this.request(s)}if(Array.isArray(r)||a){this.sendAsync(r,a);return}let n=w9();return n.log(),new ag(r).applyError({code:-32603,message:n.rawMessage}).payload}enable(){let r=Zt($t.Login);return this.request(r)}request(r){return this.prefixPayloadMethodForTestMode(r),super.request(r)}prefixPayloadMethodForTestMode(r){let a="testMode/eth/";this.sdk.testMode&&(r.method=`${a}${r.method}`)}},F2=class extends Nn{purchase(t){let r=Zt($t.NFTPurchase,[t]);return this.request(r)}checkout(t){let r=this.sdk.thirdPartyWallets.isConnected,a=Zt($t.NFTCheckout,[{...t,walletProvider:r?"web3modal":"magic"}]),n=this.request(a);return r&&(n.on(Li.Initiated,async s=>{try{let c=await this.request({method:"eth_sendTransaction",params:[s]});this.createIntermediaryEvent(Li.Success,a.id)(c)}catch{this.createIntermediaryEvent(Li.Failure,a.id)()}}),n.on(Li.Disconnect,()=>{this.sdk.thirdPartyWallets.resetThirdPartyWalletState(),n.emit("disconnect")})),n}transfer(t){let r=Zt($t.NFTTransfer,[t]);return this.request(r)}},x6=(i=class{constructor(r,a){Ce(this,"endpoint");Ce(this,"parameters");Ce(this,"networkHash");Ce(this,"testMode");Ce(this,"useStorageCache");Ce(this,"auth");Ce(this,"user");Ce(this,"wallet");Ce(this,"nft");Ce(this,"thirdPartyWallets");Ce(this,"rpcProvider");if(this.apiKey=r,!r)throw d9();ar.platform==="react-native"&&(a!=null&&a.endpoint)&&b9().log();let{defaultEndpoint:n,version:s}=ar;this.testMode=!!(a!=null&&a.testMode),this.useStorageCache=!!(a!=null&&a.useStorageCache),this.endpoint=Pf((a==null?void 0:a.endpoint)??n).origin,this.auth=new I2(this),this.user=new D2(this),this.wallet=new R2(this),this.nft=new F2(this),this.thirdPartyWallets=new T2(this),this.rpcProvider=new B2(this);let c=L9.call(this,a);this.parameters=_w({API_KEY:this.apiKey,DOMAIN_ORIGIN:typeof window<"u"&&(window!=null&&window.location)?window==null?void 0:window.location.origin:"",ETH_NETWORK:a==null?void 0:a.network,host:Pf(this.endpoint).host,sdk:b2[ar.sdkName],version:s,ext:Cf(c)?void 0:c,locale:(a==null?void 0:a.locale)||"en_US",authConfig:a!=null&&a.authConfig?{...a.authConfig}:void 0,...ar.bundleId?{bundleId:ar.bundleId}:{},meta:a==null?void 0:a.meta}),this.networkHash=O9(this.apiKey,a==null?void 0:a.network,Cf(c)?void 0:c),a!=null&&a.deferPreload||this.preload()}get overlay(){if(!i.__overlays__.has(this.parameters)){let r=new ar.ViewController(this.endpoint,this.parameters,this.networkHash);r.init(),i.__overlays__.set(this.parameters,r)}return i.__overlays__.get(this.parameters)}async preload(){await this.overlay.waitForReady()}},Ce(i,"__overlays__",new Map),i),C2=1e3,m0=60*C2,v0=5*m0,P2=60*m0,S6=class{constructor(t,r,a){Ce(this,"isReadyForRequest",!1);Ce(this,"messageHandlers",new Set);Ce(this,"isConnectedToInternet",!0);Ce(this,"lastPongTime",null);Ce(this,"heartbeatIntervalTimer",null);Ce(this,"heartbeatDebounce",z9(()=>{this.endpoint==="https://auth.magic.link/"&&this.heartBeatCheck()},P2));this.endpoint=t,this.parameters=r,this.networkHash=a,this.listen()}async post(t,r){return l6(async(a,n)=>{if(!this.isConnectedToInternet){let g=o6();n(g)}await this.checkRelayerExistsInDOM()||(this.isReadyForRequest=!1,await this.reloadRelayer()),this.isReadyForRequest||await this.waitForReady();let s=[],c=Array.isArray(r)?r.map(g=>g.id):[],u=await q9(`${t}-${this.parameters}`,r,this.networkHash);await this._post(u);let h=g=>b=>{var D;let{id:M,response:_}=$9(r,b);if(V9(b),((D=_==null?void 0:_.payload.error)==null?void 0:D.message)==="User denied account access.")kw();else if(b.data.deviceShare){let{deviceShare:R}=b.data;P9(R,this.networkHash)}M&&_&&Array.isArray(r)&&c.includes(M)?(s.push(_),s.length===r.length&&(g(),a(s))):M&&_&&!Array.isArray(r)&&M===r.id&&(g(),a(_))},f=this.on(xn.MAGIC_HANDLE_RESPONSE,h(()=>f()))})}on(t,r){let a=r.bind(window),n=s=>{s.data.msgType===`${t}-${this.parameters}`&&a(s)};return this.messageHandlers.add(n),()=>this.messageHandlers.delete(n)}waitForReady(){return new Promise(t=>{let r=this.on(xn.MAGIC_OVERLAY_READY,()=>{this.isReadyForRequest=!0,t(),r()})})}listen(){this.on(xn.MAGIC_HIDE_OVERLAY,()=>{this.hideOverlay()}),this.on(xn.MAGIC_SHOW_OVERLAY,()=>{this.showOverlay()}),this.on(xn.MAGIC_SEND_PRODUCT_ANNOUNCEMENT,t=>{t.data.response.result.product_announcement&&new Aa(bi.ProductAnnouncement,t.data.response.result.product_announcement).log()})}heartBeatCheck(){let t=!0,r=async()=>{let a={msgType:`${Pi.MAGIC_PING}-${this.parameters}`,payload:[]};await this._post(a)};this.heartbeatIntervalTimer=setInterval(async()=>{if(this.lastPongTime){if(Date.now()-this.lastPongTime>v0*2){this.reloadRelayer(),t=!0;return}}else if(!t){this.reloadRelayer(),t=!0;return}await r(),t=!1},v0)}stopHeartBeat(){this.heartbeatDebounce(),this.lastPongTime=null,this.heartbeatIntervalTimer&&(clearInterval(this.heartbeatIntervalTimer),this.heartbeatIntervalTimer=null)}},y0=["request","overlay","sdk"],N2=class extends Nn{constructor(){super(void 0);Ce(this,"compat");Ce(this,"__sdk_access_field_descriptors__",new Map);Ce(this,"__is_initialized__",!1);Ce(this,"utils",{createPromiEvent:un,isPromiEvent:u6,encodeJSON:_w,decodeJSON:c9,createJsonRpcRequestPayload:Zt,standardizeJsonRpcRequestPayload:Yc,storage:g0});let r=[this,...j9(this)];y0.forEach(a=>{let n=r.map(h=>Object.getOwnPropertyDescriptor(h,a)),s=n.findIndex(h=>!!h),c=s>0,u=n[s];u&&(this.__sdk_access_field_descriptors__.set(a,{descriptor:u,isPrototypeField:c}),Object.defineProperty(this,a,{configurable:!0,get:()=>{throw g9(a)}}))})}init(r){this.__is_initialized__||(y0.forEach(a=>{if(this.__sdk_access_field_descriptors__.has(a)){let{descriptor:n,isPrototypeField:s}=this.__sdk_access_field_descriptors__.get(a);s?delete this[a]:Object.defineProperty(this,a,n)}}),this.sdk=r,this.__is_initialized__=!0)}createDeprecationWarning(r){let{method:a,removalVersion:n,useInstead:s}=r,c=s?` Use \`${s}\` instead.`:"",u=`\`${a}\` will be removed from this Extension in version \`${n}\`.${c}`;return new mf(this,"DEPRECATION_NOTICE",u)}createWarning(r,a){return new mf(this,r,a)}createError(r,a,n){return new rg(this,r,a,n)}},O2=class extends N2{},jg=(e=class{},Ce(e,"Internal",O2),e)}}),k6=Ac({"../../node_modules/.pnpm/@magic-sdk+commons@25.4.2_@magic-sdk+provider@29.4.2_localforage@1.10.0__@magic-sdk+types@24.21.0/node_modules/@magic-sdk/commons/dist/es/index.mjs"(){og(),Fr()}}),I6={};i6(I6,{AuthEventOnReceived:()=>Hp,DeepLinkPage:()=>Lp,DeviceVerificationEventEmit:()=>pc,DeviceVerificationEventOnReceived:()=>zp,DisableMFAEventEmit:()=>Ln,DisableMFAEventOnReceived:()=>Jp,EnableMFAEventEmit:()=>Oi,EnableMFAEventOnReceived:()=>Kp,EthChainType:()=>Yp,Extension:()=>jg,ExtensionError:()=>rg,ExtensionWarning:()=>mf,FarcasterLoginEventEmit:()=>Gp,LocalStorageKeys:()=>yn,LoginWithEmailOTPEventEmit:()=>Nr,LoginWithEmailOTPEventOnReceived:()=>Vp,LoginWithMagicLinkEventEmit:()=>Up,LoginWithMagicLinkEventOnReceived:()=>$p,LoginWithSmsOTPEventEmit:()=>Ni,LoginWithSmsOTPEventOnReceived:()=>qp,Magic:()=>R6,MagicIncomingWindowMessage:()=>xn,MagicOutgoingWindowMessage:()=>Pi,MagicPayloadMethod:()=>$t,NftCheckoutIntermediaryEvents:()=>Li,RPCError:()=>As,RPCErrorCode:()=>rs,RecencyCheckEventEmit:()=>Or,RecencyCheckEventOnReceived:()=>jp,RecoverAccountEventEmit:()=>tn,RecoverAccountEventOnReceived:()=>Qp,RecoveryFactorEventEmit:()=>en,RecoveryFactorEventOnReceived:()=>Xp,RecoveryMethodType:()=>Zp,SDKError:()=>Mi,SDKErrorCode:()=>Yn,SDKWarning:()=>Aa,SDKWarningCode:()=>bi,ThirdPartyWalletEvents:()=>Op,UiEventsEmit:()=>tg,UpdateEmailEventEmit:()=>Rr,UpdateEmailEventOnReceived:()=>Wp,UserEventsEmit:()=>Bf,UserEventsOnReceived:()=>Ff,WalletEventOnReceived:()=>eg,isPromiEvent:()=>u6,routeToMagicMethods:()=>qg});function W9(i){for(let[e,t]of Object.entries(D6))i.style[e]=t}function H9(i){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(e=>e.src.includes(i))}var L2,w0,U2,$2,q2,V2,Ms,b0,z2,x0,j2,W2,nf,S0,D6,H2,R6,G9=Ac({"../../node_modules/.pnpm/magic-sdk@29.4.2/node_modules/magic-sdk/dist/es/index.mjs"(){og(),og(),Fr(),k6(),L2=Object.create,w0=Object.defineProperty,U2=Object.getOwnPropertyDescriptor,$2=Object.getOwnPropertyNames,q2=Object.getPrototypeOf,V2=Object.prototype.hasOwnProperty,Ms=(i=>typeof Fa<"u"?Fa:typeof Proxy<"u"?new Proxy(i,{get:(e,t)=>(typeof Fa<"u"?Fa:e)[t]}):i)(function(i){if(typeof Fa<"u")return Fa.apply(this,arguments);throw Error('Dynamic require of "'+i+'" is not supported')}),b0=(i,e)=>()=>(e||i((e={exports:{}}).exports,e),e.exports),z2=(i,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let a of $2(e))!V2.call(i,a)&&a!==t&&w0(i,a,{get:()=>e[a],enumerable:!(r=U2(e,a))||r.enumerable});return i},x0=(i,e,t)=>(t=i!=null?L2(q2(i)):{},z2(e||!i||!i.__esModule?w0(t,"default",{value:i,enumerable:!0}):t,i)),j2=b0((i,e)=>{(function(t){if(typeof i=="object"&&typeof e<"u")e.exports=t();else if(typeof define=="function"&&define.amd)define([],t);else{var r;typeof window<"u"?r=window:typeof Da<"u"?r=Da:typeof self<"u"?r=self:r=this,r.localforage=t()}})(function(){return(function t(r,a,n){function s(h,f){if(!a[h]){if(!r[h]){var g=typeof Ms=="function"&&Ms;if(!f&&g)return g(h,!0);if(c)return c(h,!0);var b=new Error("Cannot find module '"+h+"'");throw b.code="MODULE_NOT_FOUND",b}var M=a[h]={exports:{}};r[h][0].call(M.exports,function(_){var D=r[h][1][_];return s(D||_)},M,M.exports,t,r,a,n)}return a[h].exports}for(var c=typeof Ms=="function"&&Ms,u=0;u<n.length;u++)s(n[u]);return s})({1:[function(t,r,a){(function(n){var s=n.MutationObserver||n.WebKitMutationObserver,c;if(s){var u=0,h=new s(_),f=n.document.createTextNode("");h.observe(f,{characterData:!0}),c=function(){f.data=u=++u%2}}else if(!n.setImmediate&&typeof n.MessageChannel<"u"){var g=new n.MessageChannel;g.port1.onmessage=_,c=function(){g.port2.postMessage(0)}}else"document"in n&&"onreadystatechange"in n.document.createElement("script")?c=function(){var R=n.document.createElement("script");R.onreadystatechange=function(){_(),R.onreadystatechange=null,R.parentNode.removeChild(R),R=null},n.document.documentElement.appendChild(R)}:c=function(){setTimeout(_,0)};var b,M=[];function _(){b=!0;for(var R,A,I=M.length;I;){for(A=M,M=[],R=-1;++R<I;)A[R]();I=M.length}b=!1}r.exports=D;function D(R){M.push(R)===1&&!b&&c()}}).call(this,typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(t,r,a){var n=t(1);function s(){}var c={},u=["REJECTED"],h=["FULFILLED"],f=["PENDING"];r.exports=g;function g(V){if(typeof V!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,V!==s&&D(this,V)}g.prototype.catch=function(V){return this.then(null,V)},g.prototype.then=function(V,U){if(typeof V!="function"&&this.state===h||typeof U!="function"&&this.state===u)return this;var J=new this.constructor(s);if(this.state!==f){var Y=this.state===h?V:U;M(J,Y,this.outcome)}else this.queue.push(new b(J,V,U));return J};function b(V,U,J){this.promise=V,typeof U=="function"&&(this.onFulfilled=U,this.callFulfilled=this.otherCallFulfilled),typeof J=="function"&&(this.onRejected=J,this.callRejected=this.otherCallRejected)}b.prototype.callFulfilled=function(V){c.resolve(this.promise,V)},b.prototype.otherCallFulfilled=function(V){M(this.promise,this.onFulfilled,V)},b.prototype.callRejected=function(V){c.reject(this.promise,V)},b.prototype.otherCallRejected=function(V){M(this.promise,this.onRejected,V)};function M(V,U,J){n(function(){var Y;try{Y=U(J)}catch(oe){return c.reject(V,oe)}Y===V?c.reject(V,new TypeError("Cannot resolve promise with itself")):c.resolve(V,Y)})}c.resolve=function(V,U){var J=R(_,U);if(J.status==="error")return c.reject(V,J.value);var Y=J.value;if(Y)D(V,Y);else{V.state=h,V.outcome=U;for(var oe=-1,G=V.queue.length;++oe<G;)V.queue[oe].callFulfilled(U)}return V},c.reject=function(V,U){V.state=u,V.outcome=U;for(var J=-1,Y=V.queue.length;++J<Y;)V.queue[J].callRejected(U);return V};function _(V){var U=V&&V.then;if(V&&(typeof V=="object"||typeof V=="function")&&typeof U=="function")return function(){U.apply(V,arguments)}}function D(V,U){var J=!1;function Y(d){J||(J=!0,c.reject(V,d))}function oe(d){J||(J=!0,c.resolve(V,d))}function G(){U(oe,Y)}var E=R(G);E.status==="error"&&Y(E.value)}function R(V,U){var J={};try{J.value=V(U),J.status="success"}catch(Y){J.status="error",J.value=Y}return J}g.resolve=A;function A(V){return V instanceof this?V:c.resolve(new this(s),V)}g.reject=I;function I(V){var U=new this(s);return c.reject(U,V)}g.all=N;function N(V){var U=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=V.length,Y=!1;if(!J)return this.resolve([]);for(var oe=new Array(J),G=0,E=-1,d=new this(s);++E<J;)p(V[E],E);return d;function p(o,l){U.resolve(o).then(S,function(x){Y||(Y=!0,c.reject(d,x))});function S(x){oe[l]=x,++G===J&&!Y&&(Y=!0,c.resolve(d,oe))}}}g.race=$;function $(V){var U=this;if(Object.prototype.toString.call(V)!=="[object Array]")return this.reject(new TypeError("must be an array"));var J=V.length,Y=!1;if(!J)return this.resolve([]);for(var oe=-1,G=new this(s);++oe<J;)E(V[oe]);return G;function E(d){U.resolve(d).then(function(p){Y||(Y=!0,c.resolve(G,p))},function(p){Y||(Y=!0,c.reject(G,p))})}}},{1:1}],3:[function(t,r,a){(function(n){typeof n.Promise!="function"&&(n.Promise=t(2))}).call(this,typeof Da<"u"?Da:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(t,r,a){var n=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Q){return typeof Q}:function(Q){return Q&&typeof Symbol=="function"&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q};function s(Q,he){if(!(Q instanceof he))throw new TypeError("Cannot call a class as a function")}function c(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var u=c();function h(){try{if(!u||!u.open)return!1;var Q=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),he=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!Q||he)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(Q,he){Q=Q||[],he=he||{};try{return new Blob(Q,he)}catch(Be){if(Be.name!=="TypeError")throw Be;for(var de=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ie=new de,ke=0;ke<Q.length;ke+=1)Ie.append(Q[ke]);return Ie.getBlob(he.type)}}typeof Promise>"u"&&t(3);var g=Promise;function b(Q,he){he&&Q.then(function(de){he(null,de)},function(de){he(de)})}function M(Q,he,de){typeof he=="function"&&Q.then(he),typeof de=="function"&&Q.catch(de)}function _(Q){return typeof Q!="string"&&(console.warn(Q+" used as a key, but it is not a string."),Q=String(Q)),Q}function D(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var R="local-forage-detect-blob-support",A=void 0,I={},N=Object.prototype.toString,$="readonly",V="readwrite";function U(Q){for(var he=Q.length,de=new ArrayBuffer(he),Ie=new Uint8Array(de),ke=0;ke<he;ke++)Ie[ke]=Q.charCodeAt(ke);return de}function J(Q){return new g(function(he){var de=Q.transaction(R,V),Ie=f([""]);de.objectStore(R).put(Ie,"key"),de.onabort=function(ke){ke.preventDefault(),ke.stopPropagation(),he(!1)},de.oncomplete=function(){var ke=navigator.userAgent.match(/Chrome\/(\d+)/),Be=navigator.userAgent.match(/Edge\//);he(Be||!ke||parseInt(ke[1],10)>=43)}}).catch(function(){return!1})}function Y(Q){return typeof A=="boolean"?g.resolve(A):J(Q).then(function(he){return A=he,A})}function oe(Q){var he=I[Q.name],de={};de.promise=new g(function(Ie,ke){de.resolve=Ie,de.reject=ke}),he.deferredOperations.push(de),he.dbReady?he.dbReady=he.dbReady.then(function(){return de.promise}):he.dbReady=de.promise}function G(Q){var he=I[Q.name],de=he.deferredOperations.pop();if(de)return de.resolve(),de.promise}function E(Q,he){var de=I[Q.name],Ie=de.deferredOperations.pop();if(Ie)return Ie.reject(he),Ie.promise}function d(Q,he){return new g(function(de,Ie){if(I[Q.name]=I[Q.name]||w(),Q.db)if(he)oe(Q),Q.db.close();else return de(Q.db);var ke=[Q.name];he&&ke.push(Q.version);var Be=u.open.apply(u,ke);he&&(Be.onupgradeneeded=function(Ue){var pe=Be.result;try{pe.createObjectStore(Q.storeName),Ue.oldVersion<=1&&pe.createObjectStore(R)}catch(We){if(We.name==="ConstraintError")console.warn('The database "'+Q.name+'" has been upgraded from version '+Ue.oldVersion+" to version "+Ue.newVersion+', but the storage "'+Q.storeName+'" already exists.');else throw We}}),Be.onerror=function(Ue){Ue.preventDefault(),Ie(Be.error)},Be.onsuccess=function(){var Ue=Be.result;Ue.onversionchange=function(pe){pe.target.close()},de(Ue),G(Q)}})}function p(Q){return d(Q,!1)}function o(Q){return d(Q,!0)}function l(Q,he){if(!Q.db)return!0;var de=!Q.db.objectStoreNames.contains(Q.storeName),Ie=Q.version<Q.db.version,ke=Q.version>Q.db.version;if(Ie&&(Q.version!==he&&console.warn('The database "'+Q.name+`" can't be downgraded from version `+Q.db.version+" to version "+Q.version+"."),Q.version=Q.db.version),ke||de){if(de){var Be=Q.db.version+1;Be>Q.version&&(Q.version=Be)}return!0}return!1}function S(Q){return new g(function(he,de){var Ie=new FileReader;Ie.onerror=de,Ie.onloadend=function(ke){var Be=btoa(ke.target.result||"");he({__local_forage_encoded_blob:!0,data:Be,type:Q.type})},Ie.readAsBinaryString(Q)})}function x(Q){var he=U(atob(Q.data));return f([he],{type:Q.type})}function v(Q){return Q&&Q.__local_forage_encoded_blob}function m(Q){var he=this,de=he._initReady().then(function(){var Ie=I[he._dbInfo.name];if(Ie&&Ie.dbReady)return Ie.dbReady});return M(de,Q,Q),de}function y(Q){oe(Q);for(var he=I[Q.name],de=he.forages,Ie=0;Ie<de.length;Ie++){var ke=de[Ie];ke._dbInfo.db&&(ke._dbInfo.db.close(),ke._dbInfo.db=null)}return Q.db=null,p(Q).then(function(Be){return Q.db=Be,l(Q)?o(Q):Be}).then(function(Be){Q.db=he.db=Be;for(var Ue=0;Ue<de.length;Ue++)de[Ue]._dbInfo.db=Be}).catch(function(Be){throw E(Q,Be),Be})}function k(Q,he,de,Ie){Ie===void 0&&(Ie=1);try{var ke=Q.db.transaction(Q.storeName,he);de(null,ke)}catch(Be){if(Ie>0&&(!Q.db||Be.name==="InvalidStateError"||Be.name==="NotFoundError"))return g.resolve().then(function(){if(!Q.db||Be.name==="NotFoundError"&&!Q.db.objectStoreNames.contains(Q.storeName)&&Q.version<=Q.db.version)return Q.db&&(Q.version=Q.db.version+1),o(Q)}).then(function(){return y(Q).then(function(){k(Q,he,de,Ie-1)})}).catch(de);de(Be)}}function w(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function T(Q){var he=this,de={db:null};if(Q)for(var Ie in Q)de[Ie]=Q[Ie];var ke=I[de.name];ke||(ke=w(),I[de.name]=ke),ke.forages.push(he),he._initReady||(he._initReady=he.ready,he.ready=m);var Be=[];function Ue(){return g.resolve()}for(var pe=0;pe<ke.forages.length;pe++){var We=ke.forages[pe];We!==he&&Be.push(We._initReady().catch(Ue))}var Je=ke.forages.slice(0);return g.all(Be).then(function(){return de.db=ke.db,p(de)}).then(function(He){return de.db=He,l(de,he._defaultConfig.version)?o(de):He}).then(function(He){de.db=ke.db=He,he._dbInfo=de;for(var ht=0;ht<Je.length;ht++){var St=Je[ht];St!==he&&(St._dbInfo.db=de.db,St._dbInfo.version=de.version)}})}function ie(Q,he){var de=this;Q=_(Q);var Ie=new g(function(ke,Be){de.ready().then(function(){k(de._dbInfo,$,function(Ue,pe){if(Ue)return Be(Ue);try{var We=pe.objectStore(de._dbInfo.storeName),Je=We.get(Q);Je.onsuccess=function(){var He=Je.result;He===void 0&&(He=null),v(He)&&(He=x(He)),ke(He)},Je.onerror=function(){Be(Je.error)}}catch(He){Be(He)}})}).catch(Be)});return b(Ie,he),Ie}function ve(Q,he){var de=this,Ie=new g(function(ke,Be){de.ready().then(function(){k(de._dbInfo,$,function(Ue,pe){if(Ue)return Be(Ue);try{var We=pe.objectStore(de._dbInfo.storeName),Je=We.openCursor(),He=1;Je.onsuccess=function(){var ht=Je.result;if(ht){var St=ht.value;v(St)&&(St=x(St));var Dt=Q(St,ht.key,He++);Dt!==void 0?ke(Dt):ht.continue()}else ke()},Je.onerror=function(){Be(Je.error)}}catch(ht){Be(ht)}})}).catch(Be)});return b(Ie,he),Ie}function ce(Q,he,de){var Ie=this;Q=_(Q);var ke=new g(function(Be,Ue){var pe;Ie.ready().then(function(){return pe=Ie._dbInfo,N.call(he)==="[object Blob]"?Y(pe.db).then(function(We){return We?he:S(he)}):he}).then(function(We){k(Ie._dbInfo,V,function(Je,He){if(Je)return Ue(Je);try{var ht=He.objectStore(Ie._dbInfo.storeName);We===null&&(We=void 0);var St=ht.put(We,Q);He.oncomplete=function(){We===void 0&&(We=null),Be(We)},He.onabort=He.onerror=function(){var Dt=St.error?St.error:St.transaction.error;Ue(Dt)}}catch(Dt){Ue(Dt)}})}).catch(Ue)});return b(ke,de),ke}function C(Q,he){var de=this;Q=_(Q);var Ie=new g(function(ke,Be){de.ready().then(function(){k(de._dbInfo,V,function(Ue,pe){if(Ue)return Be(Ue);try{var We=pe.objectStore(de._dbInfo.storeName),Je=We.delete(Q);pe.oncomplete=function(){ke()},pe.onerror=function(){Be(Je.error)},pe.onabort=function(){var He=Je.error?Je.error:Je.transaction.error;Be(He)}}catch(He){Be(He)}})}).catch(Be)});return b(Ie,he),Ie}function B(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){k(he._dbInfo,V,function(Be,Ue){if(Be)return ke(Be);try{var pe=Ue.objectStore(he._dbInfo.storeName),We=pe.clear();Ue.oncomplete=function(){Ie()},Ue.onabort=Ue.onerror=function(){var Je=We.error?We.error:We.transaction.error;ke(Je)}}catch(Je){ke(Je)}})}).catch(ke)});return b(de,Q),de}function ee(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){k(he._dbInfo,$,function(Be,Ue){if(Be)return ke(Be);try{var pe=Ue.objectStore(he._dbInfo.storeName),We=pe.count();We.onsuccess=function(){Ie(We.result)},We.onerror=function(){ke(We.error)}}catch(Je){ke(Je)}})}).catch(ke)});return b(de,Q),de}function z(Q,he){var de=this,Ie=new g(function(ke,Be){if(Q<0){ke(null);return}de.ready().then(function(){k(de._dbInfo,$,function(Ue,pe){if(Ue)return Be(Ue);try{var We=pe.objectStore(de._dbInfo.storeName),Je=!1,He=We.openKeyCursor();He.onsuccess=function(){var ht=He.result;if(!ht){ke(null);return}Q===0||Je?ke(ht.key):(Je=!0,ht.advance(Q))},He.onerror=function(){Be(He.error)}}catch(ht){Be(ht)}})}).catch(Be)});return b(Ie,he),Ie}function P(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){k(he._dbInfo,$,function(Be,Ue){if(Be)return ke(Be);try{var pe=Ue.objectStore(he._dbInfo.storeName),We=pe.openKeyCursor(),Je=[];We.onsuccess=function(){var He=We.result;if(!He){Ie(Je);return}Je.push(He.key),He.continue()},We.onerror=function(){ke(We.error)}}catch(He){ke(He)}})}).catch(ke)});return b(de,Q),de}function O(Q,he){he=D.apply(this,arguments);var de=this.config();Q=typeof Q!="function"&&Q||{},Q.name||(Q.name=Q.name||de.name,Q.storeName=Q.storeName||de.storeName);var Ie=this,ke;if(!Q.name)ke=g.reject("Invalid arguments");else{var Be=Q.name===de.name&&Ie._dbInfo.db,Ue=Be?g.resolve(Ie._dbInfo.db):p(Q).then(function(pe){var We=I[Q.name],Je=We.forages;We.db=pe;for(var He=0;He<Je.length;He++)Je[He]._dbInfo.db=pe;return pe});Q.storeName?ke=Ue.then(function(pe){if(pe.objectStoreNames.contains(Q.storeName)){var We=pe.version+1;oe(Q);var Je=I[Q.name],He=Je.forages;pe.close();for(var ht=0;ht<He.length;ht++){var St=He[ht];St._dbInfo.db=null,St._dbInfo.version=We}var Dt=new g(function(Ot,Lt){var zt=u.open(Q.name,We);zt.onerror=function(Jt){var or=zt.result;or.close(),Lt(Jt)},zt.onupgradeneeded=function(){var Jt=zt.result;Jt.deleteObjectStore(Q.storeName)},zt.onsuccess=function(){var Jt=zt.result;Jt.close(),Ot(Jt)}});return Dt.then(function(Ot){Je.db=Ot;for(var Lt=0;Lt<He.length;Lt++){var zt=He[Lt];zt._dbInfo.db=Ot,G(zt._dbInfo)}}).catch(function(Ot){throw(E(Q,Ot)||g.resolve()).catch(function(){}),Ot})}}):ke=Ue.then(function(pe){oe(Q);var We=I[Q.name],Je=We.forages;pe.close();for(var He=0;He<Je.length;He++){var ht=Je[He];ht._dbInfo.db=null}var St=new g(function(Dt,Ot){var Lt=u.deleteDatabase(Q.name);Lt.onerror=function(){var zt=Lt.result;zt&&zt.close(),Ot(Lt.error)},Lt.onblocked=function(){console.warn('dropInstance blocked for database "'+Q.name+'" until all open connections are closed')},Lt.onsuccess=function(){var zt=Lt.result;zt&&zt.close(),Dt(zt)}});return St.then(function(Dt){We.db=Dt;for(var Ot=0;Ot<Je.length;Ot++){var Lt=Je[Ot];G(Lt._dbInfo)}}).catch(function(Dt){throw(E(Q,Dt)||g.resolve()).catch(function(){}),Dt})})}return b(ke,he),ke}var se={_driver:"asyncStorage",_initStorage:T,_support:h(),iterate:ve,getItem:ie,setItem:ce,removeItem:C,clear:B,length:ee,key:z,keys:P,dropInstance:O};function le(){return typeof openDatabase=="function"}var ge="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Ee="~~local_forage_type~",me=/^~~local_forage_type~([^~]+)~/,ye="__lfsc__:",Te=ye.length,we="arbf",Me="blob",Ne="si08",Re="ui08",Oe="uic8",Ye="si16",Xe="si32",qe="ur16",ct="ui32",rt="fl32",X="fl64",q=Te+we.length,j=Object.prototype.toString;function ae(Q){var he=Q.length*.75,de=Q.length,Ie,ke=0,Be,Ue,pe,We;Q[Q.length-1]==="="&&(he--,Q[Q.length-2]==="="&&he--);var Je=new ArrayBuffer(he),He=new Uint8Array(Je);for(Ie=0;Ie<de;Ie+=4)Be=ge.indexOf(Q[Ie]),Ue=ge.indexOf(Q[Ie+1]),pe=ge.indexOf(Q[Ie+2]),We=ge.indexOf(Q[Ie+3]),He[ke++]=Be<<2|Ue>>4,He[ke++]=(Ue&15)<<4|pe>>2,He[ke++]=(pe&3)<<6|We&63;return Je}function xe(Q){var he=new Uint8Array(Q),de="",Ie;for(Ie=0;Ie<he.length;Ie+=3)de+=ge[he[Ie]>>2],de+=ge[(he[Ie]&3)<<4|he[Ie+1]>>4],de+=ge[(he[Ie+1]&15)<<2|he[Ie+2]>>6],de+=ge[he[Ie+2]&63];return he.length%3===2?de=de.substring(0,de.length-1)+"=":he.length%3===1&&(de=de.substring(0,de.length-2)+"=="),de}function Se(Q,he){var de="";if(Q&&(de=j.call(Q)),Q&&(de==="[object ArrayBuffer]"||Q.buffer&&j.call(Q.buffer)==="[object ArrayBuffer]")){var Ie,ke=ye;Q instanceof ArrayBuffer?(Ie=Q,ke+=we):(Ie=Q.buffer,de==="[object Int8Array]"?ke+=Ne:de==="[object Uint8Array]"?ke+=Re:de==="[object Uint8ClampedArray]"?ke+=Oe:de==="[object Int16Array]"?ke+=Ye:de==="[object Uint16Array]"?ke+=qe:de==="[object Int32Array]"?ke+=Xe:de==="[object Uint32Array]"?ke+=ct:de==="[object Float32Array]"?ke+=rt:de==="[object Float64Array]"?ke+=X:he(new Error("Failed to get type for BinaryArray"))),he(ke+xe(Ie))}else if(de==="[object Blob]"){var Be=new FileReader;Be.onload=function(){var Ue=Ee+Q.type+"~"+xe(this.result);he(ye+Me+Ue)},Be.readAsArrayBuffer(Q)}else try{he(JSON.stringify(Q))}catch(Ue){console.error("Couldn't convert value into a JSON string: ",Q),he(null,Ue)}}function _e(Q){if(Q.substring(0,Te)!==ye)return JSON.parse(Q);var he=Q.substring(q),de=Q.substring(Te,q),Ie;if(de===Me&&me.test(he)){var ke=he.match(me);Ie=ke[1],he=he.substring(ke[0].length)}var Be=ae(he);switch(de){case we:return Be;case Me:return f([Be],{type:Ie});case Ne:return new Int8Array(Be);case Re:return new Uint8Array(Be);case Oe:return new Uint8ClampedArray(Be);case Ye:return new Int16Array(Be);case qe:return new Uint16Array(Be);case Xe:return new Int32Array(Be);case ct:return new Uint32Array(Be);case rt:return new Float32Array(Be);case X:return new Float64Array(Be);default:throw new Error("Unkown type: "+de)}}var Ze={serialize:Se,deserialize:_e,stringToBuffer:ae,bufferToString:xe};function Qe(Q,he,de,Ie){Q.executeSql("CREATE TABLE IF NOT EXISTS "+he.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],de,Ie)}function je(Q){var he=this,de={db:null};if(Q)for(var Ie in Q)de[Ie]=typeof Q[Ie]!="string"?Q[Ie].toString():Q[Ie];var ke=new g(function(Be,Ue){try{de.db=openDatabase(de.name,String(de.version),de.description,de.size)}catch(pe){return Ue(pe)}de.db.transaction(function(pe){Qe(pe,de,function(){he._dbInfo=de,Be()},function(We,Je){Ue(Je)})},Ue)});return de.serializer=Ze,ke}function vt(Q,he,de,Ie,ke,Be){Q.executeSql(de,Ie,ke,function(Ue,pe){pe.code===pe.SYNTAX_ERR?Ue.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[he.storeName],function(We,Je){Je.rows.length?Be(We,pe):Qe(We,he,function(){We.executeSql(de,Ie,ke,Be)},Be)},Be):Be(Ue,pe)},Be)}function et(Q,he){var de=this;Q=_(Q);var Ie=new g(function(ke,Be){de.ready().then(function(){var Ue=de._dbInfo;Ue.db.transaction(function(pe){vt(pe,Ue,"SELECT * FROM "+Ue.storeName+" WHERE key = ? LIMIT 1",[Q],function(We,Je){var He=Je.rows.length?Je.rows.item(0).value:null;He&&(He=Ue.serializer.deserialize(He)),ke(He)},function(We,Je){Be(Je)})})}).catch(Be)});return b(Ie,he),Ie}function at(Q,he){var de=this,Ie=new g(function(ke,Be){de.ready().then(function(){var Ue=de._dbInfo;Ue.db.transaction(function(pe){vt(pe,Ue,"SELECT * FROM "+Ue.storeName,[],function(We,Je){for(var He=Je.rows,ht=He.length,St=0;St<ht;St++){var Dt=He.item(St),Ot=Dt.value;if(Ot&&(Ot=Ue.serializer.deserialize(Ot)),Ot=Q(Ot,Dt.key,St+1),Ot!==void 0){ke(Ot);return}}ke()},function(We,Je){Be(Je)})})}).catch(Be)});return b(Ie,he),Ie}function Rt(Q,he,de,Ie){var ke=this;Q=_(Q);var Be=new g(function(Ue,pe){ke.ready().then(function(){he===void 0&&(he=null);var We=he,Je=ke._dbInfo;Je.serializer.serialize(he,function(He,ht){ht?pe(ht):Je.db.transaction(function(St){vt(St,Je,"INSERT OR REPLACE INTO "+Je.storeName+" (key, value) VALUES (?, ?)",[Q,He],function(){Ue(We)},function(Dt,Ot){pe(Ot)})},function(St){if(St.code===St.QUOTA_ERR){if(Ie>0){Ue(Rt.apply(ke,[Q,We,de,Ie-1]));return}pe(St)}})})}).catch(pe)});return b(Be,de),Be}function yt(Q,he,de){return Rt.apply(this,[Q,he,de,1])}function ft(Q,he){var de=this;Q=_(Q);var Ie=new g(function(ke,Be){de.ready().then(function(){var Ue=de._dbInfo;Ue.db.transaction(function(pe){vt(pe,Ue,"DELETE FROM "+Ue.storeName+" WHERE key = ?",[Q],function(){ke()},function(We,Je){Be(Je)})})}).catch(Be)});return b(Ie,he),Ie}function Vt(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){var Be=he._dbInfo;Be.db.transaction(function(Ue){vt(Ue,Be,"DELETE FROM "+Be.storeName,[],function(){Ie()},function(pe,We){ke(We)})})}).catch(ke)});return b(de,Q),de}function xt(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){var Be=he._dbInfo;Be.db.transaction(function(Ue){vt(Ue,Be,"SELECT COUNT(key) as c FROM "+Be.storeName,[],function(pe,We){var Je=We.rows.item(0).c;Ie(Je)},function(pe,We){ke(We)})})}).catch(ke)});return b(de,Q),de}function te(Q,he){var de=this,Ie=new g(function(ke,Be){de.ready().then(function(){var Ue=de._dbInfo;Ue.db.transaction(function(pe){vt(pe,Ue,"SELECT key FROM "+Ue.storeName+" WHERE id = ? LIMIT 1",[Q+1],function(We,Je){var He=Je.rows.length?Je.rows.item(0).key:null;ke(He)},function(We,Je){Be(Je)})})}).catch(Be)});return b(Ie,he),Ie}function W(Q){var he=this,de=new g(function(Ie,ke){he.ready().then(function(){var Be=he._dbInfo;Be.db.transaction(function(Ue){vt(Ue,Be,"SELECT key FROM "+Be.storeName,[],function(pe,We){for(var Je=[],He=0;He<We.rows.length;He++)Je.push(We.rows.item(He).key);Ie(Je)},function(pe,We){ke(We)})})}).catch(ke)});return b(de,Q),de}function H(Q){return new g(function(he,de){Q.transaction(function(Ie){Ie.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(ke,Be){for(var Ue=[],pe=0;pe<Be.rows.length;pe++)Ue.push(Be.rows.item(pe).name);he({db:Q,storeNames:Ue})},function(ke,Be){de(Be)})},function(Ie){de(Ie)})})}function fe(Q,he){he=D.apply(this,arguments);var de=this.config();Q=typeof Q!="function"&&Q||{},Q.name||(Q.name=Q.name||de.name,Q.storeName=Q.storeName||de.storeName);var Ie=this,ke;return Q.name?ke=new g(function(Be){var Ue;Q.name===de.name?Ue=Ie._dbInfo.db:Ue=openDatabase(Q.name,"","",0),Q.storeName?Be({db:Ue,storeNames:[Q.storeName]}):Be(H(Ue))}).then(function(Be){return new g(function(Ue,pe){Be.db.transaction(function(We){function Je(Dt){return new g(function(Ot,Lt){We.executeSql("DROP TABLE IF EXISTS "+Dt,[],function(){Ot()},function(zt,Jt){Lt(Jt)})})}for(var He=[],ht=0,St=Be.storeNames.length;ht<St;ht++)He.push(Je(Be.storeNames[ht]));g.all(He).then(function(){Ue()}).catch(function(Dt){pe(Dt)})},function(We){pe(We)})})}):ke=g.reject("Invalid arguments"),b(ke,he),ke}var De={_driver:"webSQLStorage",_initStorage:je,_support:le(),iterate:at,getItem:et,setItem:yt,removeItem:ft,clear:Vt,length:xt,key:te,keys:W,dropInstance:fe};function L(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function K(Q,he){var de=Q.name+"/";return Q.storeName!==he.storeName&&(de+=Q.storeName+"/"),de}function re(){var Q="_localforage_support_test";try{return localStorage.setItem(Q,!0),localStorage.removeItem(Q),!1}catch{return!0}}function F(){return!re()||localStorage.length>0}function ne(Q){var he=this,de={};if(Q)for(var Ie in Q)de[Ie]=Q[Ie];return de.keyPrefix=K(Q,he._defaultConfig),F()?(he._dbInfo=de,de.serializer=Ze,g.resolve()):g.reject()}function Ae(Q){var he=this,de=he.ready().then(function(){for(var Ie=he._dbInfo.keyPrefix,ke=localStorage.length-1;ke>=0;ke--){var Be=localStorage.key(ke);Be.indexOf(Ie)===0&&localStorage.removeItem(Be)}});return b(de,Q),de}function be(Q,he){var de=this;Q=_(Q);var Ie=de.ready().then(function(){var ke=de._dbInfo,Be=localStorage.getItem(ke.keyPrefix+Q);return Be&&(Be=ke.serializer.deserialize(Be)),Be});return b(Ie,he),Ie}function Pe(Q,he){var de=this,Ie=de.ready().then(function(){for(var ke=de._dbInfo,Be=ke.keyPrefix,Ue=Be.length,pe=localStorage.length,We=1,Je=0;Je<pe;Je++){var He=localStorage.key(Je);if(He.indexOf(Be)===0){var ht=localStorage.getItem(He);if(ht&&(ht=ke.serializer.deserialize(ht)),ht=Q(ht,He.substring(Ue),We++),ht!==void 0)return ht}}});return b(Ie,he),Ie}function Ke(Q,he){var de=this,Ie=de.ready().then(function(){var ke=de._dbInfo,Be;try{Be=localStorage.key(Q)}catch{Be=null}return Be&&(Be=Be.substring(ke.keyPrefix.length)),Be});return b(Ie,he),Ie}function nt(Q){var he=this,de=he.ready().then(function(){for(var Ie=he._dbInfo,ke=localStorage.length,Be=[],Ue=0;Ue<ke;Ue++){var pe=localStorage.key(Ue);pe.indexOf(Ie.keyPrefix)===0&&Be.push(pe.substring(Ie.keyPrefix.length))}return Be});return b(de,Q),de}function Ge(Q){var he=this,de=he.keys().then(function(Ie){return Ie.length});return b(de,Q),de}function Nt(Q,he){var de=this;Q=_(Q);var Ie=de.ready().then(function(){var ke=de._dbInfo;localStorage.removeItem(ke.keyPrefix+Q)});return b(Ie,he),Ie}function gt(Q,he,de){var Ie=this;Q=_(Q);var ke=Ie.ready().then(function(){he===void 0&&(he=null);var Be=he;return new g(function(Ue,pe){var We=Ie._dbInfo;We.serializer.serialize(he,function(Je,He){if(He)pe(He);else try{localStorage.setItem(We.keyPrefix+Q,Je),Ue(Be)}catch(ht){(ht.name==="QuotaExceededError"||ht.name==="NS_ERROR_DOM_QUOTA_REACHED")&&pe(ht),pe(ht)}})})});return b(ke,de),ke}function Mt(Q,he){if(he=D.apply(this,arguments),Q=typeof Q!="function"&&Q||{},!Q.name){var de=this.config();Q.name=Q.name||de.name,Q.storeName=Q.storeName||de.storeName}var Ie=this,ke;return Q.name?ke=new g(function(Be){Q.storeName?Be(K(Q,Ie._defaultConfig)):Be(Q.name+"/")}).then(function(Be){for(var Ue=localStorage.length-1;Ue>=0;Ue--){var pe=localStorage.key(Ue);pe.indexOf(Be)===0&&localStorage.removeItem(pe)}}):ke=g.reject("Invalid arguments"),b(ke,he),ke}var kt={_driver:"localStorageWrapper",_initStorage:ne,_support:L(),iterate:Pe,getItem:be,setItem:gt,removeItem:Nt,clear:Ae,length:Ge,key:Ke,keys:nt,dropInstance:Mt},Ft=function(Q,he){return Q===he||typeof Q=="number"&&typeof he=="number"&&isNaN(Q)&&isNaN(he)},Tt=function(Q,he){for(var de=Q.length,Ie=0;Ie<de;){if(Ft(Q[Ie],he))return!0;Ie++}return!1},_t=Array.isArray||function(Q){return Object.prototype.toString.call(Q)==="[object Array]"},Et={},At={},dt={INDEXEDDB:se,WEBSQL:De,LOCALSTORAGE:kt},bt=[dt.INDEXEDDB._driver,dt.WEBSQL._driver,dt.LOCALSTORAGE._driver],ut=["dropInstance"],mt=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(ut),wt={description:"",driver:bt.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function lt(Q,he){Q[he]=function(){var de=arguments;return Q.ready().then(function(){return Q[he].apply(Q,de)})}}function Le(){for(var Q=1;Q<arguments.length;Q++){var he=arguments[Q];if(he)for(var de in he)he.hasOwnProperty(de)&&(_t(he[de])?arguments[0][de]=he[de].slice():arguments[0][de]=he[de])}return arguments[0]}var $e=(function(){function Q(he){s(this,Q);for(var de in dt)if(dt.hasOwnProperty(de)){var Ie=dt[de],ke=Ie._driver;this[de]=ke,Et[ke]||this.defineDriver(Ie)}this._defaultConfig=Le({},wt),this._config=Le({},this._defaultConfig,he),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return Q.prototype.config=function(he){if((typeof he>"u"?"undefined":n(he))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var de in he){if(de==="storeName"&&(he[de]=he[de].replace(/\W/g,"_")),de==="version"&&typeof he[de]!="number")return new Error("Database version must be a number.");this._config[de]=he[de]}return"driver"in he&&he.driver?this.setDriver(this._config.driver):!0}else return typeof he=="string"?this._config[he]:this._config},Q.prototype.defineDriver=function(he,de,Ie){var ke=new g(function(Be,Ue){try{var pe=he._driver,We=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!he._driver){Ue(We);return}for(var Je=mt.concat("_initStorage"),He=0,ht=Je.length;He<ht;He++){var St=Je[He],Dt=!Tt(ut,St);if((Dt||he[St])&&typeof he[St]!="function"){Ue(We);return}}var Ot=function(){for(var zt=function(mr){return function(){var vr=new Error("Method "+mr+" is not implemented by the current driver"),gr=g.reject(vr);return b(gr,arguments[arguments.length-1]),gr}},Jt=0,or=ut.length;Jt<or;Jt++){var cr=ut[Jt];he[cr]||(he[cr]=zt(cr))}};Ot();var Lt=function(zt){Et[pe]&&console.info("Redefining LocalForage driver: "+pe),Et[pe]=he,At[pe]=zt,Be()};"_support"in he?he._support&&typeof he._support=="function"?he._support().then(Lt,Ue):Lt(!!he._support):Lt(!0)}catch(zt){Ue(zt)}});return M(ke,de,Ie),ke},Q.prototype.driver=function(){return this._driver||null},Q.prototype.getDriver=function(he,de,Ie){var ke=Et[he]?g.resolve(Et[he]):g.reject(new Error("Driver not found."));return M(ke,de,Ie),ke},Q.prototype.getSerializer=function(he){var de=g.resolve(Ze);return M(de,he),de},Q.prototype.ready=function(he){var de=this,Ie=de._driverSet.then(function(){return de._ready===null&&(de._ready=de._initDriver()),de._ready});return M(Ie,he,he),Ie},Q.prototype.setDriver=function(he,de,Ie){var ke=this;_t(he)||(he=[he]);var Be=this._getSupportedDrivers(he);function Ue(){ke._config.driver=ke.driver()}function pe(He){return ke._extend(He),Ue(),ke._ready=ke._initStorage(ke._config),ke._ready}function We(He){return function(){var ht=0;function St(){for(;ht<He.length;){var Dt=He[ht];return ht++,ke._dbInfo=null,ke._ready=null,ke.getDriver(Dt).then(pe).catch(St)}Ue();var Ot=new Error("No available storage method found.");return ke._driverSet=g.reject(Ot),ke._driverSet}return St()}}var Je=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=Je.then(function(){var He=Be[0];return ke._dbInfo=null,ke._ready=null,ke.getDriver(He).then(function(ht){ke._driver=ht._driver,Ue(),ke._wrapLibraryMethodsWithReady(),ke._initDriver=We(Be)})}).catch(function(){Ue();var He=new Error("No available storage method found.");return ke._driverSet=g.reject(He),ke._driverSet}),M(this._driverSet,de,Ie),this._driverSet},Q.prototype.supports=function(he){return!!At[he]},Q.prototype._extend=function(he){Le(this,he)},Q.prototype._getSupportedDrivers=function(he){for(var de=[],Ie=0,ke=he.length;Ie<ke;Ie++){var Be=he[Ie];this.supports(Be)&&de.push(Be)}return de},Q.prototype._wrapLibraryMethodsWithReady=function(){for(var he=0,de=mt.length;he<de;he++)lt(this,mt[he])},Q.prototype.createInstance=function(he){return new Q(he)},Q})(),it=new $e;r.exports=it},{3:3}]},{},[4])(4)})}),W2=b0((i,e)=>{(function(t,r){typeof i=="object"&&typeof e<"u"?r(i):typeof define=="function"&&define.amd?define("localforage-driver-memory",["exports"],r):r(t.LocalforageDriverMemory={})})(typeof self<"u"?self:i,function(t){var r="localforage-driver-memory";function a(v){var m=typeof Symbol=="function"&&v[Symbol.iterator],y=0;return m?m.call(v):{next:function(){return v&&y>=v.length&&(v=void 0),{value:v&&v[y++],done:!v}}}}function n(v,m){v=v||[],m=m||{};try{return new Blob(v,m)}catch(T){if(T.name!=="TypeError")throw T;for(var y=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,k=new y,w=0;w<v.length;w+=1)k.append(v[w]);return k.getBlob(m.type)}}var s=/^~~local_forage_type~([^~]+)~/,c=9,u=c+4,h=Object.prototype.toString;function f(v){var m=v.length*.75,y=v.length;v[v.length-1]==="="&&(m--,v[v.length-2]==="="&&m--);for(var k=new ArrayBuffer(m),w=new Uint8Array(k),T=0,ie=0;T<y;T+=4){var ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[T]),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[T+1]),C="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[T+2]),B="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(v[T+3]);w[ie++]=ve<<2|ce>>4,w[ie++]=(ce&15)<<4|C>>2,w[ie++]=(C&3)<<6|B&63}return k}function g(v){for(var m=new Uint8Array(v),y="",k=0;k<m.length;k+=3)y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m[k]>>2],y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(m[k]&3)<<4|m[k+1]>>4],y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(m[k+1]&15)<<2|m[k+2]>>6],y+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[m[k+2]&63];return m.length%3===2?y=y.substring(0,y.length-1)+"=":m.length%3===1&&(y=y.substring(0,y.length-2)+"=="),y}function b(v,m){var y="";if(v&&(y=h.call(v)),v&&(y==="[object ArrayBuffer]"||v.buffer&&h.call(v.buffer)==="[object ArrayBuffer]")){var k=void 0,w="__lfsc__:";v instanceof ArrayBuffer?(k=v,w+="arbf"):(k=v.buffer,y==="[object Int8Array]"?w+="si08":y==="[object Uint8Array]"?w+="ui08":y==="[object Uint8ClampedArray]"?w+="uic8":y==="[object Int16Array]"?w+="si16":y==="[object Uint16Array]"?w+="ur16":y==="[object Int32Array]"?w+="si32":y==="[object Uint32Array]"?w+="ui32":y==="[object Float32Array]"?w+="fl32":y==="[object Float64Array]"?w+="fl64":m(new Error("Failed to get type for BinaryArray"))),m(w+g(k))}else if(y==="[object Blob]"){var T=new FileReader;T.onload=function(){var ie="~~local_forage_type~"+v.type+"~"+g(this.result);m("__lfsc__:blob"+ie)},T.readAsArrayBuffer(v)}else try{m(JSON.stringify(v))}catch(ie){console.error("Couldn't convert value into a JSON string: ",v),m(null,ie)}}function M(v){if(v.substring(0,c)!=="__lfsc__:")return JSON.parse(v);var m=v.substring(u),y=v.substring(c,u),k;if(y==="blob"&&s.test(m)){var w=m.match(s);k=w[1],m=m.substring(w[0].length)}var T=f(m);switch(y){case"arbf":return T;case"blob":return n([T],{type:k});case"si08":return new Int8Array(T);case"ui08":return new Uint8Array(T);case"uic8":return new Uint8ClampedArray(T);case"si16":return new Int16Array(T);case"ur16":return new Uint16Array(T);case"si32":return new Int32Array(T);case"ui32":return new Uint32Array(T);case"fl32":return new Float32Array(T);case"fl64":return new Float64Array(T);default:throw new Error("Unkown type: "+y)}}function _(v){var m,y;if(v===null||typeof v!="object"||"isActiveClone"in v)return v;var k=v instanceof Date?new Date(v):v.constructor();try{for(var w=a(Object.keys(v)),T=w.next();!T.done;T=w.next()){var ie=T.value;Object.prototype.hasOwnProperty.call(v,ie)&&(v.isActiveClone=null,k[ie]=_(v[ie]),delete v.isActiveClone)}}catch(ve){m={error:ve}}finally{try{T&&!T.done&&(y=w.return)&&y.call(w)}finally{if(m)throw m.error}}return k}function D(v,m){return(v.name||m.name)+"/"+(v.storeName||m.storeName)+"/"}function R(v,m){m&&v.then(function(y){m(null,y)},function(y){m(y)})}function A(){for(var v=[],m=0;m<arguments.length;m++)v[m]=arguments[m];if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}function I(v,m){var y=this;if(m=A.apply(this,arguments),v=typeof v!="function"&&v||{},!v.name){var k=this.config();v.name=v.name||k.name,v.storeName=v.storeName||k.storeName}var w;return v.name?w=new Promise(function(T){v.storeName?T(D(v,y._defaultConfig)):T(v.name+"/")}):w=Promise.reject("Invalid arguments"),{promise:w,callback:m}}function N(v){return typeof v!="string"&&(console.warn(v+" used as a key, but it is not a string."),v=String(v)),v}var $={bufferToString:g,deserialize:M,serialize:b,stringToBuffer:f},V={},U=(function(){function v(m){this.kp=m,this.data={}}return v.resolve=function(m){return V[m]||(V[m]=new v(m)),V[m]},v.prototype.clear=function(){this.data={}},v.prototype.drop=function(){this.clear(),delete V[this.kp]},v.prototype.get=function(m){return this.data[m]},v.prototype.key=function(m){return this.keys()[m]},v.prototype.keys=function(){return Object.keys(this.data)},v.prototype.rm=function(m){delete this.data[m]},v.prototype.set=function(m,y){this.data[m]=y},v})();function J(v){var m=v?_(v):{},y=D(m,this._defaultConfig),k=U.resolve(y);return this._dbInfo=m,this._dbInfo.serializer=$,this._dbInfo.keyPrefix=y,this._dbInfo.mStore=k,Promise.resolve()}function Y(v){var m=this,y=this.ready().then(function(){m._dbInfo.mStore.clear()});return R(y,v),y}function oe(v,m){var y=I.apply(this,arguments),k=y.promise,w=y.callback,T=k.then(function(ie){U.resolve(ie).drop()});return R(T,w),k}function G(v,m){var y=this;v=N(v);var k=this.ready().then(function(){var w=y._dbInfo.mStore.get(v);return w==null?null:y._dbInfo.serializer.deserialize(w)});return R(k,m),k}function E(v,m){var y=this,k=this.ready().then(function(){for(var w=y._dbInfo.mStore,T=w.keys(),ie=0;ie<T.length;ie++){var ve=w.get(T[ie]);if(ve&&(ve=y._dbInfo.serializer.deserialize(ve)),ve=v(ve,T[ie],ie+1),ve!==void 0)return ve}});return R(k,m),k}function d(v,m){var y=this,k=this.ready().then(function(){var w;try{w=y._dbInfo.mStore.key(v),w===void 0&&(w=null)}catch{w=null}return w});return R(k,m),k}function p(v){var m=this,y=this.ready().then(function(){return m._dbInfo.mStore.keys()});return R(y,v),y}function o(v){var m=this.keys().then(function(y){return y.length});return R(m,v),m}function l(v,m){var y=this;v=N(v);var k=this.ready().then(function(){y._dbInfo.mStore.rm(v)});return R(k,m),k}function S(v,m,y){var k=this;v=N(v);var w=this.ready().then(function(){m===void 0&&(m=null);var T=m;return new Promise(function(ie,ve){k._dbInfo.serializer.serialize(m,function(ce,C){if(C)ve(C);else try{k._dbInfo.mStore.set(v,ce),ie(T)}catch(B){ve(B)}})})});return R(w,y),w}var x=!0;t._support=x,t._driver=r,t._initStorage=J,t.clear=Y,t.dropInstance=oe,t.getItem=G,t.iterate=E,t.key=d,t.keys=p,t.length=o,t.removeItem=l,t.setItem=S,Object.defineProperty(t,"__esModule",{value:!0})})}),nf=x0(j2()),S0=x0(W2()),D6={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",opacity:"0",zIndex:"-1"},H2=class extends S6{constructor(){super(...arguments);Ce(this,"activeElement",null);Ce(this,"iframe");Ce(this,"relayerSrc",Pf(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href)}init(){this.test="hello",this.iframe=new Promise(e=>{let t=()=>{if(H9(encodeURIComponent(this.parameters)))y9().log();else{let r=document.createElement("iframe");r.classList.add("magic-iframe"),r.dataset.magicIframeLabel=Pf(this.endpoint).host,r.title="Secure Modal",r.src=this.relayerSrc,r.allow="clipboard-read; clipboard-write",W9(r),document.body.appendChild(r),e(r)}};["loaded","interactive","complete"].includes(document.readyState)?t():window.addEventListener("load",t,!1)}),this.iframe.then(e=>{e instanceof HTMLIFrameElement&&e.addEventListener("load",async()=>{this.heartbeatDebounce()})}),window.addEventListener("message",e=>{if(e.origin===this.endpoint&&e.data.msgType&&(e.data.msgType.includes(xn.MAGIC_PONG)&&(this.lastPongTime=Date.now()),e.data&&this.messageHandlers.size)){e.data.response=e.data.response??{},this.stopHeartBeat();for(let t of this.messageHandlers.values())t(e)}}),window.addEventListener("beforeunload",()=>{this.stopHeartBeat()})}async showOverlay(){let e=await this.iframe;e.style.display="block",e.style.zIndex="2147483647",e.style.opacity="1",this.activeElement=document.activeElement,e.focus()}async hideOverlay(){var t;let e=await this.iframe;e.style.display="none",e.style.zIndex="-1",e.style.opacity="0",(t=this.activeElement)!=null&&t.focus&&this.activeElement.focus(),this.activeElement=null}async _post(e){let t=await this.iframe;if(t&&t.contentWindow)t.contentWindow.postMessage(e,this.endpoint);else throw o6()}async checkRelayerExistsInDOM(){let e=await this.iframe;return!e||!e.contentWindow?!1:!![].slice.call(document.querySelectorAll(".magic-iframe")).find(t=>t.src.includes(encodeURIComponent(this.parameters)))}async reloadRelayer(){let e=await this.iframe;if(this.stopHeartBeat(),!e){this.init(),console.warn("Magic SDK: Modal lost, re-initiating");return}if(!e.contentWindow){document.body.appendChild(e),console.warn("Magic SDK: Modal did not append in the iframe, re-initiating");return}e&&(e.src=this.relayerSrc)}},R6=l9(x6,{platform:"web",sdkName:"magic-sdk",version:"29.4.2",defaultEndpoint:"https://auth.magic.link/",ViewController:H2,configureStorage:async()=>{let i=nf.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});return await i.defineDriver(S0),await i.setDriver([nf.default.INDEXEDDB,nf.default.LOCALSTORAGE,S0._driver]),i}})}}),T6={};i6(T6,{AlgorandExtension:()=>B6});var B6,K9=Ac({"../../node_modules/.pnpm/@magic-ext+algorand@24.4.2/node_modules/@magic-ext/algorand/dist/es/index.mjs"(){k6(),B6=class extends jg.Internal{constructor(e){super();Ce(this,"name","algod");Ce(this,"config",{});this.algorandConfig=e,this.config={rpcUrl:e.rpcUrl,chainType:"ALGOD"}}async signTransaction(e){return this.request(this.utils.createJsonRpcRequestPayload("algod_signTransaction",e))}async signBid(e){return this.request(this.utils.createJsonRpcRequestPayload("algod_signBid",e))}async getWallet(){return this.request(this.utils.createJsonRpcRequestPayload("algod_getWallet",[]))}async signGroupTransaction(e){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransaction",e))}async signGroupTransactionV2(e){return this.request(this.utils.createJsonRpcRequestPayload("algod_signGroupTransactionV2",e))}}}}),an,F6=(an=class{constructor(){Ce(this,"level");Ce(this,"isClient");this.level=2,this.isClient=typeof window<"u"}static getInstance(){return an.instance||(an.instance=new an),an.instance}static setLevel(e){an.getInstance().level=e}log(e,t,r,...a){if(e>=this.level&&this.isClient){const n=t?`[${t}] ${r}`:r;switch(e){case 0:case 1:console.info(n,...a);break;case 2:console.warn(n,...a);break;case 3:console.error(n,...a);break}}}createScopedLogger(e){return{debug:(t,...r)=>this.log(0,e,t,...r),info:(t,...r)=>this.log(1,e,t,...r),warn:(t,...r)=>this.log(2,e,t,...r),error:(t,...r)=>this.log(3,e,t,...r)}}debug(e,...t){this.log(0,void 0,e,...t)}info(e,...t){this.log(1,void 0,e,...t)}warn(e,...t){this.log(2,void 0,e,...t)}error(e,...t){this.log(3,void 0,e,...t)}setIsClient(e){this.isClient=e}},Ce(an,"instance",null),an),mc=F6.getInstance(),sr={mainnet:{algod:{token:"",baseServer:"https://mainnet-api.4160.nodely.dev",headers:{}},isTestnet:!1,genesisHash:"wGHE2Pwdvd7S12BL5FaOP20EGYesN73ktiC1qzkkit8=",genesisId:"mainnet-v1.0",caipChainId:"algorand:wGHE2Pwdvd7S12BL5FaOP20EGYesN73k"},testnet:{algod:{token:"",baseServer:"https://testnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"SGO1GKSzyE7IEPItTxCByw9x8FmnrCDexi9/cOUJOiI=",genesisId:"testnet-v1.0",caipChainId:"algorand:SGO1GKSzyE7IEPItTxCByw9x8FmnrCDe"},betanet:{algod:{token:"",baseServer:"https://betanet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"mFgazF-2uRS1tMiL9dsj01hJGySEmPN2OvOTQHJ6iQg=",genesisId:"betanet-v1.0",caipChainId:"algorand:mFgazF-2uRS1tMiL9dsj01hJGySEmPN2"},fnet:{algod:{token:"",baseServer:"https://fnet-api.4160.nodely.dev",headers:{}},isTestnet:!0,genesisHash:"kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSoRrQQKWSVgxk=",genesisId:"fnet-v1",caipChainId:"algorand:kUt08LxeVAAGHnh4JoAoAMM9ql_hBwSo"},localnet:{algod:{token:"a".repeat(64),baseServer:"http://localhost",port:4001,headers:{}},isTestnet:!0}},J9=class{constructor(){Ce(this,"networks");this.networks=new Map(Object.entries(sr))}mainnet(i){return this.networks.set("mainnet",{...sr.mainnet,...i,genesisHash:sr.mainnet.genesisHash,genesisId:sr.mainnet.genesisId,caipChainId:sr.mainnet.caipChainId,algod:{...sr.mainnet.algod,...i.algod||{}}}),this}testnet(i){return this.networks.set("testnet",{...sr.testnet,...i,genesisHash:sr.testnet.genesisHash,genesisId:sr.testnet.genesisId,caipChainId:sr.testnet.caipChainId,algod:{...sr.testnet.algod,...i.algod||{}}}),this}betanet(i){return this.networks.set("betanet",{...sr.betanet,...i,genesisHash:sr.betanet.genesisHash,genesisId:sr.betanet.genesisId,caipChainId:sr.betanet.caipChainId,algod:{...sr.betanet.algod,...i.algod||{}}}),this}fnet(i){return this.networks.set("fnet",{...sr.fnet,...i,genesisHash:sr.fnet.genesisHash,genesisId:sr.fnet.genesisId,caipChainId:sr.fnet.caipChainId,algod:{...sr.fnet.algod,...i.algod||{}}}),this}localnet(i){return this.networks.set("localnet",{...sr.localnet,...i,algod:{...sr.localnet.algod,...i.algod||{}}}),this}addNetwork(i,e){if(sr[i])throw new Error(`Cannot add network with reserved id "${i}". Use the ${i}() method instead.`);return this.networks.set(i,e),this}build(){return Object.fromEntries(this.networks)}},Y9=()=>new J9().build();function X9(i){return typeof i=="string"?!0:typeof i!="object"||i===null?!1:"X-Algo-API-Token"in i&&typeof i["X-Algo-API-Token"]=="string"||"get"in i&&"post"in i&&"delete"in i?!0:Object.values(i).every(e=>typeof e=="string")}function G2(i){if(typeof i!="object"||i===null)return!1;const{algod:e,isTestnet:t,genesisHash:r,genesisId:a,caipChainId:n}=i;return typeof e=="object"&&e!==null&&X9(e.token)&&typeof e.baseServer=="string"&&(t===void 0||typeof t=="boolean")&&(r===void 0||typeof r=="string")&&(a===void 0||typeof a=="string")&&(n===void 0||typeof n=="string")}var Oa=(i=>(i.MAINNET="mainnet",i.TESTNET="testnet",i.BETANET="betanet",i.FNET="fnet",i.LOCALNET="localnet",i))(Oa||{}),Wr=class{static getItem(i){return typeof window>"u"?null:localStorage.getItem(i)}static setItem(i,e){typeof window>"u"||localStorage.setItem(i,e)}static removeItem(i){typeof window>"u"||localStorage.removeItem(i)}},Rs=(i=>(i.BIATEC="biatec",i.DEFLY="defly",i.DEFLY_WEB="defly-web",i.CUSTOM="custom",i.EXODUS="exodus",i.KIBISIS="kibisis",i.KMD="kmd",i.LUTE="lute",i.MAGIC="magic",i.MNEMONIC="mnemonic",i.PERA="pera",i.WALLETCONNECT="walletconnect",i.W3_WALLET="w3-wallet",i))(Rs||{}),Z9=class extends Error{constructor(e,t,r){super(e);Ce(this,"code");Ce(this,"data");this.name="SignTxnsError",this.code=t,this.data=r}},Q9=class extends Error{constructor(e,t,r){super(e);Ce(this,"code");Ce(this,"data");this.name="SignDataError",this.code=t,this.data=r}},eM={wallets:{},activeWallet:null,activeNetwork:"testnet",algodClient:new Kt.Algodv2("","https://testnet-api.4160.nodely.dev/"),managerStatus:"initializing",networkConfig:sr,customNetworkConfigs:{}},yf="@txnlab/use-wallet:v4";function cn(i,{walletId:e,wallet:t}){i.setState(r=>{const a={...r.wallets,[e]:{accounts:t.accounts.map(n=>({...n})),activeAccount:t.activeAccount?{...t.activeAccount}:null}};return{...r,wallets:a,activeWallet:e}})}function C6(i,{walletId:e}){i.setState(t=>{const r={...t.wallets};return delete r[e],{...t,wallets:r,activeWallet:t.activeWallet===e?null:t.activeWallet}})}function mh(i,{walletId:e}){i.setState(t=>({...t,activeWallet:e}))}function tM(i,{walletId:e,address:t}){i.setState(r=>{const a=r.wallets[e];if(!a)return mc.warn(`Wallet with id "${e}" not found`),r;const n=a.accounts.find(u=>u.address===t);if(!n)return mc.warn(`Account with address ${t} not found in wallet "${e}"`),r;const s={...a,accounts:a.accounts.map(u=>({...u})),activeAccount:{...n}},c={...r.wallets,[e]:s};return{...r,wallets:c}})}function hs(i,{walletId:e,accounts:t}){i.setState(r=>{const a=r.wallets[e];if(!a)return mc.warn(`Wallet with id "${e}" not found`),r;const n=t.map(f=>({...f})),c=n.some(f=>{var g;return f.address===((g=a.activeAccount)==null?void 0:g.address)})?{...a.activeAccount}:n[0]||null,u={...a,accounts:n,activeAccount:c},h={...r.wallets,[e]:u};return{...r,wallets:h}})}function rM(i,{networkId:e,algodClient:t}){i.setState(r=>({...r,activeNetwork:e,algodClient:t}))}function nM(i){return typeof i=="object"&&i!==null&&"wallets"in i&&"activeWallet"in i&&"activeNetwork"in i&&(!("customNetworkConfigs"in i)||typeof i.customNetworkConfigs=="object"&&i.customNetworkConfigs!==null)}var M0,fn=(M0=class{constructor({id:i,metadata:e,store:t,subscribe:r,getAlgodClient:a}){Ce(this,"id");Ce(this,"metadata");Ce(this,"store");Ce(this,"getAlgodClient");Ce(this,"subscribe");Ce(this,"logger");Ce(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`),mh(this.store,{walletId:this.id})});Ce(this,"setActiveAccount",i=>{this.logger.info(`Set active account: ${i}`),tM(this.store,{walletId:this.id,address:i})});Ce(this,"transactionSigner",async(i,e)=>(await this.signTransactions(i,e)).reduce((a,n)=>(n!==null&&a.push(n),a),[]));Ce(this,"canSignData",!1);Ce(this,"signData",async(i,e)=>{throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData")});Ce(this,"onDisconnect",()=>{this.logger.debug("Removing wallet from store..."),C6(this.store,{walletId:this.id})});Ce(this,"manageWalletConnectSession",(i,e)=>{const t=e||this.id;if(i==="backup"){const r=Wr.getItem("walletconnect");r&&(Wr.setItem(`walletconnect-${t}`,r),Wr.removeItem("walletconnect"),this.logger.debug(`Backed up WalletConnect session for ${t}`))}else if(i==="restore"){const r=Wr.getItem(`walletconnect-${t}`);r&&(Wr.setItem("walletconnect",r),Wr.removeItem(`walletconnect-${t}`),this.logger.debug(`Restored WalletConnect session for ${t}`))}});this.id=i,this.store=t,this.subscribe=r,this.getAlgodClient=a;const n=this.constructor;this.metadata={...n.defaultMetadata,...e},this.logger=mc.createScopedLogger(`Wallet:${this.id.toUpperCase()}`)}get name(){return this.id.toUpperCase()}get accounts(){const e=this.store.state.wallets[this.id];return e?e.accounts:[]}get addresses(){return this.accounts.map(i=>i.address)}get activeAccount(){const e=this.store.state.wallets[this.id];return e?e.activeAccount:null}get activeAddress(){var i;return((i=this.activeAccount)==null?void 0:i.address)??null}get activeNetwork(){return this.store.state.activeNetwork}get isConnected(){const e=this.store.state.wallets[this.id];return e?e.accounts.length>0:!1}get isActive(){return this.store.state.activeWallet===this.id}get activeNetworkConfig(){const{networkConfig:i,activeNetwork:e}=this.store.state;return i[e]}},Ce(M0,"defaultMetadata",{name:"Base Wallet",icon:""}),M0),iM=class extends Error{constructor(i){super(i),this.name="SessionError"}},aM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect width="480" height="480" fill="#FFFFFF" />
  <path fill="#3396FF" d="M126.6,168c62.6-61.3,164.2-61.3,226.8,0l7.5,7.4c3.1,3.1,3.1,8,0,11.1l-25.8,25.2c-1.6,1.5-4.1,1.5-5.7,0l-10.4-10.2c-43.7-42.8-114.5-42.8-158.2,0l-11.1,10.9c-1.6,1.5-4.1,1.5-5.7,0l-25.8-25.2c-3.1-3.1-3.1-8,0-11.1L126.6,168zM406.7,220.2l22.9,22.5c3.1,3.1,3.1,8,0,11.1L326.2,355.1c-3.1,3.1-8.2,3.1-11.3,0l-73.4-71.9c-0.8-0.8-2.1-0.8-2.8,0l-73.4,71.9c-3.1,3.1-8.2,3.1-11.3,0L50.3,253.8c-3.1-3.1-3.1-8,0-11.1l22.9-22.5c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0 l73.4-71.9c3.1-3.1,8.2-3.1,11.3,0l73.4,71.9c0.8,0.8,2.1,0.8,2.8,0l73.4-71.9C398.5,217.1,403.6,217.1,406.7,220.2L406.7,220.2z" />
</svg>
`)}`,_0,P6=(_0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"modal",null);Ce(this,"modalOptions");Ce(this,"session",null);Ce(this,"store");Ce(this,"connect",async()=>{var e;this.logger.info("Connecting...");try{const t=this.client||await this.initializeClient(),r=this.modal||await this.initializeModal(),a={algorand:{chains:[this.activeChainId],methods:["algo_signTxn"],events:[]}},{uri:n,approval:s}=await t.connect({requiredNamespaces:a});if(!n)throw this.logger.error("No URI found"),new Error("No URI found");await r.openModal({uri:n});const c=await s(),u=this.onSessionConnected(c);return this.logger.info("Connected successfully"),u}catch(t){throw this.logger.error("Error connecting:",t.message),t}finally{(e=this.modal)==null||e.closeModal()}});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting...");try{this.onDisconnect(),this.client&&this.session&&await this.client.disconnect({topic:this.session.topic,reason:{message:"User disconnected.",code:6e3}}),this.logger.info("Disconnected")}catch(e){throw this.logger.error("Error disconnecting:",e.message),e}});Ce(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const r=this.client||await this.initializeClient();if(r.session.length){const a=r.session.keys.length-1,n=r.session.get(r.session.keys[a]);this.onSessionConnected(n)}this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{if(!this.session)throw this.logger.error("No session found!"),new iM("No session found!");this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const h=pr(e);r=this.processTxns(h,t)}else{const h=pr(e);r=this.processEncodedTxns(h,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const n=NM("algo_signTxn",[r]),s=await a.request({chainId:this.activeChainId,topic:this.session.topic,request:n});this.logger.debug("Received signed transactions from wallet",s);const c=s.reduce((h,f)=>{if(f){let g;typeof f=="string"?g=Ic(f):f instanceof Uint8Array?g=f:Array.isArray(f)?g=new Uint8Array(f):(this.logger.warn("Unexpected type in signTxnsResult",f),g=new Uint8Array),h.push(g)}return h},[]),u=r.reduce((h,f)=>{if(f.signers&&f.signers.length==0)h.push(null);else{const g=c.shift();g&&h.push(g)}return h},[]);return this.logger.debug("Transactions signed successfully",u),u}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});if(!(n!=null&&n.projectId))throw this.logger.error("Missing required option: projectId"),new Error("Missing required option: projectId");const{projectId:c,relayUrl:u="wss://relay.walletconnect.com",metadata:h,...f}=n,g={...this.getWindowMetadata(),...h};this.options={projectId:c,relayUrl:u,metadata:g},this.modalOptions=f,this.store=t}getWindowMetadata(){let e,t;const r={name:"",description:"",url:"",icons:[]};function a(A){let I;return typeof window<"u"&&typeof window[A]<"u"&&(I=window[A]),I}function n(A){const I=a(A);if(!I)throw new Error(`${A} is not defined in Window`);return I}function s(){return n("document")}function c(){return n("location")}try{e=s(),t=c()}catch(A){return this.logger.warn("Error getting window metadata:",A),r}function u(){const A=e.getElementsByTagName("link"),I=[];for(let N=0;N<A.length;N++){const $=A[N],V=$.getAttribute("rel");if(V&&V.toLowerCase().indexOf("icon")>-1){const U=$.getAttribute("href");if(U)if(U.toLowerCase().indexOf("https:")===-1&&U.toLowerCase().indexOf("http:")===-1&&U.indexOf("//")!==0){let J=t.protocol+"//"+t.host;if(U.indexOf("/")===0)J+=U;else{const Y=t.pathname.split("/");Y.pop();const oe=Y.join("/");J+=oe+"/"+U}I.push(J)}else if(U.indexOf("//")===0){const J=t.protocol+U;I.push(J)}else I.push(U)}}return I}function h(...A){const I=e.getElementsByTagName("meta");for(let N=0;N<I.length;N++){const $=I[N],V=["itemprop","property","name"].map(U=>$.getAttribute(U)).filter(U=>U?A.includes(U):!1);if(V.length&&V){const U=$.getAttribute("content");if(U)return U}}return""}function f(){let A=h("name","og:site_name","og:title","twitter:title");return A||(A=e.title),A}function g(){return h("description","og:description","twitter:description","keywords")}const b=f(),M=g(),_=t.origin,D=u();return{description:M,url:_,icons:D,name:b}}async initializeClient(){this.logger.info("Initializing client...");const t=await(await za(async()=>{const{SignClient:r}=await Promise.resolve().then(()=>qM);return{SignClient:r}},void 0)).SignClient.init(this.options);return t.on("session_event",r=>{this.logger.info("EVENT: session_event",r)}),t.on("session_update",({topic:r,params:a})=>{this.logger.info("EVENT: session_update",{topic:r,params:a});const{namespaces:n}=a,c={...t.session.get(r),namespaces:n};this.onSessionConnected(c)}),t.on("session_delete",()=>{this.logger.info("EVENT: session_delete"),this.session=null}),this.client=t,this.logger.info("Client initialized"),t}async initializeModal(){this.logger.info("Initializing modal...");const e=(await za(async()=>{const{WalletConnectModal:r}=await Promise.resolve().then(()=>VM);return{WalletConnectModal:r}},void 0)).WalletConnectModal,t=new e({projectId:this.options.projectId,...this.modalOptions});return t.subscribeModal(r=>this.logger.info(`Modal ${r.open?"open":"closed"}`)),this.modal=t,this.logger.info("Modal initialized"),t}onSessionConnected(e){const t=e.namespaces.algorand.accounts;if(!t.length)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const a=[...new Set(t.map(c=>c.split(":").pop()))].map((c,u)=>({name:`${this.metadata.name} Account ${u+1}`,address:c})),s=this.store.state.wallets[this.id];if(s)kc(a,s.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:s.accounts,current:a}),hs(this.store,{walletId:this.id,accounts:a}));else{const c={accounts:a,activeAccount:a[0]};cn(this.store,{walletId:this.id,wallet:c}),this.logger.info("Connected",c)}return this.session=e,a}get activeChainId(){const e=this.activeNetworkConfig;return e!=null&&e.caipChainId?e.caipChainId:(this.logger.warn(`No CAIP-2 chain ID found for network: ${this.activeNetwork}`),"")}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}},Ce(_0,"defaultMetadata",{name:"WalletConnect",icon:aM}),_0),oM=`data:image/svg+xml;base64,${btoa(`
<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 200 180"><path d="M94.27 151.629c-.861-.526-1.51-1.37-1.83-2.386-.197-.62-.18-.627 1.082-.437.705.105 1.6.356 1.988.557.696.36 1.815 1.876 1.815 2.459 0 .486-2.166.348-3.054-.193m23.953-.263c-.788-.419-2.095-2.123-2.108-2.75-.01-.433 2.467-.182 3.403.345.955.536 2.148 1.97 2.148 2.582 0 .503-2.397.38-3.443-.177m-9.024-1.165c-1.567-1.193-2.38-2.74-2.55-4.849-.075-.933-.054-1.697.045-1.697.866 0 2.714 1.67 3.439 3.107.398.789.657 3.888.351 4.195-.07.07-.648-.27-1.285-.756m-8.906-1.354c-.63-.684-1.21-1.648-1.387-2.305-.318-1.18-.136-3.416.278-3.416.555 0 2.108 1.697 2.505 2.737.472 1.237.457 3.905-.023 4.063-.16.053-.777-.433-1.373-1.08m-6.805-1.775c-2.764-.612-5.223-1.425-5.357-1.772-.08-.21.169-1.027.555-1.814s.701-1.469.701-1.515c0-.047-.803.067-1.786.253-.982.185-1.857.256-1.944.157-.088-.1-.365-.715-.618-1.367-.252-.652-.858-1.729-1.345-2.393-1.293-1.76-5.285-5.526-7.272-6.858-3.826-2.564-4.96-3.855-4.667-5.316.08-.402.692-1.574 1.359-2.606 1.65-2.551 2.51-4.472 2.512-5.62.002-.571-.364-1.69-.901-2.758l-.905-1.796.706-.532c1.936-1.46 4.649-4.916 4.205-5.36-.06-.06-.846.72-1.745 1.732-3.553 3.997-7.814 6.463-16.014 9.27-5.324 1.823-5.853 2.06-7.183 3.228-1.555 1.365-1.962 2.502-2.531 7.063-.284 2.275-.706 4.79-.937 5.591-.231.8-.403 2.17-.382 3.043.032 1.346-.157 2.06-1.248 4.698-1.498 3.622-1.068 3.708-4.138-.827l-2.036-3.008.747-.784c.411-.43 1.075-.978 1.475-1.216.955-.568.919-.922-.236-2.331-.53-.647-.917-1.209-.86-1.25s.43-.277.83-.526c1.788-1.12 2.7-4.727 2.987-11.822.214-5.274.595-6.46 2.195-6.83 6.634-1.535 7.58-1.98 8.618-4.066.926-1.858.9-3.701-.121-8.475-.87-4.072-1.047-7.21-.516-9.223.606-2.303 3.759-7.433 5.667-9.221.376-.353.684-.729.684-.835 0-.254-3.325-2.697-4.448-3.268-.482-.245-1.455-.45-2.163-.456-3.892-.03-6.628 1.877-8.722 6.08-.603 1.212-1.582 2.73-2.176 3.374-2.733 2.965-8.602 4.09-12.666 2.43l-.913-.374 1.323-.05c1.422-.054 3.498-.94 3.944-1.683.414-.69.076-.79-1.06-.314-1.443.605-4.075.597-5.039-.015-1.259-.8-2.23-1.81-2.795-2.908l-.535-1.042 1.243 1.095c1.51 1.328 2.691 1.752 4.425 1.585 1.506-.145 2.523-.851 1.65-1.147-3.195-1.08-5.834-3.078-7.07-5.35-.809-1.485-1.513-3.982-1.504-5.334l.006-.936.42.854c.232.47.941 1.333 1.576 1.918l1.155 1.064 2.189-.012 2.188-.011-1.012-.535c-.975-.514-3.353-2.766-3.353-3.175 0-.11.506.079 1.124.418 1.282.703 3.888 1.32 4.21.996.12-.118-.204-.612-.718-1.097-.513-.484-1.17-1.344-1.46-1.911l-.525-1.03 1.174.895c2.02 1.542 3.883 1.506 6.342-.123.69-.457 1.218-.863 1.175-.903s-.989.227-2.103.594c-1.87.618-2.11.64-3.151.305-1.284-.415-2.023-1.273-2.25-2.613l-.158-.926.486.595c1.07 1.31 2.652 1.255 6.363-.224 1.132-.451 2.892-1.036 3.91-1.3 2.732-.706 1.561-.926-2.298-.43-1.778.228-3.27.376-3.318.329-.047-.047.662-.415 1.575-.818 2.002-.883 4.78-1.152 6.858-.663 1.817.427 2.555.81 4.032 2.087 1.151.997 3.654 2.156 4.605 2.133.595-.015-2.96-3.395-4.552-4.328-1.639-.96-4.11-1.542-6.107-1.438-.92.049-1.627.016-1.571-.073.242-.388 3.44-.825 5.203-.71 4.048.265 6.96 2.546 10.902 8.537 2.553 3.883 4.234 5.67 6.137 6.524l1.092.49 2.215-1.027c4.747-2.2 8.797-2.518 16.097-1.26 2.25.387 4.717.704 5.482.704h1.39l.074 3.203.074 3.203.894-1.113c.88-1.096.894-1.152.846-3.516l-.049-2.402-1.61-1.721c-4.14-4.425-4.335-6.536-1.135-12.213 2.744-4.87 2.704-4.41.813-9.32-.883-2.292-1.696-4.167-1.807-4.167-.339 0-.205 4 .196 5.821.716 3.256.435 4.822-1.006 5.603-.371.2-2.144.33-4.904.36-3.6.036-4.348-.022-4.473-.348-.087-.227.102-.582.451-.845.53-.4.563-.53.274-1.09-.18-.35-.692-1.022-1.137-1.493s-.734-.933-.64-1.026c.093-.094 1.072-.036 2.175.128 3.023.45 3.76.398 4.211-.297.4-.615 2.887-9.725 2.704-9.907-.196-.196-1.55 1.62-2.759 3.7-1.782 3.068-3.14 3.895-6.379 3.889-2.485-.005-5.43-1.098-8.658-3.213-1.439-.943-3.02-1.855-3.514-2.027-1.524-.531-3.75-.392-5.163.324l-1.26.638.567-.603c.892-.95 3.048-2.004 4.432-2.167 1.94-.23 3.3.283 5.786 2.18 2.39 1.823 3.163 2.225 4.28 2.225.6 0 .497-.12-.745-.872-.792-.48-2.416-1.598-3.609-2.486-2.658-1.978-4.119-2.58-5.831-2.4l-1.26.132.926-.39c.667-.281 1.609-.36 3.373-.284 1.346.059 2.448.077 2.448.04 0-.278-2.537-1.455-3.71-1.722-.89-.202-1.231-.365-.884-.421.312-.051 1.86.225 3.44.614 2.564.63 3.167.687 5.602.525 5.536-.369 7.032-1.144 9.218-4.774l1.433-2.382-1.224 1.323c-.673.728-1.779 1.928-2.457 2.666-.677.739-1.53 1.417-1.893 1.508l-.662.165.61-.503c.334-.277 1.088-1.491 1.675-2.698 1.772-3.648 3.228-4.779 6.772-5.257 3.522-.476 4.797-.791 5.421-1.342.332-.293.429-.44.215-.329-.213.112-1.94.277-3.836.367-2.955.14-3.666.263-4.97.86-1.632.749-4.092 2.893-4.996 4.356-.764 1.236-.923.905-.224-.465 1.387-2.718 4.685-4.945 8.366-5.651l1.815-.349-1.058-.235c-.582-.13-1.952-.224-3.043-.209l-1.984.027 1.72-.82c1.427-.682 2.04-.822 3.611-.822 1.607 0 1.86-.06 1.679-.4-.539-1.005-1.377-1.452-2.69-1.432-.769.011-1.156-.067-.937-.19.534-.298 2.168-.34 4.169-.104 1.648.194 1.82.159 3.59-.733 1.023-.515 2.472-1.047 3.22-1.183 1.388-.253 3.607-.04 4.472.429.942.51 1.958 1.825 2.095 2.712.116.746 0 1.052-.671 1.777-.752.813-.811 1.018-.811 2.82 0 1.706-.105 2.127-.85 3.424-.467.814-.973 1.476-1.124 1.473s-.797-.242-1.435-.532c-1.277-.579-1.714-.435-1.988.655-.115.46.045.84.605 1.44.42.448 1.621 2.237 2.671 3.975 1.883 3.116 1.905 3.175 1.585 4.146-.258.78-.258 1.56 0 3.73.179 1.51.253 3.031.166 3.38-.128.509.033.795.805 1.432 1.367 1.126 5.02 2.947 5.914 2.947 1.268 0 1.588.247 1.588 1.227 0 1.057-.642 2.742-1.045 2.742-.153 0-.278-.298-.278-.662 0-.558-.123-.661-.793-.661-.436 0-2.162-.467-3.836-1.036l-3.044-1.036v1.788c0 .984-.077 3.057-.172 4.608l-.173 2.82h3.015l-.133.86c-.073.472-.206 2.11-.295 3.637-.373 6.42-.634 7.203-4.207 12.65-4.119 6.278-4.635 7.984-3.493 11.548.37 1.158.647 2.133.613 2.167-.246.246-2.569-1.19-3.783-2.34-2.616-2.473-2.922-3.975-1.146-5.619.954-.882 1.054-1.087.892-1.828-.417-1.91-.553-1.976-1-.482-.232.777-.693 1.849-1.024 2.382-.526.846-.603 1.318-.603 3.705v2.736l3.175 1.022c1.746.562 3.446 1.028 3.777 1.034.583.012.59-.012.194-.776-.224-.434-.479-1.307-.566-1.939-.208-1.523.53-3.065 3.905-8.159 4.537-6.845 5.478-9.25 5.681-14.513.07-1.82.19-3.93.267-4.692.137-1.353.17-1.398 1.379-1.933 2.27-1.004 4.245-3.717 6.253-8.589.526-1.274.459-1.204-1.891 1.985-1.019 1.382-2.13 2.751-2.47 3.042-.604.516-.603.506.048-.397.938-1.299 1.216-2.144 1.685-5.107.663-4.193 1.699-6.255 4.604-9.16 3.639-3.638 9.47-6.348 13.7-6.365.635-.003 1.201-.155 1.322-.356.117-.192 1.105-.92 2.196-1.615 1.092-.696 2.252-1.511 2.579-1.812.327-.3.66-.48.74-.4.081.081-.038.942-.263 1.914s-.41 1.88-.41 2.016c0 .37 1.393.3 1.992-.102.287-.192 1.296-.62 2.241-.953s1.998-.78 2.338-.994c.34-.215.665-.345.722-.288.302.302-1.982 3.526-2.927 4.132l-1.152.74c-.277.179 1.202 3.732 1.975 4.745.674.882.862 1.347.742 1.825-.089.354.045 1.273.296 2.044.645 1.98 2.913 6.751 3.698 7.779.808 1.06.82 1.416.075 2.363-.32.408-.648 1.225-.728 1.816-.118.879-.279 1.12-.89 1.335-1.457.512-2.298-.449-2.94-3.358-.113-.512-.325-.728-.715-.728-.634 0-.619.099.398 2.514.368.873.572 1.685.453 1.804-.12.119-.679.178-1.244.132-1.006-.082-1.03-.108-1.165-1.29-.11-.958-.407-1.515-1.444-2.716-1.28-1.483-1.523-1.617-3.974-2.186-.436-.102-1.235-.406-1.776-.677l-.981-.491-.311 1.124c-.462 1.668-.381 7.592.14 10.35.244 1.29.926 3.552 1.516 5.027 1.864 4.655 1.933 4.98 1.924 9.031-.006 2.853-.112 3.972-.461 4.87-.25.641-.415 1.204-.367 1.252.047.047 2.935.203 6.419.347 4.2.174 6.786.397 7.679.664 1.433.429 2.955 1.341 3.328 1.995.125.219 1.292 3.718 2.594 7.777 2.56 7.978 2.515 7.613 1.142 9.263-.582.7-.623.918-.458 2.455l.18 1.686-1.685 1.59c-2.476 2.335-2.487 2.338-2.833.702l-.825-3.894c-.497-2.344-.503-2.535-.09-2.844.245-.182.75-.332 1.121-.335 1.259-.007 1.444-.36.672-1.277l-.7-.833.461-1.209c.403-1.054.421-1.428.146-2.924-.856-4.647-3.463-7.755-6.516-7.769-1.198-.006-5.626.726-6.143 1.015-.419.235 1.36 2.035 4.026 4.073 1.954 1.494 2.487 2.265 2.708 3.918.115.858-.031 1.278-.963 2.753-1.122 1.776-2.596 4.941-4.015 8.62-.437 1.133-1.048 2.383-1.358 2.777-.546.695-.623.712-2.434.544-1.51-.14-2.034-.085-2.726.287-.933.503-1.032.488-5.234-.754l-1.852-.547 1.058-.93c2.452-2.155 4.96-4.035 5.375-4.028.245.004.743.417 1.107.919.364.5.74.914.835.918.336.014 2.673-2.777 3.423-4.09.928-1.622 1.429-3.721 1.19-4.992-.414-2.208-2.105-3.2-8.836-5.183-4.604-1.356-5.44-1.637-6.837-2.3-.81-.384-.92-.36-3.047.664-2.593 1.248-5.507 2.251-8.665 2.983-3.304.766-9.686.95-12.988.376-3.227-.562-7.639-2.035-9.626-3.214-.856-.508-1.618-.862-1.693-.787-.15.15 1.12 2.079 1.665 2.53.271.226.239.732-.166 2.586-1.245 5.713-2.66 8.612-7.189 14.73-2.852 3.852-3.402 5.685-2.327 7.762.66 1.274 9.278 9.763 11.016 10.85.797.498 1.576 1.26 1.929 1.889.496.883 2.158 5.275 2.158 5.704 0 .2-1.577.111-2.779-.154m46.76-1.68c-2.98-1.107-5.348-3.111-7.054-5.97-1.025-1.72-2.16-4.428-1.946-4.643.229-.229 3.039.644 4.916 1.527 3.417 1.608 6.275 5.198 6.594 8.283.178 1.723.063 1.76-2.51.803m-70.399.107c-2.923-.4-6.887-2.043-7.56-3.132-.23-.371 1.693-1.772 3.683-2.683 4.119-1.887 9.22-1.779 13.075.277 1.637.873 4.347 2.943 4.307 3.29-.014.122-.895.499-1.957.837-4.06 1.29-8.482 1.831-11.548 1.411m51.264-1.55c-1.687-.66-3.315-1.831-4.87-3.503l-1.323-1.421 2.116-.183c3.467-.298 6.424.354 8.757 1.932 1.096.742 2.753 2.456 2.753 2.848 0 .859-5.46 1.099-7.433.326m38.521-1.26c-3.84-.798-6.966-2.331-9.705-4.761-2.156-1.913-3.179-2.512-5.08-2.978-1.478-.362-3.339-1.249-3.339-1.591 0-.318 2.824-.81 5.689-.991 7.046-.446 13.549 2.741 16.133 7.908.513 1.024.932 2.025.932 2.224 0 .277-.479.354-2.05.33-1.128-.016-2.289-.08-2.58-.14m-61.217-2.076c-1.35-.421-2.52-1.449-3.238-2.845l-.51-.992h1.178c1.479 0 2.46.365 3.42 1.273.65.615 1.762 2.392 1.762 2.817 0 .255-1.426.117-2.612-.253m5.45-1.504c-1.583-1.153-2.396-3.509-1.878-5.442.192-.715.563-.742 1.334-.098 1.18.986 1.673 2.177 1.674 4.051 0 .974-.09 1.826-.2 1.895-.112.068-.53-.114-.93-.406m-26.254-1.075a150 150 0 0 0-3.968-1.97l-2.382-1.138 1.21-.001c2.527-.002 4.928 1.203 6.339 3.185.306.43.52.777.473.77-.046-.007-.799-.388-1.672-.845zm-14.354-3.608c-.764-.264-1.631-.699-1.927-.966-.59-.534-1.695-2.22-1.542-2.352.053-.045.573-.192 1.155-.325 1.324-.303 1.45-.925.662-3.265-.306-.908-.503-1.705-.438-1.77.066-.066.637.018 1.27.187.95.253 1.683.849 4.194 3.411 2.483 2.534 3.286 3.19 4.366 3.566.727.253 1.62.587 1.984.742l.662.28-.662.199c-.779.234-6.102.794-7.42.782-.503-.005-1.54-.225-2.304-.489m104.313-.83c-1.528-.484-4.719-2.704-4.75-3.303-.006-.145.88-.42 1.972-.61 2.368-.414 4.676-.11 6.582.864 1.41.721 3.082 2.35 2.83 2.756-.55.891-4.237 1.054-6.634.294m-56.58-.117c-2.06-.734-3.35-2.65-3.345-4.961.006-2.304.15-2.574 1.279-2.397 1.516.239 3.013.83 3.677 1.455l.609.572 1.523-1.507c.838-.829 1.593-1.507 1.679-1.507.085 0 .362.735.614 1.633.94 3.35-.383 5.974-3.431 6.806-1.302.356-1.35.354-2.605-.094m-75.315-.698c-6.533-.942-11.018-2.967-14.552-6.571-1.972-2.01-3.175-3.81-2.8-4.186.109-.109 1.32-.239 2.693-.29 5.235-.192 9.266 1.449 13.22 5.381 2.097 2.085 5.101 5.853 4.838 6.068-.05.041-1.58-.14-3.4-.402m97.327-1.25c4.267-5.096 8.959-7.442 13.334-6.666.982.174 1.84.405 1.906.513.198.32-1.54 2.713-2.834 3.904-2.314 2.13-5.42 3.148-10.492 3.438l-3.055.175zm17.502-.559c0-.646 1.702-5.318 2.447-6.715 1.472-2.762 4.84-5.965 5.538-5.267.161.161.234 1.18.176 2.481-.114 2.603-.705 4.023-2.51 6.03-1.524 1.695-5.651 4.23-5.651 3.471m8.04-1.157c3.728-2.356 7.725-5.133 8.864-6.158 1.353-1.218 1.403-1.24.984-.43-1.093 2.113-4.85 5.104-7.93 6.31-1.734.68-2.798.834-1.919.278m2.457-4.828c-.243-.511-.443-1.383-.443-1.937 0-1.018.973-3.223 1.5-3.399.368-.123 1.146 1.814 1.146 2.853 0 .855-.78 2.6-1.39 3.105-.298.247-.456.127-.813-.622m11.343.373c-1.157-.135-2.15-.292-2.206-.348-.16-.16 1.966-2.017 3.71-3.24 2.387-1.673 4.54-2.317 7.745-2.316 2.182 0 2.874.104 3.949.596l1.303.595-.907.936c-2.935 3.03-7.986 4.433-13.594 3.777m-135.543-5.98c-3.17-5.953-3.802-11.809-1.769-16.407.766-1.73 2.408-4.033 2.878-4.033.185 0 .7.685 1.142 1.522 2.02 3.82 2.643 8.569 1.708 13.03-.515 2.454-2.383 7.938-2.705 7.938-.089 0-.653-.923-1.254-2.05m131.543-.026c-2.11-1.55-3.023-3.093-3.023-5.108 0-1.215.77-3.056 1.587-3.796.494-.447.574-.438 1.965.243 1.713.838 2.676 1.892 3.072 3.363.464 1.725-.257 3.872-1.791 5.328l-.771.733zm-142.341-2.392c-.955-.434-3.028-2.462-3.028-2.963 0-.106.589-.273 1.309-.372 2.032-.28 3.923.381 5.269 1.84.602.654 1.095 1.295 1.095 1.426 0 .289-1.308.57-2.613.562-.527-.003-1.442-.225-2.032-.493m134.927-3.139c1.218-3.954 1.471-13.59.477-18.203a57 57 0 0 0-1.472-5.291c-1.025-3-1.187-3.508-1.031-3.229.06.11.227.199.369.199s.185-.12.095-.265-.099-.265-.019-.265c.285 0 2.284 4.27 2.94 6.28.942 2.884 1.488 6.584 1.481 10.037-.008 4.205-.63 7.156-2.126 10.088-.577 1.13-.974 1.491-.714.65m15.622-.53c.096-.4.694-1.798 1.33-3.108 1.78-3.673 4.396-6.043 7.61-6.899 2.261-.602 2.412-.555 2.244.699-.39 2.903-3.348 6.413-6.971 8.27-.455.233-1.63.726-2.608 1.094l-1.78.67zm-150.592-3.621c-5.551-2.683-8.865-5.295-11.436-9.013-2.092-3.028-3.72-7.066-3.72-9.231 0-.636.089-.69 1.135-.69 2.913 0 6.796 1.74 9.585 4.296 3.283 3.008 5.033 6.073 6.587 11.534 1.15 4.043 1.263 4.544 1.02 4.54-.111 0-1.539-.647-3.17-1.436m145.075.485c-.092-.241-.309-1.552-.48-2.914-.562-4.443.43-8.183 2.772-10.456.58-.562 1.164-1.022 1.3-1.022.405 0 1.01 1.75 1.186 3.43.324 3.1-.9 6.63-3.421 9.872-.926 1.19-1.226 1.431-1.357 1.09m-6.353-7.675c.34-1.413.908-2.21 1.957-2.745 1.55-.792 1.96-.718 1.754.314-.326 1.628-1.397 2.695-3.034 3.022-.84.168-.856.154-.677-.591m18.432-2.084c-.473-.206-.857-.469-.854-.585.01-.368 1.945-1.592 2.816-1.781.461-.1 1.34-.047 1.952.118l1.114.3-.882.909c-.764.789-2.17 1.45-3.022 1.422-.145-.005-.651-.178-1.124-.383m-4.19-2.014c.437-5.243 1.85-8.992 4.434-11.754 1.589-1.698 4.011-3.172 5.51-3.353.608-.073.669.016.745 1.087.125 1.742-.655 4.812-1.81 7.117-1.233 2.466-3.244 4.75-6.16 7-3.185 2.457-2.932 2.466-2.719-.097M164.535 96.2c.011-.601.996-2.432 1.613-2.997.74-.68 1.86-1.142 2.764-1.142.74 0 .783.213.287 1.402-.328.784-2.05 2.558-2.496 2.573-.105.004-.636.11-1.182.237-.703.163-.99.142-.986-.073M39.38 92.511l-1.19-.287 1.894-.184c2.429-.237 4.211-.836 5.755-1.933 1.705-1.212 2.43-2.3 3.187-4.777.358-1.173 1.027-2.644 1.487-3.27.855-1.16 1.328-1.354.772-.315-.17.317-.42 1.753-.555 3.191s-.371 2.944-.524 3.347c-1.29 3.39-6.255 5.33-10.826 4.228m132.353-3.022c-1.37-3.004-1.722-4.62-1.596-7.322.12-2.584.663-4.209 1.984-5.941l.698-.915.593.689c1.538 1.787 2.37 6.366 1.72 9.457-.375 1.79-1.903 5.61-2.293 5.734-.158.05-.656-.715-1.106-1.702m6.655.323c.094-.582.245-3.618.336-6.747.16-5.514-.097-11.175-.726-16.007-.66-5.078-2.584-11.438-4.788-15.834-.572-1.142-.914-1.998-.76-1.903.154.096.28.02.28-.17 0-.608 1.905 2.465 3.056 4.93 3.19 6.83 5.492 18.482 5.039 25.5-.219 3.379-.79 6.78-1.52 9.04-.672 2.084-1.164 2.722-.917 1.191m-5.129-39.936c0-.065-.119-.19-.264-.28s-.265-.038-.265.116.12.28.265.28.264-.052.264-.116M21.39 87.46c-6.885-6.262-9.634-10.983-10.312-17.71-.218-2.153.098-6.211.514-6.628.377-.377 2.86.757 4.714 2.153 4.287 3.228 7.128 8.67 7.976 15.276.349 2.717.746 9.923.547 9.92-.073-.001-1.62-1.356-3.44-3.01m141.818 1.495c.002-1.223.51-2.654 1.254-3.539.681-.81 2.635-1.902 2.999-1.677.248.154-.193 2.347-.65 3.224-.523 1.007-1.444 1.82-2.616 2.31l-.989.413zm19.715-9.65c.101-.48.414-1.25.694-1.712.53-.872 2.361-1.937 3.331-1.937.515 0 .537.075.29.992-.432 1.599-1.891 2.901-3.749 3.347-.733.176-.746.16-.566-.69m-1.078-4.864c-.434-3.474.426-7.949 2.004-10.427.992-1.557 3.308-3.704 3.996-3.704.79 0 1.023 5.098.34 7.427-.775 2.639-3.22 6.102-5.41 7.661l-.744.53zM27.106 70.74c-.83-2.163.852-9.285 3.442-14.577 3.414-6.977 9.876-14.173 15.518-17.28 1.338-.736 1.306-.696-.732.921-3.554 2.82-6.93 6.51-9.617 10.514-2.78 4.142-4.184 7.582-5.825 14.274-.593 2.419-1.273 4.885-1.512 5.482-.446 1.116-.991 1.401-1.274.666m148.415-4.429c-3.31-1.775-5.714-4.87-6.05-7.787-.123-1.073-.097-1.124.573-1.122 1.742.006 4.537 2.38 5.833 4.954.468.928 1.437 4.572 1.263 4.746-.028.028-.757-.328-1.62-.79M24.465 63.817c-1.392-2.767-2.046-5.175-2.208-8.138-.16-2.924.292-6.48.823-6.48.632 0 2.73 1.536 3.654 2.676 1.65 2.036 2.173 3.325 2.185 5.393.01 1.729-.094 2.069-1.554 5.094-.86 1.782-1.663 3.24-1.783 3.24s-.623-.803-1.117-1.785m155.049-4.47c-.602-3.045-.356-5.571.757-7.767.795-1.57 2.708-3.351 3.137-2.921.187.187.302 1.33.302 3 0 2.617-.03 2.756-1.001 4.573-.551 1.03-1.462 2.322-2.024 2.871l-1.022.998zm-68.432-2.831c0-.451.748-1.115 1.521-1.35.762-.233.743.064-.061.978-.678.77-1.46.969-1.46.372M33.59 54.752c1.046-1.877 3.42-4.082 5.433-5.045 1.457-.699 2.23-.892 3.93-.982 2.15-.115 3.863.18 4.728.812.444.324.393.442-.74 1.701-1.47 1.635-3.438 2.97-5.575 3.778-1.242.47-2.33.63-4.998.735l-3.41.135zm76.965.194c0-.802 1.282-2.19 2.17-2.35.969-.176 1.534.041 1.534.587 0 .382-.305.583-1.245.82-.685.172-1.518.608-1.852.968l-.607.655zm57.018-.605c-.437-.225-.965-.578-1.173-.783-.327-.323-.22-.446.794-.905 1.314-.597 2.774-.659 4.347-.184 1.386.417 1.347.95-.122 1.69-1.377.695-2.73.76-3.846.182m-58.306-1.16c.174-.5.815-1.406 1.424-2.015.918-.918 1.368-1.152 2.637-1.37 1.42-.246 2.024-.224 3.048.107.8.26-.765 1.148-2.022 1.148-1.584 0-2.915.6-4.27 1.928l-1.133 1.109zm65.577-2.87c-.75-1.497-.906-2.129-1.001-4.048-.094-1.886-.02-2.485.431-3.506.3-.677.655-1.231.79-1.231.33 0 1.475 1.777 1.856 2.883.497 1.442.383 4.31-.236 5.965-.3.803-.638 1.517-.75 1.586-.11.069-.602-.673-1.09-1.649m-65.359.239c.662-1.25 2.453-2.918 3.604-3.357 1.384-.53 4.318-.42 5.512.206l.757.397-.576.403c-.45.315-1.084.374-2.904.27-2.854-.163-3.938.155-5.54 1.625-.876.802-1.1.922-.853.456m-79.602-1.036c-1.895-1.894-2.474-3.183-2.62-5.824-.066-1.211-.008-2.314.128-2.45.332-.332 2.019.945 2.831 2.145.348.513.825 1.5 1.06 2.192.47 1.384.581 4.818.164 5.076-.144.089-.848-.423-1.563-1.139m78.698-.58c.528-1.848 2.227-3.934 3.94-4.841 1.648-.872 4.113-.74 7.331.392l2.55.897-.936.614c-.919.602-.967.606-2.55.2-2.732-.698-3.209-.739-5.014-.424-2.025.352-3.826 1.419-4.84 2.865-.543.777-.635.833-.481.297m54.957-.028c-.619-.306-1.125-.665-1.125-.797 0-.133.387-.477.86-.765 1.455-.887 4.475-.65 6.244.49l.621.401-1.15.602c-1.547.81-3.894.84-5.45.07m-113.51-5.029c-.621-.307-1.376-.872-1.677-1.255l-.548-.696.883-.372c2.07-.872 5.296-.261 6.675 1.263.498.55.494.556-.662 1.08-1.52.69-3.253.682-4.672-.02m69.126-.293c-2.905-1.128-5.647-1.179-7.871-.147-.837.388-1.522.665-1.522.615 0-.292 2.738-1.751 3.95-2.106 1.796-.525 4.726-.535 6.634-.023 1.759.472 3.564.489 4.61.043.696-.298.59-.32-1.07-.226-1.83.103-1.852.096-3.683-1.16-1.013-.694-2.318-1.413-2.9-1.596l-1.058-.333.988-.018c.544-.01 2.135.28 3.535.644 2.6.675 4.605.856 4.605.415 0-.347-1.479-1.36-2.616-1.791-.935-.355-.915-.361.9-.261 2.1.115 3.862.79 4.957 1.899.72.729.727.73.727.13 0-.934-1.81-2.484-3.47-2.973-1.732-.51-.9-.598.957-.102 2.68.716 5.39 2.515 6.21 4.124.295.578.537 1.15.537 1.273 0 .122-1.102.361-2.448.532s-3.511.671-4.812 1.112c-3.03 1.027-4.41 1.017-7.16-.05m-83.06-2.246c-.331-4.672.95-8.655 3.622-11.257l1.343-1.308.418.754c.31.56.419 1.506.419 3.664 0 2.803-.036 2.984-.958 4.895-.887 1.84-3.687 5.524-4.365 5.745-.197.064-.358-.772-.48-2.493m125.87-.33c-.464-.283-1.05-.829-1.301-1.212-.556-.848-.22-1.17 1.221-1.176 1.652-.007 4.104 1.78 3.588 2.615-.3.486-2.579.34-3.507-.227m-104.922-.902c-1.831-.683-4.166-2.965-3.74-3.655.203-.328 3.603-.26 4.628.093.494.17 1.341.6 1.882.955 1.055.692 2.477 2.374 2.223 2.628-.352.353-4.033.337-4.993-.021m.993-5.296c-.727-.191-2.034-.56-2.902-.82l-1.58-.473.898-.75c2.53-2.112 6.92-3.595 9.62-3.25 1.876.239 3.85 1.003 4.937 1.91l.907.758-1.14.825c-1.943 1.409-3.805 1.977-6.771 2.068-1.607.05-3.165-.056-3.969-.268" style="fill:teal;stroke-width:.264583"></path></svg>
`)}`,A0,sM=(A0=class extends P6{},Ce(A0,"defaultMetadata",{name:"BiatecWallet",icon:oM}),A0),cM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
  <rect width="24" height="24" fill="#525252" />
</svg>
`)}`,k0,fM=(k0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"provider");Ce(this,"store");Ce(this,"connect",async e=>{this.logger.info("Connecting...");try{if(!this.provider.connect)throw this.logger.error("Method not supported: connect"),new Error("Method not supported: connect");const t=await this.provider.connect(e);if(t.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const r=t[0],a={accounts:t,activeAccount:r};return cn(this.store,{walletId:this.id,wallet:a}),this.logger.info("✅ Connected.",a),t}catch(t){throw this.logger.error("Error connecting:",t.message||t),t}});Ce(this,"disconnect",async()=>{var e,t;this.logger.info("Disconnecting..."),this.onDisconnect(),await((t=(e=this.provider).disconnect)==null?void 0:t.call(e))});Ce(this,"resumeSession",async()=>{var e,t;try{const a=this.store.state.wallets[this.id];if(!a){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const n=await((t=(e=this.provider).resumeSession)==null?void 0:t.call(e));if(Array.isArray(n)){const s=n;if(s.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");kc(s,a.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:a.accounts,current:s}),hs(this.store,{walletId:this.id,accounts:s}))}this.logger.info("Session resumed.")}catch(r){throw this.logger.error("Error resuming session:",r.message),r}});Ce(this,"signTransactions",async(e,t)=>{if(!this.provider.signTransactions)throw this.logger.error("Method not supported: signTransactions"),new Error("Method not supported: signTransactions");return this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t}),await this.provider.signTransactions(e,t)});Ce(this,"transactionSigner",async(e,t)=>{if(!this.provider.transactionSigner)throw this.logger.error("Method not supported: transactionSigner"),new Error("Method not supported: transactionSigner");return this.logger.debug("Transaction signer called...",{txnGroup:e,indexesToSign:t}),await this.provider.transactionSigner(e,t)});Ce(this,"signData",async(e,t)=>{if(!this.provider.signData)throw this.logger.error("Method not supported: signData"),new Error("Method not supported: signData");return this.logger.debug("Signing data...",{data:e,metadata:t}),await this.provider.signData(e,t)});if(!(n!=null&&n.provider))throw this.logger.error("Missing required option: provider"),new Error("Missing required option: provider");this.provider=n.provider,this.store=t}},Ce(k0,"defaultMetadata",{name:"Custom",icon:cM}),k0),hM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,I0,uM=(I0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n={},metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"store");Ce(this,"connect",async()=>{var c;this.logger.info("Connecting...");const e=this.store.state.activeWallet;e&&e!==this.id&&this.manageWalletConnectSession("backup",e);const t=this.client||await this.initializeClient(),r=await t.connect();if((c=t.connector)==null||c.on("disconnect",this.onDisconnect),r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const a=r.map((u,h)=>({name:`${this.metadata.name} Account ${h+1}`,address:u})),n=a[0],s={accounts:a,activeAccount:n};return cn(this.store,{walletId:this.id,wallet:s}),this.logger.info("✅ Connected.",s),a});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const e=this.client||await this.initializeClient(),t=this.store.state.activeWallet;t&&t!==this.id?(this.manageWalletConnectSession("backup",t),this.manageWalletConnectSession("restore",this.id),await e.disconnect(),await new Promise(r=>setTimeout(r,500)),this.manageWalletConnectSession("restore",t)):await e.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Ce(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const e=this.store.state.activeWallet;e&&e==="pera"&&this.manageWalletConnectSession("backup",e),this.manageWalletConnectSession("restore"),mh(this.store,{walletId:this.id})});Ce(this,"resumeSession",async()=>{try{const e=this.store.state,t=e.wallets[this.id];if(!t){this.logger.info("No session to resume");return}if(e.activeWallet==="pera"){this.logger.info("Skipping reconnectSession for Defly (inactive)");return}this.logger.info("Resuming session...");const a=await(this.client||await this.initializeClient()).reconnectSession();if(a.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const n=a.map((c,u)=>({name:`${this.metadata.name} Account ${u+1}`,address:c}));kc(n,t.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:t.accounts,current:n}),hs(this.store,{walletId:this.id,accounts:n})),this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const c=pr(e);r=this.processTxns(c,t)}else{const c=pr(e);r=this.processEncodedTxns(c,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const n=await a.signTransaction([r]);this.logger.debug("Received signed transactions from wallet",n);const s=r.reduce((c,u)=>{if(u.signers&&u.signers.length==0)c.push(null);else{const h=n.shift();h&&c.push(h)}return c},[]);return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=n,this.store=t}async initializeClient(){this.logger.info("Initializing client...");const{DeflyWalletConnect:e}=await za(async()=>{const{DeflyWalletConnect:r}=await import("../assets/index-DD2Zj1gE.js").then(a=>a.i);return{DeflyWalletConnect:r}},__vite__mapDeps([0,1])),t=new e(this.options);return this.client=t,this.logger.info("Client initialized"),t}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c);s&&u?r.push({txn:a}):r.push({txn:a,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f);h&&g?r.push({txn:u}):r.push({txn:u,signers:[]})}),r}},Ce(I0,"defaultMetadata",{name:"Defly",icon:hM}),I0);function af(i){return typeof i=="object"&&"code"in i&&"message"in i}var N6=class extends fn{constructor(e){super(e);Ce(this,"avmWebClient",null);Ce(this,"avmWebProviderSDK",null);Ce(this,"providerId");this.providerId=e.providerId}async _initializeAVMWebProviderSDK(){if(!this.avmWebProviderSDK){this.logger.info("Initializing @agoralabs-sh/avm-web-provider...");const e=await za(()=>import("../assets/use-wallet-BIHI7g3E.js"),[]);if(this.avmWebProviderSDK=e.default?e.default:e,!this.avmWebProviderSDK)throw new Error("Failed to initialize, the @agoralabs-sh/avm-web-provider SDK was not provided");if(!this.avmWebProviderSDK.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient missing from @agoralabs-sh/avm-web-provider SDK");this.logger.info("@agoralabs-sh/avm-web-provider SDK initialized")}return this.avmWebProviderSDK}async _initializeAVMWebClient(){const e=await this._initializeAVMWebProviderSDK();if(!e.AVMWebClient)throw new Error("Failed to initialize, AVMWebClient not found");return this.avmWebClient||(this.logger.info("Initializing new AVM Web Client..."),this.avmWebClient=e.AVMWebClient.init(),this.logger.info("AVM Web Client initialized")),this.avmWebClient}async _getGenesisHash(){const e=this.activeNetworkConfig;if(e.genesisHash)return e.genesisHash;const r=await this.getAlgodClient().versionsCheck().do();return Kt.bytesToBase64(r.genesisHashB64)}_mapAVMWebProviderAccountToWalletAccounts(e){return e.map(({address:t,name:r},a)=>({name:r||`[${this.metadata.name}] Account ${a+1}`,address:t}))}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}async connect(){try{this.logger.info("Connecting...");const e=await this._enable();this.logger.info(`Successfully connected on network "${e.genesisId}"`);const t=this._mapAVMWebProviderAccountToWalletAccounts(e.accounts),r={accounts:t,activeAccount:t[0]};return cn(this.store,{walletId:this.id,wallet:r}),this.logger.info("✅ Connected.",r),t}catch(e){throw this.logger.error("Error connecting: ",af(e)?`${e.message} (code: ${e.code})`:e.message),e}}async disconnect(){try{this.logger.info("Disconnecting..."),this.onDisconnect();const e=await this._disable();this.logger.info(`Successfully disconnected${e.sessionIds&&e.sessionIds.length?` sessions [${e.sessionIds.join(",")}]`:""} on network "${e.genesisId}"`)}catch(e){throw this.logger.error("Error disconnecting: ",af(e)?`${e.message} (code: ${e.code})`:e.message),e}}async resumeSession(){const t=this.store.state.wallets[this.id];if(!t){this.logger.info("No session to resume");return}try{this.logger.info("Resuming session...");const r=await this._enable();if(r.accounts.length===0)throw new Error("No accounts found!");const a=this._mapAVMWebProviderAccountToWalletAccounts(r.accounts);kc(a,t.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:t.accounts,current:a}),hs(this.store,{walletId:this.id,accounts:a})),this.logger.info("Session resumed successfully")}catch(r){throw this.logger.error("Error resuming session: ",af(r)?`${r.message} (code: ${r.code})`:r.message),this.onDisconnect(),r}}async signTransactions(e,t){try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const s=pr(e);r=this.processTxns(s,t)}else{const s=pr(e);r=this.processEncodedTxns(s,t)}this.logger.debug("Sending processed transactions to wallet...",r);const a=await this._signTransactions(r);this.logger.debug("Received signed transactions from wallet",a);const n=a.stxns.map(s=>s===null?null:Ic(s));return this.logger.debug("Transactions signed successfully",n),n}catch(r){throw this.logger.error("Error signing transactions: ",af(r)?`${r.message} (code: ${r.code})`:r.message),r}}},ln="95426e60-5f2e-49e9-b912-c488577be962",lM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
  <rect width="1024" height="1024" />
  <path fill="#FFFFFF" d="M779.9,684.4L512,230L244.1,684.4L512,529.5L779.9,684.4z" />
  <path fill="#FFFFFF" d="M733.1,730L512,613.5L290.9,730L512,658L733.1,730z" />
</svg>
`)}`,D0,dM=(D0=class extends N6{constructor({id:i,store:e,subscribe:t,getAlgodClient:r,metadata:a={}}){super({id:i,metadata:a,getAlgodClient:r,store:e,subscribe:t,providerId:ln})}async _enable(){const{ARC0027MethodEnum:i,ARC0027MethodTimedOutError:e,ARC0027UnknownError:t,DEFAULT_REQUEST_TIMEOUT:r}=await this._initializeAVMWebProviderSDK(),a=await this._initializeAVMWebClient(),n=await this._getGenesisHash();return new Promise((s,c)=>{const u=window.setTimeout(()=>{a.removeListener(h),c(new e({method:i.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:ln}))},r),h=a.onEnable(({error:f,method:g,result:b})=>(a.removeListener(h),window.clearTimeout(u),f?c(f):b?s(b):c(new t({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:ln}))));a.enable({genesisHash:n,providerId:ln})})}async _disable(){const{ARC0027MethodEnum:i,ARC0027MethodTimedOutError:e,ARC0027UnknownError:t,LOWER_REQUEST_TIMEOUT:r}=await this._initializeAVMWebProviderSDK(),a=await this._initializeAVMWebClient(),n=await this._getGenesisHash();return new Promise((s,c)=>{const u=window.setTimeout(()=>{a.removeListener(h),c(new e({method:i.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:ln}))},r),h=a.onDisable(({error:f,method:g,result:b})=>(a.removeListener(h),window.clearTimeout(u),f?c(f):b?(this.logger.debug("Disable successful",{result:b}),s(b)):c(new t({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:ln}))));this.logger.debug("Sending disable request...",{genesisHash:n}),a.disable({genesisHash:n,providerId:ln})})}async _signTransactions(i){const{ARC0027MethodEnum:e,ARC0027MethodTimedOutError:t,ARC0027UnknownError:r,DEFAULT_REQUEST_TIMEOUT:a}=await this._initializeAVMWebProviderSDK(),n=await this._initializeAVMWebClient();return new Promise((s,c)=>{const u=window.setTimeout(()=>{n.removeListener(h),c(new t({method:e.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:ln}))},a),h=n.onSignTransactions(({error:f,method:g,result:b})=>(n.removeListener(h),window.clearTimeout(u),f?c(f):b?(this.logger.debug("Sign transactions successful",{result:b}),s(b)):c(new r({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:ln}))));this.logger.debug("Sending sign transactions request...",{txns:i}),n.signTransactions({txns:i,providerId:ln})})}},Ce(D0,"defaultMetadata",{name:"Defly Web Wallet",icon:lM}),D0),pM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 300 300" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="grad1" gradientUnits="userSpaceOnUse" x1="246.603" y1="9.2212" x2="174.158" y2="308.5426" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
  
  <linearGradient id="grad2" gradientUnits="userSpaceOnUse" x1="129.3516" y1="-19.1573" x2="56.9066" y2="280.1641" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0" stop-color="#0B46F9" />
    <stop offset="1" stop-color="#BBFBE0" />
  </linearGradient>
  <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  
  <mask id="mask1" maskUnits="userSpaceOnUse" x="25.4" y="23" width="247.6" height="254">
    <path fill="url(#grad1)" d="M274.7,93.9L166.6,23v39.6l69.4,45.1l-8.2,25.8h-61.2v32.9h61.2l8.2,25.8l-69.4,45.1V277l108.2-70.7L257,150.1L274.7,93.9z" />
    <path fill="url(#grad2)" d="M72.5,166.4h61v-32.9H72.2l-7.9-25.8l69.2-45.1V23L25.3,93.9L43,150.1l-17.7,56.2L133.7,277v-39.6l-69.4-45.1L72.5,166.4z" />
  </mask>
  
  <linearGradient id="grad3" gradientUnits="userSpaceOnUse" x1="46.4662" y1="228.7554" x2="171.8638" y2="135.1039" gradientTransform="matrix(1 0 0 -1 0 302)">
    <stop offset="0.1198" stop-color="#8952FF" stop-opacity="0.87" />
    <stop offset="1" stop-color="#DABDFF" stop-opacity="0" />
  </linearGradient>
  <rect x="25.4" y="23" width="247.6" height="254" fill="url(#grad3)" mask="url(#mask1)" />
</svg>
`)}`,R0,gM=(R0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n={},metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"store");Ce(this,"connect",async()=>{this.logger.info("Connecting...");const e=this.client||await this.initializeClient(),{accounts:t}=await e.enable(this.options);if(t.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const r=t.map((s,c)=>({name:`${this.metadata.name} Account ${c+1}`,address:s})),a=r[0],n={accounts:r,activeAccount:a};return cn(this.store,{walletId:this.id,wallet:n}),this.logger.info("✅ Connected.",n),r});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Ce(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!(await this.initializeClient()).isConnected)throw this.logger.error("Exodus is not connected."),new Error("Exodus is not connected.");this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const c=pr(e);r=this.processTxns(c,t)}else{const c=pr(e);r=this.processEncodedTxns(c,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const n=await a.signTxns(r);this.logger.debug("Received signed transactions from wallet",n);const s=n.map(c=>c===null?null:Ic(c));return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=n,this.store=t}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.algorand===void 0)throw this.logger.error("Exodus is not available."),new Error("Exodus is not available.");const e=window.algorand;return this.client=e,this.logger.info("Client initialized"),e}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}},Ce(R0,"defaultMetadata",{name:"Exodus",icon:pM}),R0),dn="f6d1c86b-4493-42fb-b88d-a62407b4cdf6",mM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 480 480" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#801C96" width="480" height="480" />
  <path fill="#FFFFFF" d="M393.5,223.2c0-7.3-0.6-14.6-1.6-21.6c-0.9-6.5-2.3-12.8-4-18.9c-18-64.9-77.4-112.5-148-112.5c-70.6,0-130,47.6-148,112.5c-1.7,6.2-3,12.5-4,19c-1,7.1-1.6,14.3-1.6,21.6h0v85.5h19.7v-85.5c0-7.2,0.6-14.4,1.8-21.4c14,1.1,27.6,4.3,40.5,9.5c15.9,6.4,30.3,15.6,42.6,27.3c12.3,11.7,22,25.4,28.7,40.6c6.9,15.6,10.5,32.2,10.5,49.2v81.4h0.1h19.6h0.1v-81.5c0.1-17.1,3.6-33.7,10.5-49.2c6.7-15.2,16.4-28.8,28.7-40.6c4.2-4,8.6-7.7,13.2-11.1v132.2h19.7V223.2h0c0-2.5-0.1-5-0.4-7.4c3.3-1.6,6.6-3.1,10-4.5c12.9-5.2,26.4-8.4,40.4-9.5c1.2,7,1.7,14.2,1.8,21.4v85.5h19.7L393.5,223.2L393.5,223.2z M240.1,277.3c-11.6-29.3-32.7-54.1-59.8-71c2.9-10,8.2-19.1,15.8-26.6c11.8-11.8,27.4-18.2,44-18.2s32.3,6.5,44,18.2c4.1,4.1,7.5,8.7,10.3,13.6c5.6-3.4,11.4-6.4,17.4-9.2c-14-25.2-40.9-42.3-71.8-42.3c-35.9,0-66.3,23-77.5,55.1c-15.5-7.1-32.5-11.8-50.4-13.5c1.3-4,2.7-7.9,4.3-11.8c6.7-15.9,16.4-30.3,28.7-42.6s26.6-22,42.6-28.7c16.5-7,34-10.5,52.1-10.5s35.6,3.5,52.1,10.5c15.9,6.7,30.3,16.4,42.6,28.7s22,26.6,28.7,42.6c1.6,3.9,3.1,7.8,4.3,11.8C309,189.2,260.1,226.5,240.1,277.3z" />
  <path fill="#FFFFFF" d="M158.1,359.8h19.7V245.5c-6.1-5.4-12.7-10-19.7-14V359.8z" />
</svg>
`)}`,T0,vM=(T0=class extends N6{constructor({id:i,store:e,subscribe:t,getAlgodClient:r,metadata:a={}}){super({id:i,metadata:a,getAlgodClient:r,store:e,subscribe:t,providerId:dn})}async _enable(){const{ARC0027MethodEnum:i,ARC0027MethodTimedOutError:e,ARC0027UnknownError:t,DEFAULT_REQUEST_TIMEOUT:r}=await this._initializeAVMWebProviderSDK(),a=await this._initializeAVMWebClient(),n=await this._getGenesisHash();return new Promise((s,c)=>{const u=window.setTimeout(()=>{a.removeListener(h),c(new e({method:i.Enable,message:`no response from provider "${this.metadata.name}"`,providerId:dn}))},r),h=a.onEnable(({error:f,method:g,result:b})=>(a.removeListener(h),window.clearTimeout(u),f?c(f):b?s(b):c(new t({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:dn}))));a.enable({genesisHash:n,providerId:dn})})}async _disable(){const{ARC0027MethodEnum:i,ARC0027MethodTimedOutError:e,ARC0027UnknownError:t,LOWER_REQUEST_TIMEOUT:r}=await this._initializeAVMWebProviderSDK(),a=await this._initializeAVMWebClient(),n=await this._getGenesisHash();return new Promise((s,c)=>{const u=window.setTimeout(()=>{a.removeListener(h),c(new e({method:i.Disable,message:`no response from provider "${this.metadata.name}"`,providerId:dn}))},r),h=a.onDisable(({error:f,method:g,result:b})=>(a.removeListener(h),window.clearTimeout(u),f?c(f):b?(this.logger.debug("Disable successful",{result:b}),s(b)):c(new t({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:dn}))));this.logger.debug("Sending disable request...",{genesisHash:n}),a.disable({genesisHash:n,providerId:dn})})}async _signTransactions(i){const{ARC0027MethodEnum:e,ARC0027MethodTimedOutError:t,ARC0027UnknownError:r,DEFAULT_REQUEST_TIMEOUT:a}=await this._initializeAVMWebProviderSDK(),n=await this._initializeAVMWebClient();return new Promise((s,c)=>{const u=window.setTimeout(()=>{n.removeListener(h),c(new t({method:e.SignTransactions,message:`no response from provider "${this.metadata.name}"`,providerId:dn}))},a),h=n.onSignTransactions(({error:f,method:g,result:b})=>(n.removeListener(h),window.clearTimeout(u),f?c(f):b?(this.logger.debug("Sign transactions successful",{result:b}),s(b)):c(new r({message:`received response, but "${g}" request details were empty for provider "${this.metadata.name}"`,providerId:dn}))));this.logger.debug("Sending sign transactions request...",{txns:i}),n.signTransactions({txns:i,providerId:dn})})}},Ce(T0,"defaultMetadata",{name:"Kibisis",icon:mM}),T0),yM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <linearGradient id="algokitGradient" gradientUnits="userSpaceOnUse" x1="0" y1="400" x2="400" y2="0">
    <stop offset="0" style="stop-color:#31D8EE"/>
    <stop offset="1" style="stop-color:#01DC94"/>
  </linearGradient>
  <rect fill="url(#algokitGradient)" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,B0,wM=(B0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"walletName");Ce(this,"walletId","");Ce(this,"password",null);Ce(this,"store");Ce(this,"connect",async()=>{this.logger.info("Connecting..."),this.client||await this.initializeClient();try{const e=await this.fetchToken(),t=await this.fetchAccounts(e);if(t.length===0)throw new Error("No accounts found!");const r=t.map((s,c)=>({name:`${this.metadata.name} Account ${c+1}`,address:s})),a=r[0],n={accounts:r,activeAccount:a};return cn(this.store,{walletId:this.id,wallet:n}),await this.releaseToken(e),this.logger.info("✅ Connected.",n),r}catch(e){throw this.logger.error("Error connecting:",e.message),e}});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Ce(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const u=pr(e);r=this.processTxns(u,t)}else{const u=pr(e);r=this.processEncodedTxns(u,t)}const a=await this.fetchToken(),n=await this.getPassword(),s=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const c=await Promise.all(r.map(u=>s.signTransaction(a,n,u)));return this.logger.debug("Received signed transactions from wallet",c),await this.releaseToken(a),this.logger.debug("Transactions signed successfully",c),c}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});const{token:c="a".repeat(64),baseServer:u="http://127.0.0.1",port:h=4002,wallet:f="unencrypted-default-wallet",promptForPassword:g=()=>Promise.resolve(prompt("KMD password")||"")}=n||{};this.options={token:c,baseServer:u,port:h,promptForPassword:g},this.walletName=f,this.store=t}async initializeClient(){this.logger.info("Initializing client...");const{token:e,baseServer:t,port:r}=this.options,a=new Kt.Kmd(e,t,r);return this.client=a,this.logger.info("Client initialized"),a}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c);s&&u&&r.push(a)}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f);h&&g&&r.push(u)}),r}async fetchWalletId(){this.logger.debug("Fetching wallet data...",{walletName:this.walletName});const e=this.client||await this.initializeClient(),{wallets:t}=await e.listWallets(),r=t.find(a=>a.name===this.walletName);if(!r)throw this.logger.error(`Wallet "${this.walletName}" not found!`),new Error(`Wallet "${this.walletName}" not found!`);return this.walletId=r.id,this.logger.debug("Wallet data fetched successfully",{walletId:this.walletId}),r.id}async fetchToken(){this.logger.debug("Fetching token...",{walletId:this.walletId});const e=this.client||await this.initializeClient(),t=this.walletId||await this.fetchWalletId(),r=await this.getPassword(),{wallet_handle_token:a}=await e.initWalletHandle(t,r);return this.logger.debug("Token fetched successfully"),a}async releaseToken(e){this.logger.debug("Releasing token..."),await(this.client||await this.initializeClient()).releaseWalletHandle(e),this.logger.debug("Token released successfully")}async getPassword(){if(this.password!==null)return this.password;const e=await this.options.promptForPassword();return this.password=e,e}async fetchAccounts(e){this.logger.debug("Fetching accounts...");const t=this.client||await this.initializeClient(),{addresses:r}=await t.listKeys(e);return this.logger.debug("Accounts fetched successfully",{addresses:r}),r}},Ce(B0,"defaultMetadata",{name:"KMD",icon:yM}),B0);function bM(i){return i instanceof Error&&"code"in i}function xM(i){return i instanceof Error&&"code"in i}var SM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <path fill="#AB47BC" d="M283.7,263.6c-0.6,0-1.3-0.1-1.8-0.4c-0.6-0.3-1.1-0.8-1.5-1.3c-0.4-0.6-0.7-1.3-0.8-2 c-0.1-0.8-0.1-1.7,0.1-2.5c0.2-0.9,0.6-1.8,1.2-2.6c0.6-0.8,1.4-1.7,2.2-2.3c0.9-0.7,2.1-1.2,3.2-1.6c1.2-0.4,2.7-0.5,4-0.5 c1.4,0,3,0.3,4.4,0.8c1.5,0.5,3.1,1.4,4.3,2.3c1.4,1,2.8,2.4,3.8,3.7c1.1,1.5,2.1,3.3,2.8,5.1c0.7,1.9,1.2,4.1,1.3,6.1 c0.2,2.1,0,4.6-0.4,6.7c-0.5,2.2-1.4,4.7-2.4,6.7c-1.1,2.1-2.8,4.4-4.4,6.2c-1.8,1.9-4.1,3.7-6.3,5c-2.3,1.4-5.2,2.6-7.9,3.3 c-2.8,0.7-6.1,1.1-8.9,1.1c-3,0-6.5-0.6-9.3-1.4c-3-0.9-6.4-2.4-9.1-4c-2.8-1.7-5.8-4.2-8-6.6c-2.3-2.5-4.6-5.8-6.2-8.9 c-1.7-3.2-3.1-7.1-3.8-10.7c-0.8-3.7-1.1-8-0.9-11.8c0.2-3.9,1.1-8.3,2.3-12c1.3-3.8,3.4-8.1,5.7-11.4c2.3-3.5,5.6-7.1,8.8-9.9 c3.3-2.8,7.5-5.6,11.5-7.5c4.1-1.9,9-3.5,13.5-4.3c4.6-0.8,10-1.1,14.6-0.7c4.8,0.4,10.2,1.6,14.7,3.3c4.7,1.7,9.7,4.4,13.8,7.3 c4.2,3,8.5,7,11.7,10.9c3.3,4.1,6.5,9.2,8.7,14c2.2,4.9,4,10.9,4.9,16.3c0.9,5.5,1,11.9,0.4,17.5c-0.6,5.7-2.2,12.1-4.3,17.4 c-2.1,5.5-5.4,11.4-8.9,16.1c-3.6,4.8-8.4,9.8-13.1,13.6c-4.8,3.8-11,7.5-16.6,9.9c-5.8,2.5-12.8,4.5-19.1,5.4 c-6.4,0.9-13.9,1-20.3,0.2c-6.6-0.8-14-2.7-20.1-5.2c-6.3-2.5-13.1-6.4-18.5-10.5c-5.5-4.2-11.2-9.8-15.4-15.3 c-4.3-5.6-8.4-12.7-11.2-19.2c-2.8-6.7-4.9-14.7-5.9-21.9c-0.9-5.9-2.8-12.6-5.2-18.1c-2.3-5.4-5.9-11.2-9.5-15.8 c-3.6-4.5-8.3-9-13-12.4c-4.5-3.3-10.1-6.4-15.3-8.3c-5-1.9-11.1-3.4-16.5-3.9c-5.2-0.5-11.3-0.3-16.5,0.5c-5,0.8-10.7,2.6-15.3,4.7 c-4.5,2.1-9.4,5.1-13.2,8.3c-3.7,3.1-7.5,7.2-10.2,11.1c-2.7,3.8-5.2,8.6-6.7,13c-1.5,4.2-2.6,9.3-3,13.8c-0.3,4.3-0.1,9.4,0.7,13.7 c0.8,4.1,2.3,8.8,4.2,12.5c1.8,3.6,4.4,7.6,7.1,10.6c2.6,2.9,6,5.9,9.3,8.1c3.1,2.1,7.1,4,10.6,5.1c3.4,1.1,7.5,1.9,11.1,2 c3.5,0.2,7.4-0.2,10.8-1c3.2-0.7,6.8-2.1,9.7-3.6c2.8-1.5,5.7-3.6,8-5.8c2.2-2.1,4.3-4.8,5.9-7.4c1.5-2.5,2.8-5.5,3.5-8.3 c0.7-2.6,1.1-5.7,1.1-8.5c0-2.6-0.5-5.5-1.2-8c-0.7-2.3-1.8-4.9-3.1-6.9c-1.2-1.9-2.9-3.9-4.6-5.4c-1.6-1.4-3.6-2.8-5.5-3.7 c-1.8-0.9-4-1.6-5.9-1.9c-1.8-0.3-3.9-0.4-5.8-0.1c-1.7,0.2-3.6,0.7-5.1,1.4c-1.4,0.6-2.9,1.6-4.1,2.6c-1.1,0.9-2.1,2.2-2.9,3.4 c-0.7,1.1-1.2,2.5-1.5,3.7c-0.3,1.1-0.4,2.4-0.3,3.6c0.1,1,0.4,2.2,0.8,3.1c0.4,0.8,1,1.7,1.6,2.3c0.6,0.5,1.3,1,2.1,1.3 c0.6,0.2,1.5,0.4,2.1,0.3c0.6-0.1,1.3-0.3,1.8-0.6c0.5-0.3,1-0.8,1.2-1.4c0.3-0.5,0.7-1,1.2-1.4c0.5-0.3,1.2-0.6,1.8-0.6 c0.7-0.1,1.5,0.1,2.1,0.3c0.7,0.3,1.5,0.8,2.1,1.3c0.6,0.6,1.3,1.5,1.6,2.3c0.4,0.9,0.7,2.1,0.8,3.1c0.1,1.1,0,2.5-0.3,3.6 c-0.3,1.2-0.9,2.6-1.5,3.7c-0.7,1.2-1.8,2.4-2.9,3.4c-1.2,1-2.7,2-4.1,2.6c-1.5,0.7-3.4,1.2-5.1,1.4c-1.8,0.2-4,0.2-5.8-0.1 c-2-0.3-4.1-1-5.9-1.9c-1.9-0.9-4-2.3-5.5-3.7c-1.7-1.5-3.4-3.5-4.6-5.4c-1.3-2-2.4-4.6-3.1-6.9c-0.7-2.5-1.2-5.4-1.2-8 c0-2.7,0.4-5.8,1.1-8.5c0.7-2.8,2-5.8,3.5-8.3c1.5-2.6,3.7-5.3,5.9-7.4c2.3-2.2,5.2-4.3,8-5.8c2.9-1.6,6.5-2.9,9.7-3.6 c3.4-0.8,7.4-1.1,10.8-1c3.6,0.2,7.7,0.9,11.1,2c3.6,1.2,7.5,3.1,10.6,5.1c3.3,2.1,6.7,5.1,9.3,8.1c2.7,3,5.3,7,7.1,10.6 c1.8,3.8,3.4,8.4,4.2,12.5c0.8,4.3,1.1,9.3,0.7,13.7c-0.4,4.5-1.5,9.6-3,13.8c-1.6,4.4-4.1,9.2-6.7,13c-2.8,3.9-6.5,8-10.2,11.1 c-3.8,3.2-8.7,6.2-13.2,8.3c-4.6,2.1-10.3,3.8-15.3,4.7c-5.2,0.9-11.3,1-16.5,0.5c-5.4-0.5-11.5-2-16.5-3.9 c-5.2-2-10.8-5.1-15.3-8.3c-4.6-3.4-9.4-7.9-13-12.4c-3.7-4.6-7.2-10.4-9.5-15.8c-2.4-5.5-4.3-12.2-5.2-18.1 c-0.9-6.1-1-13.2-0.3-19.3c0.7-6.3,2.5-13.4,4.9-19.2c2.4-6,6.1-12.5,10-17.7c4-5.3,9.3-10.7,14.6-14.8c5.3-4.2,12.1-8.1,18.3-10.7 c6.4-2.7,14.1-4.8,21-5.7c7-1,15.2-1,22.2-0.1c7.2,0.9,15.2,3.1,21.9,5.8c5.6,2.2,12.3,3.9,18.3,4.6c5.8,0.7,12.6,0.5,18.4-0.4 c5.6-0.9,12-2.7,17.2-5c5.1-2.3,10.6-5.6,14.9-9.1c4.2-3.4,8.5-8,11.7-12.3c3.1-4.3,6-9.6,7.8-14.5c1.8-4.8,3.1-10.5,3.6-15.6 c0.5-4.9,0.3-10.7-0.6-15.6c-0.8-4.7-2.5-10.1-4.5-14.4c-2-4.2-4.9-8.8-7.9-12.3c-2.9-3.4-6.8-6.9-10.5-9.5 c-3.6-2.5-8.1-4.8-12.2-6.2c-4-1.4-8.7-2.4-12.9-2.7c-4-0.3-8.7,0-12.7,0.8c-3.8,0.8-8.1,2.2-11.6,4c-3.4,1.7-7,4.1-9.7,6.6 c-2.7,2.4-5.4,5.6-7.3,8.6c-1.9,2.9-3.6,6.5-4.6,9.8c-1,3.2-1.6,6.9-1.7,10.2c-0.1,3.2,0.3,6.8,1,9.9c0.7,2.9,2,6.2,3.5,8.8 c1.4,2.5,3.4,5.1,5.4,7.2c1.9,1.9,4.4,3.8,6.8,5.2c2.2,1.3,5,2.4,7.5,3c2.3,0.6,5.1,0.9,7.6,0.8c2.3-0.1,4.9-0.5,7-1.3 c2-0.7,4.2-1.7,6-2.9c1.6-1.1,3.3-2.7,4.6-4.2c1.2-1.4,2.3-3.2,3-4.9c0.7-1.6,1.2-3.5,1.3-5.1c0.2-1.5,0.1-3.3-0.2-4.9 c-0.3-1.4-0.8-2.9-1.5-4.2c-0.6-1.1-1.5-2.3-2.4-3.2c-0.8-0.8-1.9-1.5-3-2c-0.9-0.4-2.1-0.7-3.1-0.8c-0.9-0.1-1.9,0-2.8,0.3 c-0.7,0.2-1.6,0.6-2.2,1.1c-0.5,0.4-1,1.1-1.3,1.7c-0.3,0.6-0.4,1.3-0.4,1.9c0,0.6,0.2,1.2,0.6,1.7c0.3,0.5,0.5,1.2,0.6,1.7 c0,0.6-0.1,1.3-0.4,1.9c-0.3,0.6-0.8,1.3-1.3,1.7c-0.6,0.5-1.4,0.9-2.2,1.1c-0.9,0.3-1.9,0.3-2.8,0.3c-1-0.1-2.2-0.4-3.1-0.8 c-1-0.5-2.1-1.2-3-2c-0.9-0.9-1.8-2.1-2.4-3.2c-0.7-1.2-1.2-2.8-1.5-4.2c-0.3-1.5-0.4-3.3-0.2-4.9c0.2-1.7,0.7-3.6,1.3-5.1 c0.7-1.7,1.8-3.5,3-4.9c1.3-1.5,3-3.1,4.6-4.2c1.8-1.2,4-2.3,6-2.9c2.2-0.7,4.8-1.2,7-1.3c2.4-0.1,5.2,0.2,7.6,0.8 c2.5,0.6,5.3,1.7,7.5,3c2.4,1.3,4.9,3.2,6.8,5.2c2,2,4,4.7,5.4,7.2c1.5,2.6,2.7,5.9,3.5,8.8c0.8,3.1,1.1,6.7,1,9.9 c-0.1,3.3-0.7,7.1-1.7,10.2c-1,3.3-2.7,6.9-4.6,9.8c-1.9,3-4.7,6.2-7.3,8.6c-2.8,2.5-6.4,5-9.7,6.6c-3.5,1.8-7.8,3.2-11.6,4 c-4,0.8-8.7,1.1-12.7,0.8c-4.2-0.3-9-1.3-12.9-2.7c-4.1-1.4-8.6-3.7-12.2-6.2c-3.7-2.6-7.6-6.1-10.5-9.5c-3-3.6-5.9-8.1-7.9-12.3 c-2-4.4-3.7-9.7-4.5-14.4c-0.8-4.9-1.1-10.6-0.6-15.6c0.5-5.1,1.8-10.8,3.6-15.6c1.8-4.9,4.7-10.3,7.8-14.5 c3.2-4.4,7.5-8.9,11.7-12.3c4.3-3.5,9.8-6.9,14.9-9.1c5.2-2.3,11.6-4.2,17.2-5c5.8-0.9,12.6-1,18.4-0.4c6,0.7,12.7,2.4,18.3,4.6 c5.7,2.3,12,5.7,16.9,9.4c5.1,3.8,10.3,8.9,14.2,13.8c4,5.1,7.8,11.5,10.3,17.5c2.6,6.1,4.6,13.5,5.5,20c0.9,6.7,1,14.5,0.1,21.2 c-0.9,6.9-2.9,14.6-5.5,21c-2.7,6.5-6.8,13.6-11,19.3c-4.4,5.7-10.3,11.7-16,16c-4.7,3.7-9.5,8.7-13.1,13.6 c-3.5,4.7-6.8,10.7-8.9,16.1c-2.1,5.3-3.6,11.7-4.3,17.4c-0.6,5.5-0.4,12,0.4,17.5c0.9,5.3,2.6,11.3,4.9,16.3c2.2,4.8,5.4,10,8.7,14 c3.2,3.9,7.6,8,11.7,10.9c4,2.9,9.1,5.6,13.8,7.3c4.5,1.7,9.9,2.9,14.7,3.3c4.6,0.4,10,0.2,14.6-0.7c4.4-0.8,9.4-2.4,13.5-4.3 c3.9-1.9,8.2-4.6,11.5-7.5c3.2-2.7,6.4-6.4,8.8-9.9c2.3-3.4,4.4-7.6,5.7-11.4c1.2-3.7,2.1-8.1,2.3-12c0.2-3.7-0.1-8.1-0.9-11.8 c-0.8-3.5-2.2-7.5-3.8-10.7c-1.6-3.1-3.9-6.3-6.2-8.9c-2.2-2.4-5.2-4.9-8-6.6c-2.7-1.7-6-3.2-9.1-4c-2.9-0.8-6.3-1.4-9.3-1.4 c-2.9,0-6.2,0.4-8.9,1.1c-2.6,0.7-5.5,1.9-7.9,3.3c-2.2,1.3-4.5,3.2-6.3,5c-1.7,1.8-3.3,4-4.4,6.2c-1.1,2-2,4.5-2.4,6.7 c-0.4,2.1-0.6,4.5-0.4,6.7c0.2,2,0.6,4.2,1.3,6.1c0.6,1.7,1.7,3.6,2.8,5.1c1,1.3,2.4,2.7,3.8,3.7c1.3,0.9,2.8,1.8,4.3,2.3 c1.3,0.5,2.9,0.8,4.4,0.8c1.3,0,2.7-0.1,4-0.5c1.1-0.3,2.3-0.9,3.2-1.6c0.8-0.6,1.7-1.4,2.2-2.3c0.5-0.7,0.9-1.7,1.2-2.6 c0.2-0.8,0.2-1.7,0.1-2.5c-0.1-0.7-0.4-1.4-0.8-2c-0.4-0.5-0.9-1-1.5-1.3C285,263.7,284.3,263.6,283.7,263.6L283.7,263.6z" />
</svg>
`)}`,F0,EM=(F0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n={},metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"store");Ce(this,"connect",async()=>{this.logger.info("Connecting...");const e=this.client||await this.initializeClient(),t=await this.getGenesisId(),r=await e.connect(t);if(r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const a=r.map((c,u)=>({name:`${this.metadata.name} Account ${u+1}`,address:c})),n=a[0],s={accounts:a,activeAccount:n};return cn(this.store,{walletId:this.id,wallet:s}),this.logger.info("Connected successfully",s),a});Ce(this,"disconnect",async()=>{this.onDisconnect(),this.logger.info("Disconnected")});Ce(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}this.logger.info("Resuming session..."),await this.initializeClient(),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const s=pr(e);r=this.processTxns(s,t)}else{const s=pr(e);r=this.processEncodedTxns(s,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const n=await a.signTxns(r);return this.logger.debug("Transactions signed successfully",n),n}catch(r){throw bM(r)?(this.logger.error("Error signing transactions:",r.message,`(code: ${r.code})`),new Z9(r.message,r.code)):(this.logger.error("Unknown error signing transactions:",r),r)}});Ce(this,"canSignData",!0);Ce(this,"signData",async(e,t)=>{try{this.logger.debug("Signing data...",{data:e,metadata:t});const a=await(this.client||await this.initializeClient()).signData(e,t);return this.logger.debug("Data signed successfully",a),a}catch(r){throw xM(r)?(this.logger.error("Error signing data:",r.message,`(code: ${r.code})`),new Q9(r.message,r.code)):(this.logger.error("Unknown error signing data:",r),r)}});this.options=n,this.store=t}async initializeClient(){var a;this.logger.info("Initializing client...");const t=(await za(()=>import("../assets/main.esm-D6h9GEOu.js"),[])).default,r=new t((a=this.options)==null?void 0:a.siteName);return this.client=r,this.logger.info("Client initialized"),r}async getGenesisId(){const e=this.activeNetworkConfig;if(e.genesisId)return e.genesisId;const r=await this.getAlgodClient().genesis().do(),a=Kt.parseJSON(r,{intDecoding:Kt.IntDecoding.MIXED});return`${a.network}-${a.id}`}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}},Ce(F0,"defaultMetadata",{name:"Lute",icon:SM}),F0),MM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 47 47" xmlns="http://www.w3.org/2000/svg">
  <path fill="#6851FF" d="M 23.960861 1.80769 C 25.835077 4.103153 27.902216 6.23489 30.137539 8.178169 C 28.647968 13.009323 27.846092 18.142094 27.846092 23.462154 C 27.846092 28.782307 28.648062 33.915169 30.13763 38.746368 C 27.902216 40.689724 25.835077 42.821476 23.960861 45.116985 C 22.086554 42.821476 20.019415 40.689632 17.783998 38.746368 C 19.273476 33.915169 20.075445 28.7824 20.075445 23.462337 C 20.075445 18.142277 19.273476 13.009506 17.783998 8.178318 C 20.019415 6.235001 22.086554 4.10321 23.960861 1.80769 Z M 13.511427 35.406403 C 11.145139 33.747814 8.633816 32.282063 6.000269 31.031937 C 6.730776 28.637476 7.123754 26.095783 7.123754 23.462429 C 7.123754 20.828892 6.730762 18.287201 6.000235 15.892738 C 8.633816 14.642616 11.145175 13.176861 13.511501 11.518276 C 14.416311 15.352554 14.895074 19.351414 14.895074 23.462154 C 14.895074 27.572985 14.416283 31.571938 13.511427 35.406403 Z M 33.027046 23.462337 C 33.027046 27.572985 33.505753 31.571846 34.410553 35.406124 C 36.776859 33.747631 39.288094 32.281876 41.921539 31.031845 C 41.191017 28.637384 40.798061 26.095692 40.798061 23.462246 C 40.798061 20.8288 41.191017 18.287201 41.921539 15.89283 C 39.288094 14.642708 36.776768 13.177048 34.410553 11.518555 C 33.505753 15.352831 33.027046 19.351692 33.027046 23.462337 Z" />
</svg>
`)}`,C0,_M=(C0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"store");Ce(this,"userInfo",null);Ce(this,"connect",async e=>{if(this.logger.info("Connecting..."),!(e!=null&&e.email)||typeof e.email!="string")throw this.logger.error("Magic Link provider requires an email (string) to connect"),new Error("Magic Link provider requires an email (string) to connect");const{email:t}=e,r=this.client||await this.initializeClient();this.logger.info(`Logging in ${t}...`),await r.auth.loginWithMagicLink({email:t});const a=await r.user.getInfo();if(!a)throw this.logger.error("User info not found!"),new Error("User info not found!");if(!a.publicAddress)throw this.logger.error("No account found!"),new Error("No account found!");this.userInfo=a,this.logger.info("Login successful",a);const n={name:a.email??"Magic Wallet 1",address:a.publicAddress},s={accounts:[n],activeAccount:n};return cn(this.store,{walletId:this.id,wallet:s}),this.logger.info("Connected successfully",s),[n]});Ce(this,"disconnect",async()=>{var t;this.logger.info("Disconnecting..."),this.onDisconnect();const e=this.client||await this.initializeClient();this.logger.info(`Logging out ${((t=this.userInfo)==null?void 0:t.email)||"user"}...`),await e.user.logout(),this.logger.info("Disconnected")});Ce(this,"resumeSession",async()=>{try{const t=this.store.state.wallets[this.id];if(!t){this.logger.info("No session to resume");return}this.logger.info("Resuming session...");const r=this.client||await this.initializeClient();if(!await r.user.isLoggedIn()){this.logger.warn("Not logged in, please reconnect..."),this.onDisconnect();return}const n=await r.user.getInfo();if(!n)throw await r.user.logout(),this.logger.error("User info not found!"),new Error("User info not found!");if(!n.publicAddress)throw await r.user.logout(),this.logger.error("No account found!"),new Error("No account found!");this.userInfo=n;const s={name:n.email??`${this.metadata.name} Account 1`,address:n.publicAddress},c=t.accounts[0],{name:u,address:h}=s,{name:f,address:g}=c;u===f&&h===g||(this.logger.warn("Session account mismatch, updating account",{prev:c,current:s}),hs(this.store,{walletId:this.id,accounts:[s]})),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const c=pr(e);r=this.processTxns(c,t)}else{const c=pr(e);r=this.processEncodedTxns(c,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const n=await a.algorand.signGroupTransactionV2(r);this.logger.debug("Received signed transactions from wallet",n);const s=n.map(c=>c===void 0?null:Ic(c));return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});if(!(n!=null&&n.apiKey))throw this.logger.error("Missing required option: apiKey"),new Error("Missing required option: apiKey");this.options=n,this.store=t}async initializeClient(){this.logger.info("Initializing client...");const e=(await Promise.resolve().then(()=>(G9(),I6))).Magic,t=(await Promise.resolve().then(()=>(K9(),T6))).AlgorandExtension,r=new e(this.options.apiKey,{extensions:{algorand:new t({rpcUrl:""})}});return this.client=r,this.logger.info("Client initialized"),r}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}},Ce(C0,"defaultMetadata",{name:"Magic",icon:MM}),C0),E0=`${yf}_mnemonic`,AM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 400 400" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#525252" width="400" height="400" />
  <path fill="#FFFFFF" d="M309.2,309.3H275l-22.2-82.7l-47.9,82.7h-38.3l73.9-128l-11.9-44.5l-99.6,172.6H90.8L217.1,90.6 h33.5l14.7,54.3h34.6l-23.6,41L309.2,309.3z" />
</svg>
`)}`,P0,kM=(P0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n,metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"account",null);Ce(this,"options");Ce(this,"store");Ce(this,"connect",async()=>{this.checkMainnet(),this.logger.info("Connecting...");const e=await this.initializeAccount(),t={name:`${this.metadata.name} Account`,address:e.addr.toString()},r={accounts:[t],activeAccount:t};return cn(this.store,{walletId:this.id,wallet:r}),this.logger.info("Connected successfully",r),[t]});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.account=null,this.removeMnemonicFromStorage(),this.logger.info("Disconnected")});Ce(this,"resumeSession",async()=>{if(this.checkMainnet(),!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),this.options.persistToStorage)try{await this.initializeAccount(),this.logger.info("Session resumed successfully")}catch(r){throw this.logger.error("Error resuming session:",r.message),this.disconnect(),r}else this.logger.info("No session to resume, disconnecting..."),this.disconnect()});Ce(this,"signTransactions",async(e,t)=>{this.checkMainnet();try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const n=pr(e);r=this.processTxns(n,t)}else{const n=pr(e);r=this.processEncodedTxns(n,t)}const a=r.map(n=>n.signTxn(this.account.sk));return this.logger.debug("Transactions signed successfully",{signedTxns:a}),a}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});const{persistToStorage:c=!1,promptForMnemonic:u=()=>Promise.resolve(prompt("Enter 25-word mnemonic passphrase:"))}=n||{};this.options={persistToStorage:c,promptForMnemonic:u},this.store=t,this.options.persistToStorage&&this.logger.warn("Persisting mnemonics to storage is insecure. Any private key mnemonics used should never hold real Algos (i.e., on MainNet). Use with caution!")}loadMnemonicFromStorage(){return Wr.getItem(E0)}saveMnemonicToStorage(e){Wr.setItem(E0,e)}removeMnemonicFromStorage(){Wr.removeItem(E0)}checkMainnet(){try{if(!this.activeNetworkConfig.isTestnet)throw this.logger.warn("The Mnemonic wallet provider is insecure and intended for testing only. Any private key mnemonics used should never hold real Algos (i.e., on MainNet)."),new Error("Production network detected. Aborting.")}catch(e){throw this.disconnect(),e}}async initializeAccount(){let e=this.loadMnemonicFromStorage();if(!e){if(e=await this.options.promptForMnemonic(),!e)throw this.account=null,this.logger.error("No mnemonic provided"),new Error("No mnemonic provided");this.options.persistToStorage&&(this.logger.warn("Mnemonic saved to localStorage."),this.saveMnemonicToStorage(e))}const t=Kt.mnemonicToSecretKey(e);return this.account=t,t}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),u=a.sender.toString()===this.account.addr.toString();s&&u&&r.push(a)}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&f===this.account.addr.toString();h&&g&&r.push(u)}),r}},Ce(P0,"defaultMetadata",{name:"Mnemonic",icon:AM}),P0),IM=`data:image/svg+xml;base64,${btoa(`
<svg viewBox="0 0 200 200" xmlns="http://www.w3.org/2000/svg">
  <rect fill="#FFEE55" width="200" height="200" />
  <path fill="#1C1C1C" d="M106.1,64.3c2.2,9.1,1.5,17-1.7,17.8c-3.1,0.8-7.4-6-9.6-15c-2.2-9.1-1.5-17,1.7-17.8 C99.6,48.5,103.9,55.2,106.1,64.3z" />
  <path fill="#1C1C1C" d="M142.2,72.1c-4.8-5.1-14.5-3.7-21.6,3.1c-7,6.9-8.8,16.6-4,21.7c4.8,5.1,14.5,3.7,21.6-3.1 C145.3,86.9,147.1,77.2,142.2,72.1z" />
  <path fill="#1C1C1C" d="M103.7,150.8c3.1-0.8,3.7-9.2,1.4-18.8c-2.3-9.6-6.7-16.8-9.8-16c-3.1,0.8-3.7,9.2-1.4,18.8 C96.2,144.3,100.6,151.5,103.7,150.8z" />
  <path fill="#1C1C1C" d="M72.1,76.8c9,2.6,15.5,7.3,14.6,10.3c-0.9,3.1-8.9,3.4-17.8,0.8s-15.5-7.3-14.6-10.3 C55.1,74.5,63.1,74.1,72.1,76.8z" />
  <path fill="#1C1C1C" d="M130.2,111.5c9.5,2.8,16.5,7.6,15.6,10.6c-0.9,3.1-9.3,3.3-18.8,0.5c-9.5-2.8-16.5-7.6-15.6-10.6 C112.2,108.9,120.7,108.7,130.2,111.5z" />
  <path fill="#1C1C1C" d="M82.1,105c-2.2-2.3-9.5,1-16.3,7.5c-6.8,6.4-10.4,13.5-8.2,15.8c2.2,2.3,9.5-1,16.3-7.5 C80.7,114.4,84.3,107.3,82.1,105z" />
</svg>
`)}`,N0,DM=(N0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,options:n={},metadata:s={}}){super({id:e,metadata:s,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"options");Ce(this,"store");Ce(this,"connect",async()=>{var c;this.logger.info("Connecting...");const e=this.store.state.activeWallet;e&&e!==this.id&&this.manageWalletConnectSession("backup",e);const t=this.client||await this.initializeClient(),r=await t.connect();if((c=t.connector)==null||c.on("disconnect",this.onDisconnect),r.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const a=r.map((u,h)=>({name:`${this.metadata.name} Account ${h+1}`,address:u})),n=a[0],s={accounts:a,activeAccount:n};return cn(this.store,{walletId:this.id,wallet:s}),this.logger.info("Connected successfully",s),a});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting...");const e=this.client||await this.initializeClient(),t=this.store.state.activeWallet;t&&t!==this.id?(this.manageWalletConnectSession("backup",t),this.manageWalletConnectSession("restore",this.id),await e.disconnect(),await new Promise(r=>setTimeout(r,500)),this.manageWalletConnectSession("restore",t)):await e.disconnect(),this.onDisconnect(),this.logger.info("Disconnected")});Ce(this,"setActive",()=>{this.logger.info(`Set active wallet: ${this.id}`);const e=this.store.state.activeWallet;e&&e==="defly"&&this.manageWalletConnectSession("backup",e),this.manageWalletConnectSession("restore"),mh(this.store,{walletId:this.id})});Ce(this,"resumeSession",async()=>{try{const e=this.store.state,t=e.wallets[this.id];if(typeof window<"u"&&window.navigator&&window.navigator.userAgent.includes("pera")&&!t&&!e.activeWallet){this.logger.info("Pera Discover browser detected, attempting auto-connect...");try{await this.connect(),this.logger.info("Auto-connect successful");return}catch(u){this.logger.warn("Auto-connect failed:",u.message)}}if(!t){this.logger.info("No session to resume");return}if(e.activeWallet==="defly"){this.logger.info("Skipping reconnectSession for Pera (inactive)");return}this.logger.info("Resuming session...");const a=await(this.client||await this.initializeClient()).reconnectSession();if(a.length===0)throw this.logger.error("No accounts found!"),new Error("No accounts found!");const n=a.map((c,u)=>({name:`${this.metadata.name} Account ${u+1}`,address:c}));kc(n,t.accounts)||(this.logger.warn("Session accounts mismatch, updating accounts",{prev:t.accounts,current:n}),hs(this.store,{walletId:this.id,accounts:n})),this.logger.info("Session resumed successfully")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const c=pr(e);r=this.processTxns(c,t)}else{const c=pr(e);r=this.processEncodedTxns(c,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",[r]);const n=await a.signTransaction([r]);this.logger.debug("Received signed transactions from wallet",n);const s=r.reduce((c,u)=>{if(u.signers&&u.signers.length==0)c.push(null);else{const h=n.shift();h&&c.push(h)}return c},[]);return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.options=n,this.store=t}async initializeClient(){this.logger.info("Initializing client...");const{PeraWalletConnect:e}=await za(async()=>{const{PeraWalletConnect:r}=await import("../assets/index-BF62KPoo.js").then(a=>a.i);return{PeraWalletConnect:r}},__vite__mapDeps([2,1])),t=new e(this.options);return this.client=t,this.logger.info("Client initialized"),t}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c);s&&u?r.push({txn:a}):r.push({txn:a,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f);h&&g?r.push({txn:u}):r.push({txn:u,signers:[]})}),r}},Ce(N0,"defaultMetadata",{name:"Pera",icon:IM}),N0),RM=`data:image/svg+xml;base64,${btoa(`
<svg width="860" height="860" viewBox="0 0 860 860" fill="none" xmlns="http://www.w3.org/2000/svg">
  <rect width="860" height="860" rx="30" fill="#151923"/>
  <path d="M766 207L496.627 623.406C463.521 675.336 382.014 652.248 382.014 590.941V432.568L260.638 623.28C227.559 675.255 146 652.186 146 590.854V274.844H234.646V499.761L356.022 309.049C389.101 257.074 470.66 280.143 470.66 341.475V499.978L660.146 207L766 207Z" fill="#4BB7D1"/>
</svg>
`)}`,O0,TM=(O0=class extends fn{constructor({id:e,store:t,subscribe:r,getAlgodClient:a,metadata:n={}}){super({id:e,metadata:n,getAlgodClient:a,store:t,subscribe:r});Ce(this,"client",null);Ce(this,"store");Ce(this,"connect",async()=>{this.logger.info("Connecting...");const t=await(this.client||await this.initializeClient()).account(),r={accounts:[t],activeAccount:t};return cn(this.store,{walletId:this.id,wallet:r}),this.logger.info("✅ Connected.",r),[t]});Ce(this,"disconnect",async()=>{this.logger.info("Disconnecting..."),this.onDisconnect(),this.logger.info("Disconnected.")});Ce(this,"resumeSession",async()=>{try{if(!this.store.state.wallets[this.id]){this.logger.info("No session to resume");return}if(this.logger.info("Resuming session..."),!await(await this.initializeClient()).isConnected())throw this.logger.error("W3 Wallet is not connected."),new Error("W3 Wallet is not connected.");this.logger.info("Session resumed")}catch(e){throw this.logger.error("Error resuming session:",e.message),this.onDisconnect(),e}});Ce(this,"signTransactions",async(e,t)=>{try{this.logger.debug("Signing transactions...",{txnGroup:e,indexesToSign:t});let r=[];if(Cn(e)){const c=pr(e);r=this.processTxns(c,t)}else{const c=pr(e);r=this.processEncodedTxns(c,t)}const a=this.client||await this.initializeClient();this.logger.debug("Sending processed transactions to wallet...",r);const n=await a.signTxns(r);this.logger.debug("Received signed transactions from wallet",n);const s=n.map(c=>c===null?null:Ic(c));return this.logger.debug("Transactions signed successfully",s),s}catch(r){throw this.logger.error("Error signing transactions:",r.message),r}});this.store=t}async initializeClient(){if(this.logger.info("Initializing client..."),typeof window>"u"||window.w3walletAlgorand===void 0)throw this.logger.error("W3 Wallet is not available."),new Error("W3 Wallet is not available.");const e=window.w3walletAlgorand;return this.client=e,this.logger.info("Client initialized"),e}processTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=!t||t.includes(n),c=a.sender.toString(),u=this.addresses.includes(c),h=Jr(a.toByte());s&&u?r.push({txn:h}):r.push({txn:h,signers:[]})}),r}processEncodedTxns(e,t){const r=[];return e.forEach((a,n)=>{const s=Kt.msgpackRawDecode(a),c=Fn(s),u=c?Kt.decodeSignedTransaction(a).txn:Kt.decodeUnsignedTransaction(a),h=!t||t.includes(n),f=u.sender.toString(),g=!c&&this.addresses.includes(f),b=Jr(u.toByte());h&&g?r.push({txn:b}):r.push({txn:b,signers:[]})}),r}},Ce(O0,"defaultMetadata",{name:"W3 Wallet",icon:RM}),O0);function BM(){return{biatec:sM,custom:fM,defly:uM,"defly-web":dM,exodus:gM,kibisis:vM,kmd:wM,lute:EM,magic:_M,mnemonic:kM,pera:DM,walletconnect:P6,"w3-wallet":TM}}function kc(i,e){const t=new Set(i.map(a=>a.address)),r=new Set(e.map(a=>a.address));if(t.size!==r.size)return!1;for(const a of t)if(!r.has(a))return!1;return!0}function Ic(i){return FM(atob(i))}function Jr(i){return btoa(CM(i))}function FM(i){const e=new Uint8Array(i.length);for(let t=0;t<i.length;t++)e[t]=i.charCodeAt(t);return e}function CM(i){let e="";for(let t=0;t<i.length;t++)e+=String.fromCharCode(i[t]);return e}function Fn(i){if(!i||typeof i!="object"||!("sig"in i&&"txn"in i)||!(i.sig instanceof Uint8Array))return!1;const e=i.txn;return!e||typeof e!="object"?!1:"type"in e&&"snd"in e}function K2(i){return i&&typeof i=="object"&&"sender"in i&&(i.sender instanceof Kt.Address||typeof i.sender=="string")}function Cn(i){return!Array.isArray(i)||i.length===0?!1:!!(K2(i[0])||Array.isArray(i[0])&&i[0].length>0&&K2(i[0][0]))}function pr(i){return Array.isArray(i[0])?i.flat():i}function PM(){const i=Date.now()*Math.pow(10,3),e=Math.floor(Math.random()*Math.pow(10,3));return i+e}function NM(i,e){return{id:PM(),jsonrpc:"2.0",method:i,params:e}}var OM=class{constructor({wallets:i=[],networks:e,defaultNetwork:t="testnet",options:r={}}={}){Ce(this,"_clients",new Map);Ce(this,"baseNetworkConfig");Ce(this,"store");Ce(this,"subscribe");Ce(this,"options");Ce(this,"logger");Ce(this,"getAlgodClient",()=>this.algodClient);Ce(this,"setActiveNetwork",async i=>{if(this.activeNetwork===i)return;if(!this.networkConfig[i])throw new Error(`Network "${i}" not found in network configuration`);const e=this.createAlgodClient(this.networkConfig[i].algod);rM(this.store,{networkId:i,algodClient:e}),this.logger.info(`✅ Active network set to ${i}`)});this.logger=this.initializeLogger(r),this.logger.debug("Initializing WalletManager with config:",{wallets:i,networks:e,defaultNetwork:t,options:r});const a=this.loadPersistedState();this.baseNetworkConfig=e||Y9();const n=this.initNetworkConfig(this.baseNetworkConfig,a);this.options={resetNetwork:r.resetNetwork||!1};const s=this.options.resetNetwork?t:(a==null?void 0:a.activeNetwork)||t;if(!n[s])throw new Error(`Network "${s}" not found in network configuration`);const c=this.createAlgodClient(n[s].algod),u={...eM,...a,networkConfig:n,activeNetwork:s,algodClient:c};this.store=new $0(u,{onUpdate:()=>this.savePersistedState()}),this.savePersistedState(),this.subscribe=h=>this.store.subscribe(()=>{h(this.store.state)}),this.initializeWallets(i)}initializeLogger(i){const e=this.determineLogLevel(i);return F6.setLevel(e),mc.createScopedLogger("WalletManager")}determineLogLevel(i){return i!=null&&i.debug?0:(i==null?void 0:i.logLevel)!==void 0?i.logLevel:2}get algodClient(){return this.store.state.algodClient}set algodClient(i){this.store.setState(e=>({...e,algodClient:i}))}loadPersistedState(){try{const i=Wr.getItem(yf);if(i===null)return null;const e=JSON.parse(i);if(!nM(e))throw this.logger.warn("Parsed state:",e),new Error("Persisted state is invalid");return e}catch(i){return this.logger.error(`Could not load state from local storage: ${i.message}`),null}}savePersistedState(){try{const{wallets:i,activeWallet:e,activeNetwork:t,networkConfig:r}=this.store.state,a={wallets:i,activeWallet:e,activeNetwork:t,customNetworkConfigs:{}};for(const[s,c]of Object.entries(r)){const u=this.baseNetworkConfig[s];if(!u)continue;const h={};let f=!1;JSON.stringify(c.algod)!==JSON.stringify(u.algod)&&(h.algod=c.algod,f=!0),f&&(a.customNetworkConfigs={...a.customNetworkConfigs||{},[s]:h})}const n=JSON.stringify(a);Wr.setItem(yf,n)}catch(i){this.logger.error("Could not save state to local storage:",i)}}get status(){return this.store.state.managerStatus}get isReady(){return this.store.state.managerStatus==="ready"}initializeWallets(i){this.logger.info("Initializing wallets...");for(const r of i){let a,n,s;if(typeof r=="string")a=r;else{const{id:f,options:g,metadata:b}=r;a=f,n=g,s=b}const u=BM()[a];if(!u){this.logger.error(`Wallet not found: ${a}`);continue}const h=new u({id:a,metadata:s,options:n,getAlgodClient:this.getAlgodClient,store:this.store,subscribe:this.subscribe});this._clients.set(a,h),this.logger.info(`✅ Initialized ${a}`)}const e=this.store.state,t=Object.keys(e.wallets);for(const r of t)this._clients.has(r)||(this.logger.warn(`Connected wallet not found: ${r}`),C6(this.store,{walletId:r}));e.activeWallet&&!this._clients.has(e.activeWallet)&&(this.logger.warn(`Active wallet not found: ${e.activeWallet}`),mh(this.store,{walletId:null}))}get wallets(){return[...this._clients.values()]}getWallet(i){return this._clients.get(i)}async resumeSessions(){try{const i=this.wallets.map(e=>e==null?void 0:e.resumeSession());await Promise.all(i)}finally{this.store.setState(i=>({...i,managerStatus:"ready"}))}}async disconnect(){const i=this.wallets.filter(e=>e.isConnected).map(e=>e==null?void 0:e.disconnect());await Promise.all(i)}initNetworkConfig(i,e){this.logger.info("Initializing network configuration...");const t=(e==null?void 0:e.customNetworkConfigs)||{},r={};for(const[a,n]of Object.entries(i)){const s=t[a];r[a]={...n,...s,algod:{...n.algod,...(s==null?void 0:s.algod)||{}}}}for(const[a,n]of Object.entries(r))if(!G2(n))throw new Error(`Invalid network configuration for "${a}"`);return this.logger.debug("Network configuration:",r),r}createAlgodClient(i){this.logger.info("Creating new Algodv2 client...");const{token:e="",baseServer:t,port:r="",headers:a={}}=i;return new Kt.Algodv2(e,t,r,a)}updateAlgodConfig(i,e){if(!this.networkConfig[i])throw new Error(`Network "${i}" not found in network configuration`);const t={...this.networkConfig[i],algod:{...this.networkConfig[i].algod,...e}};if(!G2(t))throw new Error("Invalid network configuration");this.store.setState(r=>({...r,networkConfig:{...r.networkConfig,[i]:t}})),this.activeNetwork===i&&(this.algodClient=this.createAlgodClient(t.algod)),this.savePersistedState(),this.logger.info(`✅ Updated algod configuration for ${i}`)}resetNetworkConfig(i){if(!this.baseNetworkConfig[i])throw new Error(`Network "${i}" not found in network configuration`);this.store.setState(t=>({...t,networkConfig:{...t.networkConfig,[i]:{...this.baseNetworkConfig[i]}}})),this.activeNetwork===i&&(this.algodClient=this.createAlgodClient(this.baseNetworkConfig[i].algod));const e=this.loadPersistedState();e!=null&&e.customNetworkConfigs&&(delete e.customNetworkConfigs[i],Wr.setItem(yf,JSON.stringify(e))),this.logger.info(`✅ Reset network configuration for ${i}`)}get activeNetwork(){return this.store.state.activeNetwork}get networkConfig(){return this.store.state.networkConfig}get activeNetworkConfig(){const{networkConfig:i,activeNetwork:e}=this.store.state;return i[e]}get activeWallet(){const i=this.store.state,e=this.wallets.find(t=>t.id===i.activeWallet);return e||null}get activeWalletAccounts(){return this.activeWallet?this.activeWallet.accounts:null}get activeWalletAddresses(){return this.activeWallet?this.activeWallet.accounts.map(i=>i.address):null}get activeAccount(){return this.activeWallet?this.activeWallet.activeAccount:null}get activeAddress(){return this.activeAccount?this.activeAccount.address:null}get signTransactions(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.signTransactions}get transactionSigner(){if(!this.activeWallet)throw this.logger.error("No active wallet found!"),new Error("No active wallet found!");return this.activeWallet.transactionSigner}};class LM{constructor(e){Ce(this,"manager");Ce(this,"element");Ce(this,"setActiveNetwork",e=>{this.manager.setActiveNetwork(e),this.render()});this.manager=e,this.element=document.createElement("div"),this.element.className="network-group",this.render(),this.addEventListeners()}render(){const e=this.manager.activeNetwork;this.element.innerHTML=`
      <h4>
        Current Network: <span class="active-network">${e}</span>
      </h4>
      <div class="network-buttons">
        <button type="button" id="set-testnet" ${e===Oa.TESTNET?"disabled":""}>
          Set to Testnet
        </button>
        <button type="button" id="set-mainnet" ${e===Oa.MAINNET?"disabled":""}>
          Set to Mainnet
        </button>
      </div>
    `}addEventListeners(){this.element.addEventListener("click",e=>{const t=e.target;t.id==="set-testnet"?this.setActiveNetwork(Oa.TESTNET):t.id==="set-mainnet"&&this.setActiveNetwork(Oa.MAINNET)})}destroy(){this.element.removeEventListener("click",this.addEventListeners)}}class UM{constructor(e,t){Ce(this,"wallet");Ce(this,"manager");Ce(this,"element");Ce(this,"unsubscribe");Ce(this,"magicEmail","");Ce(this,"connect",e=>this.wallet.connect(e));Ce(this,"disconnect",()=>this.wallet.disconnect());Ce(this,"setActive",()=>this.wallet.setActive());Ce(this,"sendTransaction",async()=>{var t;const e=this.element.querySelector("#transaction-button");if(e)try{const r=(t=this.wallet.activeAccount)==null?void 0:t.address;if(!r)throw new Error("[App] No active account");const a=new nn,n=await this.manager.algodClient.getTransactionParams().do(),s=Pp({sender:r,receiver:r,amount:0,suggestedParams:n});a.addTransaction({txn:s,signer:this.wallet.transactionSigner}),console.info("[App] Sending transaction...",s),e.disabled=!0,e.textContent="Sending Transaction...";const c=await a.execute(this.manager.algodClient,4);console.info("[App] ✅ Successfully sent transaction!",{confirmedRound:c.confirmedRound,txIDs:c.txIDs})}catch(r){console.error("[App] Error signing transaction:",r)}finally{e.disabled=!1,e.textContent="Send Transaction"}});Ce(this,"auth",async()=>{var t;const e=(t=this.wallet.activeAccount)==null?void 0:t.address;if(!e||!Dg(e))throw new Error(`[App] Invalid or missing address: ${e||"undefined"}`);console.info(`[App] Authenticating with address: ${e}`);try{const a={"Content-Type":"application/json","X-CSRFToken":(()=>{var V,U;return((V=document.cookie.match("(^|;)\\s*"+"csrftoken"+"\\s*=\\s*([^;]+)"))==null?void 0:V.pop())||""||((U=document.querySelector('input[name="csrfmiddlewaretoken"]'))==null?void 0:U.value)||""})()};console.info("[App] Fetching nonce for address:",e);const s=await(await fetch("/api/wallet/nonce/",{method:"POST",headers:a,body:JSON.stringify({address:e})})).json();if(s.error)throw new Error(`[App] Failed to fetch nonce: ${s.error}`);const c=s.nonce,u=s.prefix;console.info("[App] Received nonce:",c);const h=`${u}${c}`,f=new TextEncoder().encode(h),g=await this.manager.algodClient.getTransactionParams().do(),b=Pp({sender:e,receiver:e,amount:0,note:f,suggestedParams:g}),M=I3(b);console.info("[App] Client encodedTx:",Array.from(M)),console.info("[App] Signing transaction with note:",h);const _=await this.wallet.signTransactions([M]);if(!_[0])throw new Error("[App] No signed transaction returned");const D=_[0],R=btoa(String.fromCharCode(...D));console.info("[App] Signed transaction base64 length:",R.length);const I=await(await fetch("/api/wallet/verify/",{method:"POST",headers:a,body:JSON.stringify({address:e,signedTransaction:R,nonce:c})})).json();if(!I.success)throw new Error(`[App] Verification failed: ${I.error}`);console.info(`[App] ✅ Successfully authenticated with ${this.wallet.metadata.name}!`),window.location.href=I.redirect_url||"/"}catch(r){const a=r instanceof Error?r.message:String(r);console.error("[App] Error signing data:",r);const n=document.createElement("div");n.className="error-message",n.style.color="red",n.textContent=a,this.element.appendChild(n),setTimeout(()=>n.remove(),5e3)}});Ce(this,"setActiveAccount",e=>{const t=e.target;this.wallet.setActiveAccount(t.value)});Ce(this,"isMagicLink",()=>this.wallet.id===Rs.MAGIC);Ce(this,"isEmailValid",()=>/^[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(this.magicEmail));Ce(this,"isConnectDisabled",()=>this.wallet.isConnected||this.isMagicLink()&&!this.isEmailValid());Ce(this,"getConnectArgs",()=>this.isMagicLink()?{email:this.magicEmail}:void 0);Ce(this,"updateEmailInput",()=>{const e=this.element.querySelector("#magic-email");e&&(e.value=this.magicEmail);const t=this.element.querySelector("#connect-button");t&&(t.disabled=this.isConnectDisabled())});this.wallet=e,this.manager=t,this.element=document.createElement("div"),this.unsubscribe=e.subscribe(r=>{console.info("[App] State change:",r),this.render()}),this.render(),this.addEventListeners()}sanitizeText(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}render(){console.log(`[WalletComponent] ${this.wallet.metadata.name}: id = ${this.wallet.id}, isActive = ${this.wallet.isActive}, canSignData = ${this.wallet.canSignData}, metadata =`,JSON.stringify(this.wallet.metadata,null,2));const e=this.sanitizeText(this.wallet.metadata.name);this.element.innerHTML=`
      <div class="wallet-group">
        <h4>
          ${e} ${this.wallet.isActive?"[active]":""}
        </h4>

        <div class="wallet-buttons">
          <button id="connect-button" type="button" ${this.isConnectDisabled()?"disabled":""}>
            Connect
          </button>
          <button id="disconnect-button" type="button" ${this.wallet.isConnected?"":"disabled"}>
            Disconnect
          </button>
          ${this.wallet.isActive?`<button id="transaction-button" type="button">Send Transaction</button>
                 <button id="auth-button" type="button">Authenticate</button>`:`<button id="set-active-button" type="button" ${this.wallet.isConnected?"":"disabled"}>Set Active</button>`}
        </div>

        ${this.isMagicLink()?`
          <div class="input-group">
            <label for="magic-email">Email:</label>
            <input
              id="magic-email"
              type="email"
              value="${this.magicEmail}"
              placeholder="Enter email to connect..."
              ${this.wallet.isConnected?"disabled":""}
            />
          </div>
        `:""}

        ${this.wallet.isActive&&this.wallet.accounts.length?`
          <div>
            <select>
              ${this.wallet.accounts.map(t=>{var r;return`
                <option value="${this.sanitizeText(t.address)}" ${t.address===((r=this.wallet.activeAccount)==null?void 0:r.address)?"selected":""}>
                  ${this.sanitizeText(t.address)}
                </option>
              `}).join("")}
            </select>
          </div>
        `:""}
      </div>
    `}addEventListeners(){this.element.addEventListener("click",e=>{const t=e.target;if(t.id==="connect-button"){const r=this.getConnectArgs();this.connect(r)}else t.id==="disconnect-button"?this.disconnect():t.id==="set-active-button"?this.setActive():t.id==="transaction-button"?this.sendTransaction():t.id==="auth-button"&&this.auth()}),this.element.addEventListener("change",e=>{e.target.tagName.toLowerCase()==="select"&&this.setActiveAccount(e)}),this.element.addEventListener("input",e=>{const t=e.target;t.id==="magic-email"&&(this.magicEmail=t.value,this.updateEmailInput())})}destroy(){this.unsubscribe&&this.unsubscribe(),this.element.removeEventListener("click",this.addEventListeners),this.element.removeEventListener("change",this.addEventListeners),this.element.removeEventListener("input",this.addEventListeners)}}const Nf=new OM({wallets:[Rs.PERA,Rs.DEFLY,Rs.LUTE],defaultNetwork:Oa.MAINNET}),Wg=document.querySelector("#app");Wg.innerHTML=`
  <div>
    <h1>Pera + Defly Wallet Connect for Django</h1>
    <p>Connect your wallet below. Transactions are signed client-side.</p>
  </div>
`;const $M=new LM(Nf);Wg.appendChild($M.element);const O6=Nf.wallets.map(i=>new UM(i,Nf));O6.forEach(i=>{Wg.appendChild(i.element)});document.addEventListener("DOMContentLoaded",async()=>{try{await Nf.resumeSessions()}catch(i){console.error("Error resuming sessions:",i)}});window.addEventListener("beforeunload",()=>{O6.forEach(i=>i.destroy())});const qM=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"})),VM=Object.freeze(Object.defineProperty({__proto__:null},Symbol.toStringTag,{value:"Module"}));export{Xt as B,za as _,Kt as a,HM as b,Of as c,Gt as d,Y6 as e,Da as g,Bt as p,Ei as r};
